var mv=Object.defineProperty;var gv=(tt,_e,nt)=>_e in tt?mv(tt,_e,{enumerable:!0,configurable:!0,writable:!0,value:nt}):tt[_e]=nt;var Zr=(tt,_e,nt)=>gv(tt,typeof _e!="symbol"?_e+"":_e,nt);function _mergeNamespaces(tt,_e){for(var nt=0;nt<_e.length;nt++){const rt=_e[nt];if(typeof rt!="string"&&!Array.isArray(rt)){for(const it in rt)if(it!=="default"&&!(it in tt)){const st=Object.getOwnPropertyDescriptor(rt,it);st&&Object.defineProperty(tt,it,st.get?st:{enumerable:!0,get:()=>rt[it]})}}}return Object.freeze(Object.defineProperty(tt,Symbol.toStringTag,{value:"Module"}))}(function(){const _e=document.createElement("link").relList;if(_e&&_e.supports&&_e.supports("modulepreload"))return;for(const it of document.querySelectorAll('link[rel="modulepreload"]'))rt(it);new MutationObserver(it=>{for(const st of it)if(st.type==="childList")for(const at of st.addedNodes)at.tagName==="LINK"&&at.rel==="modulepreload"&&rt(at)}).observe(document,{childList:!0,subtree:!0});function nt(it){const st={};return it.integrity&&(st.integrity=it.integrity),it.referrerPolicy&&(st.referrerPolicy=it.referrerPolicy),it.crossOrigin==="use-credentials"?st.credentials="include":it.crossOrigin==="anonymous"?st.credentials="omit":st.credentials="same-origin",st}function rt(it){if(it.ep)return;it.ep=!0;const st=nt(it);fetch(it.href,st)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(tt){return tt&&tt.__esModule&&Object.prototype.hasOwnProperty.call(tt,"default")?tt.default:tt}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$5=Symbol.for("react.element"),n$8=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$4=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$1=Symbol.for("react.lazy"),z$2=Symbol.iterator;function A$2(tt){return tt===null||typeof tt!="object"?null:(tt=z$2&&tt[z$2]||tt["@@iterator"],typeof tt=="function"?tt:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$4(tt,_e,nt){this.props=tt,this.context=_e,this.refs=D$2,this.updater=nt||B$2}E$4.prototype.isReactComponent={};E$4.prototype.setState=function(tt,_e){if(typeof tt!="object"&&typeof tt!="function"&&tt!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,tt,_e,"setState")};E$4.prototype.forceUpdate=function(tt){this.updater.enqueueForceUpdate(this,tt,"forceUpdate")};function F$1(){}F$1.prototype=E$4.prototype;function G$2(tt,_e,nt){this.props=tt,this.context=_e,this.refs=D$2,this.updater=nt||B$2}var H$2=G$2.prototype=new F$1;H$2.constructor=G$2;C$2(H$2,E$4.prototype);H$2.isPureReactComponent=!0;var I$4=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$3={key:!0,ref:!0,__self:!0,__source:!0};function M$3(tt,_e,nt){var rt,it={},st=null,at=null;if(_e!=null)for(rt in _e.ref!==void 0&&(at=_e.ref),_e.key!==void 0&&(st=""+_e.key),_e)J.call(_e,rt)&&!L$3.hasOwnProperty(rt)&&(it[rt]=_e[rt]);var ot=arguments.length-2;if(ot===1)it.children=nt;else if(1<ot){for(var lt=Array(ot),ct=0;ct<ot;ct++)lt[ct]=arguments[ct+2];it.children=lt}if(tt&&tt.defaultProps)for(rt in ot=tt.defaultProps,ot)it[rt]===void 0&&(it[rt]=ot[rt]);return{$$typeof:l$5,type:tt,key:st,ref:at,props:it,_owner:K$1.current}}function N$2(tt,_e){return{$$typeof:l$5,type:tt.type,key:_e,ref:tt.ref,props:tt.props,_owner:tt._owner}}function O$1(tt){return typeof tt=="object"&&tt!==null&&tt.$$typeof===l$5}function escape$1(tt){var _e={"=":"=0",":":"=2"};return"$"+tt.replace(/[=:]/g,function(nt){return _e[nt]})}var P$3=/\/+/g;function Q$1(tt,_e){return typeof tt=="object"&&tt!==null&&tt.key!=null?escape$1(""+tt.key):_e.toString(36)}function R$1(tt,_e,nt,rt,it){var st=typeof tt;(st==="undefined"||st==="boolean")&&(tt=null);var at=!1;if(tt===null)at=!0;else switch(st){case"string":case"number":at=!0;break;case"object":switch(tt.$$typeof){case l$5:case n$8:at=!0}}if(at)return at=tt,it=it(at),tt=rt===""?"."+Q$1(at,0):rt,I$4(it)?(nt="",tt!=null&&(nt=tt.replace(P$3,"$&/")+"/"),R$1(it,_e,nt,"",function(ct){return ct})):it!=null&&(O$1(it)&&(it=N$2(it,nt+(!it.key||at&&at.key===it.key?"":(""+it.key).replace(P$3,"$&/")+"/")+tt)),_e.push(it)),1;if(at=0,rt=rt===""?".":rt+":",I$4(tt))for(var ot=0;ot<tt.length;ot++){st=tt[ot];var lt=rt+Q$1(st,ot);at+=R$1(st,_e,nt,lt,it)}else if(lt=A$2(tt),typeof lt=="function")for(tt=lt.call(tt),ot=0;!(st=tt.next()).done;)st=st.value,lt=rt+Q$1(st,ot++),at+=R$1(st,_e,nt,lt,it);else if(st==="object")throw _e=String(tt),Error("Objects are not valid as a React child (found: "+(_e==="[object Object]"?"object with keys {"+Object.keys(tt).join(", ")+"}":_e)+"). If you meant to render a collection of children, use an array instead.");return at}function S$4(tt,_e,nt){if(tt==null)return tt;var rt=[],it=0;return R$1(tt,rt,"","",function(st){return _e.call(nt,st,it++)}),rt}function T$2(tt){if(tt._status===-1){var _e=tt._result;_e=_e(),_e.then(function(nt){(tt._status===0||tt._status===-1)&&(tt._status=1,tt._result=nt)},function(nt){(tt._status===0||tt._status===-1)&&(tt._status=2,tt._result=nt)}),tt._status===-1&&(tt._status=0,tt._result=_e)}if(tt._status===1)return tt._result.default;throw tt._result}var U$2={current:null},V$2={transition:null},W$3={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$1};function X$3(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$4,forEach:function(tt,_e,nt){S$4(tt,function(){_e.apply(this,arguments)},nt)},count:function(tt){var _e=0;return S$4(tt,function(){_e++}),_e},toArray:function(tt){return S$4(tt,function(_e){return _e})||[]},only:function(tt){if(!O$1(tt))throw Error("React.Children.only expected to receive a single React element child.");return tt}};react_production_min.Component=E$4;react_production_min.Fragment=p$4;react_production_min.Profiler=r$4;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$1;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.act=X$3;react_production_min.cloneElement=function(tt,_e,nt){if(tt==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+tt+".");var rt=C$2({},tt.props),it=tt.key,st=tt.ref,at=tt._owner;if(_e!=null){if(_e.ref!==void 0&&(st=_e.ref,at=K$1.current),_e.key!==void 0&&(it=""+_e.key),tt.type&&tt.type.defaultProps)var ot=tt.type.defaultProps;for(lt in _e)J.call(_e,lt)&&!L$3.hasOwnProperty(lt)&&(rt[lt]=_e[lt]===void 0&&ot!==void 0?ot[lt]:_e[lt])}var lt=arguments.length-2;if(lt===1)rt.children=nt;else if(1<lt){ot=Array(lt);for(var ct=0;ct<lt;ct++)ot[ct]=arguments[ct+2];rt.children=ot}return{$$typeof:l$5,type:tt.type,key:it,ref:st,props:rt,_owner:at}};react_production_min.createContext=function(tt){return tt={$$typeof:u$2,_currentValue:tt,_currentValue2:tt,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},tt.Provider={$$typeof:t$1,_context:tt},tt.Consumer=tt};react_production_min.createElement=M$3;react_production_min.createFactory=function(tt){var _e=M$3.bind(null,tt);return _e.type=tt,_e};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(tt){return{$$typeof:v$3,render:tt}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(tt){return{$$typeof:y$1,_payload:{_status:-1,_result:tt},_init:T$2}};react_production_min.memo=function(tt,_e){return{$$typeof:x$3,type:tt,compare:_e===void 0?null:_e}};react_production_min.startTransition=function(tt){var _e=V$2.transition;V$2.transition={};try{tt()}finally{V$2.transition=_e}};react_production_min.unstable_act=X$3;react_production_min.useCallback=function(tt,_e){return U$2.current.useCallback(tt,_e)};react_production_min.useContext=function(tt){return U$2.current.useContext(tt)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(tt){return U$2.current.useDeferredValue(tt)};react_production_min.useEffect=function(tt,_e){return U$2.current.useEffect(tt,_e)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(tt,_e,nt){return U$2.current.useImperativeHandle(tt,_e,nt)};react_production_min.useInsertionEffect=function(tt,_e){return U$2.current.useInsertionEffect(tt,_e)};react_production_min.useLayoutEffect=function(tt,_e){return U$2.current.useLayoutEffect(tt,_e)};react_production_min.useMemo=function(tt,_e){return U$2.current.useMemo(tt,_e)};react_production_min.useReducer=function(tt,_e,nt){return U$2.current.useReducer(tt,_e,nt)};react_production_min.useRef=function(tt){return U$2.current.useRef(tt)};react_production_min.useState=function(tt){return U$2.current.useState(tt)};react_production_min.useSyncExternalStore=function(tt,_e,nt){return U$2.current.useSyncExternalStore(tt,_e,nt)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k$3=Symbol.for("react.element"),l$4=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$7=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q(tt,_e,nt){var rt,it={},st=null,at=null;nt!==void 0&&(st=""+nt),_e.key!==void 0&&(st=""+_e.key),_e.ref!==void 0&&(at=_e.ref);for(rt in _e)m$3.call(_e,rt)&&!p$3.hasOwnProperty(rt)&&(it[rt]=_e[rt]);if(tt&&tt.defaultProps)for(rt in _e=tt.defaultProps,_e)it[rt]===void 0&&(it[rt]=_e[rt]);return{$$typeof:k$3,type:tt,key:st,ref:at,props:it,_owner:n$7.current}}reactJsxRuntime_production_min.Fragment=l$4;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler$2={exports:{}},scheduler_production_min$2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(tt){function _e(Mt,Rt){var Nt=Mt.length;Mt.push(Rt);e:for(;0<Nt;){var Ft=Nt-1>>>1,qt=Mt[Ft];if(0<it(qt,Rt))Mt[Ft]=Rt,Mt[Nt]=qt,Nt=Ft;else break e}}function nt(Mt){return Mt.length===0?null:Mt[0]}function rt(Mt){if(Mt.length===0)return null;var Rt=Mt[0],Nt=Mt.pop();if(Nt!==Rt){Mt[0]=Nt;e:for(var Ft=0,qt=Mt.length,Qt=qt>>>1;Ft<Qt;){var Kt=2*(Ft+1)-1,Zt=Mt[Kt],tn=Kt+1,en=Mt[tn];if(0>it(Zt,Nt))tn<qt&&0>it(en,Zt)?(Mt[Ft]=en,Mt[tn]=Nt,Ft=tn):(Mt[Ft]=Zt,Mt[Kt]=Nt,Ft=Kt);else if(tn<qt&&0>it(en,Nt))Mt[Ft]=en,Mt[tn]=Nt,Ft=tn;else break e}}return Rt}function it(Mt,Rt){var Nt=Mt.sortIndex-Rt.sortIndex;return Nt!==0?Nt:Mt.id-Rt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var st=performance;tt.unstable_now=function(){return st.now()}}else{var at=Date,ot=at.now();tt.unstable_now=function(){return at.now()-ot}}var lt=[],ct=[],ut=1,ft=null,ht=3,pt=!1,dt=!1,gt=!1,vt=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,xt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function St(Mt){for(var Rt=nt(ct);Rt!==null;){if(Rt.callback===null)rt(ct);else if(Rt.startTime<=Mt)rt(ct),Rt.sortIndex=Rt.expirationTime,_e(lt,Rt);else break;Rt=nt(ct)}}function Et(Mt){if(gt=!1,St(Mt),!dt)if(nt(lt)!==null)dt=!0,Dt(bt);else{var Rt=nt(ct);Rt!==null&&$t(Et,Rt.startTime-Mt)}}function bt(Mt,Rt){dt=!1,gt&&(gt=!1,mt(Ct),Ct=-1),pt=!0;var Nt=ht;try{for(St(Rt),ft=nt(lt);ft!==null&&(!(ft.expirationTime>Rt)||Mt&&!Lt());){var Ft=ft.callback;if(typeof Ft=="function"){ft.callback=null,ht=ft.priorityLevel;var qt=Ft(ft.expirationTime<=Rt);Rt=tt.unstable_now(),typeof qt=="function"?ft.callback=qt:ft===nt(lt)&&rt(lt),St(Rt)}else rt(lt);ft=nt(lt)}if(ft!==null)var Qt=!0;else{var Kt=nt(ct);Kt!==null&&$t(Et,Kt.startTime-Rt),Qt=!1}return Qt}finally{ft=null,ht=Nt,pt=!1}}var Tt=!1,At=null,Ct=-1,Pt=5,It=-1;function Lt(){return!(tt.unstable_now()-It<Pt)}function Vt(){if(At!==null){var Mt=tt.unstable_now();It=Mt;var Rt=!0;try{Rt=At(!0,Mt)}finally{Rt?Ut():(Tt=!1,At=null)}}else Tt=!1}var Ut;if(typeof xt=="function")Ut=function(){xt(Vt)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,zt=Ot.port2;Ot.port1.onmessage=Vt,Ut=function(){zt.postMessage(null)}}else Ut=function(){vt(Vt,0)};function Dt(Mt){At=Mt,Tt||(Tt=!0,Ut())}function $t(Mt,Rt){Ct=vt(function(){Mt(tt.unstable_now())},Rt)}tt.unstable_IdlePriority=5,tt.unstable_ImmediatePriority=1,tt.unstable_LowPriority=4,tt.unstable_NormalPriority=3,tt.unstable_Profiling=null,tt.unstable_UserBlockingPriority=2,tt.unstable_cancelCallback=function(Mt){Mt.callback=null},tt.unstable_continueExecution=function(){dt||pt||(dt=!0,Dt(bt))},tt.unstable_forceFrameRate=function(Mt){0>Mt||125<Mt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Pt=0<Mt?Math.floor(1e3/Mt):5},tt.unstable_getCurrentPriorityLevel=function(){return ht},tt.unstable_getFirstCallbackNode=function(){return nt(lt)},tt.unstable_next=function(Mt){switch(ht){case 1:case 2:case 3:var Rt=3;break;default:Rt=ht}var Nt=ht;ht=Rt;try{return Mt()}finally{ht=Nt}},tt.unstable_pauseExecution=function(){},tt.unstable_requestPaint=function(){},tt.unstable_runWithPriority=function(Mt,Rt){switch(Mt){case 1:case 2:case 3:case 4:case 5:break;default:Mt=3}var Nt=ht;ht=Mt;try{return Rt()}finally{ht=Nt}},tt.unstable_scheduleCallback=function(Mt,Rt,Nt){var Ft=tt.unstable_now();switch(typeof Nt=="object"&&Nt!==null?(Nt=Nt.delay,Nt=typeof Nt=="number"&&0<Nt?Ft+Nt:Ft):Nt=Ft,Mt){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=Nt+qt,Mt={id:ut++,callback:Rt,priorityLevel:Mt,startTime:Nt,expirationTime:qt,sortIndex:-1},Nt>Ft?(Mt.sortIndex=Nt,_e(ct,Mt),nt(lt)===null&&Mt===nt(ct)&&(gt?(mt(Ct),Ct=-1):gt=!0,$t(Et,Nt-Ft))):(Mt.sortIndex=qt,_e(lt,Mt),dt||pt||(dt=!0,Dt(bt))),Mt},tt.unstable_shouldYield=Lt,tt.unstable_wrapCallback=function(Mt){var Rt=ht;return function(){var Nt=ht;ht=Rt;try{return Mt.apply(this,arguments)}finally{ht=Nt}}}})(scheduler_production_min$2);scheduler$2.exports=scheduler_production_min$2;var schedulerExports$1=scheduler$2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports$1;function p$2(tt){for(var _e="https://reactjs.org/docs/error-decoder.html?invariant="+tt,nt=1;nt<arguments.length;nt++)_e+="&args[]="+encodeURIComponent(arguments[nt]);return"Minified React error #"+tt+"; visit "+_e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(tt,_e){ha(tt,_e),ha(tt+"Capture",_e)}function ha(tt,_e){for(ea[tt]=_e,tt=0;tt<_e.length;tt++)da.add(_e[tt])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(tt){return ja.call(ma,tt)?!0:ja.call(la,tt)?!1:ka.test(tt)?ma[tt]=!0:(la[tt]=!0,!1)}function pa(tt,_e,nt,rt){if(nt!==null&&nt.type===0)return!1;switch(typeof _e){case"function":case"symbol":return!0;case"boolean":return rt?!1:nt!==null?!nt.acceptsBooleans:(tt=tt.toLowerCase().slice(0,5),tt!=="data-"&&tt!=="aria-");default:return!1}}function qa(tt,_e,nt,rt){if(_e===null||typeof _e>"u"||pa(tt,_e,nt,rt))return!0;if(rt)return!1;if(nt!==null)switch(nt.type){case 3:return!_e;case 4:return _e===!1;case 5:return isNaN(_e);case 6:return isNaN(_e)||1>_e}return!1}function v$2(tt,_e,nt,rt,it,st,at){this.acceptsBooleans=_e===2||_e===3||_e===4,this.attributeName=rt,this.attributeNamespace=it,this.mustUseProperty=nt,this.propertyName=tt,this.type=_e,this.sanitizeURL=st,this.removeEmptyString=at}var z$1={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(tt){z$1[tt]=new v$2(tt,0,!1,tt,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(tt){var _e=tt[0];z$1[_e]=new v$2(_e,1,!1,tt[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(tt){z$1[tt]=new v$2(tt,2,!1,tt.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(tt){z$1[tt]=new v$2(tt,2,!1,tt,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(tt){z$1[tt]=new v$2(tt,3,!1,tt.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(tt){z$1[tt]=new v$2(tt,3,!0,tt,null,!1,!1)});["capture","download"].forEach(function(tt){z$1[tt]=new v$2(tt,4,!1,tt,null,!1,!1)});["cols","rows","size","span"].forEach(function(tt){z$1[tt]=new v$2(tt,6,!1,tt,null,!1,!1)});["rowSpan","start"].forEach(function(tt){z$1[tt]=new v$2(tt,5,!1,tt.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(tt){return tt[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(tt){var _e=tt.replace(ra,sa);z$1[_e]=new v$2(_e,1,!1,tt,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(tt){var _e=tt.replace(ra,sa);z$1[_e]=new v$2(_e,1,!1,tt,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(tt){var _e=tt.replace(ra,sa);z$1[_e]=new v$2(_e,1,!1,tt,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(tt){z$1[tt]=new v$2(tt,1,!1,tt.toLowerCase(),null,!1,!1)});z$1.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(tt){z$1[tt]=new v$2(tt,1,!1,tt.toLowerCase(),null,!0,!0)});function ta(tt,_e,nt,rt){var it=z$1.hasOwnProperty(_e)?z$1[_e]:null;(it!==null?it.type!==0:rt||!(2<_e.length)||_e[0]!=="o"&&_e[0]!=="O"||_e[1]!=="n"&&_e[1]!=="N")&&(qa(_e,nt,it,rt)&&(nt=null),rt||it===null?oa(_e)&&(nt===null?tt.removeAttribute(_e):tt.setAttribute(_e,""+nt)):it.mustUseProperty?tt[it.propertyName]=nt===null?it.type===3?!1:"":nt:(_e=it.attributeName,rt=it.attributeNamespace,nt===null?tt.removeAttribute(_e):(it=it.type,nt=it===3||it===4&&nt===!0?"":""+nt,rt?tt.setAttributeNS(rt,_e,nt):tt.setAttribute(_e,nt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(tt){return tt===null||typeof tt!="object"?null:(tt=Ja&&tt[Ja]||tt["@@iterator"],typeof tt=="function"?tt:null)}var A$1=Object.assign,La;function Ma(tt){if(La===void 0)try{throw Error()}catch(nt){var _e=nt.stack.trim().match(/\n( *(at )?)/);La=_e&&_e[1]||""}return`
`+La+tt}var Na=!1;function Oa(tt,_e){if(!tt||Na)return"";Na=!0;var nt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_e)if(_e=function(){throw Error()},Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(ct){var rt=ct}Reflect.construct(tt,[],_e)}else{try{_e.call()}catch(ct){rt=ct}tt.call(_e.prototype)}else{try{throw Error()}catch(ct){rt=ct}tt()}}catch(ct){if(ct&&rt&&typeof ct.stack=="string"){for(var it=ct.stack.split(`
`),st=rt.stack.split(`
`),at=it.length-1,ot=st.length-1;1<=at&&0<=ot&&it[at]!==st[ot];)ot--;for(;1<=at&&0<=ot;at--,ot--)if(it[at]!==st[ot]){if(at!==1||ot!==1)do if(at--,ot--,0>ot||it[at]!==st[ot]){var lt=`
`+it[at].replace(" at new "," at ");return tt.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",tt.displayName)),lt}while(1<=at&&0<=ot);break}}}finally{Na=!1,Error.prepareStackTrace=nt}return(tt=tt?tt.displayName||tt.name:"")?Ma(tt):""}function Pa(tt){switch(tt.tag){case 5:return Ma(tt.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return tt=Oa(tt.type,!1),tt;case 11:return tt=Oa(tt.type.render,!1),tt;case 1:return tt=Oa(tt.type,!0),tt;default:return""}}function Qa(tt){if(tt==null)return null;if(typeof tt=="function")return tt.displayName||tt.name||null;if(typeof tt=="string")return tt;switch(tt){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof tt=="object")switch(tt.$$typeof){case Ca:return(tt.displayName||"Context")+".Consumer";case Ba:return(tt._context.displayName||"Context")+".Provider";case Da:var _e=tt.render;return tt=tt.displayName,tt||(tt=_e.displayName||_e.name||"",tt=tt!==""?"ForwardRef("+tt+")":"ForwardRef"),tt;case Ga:return _e=tt.displayName||null,_e!==null?_e:Qa(tt.type)||"Memo";case Ha:_e=tt._payload,tt=tt._init;try{return Qa(tt(_e))}catch{}}return null}function Ra(tt){var _e=tt.type;switch(tt.tag){case 24:return"Cache";case 9:return(_e.displayName||"Context")+".Consumer";case 10:return(_e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return tt=_e.render,tt=tt.displayName||tt.name||"",_e.displayName||(tt!==""?"ForwardRef("+tt+")":"ForwardRef");case 7:return"Fragment";case 5:return _e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(_e);case 8:return _e===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _e=="function")return _e.displayName||_e.name||null;if(typeof _e=="string")return _e}return null}function Sa(tt){switch(typeof tt){case"boolean":case"number":case"string":case"undefined":return tt;case"object":return tt;default:return""}}function Ta(tt){var _e=tt.type;return(tt=tt.nodeName)&&tt.toLowerCase()==="input"&&(_e==="checkbox"||_e==="radio")}function Ua(tt){var _e=Ta(tt)?"checked":"value",nt=Object.getOwnPropertyDescriptor(tt.constructor.prototype,_e),rt=""+tt[_e];if(!tt.hasOwnProperty(_e)&&typeof nt<"u"&&typeof nt.get=="function"&&typeof nt.set=="function"){var it=nt.get,st=nt.set;return Object.defineProperty(tt,_e,{configurable:!0,get:function(){return it.call(this)},set:function(at){rt=""+at,st.call(this,at)}}),Object.defineProperty(tt,_e,{enumerable:nt.enumerable}),{getValue:function(){return rt},setValue:function(at){rt=""+at},stopTracking:function(){tt._valueTracker=null,delete tt[_e]}}}}function Va(tt){tt._valueTracker||(tt._valueTracker=Ua(tt))}function Wa(tt){if(!tt)return!1;var _e=tt._valueTracker;if(!_e)return!0;var nt=_e.getValue(),rt="";return tt&&(rt=Ta(tt)?tt.checked?"true":"false":tt.value),tt=rt,tt!==nt?(_e.setValue(tt),!0):!1}function Xa(tt){if(tt=tt||(typeof document<"u"?document:void 0),typeof tt>"u")return null;try{return tt.activeElement||tt.body}catch{return tt.body}}function Ya(tt,_e){var nt=_e.checked;return A$1({},_e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:nt??tt._wrapperState.initialChecked})}function Za(tt,_e){var nt=_e.defaultValue==null?"":_e.defaultValue,rt=_e.checked!=null?_e.checked:_e.defaultChecked;nt=Sa(_e.value!=null?_e.value:nt),tt._wrapperState={initialChecked:rt,initialValue:nt,controlled:_e.type==="checkbox"||_e.type==="radio"?_e.checked!=null:_e.value!=null}}function ab(tt,_e){_e=_e.checked,_e!=null&&ta(tt,"checked",_e,!1)}function bb(tt,_e){ab(tt,_e);var nt=Sa(_e.value),rt=_e.type;if(nt!=null)rt==="number"?(nt===0&&tt.value===""||tt.value!=nt)&&(tt.value=""+nt):tt.value!==""+nt&&(tt.value=""+nt);else if(rt==="submit"||rt==="reset"){tt.removeAttribute("value");return}_e.hasOwnProperty("value")?cb(tt,_e.type,nt):_e.hasOwnProperty("defaultValue")&&cb(tt,_e.type,Sa(_e.defaultValue)),_e.checked==null&&_e.defaultChecked!=null&&(tt.defaultChecked=!!_e.defaultChecked)}function db(tt,_e,nt){if(_e.hasOwnProperty("value")||_e.hasOwnProperty("defaultValue")){var rt=_e.type;if(!(rt!=="submit"&&rt!=="reset"||_e.value!==void 0&&_e.value!==null))return;_e=""+tt._wrapperState.initialValue,nt||_e===tt.value||(tt.value=_e),tt.defaultValue=_e}nt=tt.name,nt!==""&&(tt.name=""),tt.defaultChecked=!!tt._wrapperState.initialChecked,nt!==""&&(tt.name=nt)}function cb(tt,_e,nt){(_e!=="number"||Xa(tt.ownerDocument)!==tt)&&(nt==null?tt.defaultValue=""+tt._wrapperState.initialValue:tt.defaultValue!==""+nt&&(tt.defaultValue=""+nt))}var eb=Array.isArray;function fb(tt,_e,nt,rt){if(tt=tt.options,_e){_e={};for(var it=0;it<nt.length;it++)_e["$"+nt[it]]=!0;for(nt=0;nt<tt.length;nt++)it=_e.hasOwnProperty("$"+tt[nt].value),tt[nt].selected!==it&&(tt[nt].selected=it),it&&rt&&(tt[nt].defaultSelected=!0)}else{for(nt=""+Sa(nt),_e=null,it=0;it<tt.length;it++){if(tt[it].value===nt){tt[it].selected=!0,rt&&(tt[it].defaultSelected=!0);return}_e!==null||tt[it].disabled||(_e=tt[it])}_e!==null&&(_e.selected=!0)}}function gb(tt,_e){if(_e.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},_e,{value:void 0,defaultValue:void 0,children:""+tt._wrapperState.initialValue})}function hb(tt,_e){var nt=_e.value;if(nt==null){if(nt=_e.children,_e=_e.defaultValue,nt!=null){if(_e!=null)throw Error(p$2(92));if(eb(nt)){if(1<nt.length)throw Error(p$2(93));nt=nt[0]}_e=nt}_e==null&&(_e=""),nt=_e}tt._wrapperState={initialValue:Sa(nt)}}function ib(tt,_e){var nt=Sa(_e.value),rt=Sa(_e.defaultValue);nt!=null&&(nt=""+nt,nt!==tt.value&&(tt.value=nt),_e.defaultValue==null&&tt.defaultValue!==nt&&(tt.defaultValue=nt)),rt!=null&&(tt.defaultValue=""+rt)}function jb(tt){var _e=tt.textContent;_e===tt._wrapperState.initialValue&&_e!==""&&_e!==null&&(tt.value=_e)}function kb(tt){switch(tt){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(tt,_e){return tt==null||tt==="http://www.w3.org/1999/xhtml"?kb(_e):tt==="http://www.w3.org/2000/svg"&&_e==="foreignObject"?"http://www.w3.org/1999/xhtml":tt}var mb,nb=function(tt){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_e,nt,rt,it){MSApp.execUnsafeLocalFunction(function(){return tt(_e,nt,rt,it)})}:tt}(function(tt,_e){if(tt.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in tt)tt.innerHTML=_e;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+_e.valueOf().toString()+"</svg>",_e=mb.firstChild;tt.firstChild;)tt.removeChild(tt.firstChild);for(;_e.firstChild;)tt.appendChild(_e.firstChild)}});function ob(tt,_e){if(_e){var nt=tt.firstChild;if(nt&&nt===tt.lastChild&&nt.nodeType===3){nt.nodeValue=_e;return}}tt.textContent=_e}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(tt){qb.forEach(function(_e){_e=_e+tt.charAt(0).toUpperCase()+tt.substring(1),pb[_e]=pb[tt]})});function rb(tt,_e,nt){return _e==null||typeof _e=="boolean"||_e===""?"":nt||typeof _e!="number"||_e===0||pb.hasOwnProperty(tt)&&pb[tt]?(""+_e).trim():_e+"px"}function sb(tt,_e){tt=tt.style;for(var nt in _e)if(_e.hasOwnProperty(nt)){var rt=nt.indexOf("--")===0,it=rb(nt,_e[nt],rt);nt==="float"&&(nt="cssFloat"),rt?tt.setProperty(nt,it):tt[nt]=it}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(tt,_e){if(_e){if(tb[tt]&&(_e.children!=null||_e.dangerouslySetInnerHTML!=null))throw Error(p$2(137,tt));if(_e.dangerouslySetInnerHTML!=null){if(_e.children!=null)throw Error(p$2(60));if(typeof _e.dangerouslySetInnerHTML!="object"||!("__html"in _e.dangerouslySetInnerHTML))throw Error(p$2(61))}if(_e.style!=null&&typeof _e.style!="object")throw Error(p$2(62))}}function vb(tt,_e){if(tt.indexOf("-")===-1)return typeof _e.is=="string";switch(tt){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(tt){return tt=tt.target||tt.srcElement||window,tt.correspondingUseElement&&(tt=tt.correspondingUseElement),tt.nodeType===3?tt.parentNode:tt}var yb=null,zb=null,Ab=null;function Bb(tt){if(tt=Cb(tt)){if(typeof yb!="function")throw Error(p$2(280));var _e=tt.stateNode;_e&&(_e=Db(_e),yb(tt.stateNode,tt.type,_e))}}function Eb(tt){zb?Ab?Ab.push(tt):Ab=[tt]:zb=tt}function Fb(){if(zb){var tt=zb,_e=Ab;if(Ab=zb=null,Bb(tt),_e)for(tt=0;tt<_e.length;tt++)Bb(_e[tt])}}function Gb(tt,_e){return tt(_e)}function Hb(){}var Ib=!1;function Jb(tt,_e,nt){if(Ib)return tt(_e,nt);Ib=!0;try{return Gb(tt,_e,nt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(tt,_e){var nt=tt.stateNode;if(nt===null)return null;var rt=Db(nt);if(rt===null)return null;nt=rt[_e];e:switch(_e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(rt=!rt.disabled)||(tt=tt.type,rt=!(tt==="button"||tt==="input"||tt==="select"||tt==="textarea")),tt=!rt;break e;default:tt=!1}if(tt)return null;if(nt&&typeof nt!="function")throw Error(p$2(231,_e,typeof nt));return nt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(tt,_e,nt,rt,it,st,at,ot,lt){var ct=Array.prototype.slice.call(arguments,3);try{_e.apply(nt,ct)}catch(ut){this.onError(ut)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(tt){Ob=!0,Pb=tt}};function Tb(tt,_e,nt,rt,it,st,at,ot,lt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(tt,_e,nt,rt,it,st,at,ot,lt){if(Tb.apply(this,arguments),Ob){if(Ob){var ct=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=ct)}}function Vb(tt){var _e=tt,nt=tt;if(tt.alternate)for(;_e.return;)_e=_e.return;else{tt=_e;do _e=tt,_e.flags&4098&&(nt=_e.return),tt=_e.return;while(tt)}return _e.tag===3?nt:null}function Wb(tt){if(tt.tag===13){var _e=tt.memoizedState;if(_e===null&&(tt=tt.alternate,tt!==null&&(_e=tt.memoizedState)),_e!==null)return _e.dehydrated}return null}function Xb(tt){if(Vb(tt)!==tt)throw Error(p$2(188))}function Yb(tt){var _e=tt.alternate;if(!_e){if(_e=Vb(tt),_e===null)throw Error(p$2(188));return _e!==tt?null:tt}for(var nt=tt,rt=_e;;){var it=nt.return;if(it===null)break;var st=it.alternate;if(st===null){if(rt=it.return,rt!==null){nt=rt;continue}break}if(it.child===st.child){for(st=it.child;st;){if(st===nt)return Xb(it),tt;if(st===rt)return Xb(it),_e;st=st.sibling}throw Error(p$2(188))}if(nt.return!==rt.return)nt=it,rt=st;else{for(var at=!1,ot=it.child;ot;){if(ot===nt){at=!0,nt=it,rt=st;break}if(ot===rt){at=!0,rt=it,nt=st;break}ot=ot.sibling}if(!at){for(ot=st.child;ot;){if(ot===nt){at=!0,nt=st,rt=it;break}if(ot===rt){at=!0,rt=st,nt=it;break}ot=ot.sibling}if(!at)throw Error(p$2(189))}}if(nt.alternate!==rt)throw Error(p$2(190))}if(nt.tag!==3)throw Error(p$2(188));return nt.stateNode.current===nt?tt:_e}function Zb(tt){return tt=Yb(tt),tt!==null?$b(tt):null}function $b(tt){if(tt.tag===5||tt.tag===6)return tt;for(tt=tt.child;tt!==null;){var _e=$b(tt);if(_e!==null)return _e;tt=tt.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(tt){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,tt,void 0,(tt.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(tt){return tt>>>=0,tt===0?32:31-(pc(tt)/qc|0)|0}var rc=64,sc=4194304;function tc(tt){switch(tt&-tt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return tt&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return tt&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return tt}}function uc(tt,_e){var nt=tt.pendingLanes;if(nt===0)return 0;var rt=0,it=tt.suspendedLanes,st=tt.pingedLanes,at=nt&268435455;if(at!==0){var ot=at&~it;ot!==0?rt=tc(ot):(st&=at,st!==0&&(rt=tc(st)))}else at=nt&~it,at!==0?rt=tc(at):st!==0&&(rt=tc(st));if(rt===0)return 0;if(_e!==0&&_e!==rt&&!(_e&it)&&(it=rt&-rt,st=_e&-_e,it>=st||it===16&&(st&4194240)!==0))return _e;if(rt&4&&(rt|=nt&16),_e=tt.entangledLanes,_e!==0)for(tt=tt.entanglements,_e&=rt;0<_e;)nt=31-oc(_e),it=1<<nt,rt|=tt[nt],_e&=~it;return rt}function vc(tt,_e){switch(tt){case 1:case 2:case 4:return _e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(tt,_e){for(var nt=tt.suspendedLanes,rt=tt.pingedLanes,it=tt.expirationTimes,st=tt.pendingLanes;0<st;){var at=31-oc(st),ot=1<<at,lt=it[at];lt===-1?(!(ot&nt)||ot&rt)&&(it[at]=vc(ot,_e)):lt<=_e&&(tt.expiredLanes|=ot),st&=~ot}}function xc(tt){return tt=tt.pendingLanes&-1073741825,tt!==0?tt:tt&1073741824?1073741824:0}function yc(){var tt=rc;return rc<<=1,!(rc&4194240)&&(rc=64),tt}function zc(tt){for(var _e=[],nt=0;31>nt;nt++)_e.push(tt);return _e}function Ac(tt,_e,nt){tt.pendingLanes|=_e,_e!==536870912&&(tt.suspendedLanes=0,tt.pingedLanes=0),tt=tt.eventTimes,_e=31-oc(_e),tt[_e]=nt}function Bc(tt,_e){var nt=tt.pendingLanes&~_e;tt.pendingLanes=_e,tt.suspendedLanes=0,tt.pingedLanes=0,tt.expiredLanes&=_e,tt.mutableReadLanes&=_e,tt.entangledLanes&=_e,_e=tt.entanglements;var rt=tt.eventTimes;for(tt=tt.expirationTimes;0<nt;){var it=31-oc(nt),st=1<<it;_e[it]=0,rt[it]=-1,tt[it]=-1,nt&=~st}}function Cc(tt,_e){var nt=tt.entangledLanes|=_e;for(tt=tt.entanglements;nt;){var rt=31-oc(nt),it=1<<rt;it&_e|tt[rt]&_e&&(tt[rt]|=_e),nt&=~it}}var C$1=0;function Dc(tt){return tt&=-tt,1<tt?4<tt?tt&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(tt,_e){switch(tt){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(_e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(_e.pointerId)}}function Tc(tt,_e,nt,rt,it,st){return tt===null||tt.nativeEvent!==st?(tt={blockedOn:_e,domEventName:nt,eventSystemFlags:rt,nativeEvent:st,targetContainers:[it]},_e!==null&&(_e=Cb(_e),_e!==null&&Fc(_e)),tt):(tt.eventSystemFlags|=rt,_e=tt.targetContainers,it!==null&&_e.indexOf(it)===-1&&_e.push(it),tt)}function Uc(tt,_e,nt,rt,it){switch(_e){case"focusin":return Lc=Tc(Lc,tt,_e,nt,rt,it),!0;case"dragenter":return Mc=Tc(Mc,tt,_e,nt,rt,it),!0;case"mouseover":return Nc=Tc(Nc,tt,_e,nt,rt,it),!0;case"pointerover":var st=it.pointerId;return Oc.set(st,Tc(Oc.get(st)||null,tt,_e,nt,rt,it)),!0;case"gotpointercapture":return st=it.pointerId,Pc.set(st,Tc(Pc.get(st)||null,tt,_e,nt,rt,it)),!0}return!1}function Vc(tt){var _e=Wc(tt.target);if(_e!==null){var nt=Vb(_e);if(nt!==null){if(_e=nt.tag,_e===13){if(_e=Wb(nt),_e!==null){tt.blockedOn=_e,Ic(tt.priority,function(){Gc(nt)});return}}else if(_e===3&&nt.stateNode.current.memoizedState.isDehydrated){tt.blockedOn=nt.tag===3?nt.stateNode.containerInfo:null;return}}}tt.blockedOn=null}function Xc(tt){if(tt.blockedOn!==null)return!1;for(var _e=tt.targetContainers;0<_e.length;){var nt=Yc(tt.domEventName,tt.eventSystemFlags,_e[0],tt.nativeEvent);if(nt===null){nt=tt.nativeEvent;var rt=new nt.constructor(nt.type,nt);wb=rt,nt.target.dispatchEvent(rt),wb=null}else return _e=Cb(nt),_e!==null&&Fc(_e),tt.blockedOn=nt,!1;_e.shift()}return!0}function Zc(tt,_e,nt){Xc(tt)&&nt.delete(_e)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(tt,_e){tt.blockedOn===_e&&(tt.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(tt){function _e(it){return ad(it,tt)}if(0<Kc.length){ad(Kc[0],tt);for(var nt=1;nt<Kc.length;nt++){var rt=Kc[nt];rt.blockedOn===tt&&(rt.blockedOn=null)}}for(Lc!==null&&ad(Lc,tt),Mc!==null&&ad(Mc,tt),Nc!==null&&ad(Nc,tt),Oc.forEach(_e),Pc.forEach(_e),nt=0;nt<Qc.length;nt++)rt=Qc[nt],rt.blockedOn===tt&&(rt.blockedOn=null);for(;0<Qc.length&&(nt=Qc[0],nt.blockedOn===null);)Vc(nt),nt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(tt,_e,nt,rt){var it=C$1,st=cd.transition;cd.transition=null;try{C$1=1,fd$1(tt,_e,nt,rt)}finally{C$1=it,cd.transition=st}}function gd(tt,_e,nt,rt){var it=C$1,st=cd.transition;cd.transition=null;try{C$1=4,fd$1(tt,_e,nt,rt)}finally{C$1=it,cd.transition=st}}function fd$1(tt,_e,nt,rt){if(dd){var it=Yc(tt,_e,nt,rt);if(it===null)hd(tt,_e,rt,id$4,nt),Sc(tt,rt);else if(Uc(it,tt,_e,nt,rt))rt.stopPropagation();else if(Sc(tt,rt),_e&4&&-1<Rc.indexOf(tt)){for(;it!==null;){var st=Cb(it);if(st!==null&&Ec(st),st=Yc(tt,_e,nt,rt),st===null&&hd(tt,_e,rt,id$4,nt),st===it)break;it=st}it!==null&&rt.stopPropagation()}else hd(tt,_e,rt,null,nt)}}var id$4=null;function Yc(tt,_e,nt,rt){if(id$4=null,tt=xb(rt),tt=Wc(tt),tt!==null)if(_e=Vb(tt),_e===null)tt=null;else if(nt=_e.tag,nt===13){if(tt=Wb(_e),tt!==null)return tt;tt=null}else if(nt===3){if(_e.stateNode.current.memoizedState.isDehydrated)return _e.tag===3?_e.stateNode.containerInfo:null;tt=null}else _e!==tt&&(tt=null);return id$4=tt,null}function jd(tt){switch(tt){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var tt,_e=ld,nt=_e.length,rt,it="value"in kd?kd.value:kd.textContent,st=it.length;for(tt=0;tt<nt&&_e[tt]===it[tt];tt++);var at=nt-tt;for(rt=1;rt<=at&&_e[nt-rt]===it[st-rt];rt++);return md=it.slice(tt,1<rt?1-rt:void 0)}function od(tt){var _e=tt.keyCode;return"charCode"in tt?(tt=tt.charCode,tt===0&&_e===13&&(tt=13)):tt=_e,tt===10&&(tt=13),32<=tt||tt===13?tt:0}function pd(){return!0}function qd(){return!1}function rd(tt){function _e(nt,rt,it,st,at){this._reactName=nt,this._targetInst=it,this.type=rt,this.nativeEvent=st,this.target=at,this.currentTarget=null;for(var ot in tt)tt.hasOwnProperty(ot)&&(nt=tt[ot],this[ot]=nt?nt(st):st[ot]);return this.isDefaultPrevented=(st.defaultPrevented!=null?st.defaultPrevented:st.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(_e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var nt=this.nativeEvent;nt&&(nt.preventDefault?nt.preventDefault():typeof nt.returnValue!="unknown"&&(nt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var nt=this.nativeEvent;nt&&(nt.stopPropagation?nt.stopPropagation():typeof nt.cancelBubble!="unknown"&&(nt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),_e}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(tt){return tt.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td$1=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(tt){return tt.relatedTarget===void 0?tt.fromElement===tt.srcElement?tt.toElement:tt.fromElement:tt.relatedTarget},movementX:function(tt){return"movementX"in tt?tt.movementX:(tt!==yd&&(yd&&tt.type==="mousemove"?(wd=tt.screenX-yd.screenX,xd=tt.screenY-yd.screenY):xd=wd=0,yd=tt),wd)},movementY:function(tt){return"movementY"in tt?tt.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(tt){return"clipboardData"in tt?tt.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(tt){var _e=this.nativeEvent;return _e.getModifierState?_e.getModifierState(tt):(tt=Od[tt])?!!_e[tt]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(tt){if(tt.key){var _e=Md[tt.key]||tt.key;if(_e!=="Unidentified")return _e}return tt.type==="keypress"?(tt=od(tt),tt===13?"Enter":String.fromCharCode(tt)):tt.type==="keydown"||tt.type==="keyup"?Nd[tt.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(tt){return tt.type==="keypress"?od(tt):0},keyCode:function(tt){return tt.type==="keydown"||tt.type==="keyup"?tt.keyCode:0},which:function(tt){return tt.type==="keypress"?od(tt):tt.type==="keydown"||tt.type==="keyup"?tt.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(tt){return"deltaX"in tt?tt.deltaX:"wheelDeltaX"in tt?-tt.wheelDeltaX:0},deltaY:function(tt){return"deltaY"in tt?tt.deltaY:"wheelDeltaY"in tt?-tt.wheelDeltaY:"wheelDelta"in tt?-tt.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae$1||be&&8<be&&11>=be),ee=" ",fe=!1;function ge(tt,_e){switch(tt){case"keyup":return $d.indexOf(_e.keyCode)!==-1;case"keydown":return _e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(tt){return tt=tt.detail,typeof tt=="object"&&"data"in tt?tt.data:null}var ie$1=!1;function je(tt,_e){switch(tt){case"compositionend":return he(_e);case"keypress":return _e.which!==32?null:(fe=!0,ee);case"textInput":return tt=_e.data,tt===ee&&fe?null:tt;default:return null}}function ke(tt,_e){if(ie$1)return tt==="compositionend"||!ae$1&&ge(tt,_e)?(tt=nd(),md=ld=kd=null,ie$1=!1,tt):null;switch(tt){case"paste":return null;case"keypress":if(!(_e.ctrlKey||_e.altKey||_e.metaKey)||_e.ctrlKey&&_e.altKey){if(_e.char&&1<_e.char.length)return _e.char;if(_e.which)return String.fromCharCode(_e.which)}return null;case"compositionend":return de&&_e.locale!=="ko"?null:_e.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(tt){var _e=tt&&tt.nodeName&&tt.nodeName.toLowerCase();return _e==="input"?!!le[tt.type]:_e==="textarea"}function ne(tt,_e,nt,rt){Eb(rt),_e=oe$1(_e,"onChange"),0<_e.length&&(nt=new td$1("onChange","change",null,nt,rt),tt.push({event:nt,listeners:_e}))}var pe=null,qe=null;function re$1(tt){se$1(tt,0)}function te(tt){var _e=ue(tt);if(Wa(_e))return tt}function ve(tt,_e){if(tt==="change")return _e}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(tt){if(tt.propertyName==="value"&&te(qe)){var _e=[];ne(_e,qe,tt,xb(tt)),Jb(re$1,_e)}}function Ce(tt,_e,nt){tt==="focusin"?(Ae(),pe=_e,qe=nt,pe.attachEvent("onpropertychange",Be)):tt==="focusout"&&Ae()}function De(tt){if(tt==="selectionchange"||tt==="keyup"||tt==="keydown")return te(qe)}function Ee(tt,_e){if(tt==="click")return te(_e)}function Fe(tt,_e){if(tt==="input"||tt==="change")return te(_e)}function Ge(tt,_e){return tt===_e&&(tt!==0||1/tt===1/_e)||tt!==tt&&_e!==_e}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(tt,_e){if(He(tt,_e))return!0;if(typeof tt!="object"||tt===null||typeof _e!="object"||_e===null)return!1;var nt=Object.keys(tt),rt=Object.keys(_e);if(nt.length!==rt.length)return!1;for(rt=0;rt<nt.length;rt++){var it=nt[rt];if(!ja.call(_e,it)||!He(tt[it],_e[it]))return!1}return!0}function Je(tt){for(;tt&&tt.firstChild;)tt=tt.firstChild;return tt}function Ke(tt,_e){var nt=Je(tt);tt=0;for(var rt;nt;){if(nt.nodeType===3){if(rt=tt+nt.textContent.length,tt<=_e&&rt>=_e)return{node:nt,offset:_e-tt};tt=rt}e:{for(;nt;){if(nt.nextSibling){nt=nt.nextSibling;break e}nt=nt.parentNode}nt=void 0}nt=Je(nt)}}function Le(tt,_e){return tt&&_e?tt===_e?!0:tt&&tt.nodeType===3?!1:_e&&_e.nodeType===3?Le(tt,_e.parentNode):"contains"in tt?tt.contains(_e):tt.compareDocumentPosition?!!(tt.compareDocumentPosition(_e)&16):!1:!1}function Me$1(){for(var tt=window,_e=Xa();_e instanceof tt.HTMLIFrameElement;){try{var nt=typeof _e.contentWindow.location.href=="string"}catch{nt=!1}if(nt)tt=_e.contentWindow;else break;_e=Xa(tt.document)}return _e}function Ne(tt){var _e=tt&&tt.nodeName&&tt.nodeName.toLowerCase();return _e&&(_e==="input"&&(tt.type==="text"||tt.type==="search"||tt.type==="tel"||tt.type==="url"||tt.type==="password")||_e==="textarea"||tt.contentEditable==="true")}function Oe(tt){var _e=Me$1(),nt=tt.focusedElem,rt=tt.selectionRange;if(_e!==nt&&nt&&nt.ownerDocument&&Le(nt.ownerDocument.documentElement,nt)){if(rt!==null&&Ne(nt)){if(_e=rt.start,tt=rt.end,tt===void 0&&(tt=_e),"selectionStart"in nt)nt.selectionStart=_e,nt.selectionEnd=Math.min(tt,nt.value.length);else if(tt=(_e=nt.ownerDocument||document)&&_e.defaultView||window,tt.getSelection){tt=tt.getSelection();var it=nt.textContent.length,st=Math.min(rt.start,it);rt=rt.end===void 0?st:Math.min(rt.end,it),!tt.extend&&st>rt&&(it=rt,rt=st,st=it),it=Ke(nt,st);var at=Ke(nt,rt);it&&at&&(tt.rangeCount!==1||tt.anchorNode!==it.node||tt.anchorOffset!==it.offset||tt.focusNode!==at.node||tt.focusOffset!==at.offset)&&(_e=_e.createRange(),_e.setStart(it.node,it.offset),tt.removeAllRanges(),st>rt?(tt.addRange(_e),tt.extend(at.node,at.offset)):(_e.setEnd(at.node,at.offset),tt.addRange(_e)))}}for(_e=[],tt=nt;tt=tt.parentNode;)tt.nodeType===1&&_e.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof nt.focus=="function"&&nt.focus(),nt=0;nt<_e.length;nt++)tt=_e[nt],tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te$1=!1;function Ue(tt,_e,nt){var rt=nt.window===nt?nt.document:nt.nodeType===9?nt:nt.ownerDocument;Te$1||Qe==null||Qe!==Xa(rt)||(rt=Qe,"selectionStart"in rt&&Ne(rt)?rt={start:rt.selectionStart,end:rt.selectionEnd}:(rt=(rt.ownerDocument&&rt.ownerDocument.defaultView||window).getSelection(),rt={anchorNode:rt.anchorNode,anchorOffset:rt.anchorOffset,focusNode:rt.focusNode,focusOffset:rt.focusOffset}),Se&&Ie(Se,rt)||(Se=rt,rt=oe$1(Re,"onSelect"),0<rt.length&&(_e=new td$1("onSelect","select",null,_e,nt),tt.push({event:_e,listeners:rt}),_e.target=Qe)))}function Ve(tt,_e){var nt={};return nt[tt.toLowerCase()]=_e.toLowerCase(),nt["Webkit"+tt]="webkit"+_e,nt["Moz"+tt]="moz"+_e,nt}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(tt){if(Xe[tt])return Xe[tt];if(!We[tt])return tt;var _e=We[tt],nt;for(nt in _e)if(_e.hasOwnProperty(nt)&&nt in Ye)return Xe[tt]=_e[nt];return tt}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(tt,_e){df.set(tt,_e),fa(_e,[tt])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(tt,_e,nt){var rt=tt.type||"unknown-event";tt.currentTarget=nt,Ub(rt,_e,void 0,tt),tt.currentTarget=null}function se$1(tt,_e){_e=(_e&4)!==0;for(var nt=0;nt<tt.length;nt++){var rt=tt[nt],it=rt.event;rt=rt.listeners;e:{var st=void 0;if(_e)for(var at=rt.length-1;0<=at;at--){var ot=rt[at],lt=ot.instance,ct=ot.currentTarget;if(ot=ot.listener,lt!==st&&it.isPropagationStopped())break e;nf(it,ot,ct),st=lt}else for(at=0;at<rt.length;at++){if(ot=rt[at],lt=ot.instance,ct=ot.currentTarget,ot=ot.listener,lt!==st&&it.isPropagationStopped())break e;nf(it,ot,ct),st=lt}}}if(Qb)throw tt=Rb,Qb=!1,Rb=null,tt}function D$1(tt,_e){var nt=_e[of];nt===void 0&&(nt=_e[of]=new Set);var rt=tt+"__bubble";nt.has(rt)||(pf(_e,tt,2,!1),nt.add(rt))}function qf(tt,_e,nt){var rt=0;_e&&(rt|=4),pf(nt,tt,rt,_e)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(tt){if(!tt[rf]){tt[rf]=!0,da.forEach(function(nt){nt!=="selectionchange"&&(mf.has(nt)||qf(nt,!1,tt),qf(nt,!0,tt))});var _e=tt.nodeType===9?tt:tt.ownerDocument;_e===null||_e[rf]||(_e[rf]=!0,qf("selectionchange",!1,_e))}}function pf(tt,_e,nt,rt){switch(jd(_e)){case 1:var it=ed;break;case 4:it=gd;break;default:it=fd$1}nt=it.bind(null,_e,nt,tt),it=void 0,!Lb||_e!=="touchstart"&&_e!=="touchmove"&&_e!=="wheel"||(it=!0),rt?it!==void 0?tt.addEventListener(_e,nt,{capture:!0,passive:it}):tt.addEventListener(_e,nt,!0):it!==void 0?tt.addEventListener(_e,nt,{passive:it}):tt.addEventListener(_e,nt,!1)}function hd(tt,_e,nt,rt,it){var st=rt;if(!(_e&1)&&!(_e&2)&&rt!==null)e:for(;;){if(rt===null)return;var at=rt.tag;if(at===3||at===4){var ot=rt.stateNode.containerInfo;if(ot===it||ot.nodeType===8&&ot.parentNode===it)break;if(at===4)for(at=rt.return;at!==null;){var lt=at.tag;if((lt===3||lt===4)&&(lt=at.stateNode.containerInfo,lt===it||lt.nodeType===8&&lt.parentNode===it))return;at=at.return}for(;ot!==null;){if(at=Wc(ot),at===null)return;if(lt=at.tag,lt===5||lt===6){rt=st=at;continue e}ot=ot.parentNode}}rt=rt.return}Jb(function(){var ct=st,ut=xb(nt),ft=[];e:{var ht=df.get(tt);if(ht!==void 0){var pt=td$1,dt=tt;switch(tt){case"keypress":if(od(nt)===0)break e;case"keydown":case"keyup":pt=Rd;break;case"focusin":dt="focus",pt=Fd;break;case"focusout":dt="blur",pt=Fd;break;case"beforeblur":case"afterblur":pt=Fd;break;case"click":if(nt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pt=Vd;break;case $e:case af:case bf:pt=Hd;break;case cf:pt=Xd;break;case"scroll":pt=vd;break;case"wheel":pt=Zd;break;case"copy":case"cut":case"paste":pt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pt=Td}var gt=(_e&4)!==0,vt=!gt&&tt==="scroll",mt=gt?ht!==null?ht+"Capture":null:ht;gt=[];for(var xt=ct,St;xt!==null;){St=xt;var Et=St.stateNode;if(St.tag===5&&Et!==null&&(St=Et,mt!==null&&(Et=Kb(xt,mt),Et!=null&&gt.push(tf(xt,Et,St)))),vt)break;xt=xt.return}0<gt.length&&(ht=new pt(ht,dt,null,nt,ut),ft.push({event:ht,listeners:gt}))}}if(!(_e&7)){e:{if(ht=tt==="mouseover"||tt==="pointerover",pt=tt==="mouseout"||tt==="pointerout",ht&&nt!==wb&&(dt=nt.relatedTarget||nt.fromElement)&&(Wc(dt)||dt[uf]))break e;if((pt||ht)&&(ht=ut.window===ut?ut:(ht=ut.ownerDocument)?ht.defaultView||ht.parentWindow:window,pt?(dt=nt.relatedTarget||nt.toElement,pt=ct,dt=dt?Wc(dt):null,dt!==null&&(vt=Vb(dt),dt!==vt||dt.tag!==5&&dt.tag!==6)&&(dt=null)):(pt=null,dt=ct),pt!==dt)){if(gt=Bd,Et="onMouseLeave",mt="onMouseEnter",xt="mouse",(tt==="pointerout"||tt==="pointerover")&&(gt=Td,Et="onPointerLeave",mt="onPointerEnter",xt="pointer"),vt=pt==null?ht:ue(pt),St=dt==null?ht:ue(dt),ht=new gt(Et,xt+"leave",pt,nt,ut),ht.target=vt,ht.relatedTarget=St,Et=null,Wc(ut)===ct&&(gt=new gt(mt,xt+"enter",dt,nt,ut),gt.target=St,gt.relatedTarget=vt,Et=gt),vt=Et,pt&&dt)t:{for(gt=pt,mt=dt,xt=0,St=gt;St;St=vf(St))xt++;for(St=0,Et=mt;Et;Et=vf(Et))St++;for(;0<xt-St;)gt=vf(gt),xt--;for(;0<St-xt;)mt=vf(mt),St--;for(;xt--;){if(gt===mt||mt!==null&&gt===mt.alternate)break t;gt=vf(gt),mt=vf(mt)}gt=null}else gt=null;pt!==null&&wf(ft,ht,pt,gt,!1),dt!==null&&vt!==null&&wf(ft,vt,dt,gt,!0)}}e:{if(ht=ct?ue(ct):window,pt=ht.nodeName&&ht.nodeName.toLowerCase(),pt==="select"||pt==="input"&&ht.type==="file")var bt=ve;else if(me(ht))if(we)bt=Fe;else{bt=De;var Tt=Ce}else(pt=ht.nodeName)&&pt.toLowerCase()==="input"&&(ht.type==="checkbox"||ht.type==="radio")&&(bt=Ee);if(bt&&(bt=bt(tt,ct))){ne(ft,bt,nt,ut);break e}Tt&&Tt(tt,ht,ct),tt==="focusout"&&(Tt=ht._wrapperState)&&Tt.controlled&&ht.type==="number"&&cb(ht,"number",ht.value)}switch(Tt=ct?ue(ct):window,tt){case"focusin":(me(Tt)||Tt.contentEditable==="true")&&(Qe=Tt,Re=ct,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(ft,nt,ut);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ft,nt,ut)}var At;if(ae$1)e:{switch(tt){case"compositionstart":var Ct="onCompositionStart";break e;case"compositionend":Ct="onCompositionEnd";break e;case"compositionupdate":Ct="onCompositionUpdate";break e}Ct=void 0}else ie$1?ge(tt,nt)&&(Ct="onCompositionEnd"):tt==="keydown"&&nt.keyCode===229&&(Ct="onCompositionStart");Ct&&(de&&nt.locale!=="ko"&&(ie$1||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&ie$1&&(At=nd()):(kd=ut,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),Tt=oe$1(ct,Ct),0<Tt.length&&(Ct=new Ld(Ct,tt,null,nt,ut),ft.push({event:Ct,listeners:Tt}),At?Ct.data=At:(At=he(nt),At!==null&&(Ct.data=At)))),(At=ce?je(tt,nt):ke(tt,nt))&&(ct=oe$1(ct,"onBeforeInput"),0<ct.length&&(ut=new Ld("onBeforeInput","beforeinput",null,nt,ut),ft.push({event:ut,listeners:ct}),ut.data=At))}se$1(ft,_e)})}function tf(tt,_e,nt){return{instance:tt,listener:_e,currentTarget:nt}}function oe$1(tt,_e){for(var nt=_e+"Capture",rt=[];tt!==null;){var it=tt,st=it.stateNode;it.tag===5&&st!==null&&(it=st,st=Kb(tt,nt),st!=null&&rt.unshift(tf(tt,st,it)),st=Kb(tt,_e),st!=null&&rt.push(tf(tt,st,it))),tt=tt.return}return rt}function vf(tt){if(tt===null)return null;do tt=tt.return;while(tt&&tt.tag!==5);return tt||null}function wf(tt,_e,nt,rt,it){for(var st=_e._reactName,at=[];nt!==null&&nt!==rt;){var ot=nt,lt=ot.alternate,ct=ot.stateNode;if(lt!==null&&lt===rt)break;ot.tag===5&&ct!==null&&(ot=ct,it?(lt=Kb(nt,st),lt!=null&&at.unshift(tf(nt,lt,ot))):it||(lt=Kb(nt,st),lt!=null&&at.push(tf(nt,lt,ot)))),nt=nt.return}at.length!==0&&tt.push({event:_e,listeners:at})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(tt){return(typeof tt=="string"?tt:""+tt).replace(xf,`
`).replace(yf,"")}function Af(tt,_e,nt){if(_e=zf(_e),zf(tt)!==_e&&nt)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(tt,_e){return tt==="textarea"||tt==="noscript"||typeof _e.children=="string"||typeof _e.children=="number"||typeof _e.dangerouslySetInnerHTML=="object"&&_e.dangerouslySetInnerHTML!==null&&_e.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(tt){return Hf.resolve(null).then(tt).catch(If)}:Ff;function If(tt){setTimeout(function(){throw tt})}function Kf(tt,_e){var nt=_e,rt=0;do{var it=nt.nextSibling;if(tt.removeChild(nt),it&&it.nodeType===8)if(nt=it.data,nt==="/$"){if(rt===0){tt.removeChild(it),bd(_e);return}rt--}else nt!=="$"&&nt!=="$?"&&nt!=="$!"||rt++;nt=it}while(nt);bd(_e)}function Lf(tt){for(;tt!=null;tt=tt.nextSibling){var _e=tt.nodeType;if(_e===1||_e===3)break;if(_e===8){if(_e=tt.data,_e==="$"||_e==="$!"||_e==="$?")break;if(_e==="/$")return null}}return tt}function Mf(tt){tt=tt.previousSibling;for(var _e=0;tt;){if(tt.nodeType===8){var nt=tt.data;if(nt==="$"||nt==="$!"||nt==="$?"){if(_e===0)return tt;_e--}else nt==="/$"&&_e++}tt=tt.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(tt){var _e=tt[Of];if(_e)return _e;for(var nt=tt.parentNode;nt;){if(_e=nt[uf]||nt[Of]){if(nt=_e.alternate,_e.child!==null||nt!==null&&nt.child!==null)for(tt=Mf(tt);tt!==null;){if(nt=tt[Of])return nt;tt=Mf(tt)}return _e}tt=nt,nt=tt.parentNode}return null}function Cb(tt){return tt=tt[Of]||tt[uf],!tt||tt.tag!==5&&tt.tag!==6&&tt.tag!==13&&tt.tag!==3?null:tt}function ue(tt){if(tt.tag===5||tt.tag===6)return tt.stateNode;throw Error(p$2(33))}function Db(tt){return tt[Pf]||null}var Sf=[],Tf=-1;function Uf(tt){return{current:tt}}function E$3(tt){0>Tf||(tt.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(tt,_e){Tf++,Sf[Tf]=tt.current,tt.current=_e}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(tt,_e){var nt=tt.type.contextTypes;if(!nt)return Vf;var rt=tt.stateNode;if(rt&&rt.__reactInternalMemoizedUnmaskedChildContext===_e)return rt.__reactInternalMemoizedMaskedChildContext;var it={},st;for(st in nt)it[st]=_e[st];return rt&&(tt=tt.stateNode,tt.__reactInternalMemoizedUnmaskedChildContext=_e,tt.__reactInternalMemoizedMaskedChildContext=it),it}function Zf(tt){return tt=tt.childContextTypes,tt!=null}function $f(){E$3(Wf),E$3(H$1)}function ag(tt,_e,nt){if(H$1.current!==Vf)throw Error(p$2(168));G$1(H$1,_e),G$1(Wf,nt)}function bg(tt,_e,nt){var rt=tt.stateNode;if(_e=_e.childContextTypes,typeof rt.getChildContext!="function")return nt;rt=rt.getChildContext();for(var it in rt)if(!(it in _e))throw Error(p$2(108,Ra(tt)||"Unknown",it));return A$1({},nt,rt)}function cg(tt){return tt=(tt=tt.stateNode)&&tt.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,tt),G$1(Wf,Wf.current),!0}function dg(tt,_e,nt){var rt=tt.stateNode;if(!rt)throw Error(p$2(169));nt?(tt=bg(tt,_e,Xf),rt.__reactInternalMemoizedMergedChildContext=tt,E$3(Wf),E$3(H$1),G$1(H$1,tt)):E$3(Wf),G$1(Wf,nt)}var eg=null,fg=!1,gg=!1;function hg(tt){eg===null?eg=[tt]:eg.push(tt)}function ig(tt){fg=!0,hg(tt)}function jg(){if(!gg&&eg!==null){gg=!0;var tt=0,_e=C$1;try{var nt=eg;for(C$1=1;tt<nt.length;tt++){var rt=nt[tt];do rt=rt(!0);while(rt!==null)}eg=null,fg=!1}catch(it){throw eg!==null&&(eg=eg.slice(tt+1)),ac(fc,jg),it}finally{C$1=_e,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(tt,_e){kg[lg++]=ng,kg[lg++]=mg,mg=tt,ng=_e}function ug(tt,_e,nt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=tt;var rt=rg;tt=sg;var it=32-oc(rt)-1;rt&=~(1<<it),nt+=1;var st=32-oc(_e)+it;if(30<st){var at=it-it%5;st=(rt&(1<<at)-1).toString(32),rt>>=at,it-=at,rg=1<<32-oc(_e)+it|nt<<it|rt,sg=st+tt}else rg=1<<st|nt<<it|rt,sg=tt}function vg(tt){tt.return!==null&&(tg(tt,1),ug(tt,1,0))}function wg(tt){for(;tt===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;tt===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$3=!1,zg=null;function Ag(tt,_e){var nt=Bg(5,null,null,0);nt.elementType="DELETED",nt.stateNode=_e,nt.return=tt,_e=tt.deletions,_e===null?(tt.deletions=[nt],tt.flags|=16):_e.push(nt)}function Cg(tt,_e){switch(tt.tag){case 5:var nt=tt.type;return _e=_e.nodeType!==1||nt.toLowerCase()!==_e.nodeName.toLowerCase()?null:_e,_e!==null?(tt.stateNode=_e,xg=tt,yg=Lf(_e.firstChild),!0):!1;case 6:return _e=tt.pendingProps===""||_e.nodeType!==3?null:_e,_e!==null?(tt.stateNode=_e,xg=tt,yg=null,!0):!1;case 13:return _e=_e.nodeType!==8?null:_e,_e!==null?(nt=qg!==null?{id:rg,overflow:sg}:null,tt.memoizedState={dehydrated:_e,treeContext:nt,retryLane:1073741824},nt=Bg(18,null,null,0),nt.stateNode=_e,nt.return=tt,tt.child=nt,xg=tt,yg=null,!0):!1;default:return!1}}function Dg(tt){return(tt.mode&1)!==0&&(tt.flags&128)===0}function Eg(tt){if(I$3){var _e=yg;if(_e){var nt=_e;if(!Cg(tt,_e)){if(Dg(tt))throw Error(p$2(418));_e=Lf(nt.nextSibling);var rt=xg;_e&&Cg(tt,_e)?Ag(rt,nt):(tt.flags=tt.flags&-4097|2,I$3=!1,xg=tt)}}else{if(Dg(tt))throw Error(p$2(418));tt.flags=tt.flags&-4097|2,I$3=!1,xg=tt}}}function Fg(tt){for(tt=tt.return;tt!==null&&tt.tag!==5&&tt.tag!==3&&tt.tag!==13;)tt=tt.return;xg=tt}function Gg(tt){if(tt!==xg)return!1;if(!I$3)return Fg(tt),I$3=!0,!1;var _e;if((_e=tt.tag!==3)&&!(_e=tt.tag!==5)&&(_e=tt.type,_e=_e!=="head"&&_e!=="body"&&!Ef(tt.type,tt.memoizedProps)),_e&&(_e=yg)){if(Dg(tt))throw Hg(),Error(p$2(418));for(;_e;)Ag(tt,_e),_e=Lf(_e.nextSibling)}if(Fg(tt),tt.tag===13){if(tt=tt.memoizedState,tt=tt!==null?tt.dehydrated:null,!tt)throw Error(p$2(317));e:{for(tt=tt.nextSibling,_e=0;tt;){if(tt.nodeType===8){var nt=tt.data;if(nt==="/$"){if(_e===0){yg=Lf(tt.nextSibling);break e}_e--}else nt!=="$"&&nt!=="$!"&&nt!=="$?"||_e++}tt=tt.nextSibling}yg=null}}else yg=xg?Lf(tt.stateNode.nextSibling):null;return!0}function Hg(){for(var tt=yg;tt;)tt=Lf(tt.nextSibling)}function Ig(){yg=xg=null,I$3=!1}function Jg(tt){zg===null?zg=[tt]:zg.push(tt)}var Kg=ua.ReactCurrentBatchConfig;function Lg(tt,_e,nt){if(tt=nt.ref,tt!==null&&typeof tt!="function"&&typeof tt!="object"){if(nt._owner){if(nt=nt._owner,nt){if(nt.tag!==1)throw Error(p$2(309));var rt=nt.stateNode}if(!rt)throw Error(p$2(147,tt));var it=rt,st=""+tt;return _e!==null&&_e.ref!==null&&typeof _e.ref=="function"&&_e.ref._stringRef===st?_e.ref:(_e=function(at){var ot=it.refs;at===null?delete ot[st]:ot[st]=at},_e._stringRef=st,_e)}if(typeof tt!="string")throw Error(p$2(284));if(!nt._owner)throw Error(p$2(290,tt))}return tt}function Mg(tt,_e){throw tt=Object.prototype.toString.call(_e),Error(p$2(31,tt==="[object Object]"?"object with keys {"+Object.keys(_e).join(", ")+"}":tt))}function Ng(tt){var _e=tt._init;return _e(tt._payload)}function Og(tt){function _e(mt,xt){if(tt){var St=mt.deletions;St===null?(mt.deletions=[xt],mt.flags|=16):St.push(xt)}}function nt(mt,xt){if(!tt)return null;for(;xt!==null;)_e(mt,xt),xt=xt.sibling;return null}function rt(mt,xt){for(mt=new Map;xt!==null;)xt.key!==null?mt.set(xt.key,xt):mt.set(xt.index,xt),xt=xt.sibling;return mt}function it(mt,xt){return mt=Pg(mt,xt),mt.index=0,mt.sibling=null,mt}function st(mt,xt,St){return mt.index=St,tt?(St=mt.alternate,St!==null?(St=St.index,St<xt?(mt.flags|=2,xt):St):(mt.flags|=2,xt)):(mt.flags|=1048576,xt)}function at(mt){return tt&&mt.alternate===null&&(mt.flags|=2),mt}function ot(mt,xt,St,Et){return xt===null||xt.tag!==6?(xt=Qg(St,mt.mode,Et),xt.return=mt,xt):(xt=it(xt,St),xt.return=mt,xt)}function lt(mt,xt,St,Et){var bt=St.type;return bt===ya?ut(mt,xt,St.props.children,Et,St.key):xt!==null&&(xt.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===Ha&&Ng(bt)===xt.type)?(Et=it(xt,St.props),Et.ref=Lg(mt,xt,St),Et.return=mt,Et):(Et=Rg(St.type,St.key,St.props,null,mt.mode,Et),Et.ref=Lg(mt,xt,St),Et.return=mt,Et)}function ct(mt,xt,St,Et){return xt===null||xt.tag!==4||xt.stateNode.containerInfo!==St.containerInfo||xt.stateNode.implementation!==St.implementation?(xt=Sg(St,mt.mode,Et),xt.return=mt,xt):(xt=it(xt,St.children||[]),xt.return=mt,xt)}function ut(mt,xt,St,Et,bt){return xt===null||xt.tag!==7?(xt=Tg(St,mt.mode,Et,bt),xt.return=mt,xt):(xt=it(xt,St),xt.return=mt,xt)}function ft(mt,xt,St){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return xt=Qg(""+xt,mt.mode,St),xt.return=mt,xt;if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:return St=Rg(xt.type,xt.key,xt.props,null,mt.mode,St),St.ref=Lg(mt,null,xt),St.return=mt,St;case wa:return xt=Sg(xt,mt.mode,St),xt.return=mt,xt;case Ha:var Et=xt._init;return ft(mt,Et(xt._payload),St)}if(eb(xt)||Ka(xt))return xt=Tg(xt,mt.mode,St,null),xt.return=mt,xt;Mg(mt,xt)}return null}function ht(mt,xt,St,Et){var bt=xt!==null?xt.key:null;if(typeof St=="string"&&St!==""||typeof St=="number")return bt!==null?null:ot(mt,xt,""+St,Et);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case va:return St.key===bt?lt(mt,xt,St,Et):null;case wa:return St.key===bt?ct(mt,xt,St,Et):null;case Ha:return bt=St._init,ht(mt,xt,bt(St._payload),Et)}if(eb(St)||Ka(St))return bt!==null?null:ut(mt,xt,St,Et,null);Mg(mt,St)}return null}function pt(mt,xt,St,Et,bt){if(typeof Et=="string"&&Et!==""||typeof Et=="number")return mt=mt.get(St)||null,ot(xt,mt,""+Et,bt);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case va:return mt=mt.get(Et.key===null?St:Et.key)||null,lt(xt,mt,Et,bt);case wa:return mt=mt.get(Et.key===null?St:Et.key)||null,ct(xt,mt,Et,bt);case Ha:var Tt=Et._init;return pt(mt,xt,St,Tt(Et._payload),bt)}if(eb(Et)||Ka(Et))return mt=mt.get(St)||null,ut(xt,mt,Et,bt,null);Mg(xt,Et)}return null}function dt(mt,xt,St,Et){for(var bt=null,Tt=null,At=xt,Ct=xt=0,Pt=null;At!==null&&Ct<St.length;Ct++){At.index>Ct?(Pt=At,At=null):Pt=At.sibling;var It=ht(mt,At,St[Ct],Et);if(It===null){At===null&&(At=Pt);break}tt&&At&&It.alternate===null&&_e(mt,At),xt=st(It,xt,Ct),Tt===null?bt=It:Tt.sibling=It,Tt=It,At=Pt}if(Ct===St.length)return nt(mt,At),I$3&&tg(mt,Ct),bt;if(At===null){for(;Ct<St.length;Ct++)At=ft(mt,St[Ct],Et),At!==null&&(xt=st(At,xt,Ct),Tt===null?bt=At:Tt.sibling=At,Tt=At);return I$3&&tg(mt,Ct),bt}for(At=rt(mt,At);Ct<St.length;Ct++)Pt=pt(At,mt,Ct,St[Ct],Et),Pt!==null&&(tt&&Pt.alternate!==null&&At.delete(Pt.key===null?Ct:Pt.key),xt=st(Pt,xt,Ct),Tt===null?bt=Pt:Tt.sibling=Pt,Tt=Pt);return tt&&At.forEach(function(Lt){return _e(mt,Lt)}),I$3&&tg(mt,Ct),bt}function gt(mt,xt,St,Et){var bt=Ka(St);if(typeof bt!="function")throw Error(p$2(150));if(St=bt.call(St),St==null)throw Error(p$2(151));for(var Tt=bt=null,At=xt,Ct=xt=0,Pt=null,It=St.next();At!==null&&!It.done;Ct++,It=St.next()){At.index>Ct?(Pt=At,At=null):Pt=At.sibling;var Lt=ht(mt,At,It.value,Et);if(Lt===null){At===null&&(At=Pt);break}tt&&At&&Lt.alternate===null&&_e(mt,At),xt=st(Lt,xt,Ct),Tt===null?bt=Lt:Tt.sibling=Lt,Tt=Lt,At=Pt}if(It.done)return nt(mt,At),I$3&&tg(mt,Ct),bt;if(At===null){for(;!It.done;Ct++,It=St.next())It=ft(mt,It.value,Et),It!==null&&(xt=st(It,xt,Ct),Tt===null?bt=It:Tt.sibling=It,Tt=It);return I$3&&tg(mt,Ct),bt}for(At=rt(mt,At);!It.done;Ct++,It=St.next())It=pt(At,mt,Ct,It.value,Et),It!==null&&(tt&&It.alternate!==null&&At.delete(It.key===null?Ct:It.key),xt=st(It,xt,Ct),Tt===null?bt=It:Tt.sibling=It,Tt=It);return tt&&At.forEach(function(Vt){return _e(mt,Vt)}),I$3&&tg(mt,Ct),bt}function vt(mt,xt,St,Et){if(typeof St=="object"&&St!==null&&St.type===ya&&St.key===null&&(St=St.props.children),typeof St=="object"&&St!==null){switch(St.$$typeof){case va:e:{for(var bt=St.key,Tt=xt;Tt!==null;){if(Tt.key===bt){if(bt=St.type,bt===ya){if(Tt.tag===7){nt(mt,Tt.sibling),xt=it(Tt,St.props.children),xt.return=mt,mt=xt;break e}}else if(Tt.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===Ha&&Ng(bt)===Tt.type){nt(mt,Tt.sibling),xt=it(Tt,St.props),xt.ref=Lg(mt,Tt,St),xt.return=mt,mt=xt;break e}nt(mt,Tt);break}else _e(mt,Tt);Tt=Tt.sibling}St.type===ya?(xt=Tg(St.props.children,mt.mode,Et,St.key),xt.return=mt,mt=xt):(Et=Rg(St.type,St.key,St.props,null,mt.mode,Et),Et.ref=Lg(mt,xt,St),Et.return=mt,mt=Et)}return at(mt);case wa:e:{for(Tt=St.key;xt!==null;){if(xt.key===Tt)if(xt.tag===4&&xt.stateNode.containerInfo===St.containerInfo&&xt.stateNode.implementation===St.implementation){nt(mt,xt.sibling),xt=it(xt,St.children||[]),xt.return=mt,mt=xt;break e}else{nt(mt,xt);break}else _e(mt,xt);xt=xt.sibling}xt=Sg(St,mt.mode,Et),xt.return=mt,mt=xt}return at(mt);case Ha:return Tt=St._init,vt(mt,xt,Tt(St._payload),Et)}if(eb(St))return dt(mt,xt,St,Et);if(Ka(St))return gt(mt,xt,St,Et);Mg(mt,St)}return typeof St=="string"&&St!==""||typeof St=="number"?(St=""+St,xt!==null&&xt.tag===6?(nt(mt,xt.sibling),xt=it(xt,St),xt.return=mt,mt=xt):(nt(mt,xt),xt=Qg(St,mt.mode,Et),xt.return=mt,mt=xt),at(mt)):nt(mt,xt)}return vt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(tt){var _e=Wg.current;E$3(Wg),tt._currentValue=_e}function bh(tt,_e,nt){for(;tt!==null;){var rt=tt.alternate;if((tt.childLanes&_e)!==_e?(tt.childLanes|=_e,rt!==null&&(rt.childLanes|=_e)):rt!==null&&(rt.childLanes&_e)!==_e&&(rt.childLanes|=_e),tt===nt)break;tt=tt.return}}function ch(tt,_e){Xg=tt,Zg=Yg=null,tt=tt.dependencies,tt!==null&&tt.firstContext!==null&&(tt.lanes&_e&&(dh=!0),tt.firstContext=null)}function eh(tt){var _e=tt._currentValue;if(Zg!==tt)if(tt={context:tt,memoizedValue:_e,next:null},Yg===null){if(Xg===null)throw Error(p$2(308));Yg=tt,Xg.dependencies={lanes:0,firstContext:tt}}else Yg=Yg.next=tt;return _e}var fh=null;function gh(tt){fh===null?fh=[tt]:fh.push(tt)}function hh(tt,_e,nt,rt){var it=_e.interleaved;return it===null?(nt.next=nt,gh(_e)):(nt.next=it.next,it.next=nt),_e.interleaved=nt,ih(tt,rt)}function ih(tt,_e){tt.lanes|=_e;var nt=tt.alternate;for(nt!==null&&(nt.lanes|=_e),nt=tt,tt=tt.return;tt!==null;)tt.childLanes|=_e,nt=tt.alternate,nt!==null&&(nt.childLanes|=_e),nt=tt,tt=tt.return;return nt.tag===3?nt.stateNode:null}var jh=!1;function kh(tt){tt.updateQueue={baseState:tt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(tt,_e){tt=tt.updateQueue,_e.updateQueue===tt&&(_e.updateQueue={baseState:tt.baseState,firstBaseUpdate:tt.firstBaseUpdate,lastBaseUpdate:tt.lastBaseUpdate,shared:tt.shared,effects:tt.effects})}function mh(tt,_e){return{eventTime:tt,lane:_e,tag:0,payload:null,callback:null,next:null}}function nh(tt,_e,nt){var rt=tt.updateQueue;if(rt===null)return null;if(rt=rt.shared,K&2){var it=rt.pending;return it===null?_e.next=_e:(_e.next=it.next,it.next=_e),rt.pending=_e,ih(tt,nt)}return it=rt.interleaved,it===null?(_e.next=_e,gh(rt)):(_e.next=it.next,it.next=_e),rt.interleaved=_e,ih(tt,nt)}function oh(tt,_e,nt){if(_e=_e.updateQueue,_e!==null&&(_e=_e.shared,(nt&4194240)!==0)){var rt=_e.lanes;rt&=tt.pendingLanes,nt|=rt,_e.lanes=nt,Cc(tt,nt)}}function ph(tt,_e){var nt=tt.updateQueue,rt=tt.alternate;if(rt!==null&&(rt=rt.updateQueue,nt===rt)){var it=null,st=null;if(nt=nt.firstBaseUpdate,nt!==null){do{var at={eventTime:nt.eventTime,lane:nt.lane,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null};st===null?it=st=at:st=st.next=at,nt=nt.next}while(nt!==null);st===null?it=st=_e:st=st.next=_e}else it=st=_e;nt={baseState:rt.baseState,firstBaseUpdate:it,lastBaseUpdate:st,shared:rt.shared,effects:rt.effects},tt.updateQueue=nt;return}tt=nt.lastBaseUpdate,tt===null?nt.firstBaseUpdate=_e:tt.next=_e,nt.lastBaseUpdate=_e}function qh(tt,_e,nt,rt){var it=tt.updateQueue;jh=!1;var st=it.firstBaseUpdate,at=it.lastBaseUpdate,ot=it.shared.pending;if(ot!==null){it.shared.pending=null;var lt=ot,ct=lt.next;lt.next=null,at===null?st=ct:at.next=ct,at=lt;var ut=tt.alternate;ut!==null&&(ut=ut.updateQueue,ot=ut.lastBaseUpdate,ot!==at&&(ot===null?ut.firstBaseUpdate=ct:ot.next=ct,ut.lastBaseUpdate=lt))}if(st!==null){var ft=it.baseState;at=0,ut=ct=lt=null,ot=st;do{var ht=ot.lane,pt=ot.eventTime;if((rt&ht)===ht){ut!==null&&(ut=ut.next={eventTime:pt,lane:0,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null});e:{var dt=tt,gt=ot;switch(ht=_e,pt=nt,gt.tag){case 1:if(dt=gt.payload,typeof dt=="function"){ft=dt.call(pt,ft,ht);break e}ft=dt;break e;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=gt.payload,ht=typeof dt=="function"?dt.call(pt,ft,ht):dt,ht==null)break e;ft=A$1({},ft,ht);break e;case 2:jh=!0}}ot.callback!==null&&ot.lane!==0&&(tt.flags|=64,ht=it.effects,ht===null?it.effects=[ot]:ht.push(ot))}else pt={eventTime:pt,lane:ht,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null},ut===null?(ct=ut=pt,lt=ft):ut=ut.next=pt,at|=ht;if(ot=ot.next,ot===null){if(ot=it.shared.pending,ot===null)break;ht=ot,ot=ht.next,ht.next=null,it.lastBaseUpdate=ht,it.shared.pending=null}}while(!0);if(ut===null&&(lt=ft),it.baseState=lt,it.firstBaseUpdate=ct,it.lastBaseUpdate=ut,_e=it.shared.interleaved,_e!==null){it=_e;do at|=it.lane,it=it.next;while(it!==_e)}else st===null&&(it.shared.lanes=0);rh|=at,tt.lanes=at,tt.memoizedState=ft}}function sh(tt,_e,nt){if(tt=_e.effects,_e.effects=null,tt!==null)for(_e=0;_e<tt.length;_e++){var rt=tt[_e],it=rt.callback;if(it!==null){if(rt.callback=null,rt=nt,typeof it!="function")throw Error(p$2(191,it));it.call(rt)}}}var th={},uh=Uf(th),vh$2=Uf(th),wh=Uf(th);function xh(tt){if(tt===th)throw Error(p$2(174));return tt}function yh(tt,_e){switch(G$1(wh,_e),G$1(vh$2,tt),G$1(uh,th),tt=_e.nodeType,tt){case 9:case 11:_e=(_e=_e.documentElement)?_e.namespaceURI:lb(null,"");break;default:tt=tt===8?_e.parentNode:_e,_e=tt.namespaceURI||null,tt=tt.tagName,_e=lb(_e,tt)}E$3(uh),G$1(uh,_e)}function zh(){E$3(uh),E$3(vh$2),E$3(wh)}function Ah(tt){xh(wh.current);var _e=xh(uh.current),nt=lb(_e,tt.type);_e!==nt&&(G$1(vh$2,tt),G$1(uh,nt))}function Bh(tt){vh$2.current===tt&&(E$3(uh),E$3(vh$2))}var L$2=Uf(0);function Ch(tt){for(var _e=tt;_e!==null;){if(_e.tag===13){var nt=_e.memoizedState;if(nt!==null&&(nt=nt.dehydrated,nt===null||nt.data==="$?"||nt.data==="$!"))return _e}else if(_e.tag===19&&_e.memoizedProps.revealOrder!==void 0){if(_e.flags&128)return _e}else if(_e.child!==null){_e.child.return=_e,_e=_e.child;continue}if(_e===tt)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===tt)return null;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}return null}var Dh=[];function Eh(){for(var tt=0;tt<Dh.length;tt++)Dh[tt]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$2=null,N$1=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$2(){throw Error(p$2(321))}function Mh(tt,_e){if(_e===null)return!1;for(var nt=0;nt<_e.length&&nt<tt.length;nt++)if(!He(tt[nt],_e[nt]))return!1;return!0}function Nh(tt,_e,nt,rt,it,st){if(Hh=st,M$2=_e,_e.memoizedState=null,_e.updateQueue=null,_e.lanes=0,Fh.current=tt===null||tt.memoizedState===null?Oh:Ph,tt=nt(rt,it),Jh){st=0;do{if(Jh=!1,Kh=0,25<=st)throw Error(p$2(301));st+=1,O=N$1=null,_e.updateQueue=null,Fh.current=Qh,tt=nt(rt,it)}while(Jh)}if(Fh.current=Rh,_e=N$1!==null&&N$1.next!==null,Hh=0,O=N$1=M$2=null,Ih=!1,_e)throw Error(p$2(300));return tt}function Sh(){var tt=Kh!==0;return Kh=0,tt}function Th(){var tt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M$2.memoizedState=O=tt:O=O.next=tt,O}function Uh(){if(N$1===null){var tt=M$2.alternate;tt=tt!==null?tt.memoizedState:null}else tt=N$1.next;var _e=O===null?M$2.memoizedState:O.next;if(_e!==null)O=_e,N$1=tt;else{if(tt===null)throw Error(p$2(310));N$1=tt,tt={memoizedState:N$1.memoizedState,baseState:N$1.baseState,baseQueue:N$1.baseQueue,queue:N$1.queue,next:null},O===null?M$2.memoizedState=O=tt:O=O.next=tt}return O}function Vh(tt,_e){return typeof _e=="function"?_e(tt):_e}function Wh(tt){var _e=Uh(),nt=_e.queue;if(nt===null)throw Error(p$2(311));nt.lastRenderedReducer=tt;var rt=N$1,it=rt.baseQueue,st=nt.pending;if(st!==null){if(it!==null){var at=it.next;it.next=st.next,st.next=at}rt.baseQueue=it=st,nt.pending=null}if(it!==null){st=it.next,rt=rt.baseState;var ot=at=null,lt=null,ct=st;do{var ut=ct.lane;if((Hh&ut)===ut)lt!==null&&(lt=lt.next={lane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),rt=ct.hasEagerState?ct.eagerState:tt(rt,ct.action);else{var ft={lane:ut,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null};lt===null?(ot=lt=ft,at=rt):lt=lt.next=ft,M$2.lanes|=ut,rh|=ut}ct=ct.next}while(ct!==null&&ct!==st);lt===null?at=rt:lt.next=ot,He(rt,_e.memoizedState)||(dh=!0),_e.memoizedState=rt,_e.baseState=at,_e.baseQueue=lt,nt.lastRenderedState=rt}if(tt=nt.interleaved,tt!==null){it=tt;do st=it.lane,M$2.lanes|=st,rh|=st,it=it.next;while(it!==tt)}else it===null&&(nt.lanes=0);return[_e.memoizedState,nt.dispatch]}function Xh(tt){var _e=Uh(),nt=_e.queue;if(nt===null)throw Error(p$2(311));nt.lastRenderedReducer=tt;var rt=nt.dispatch,it=nt.pending,st=_e.memoizedState;if(it!==null){nt.pending=null;var at=it=it.next;do st=tt(st,at.action),at=at.next;while(at!==it);He(st,_e.memoizedState)||(dh=!0),_e.memoizedState=st,_e.baseQueue===null&&(_e.baseState=st),nt.lastRenderedState=st}return[st,rt]}function Yh(){}function Zh(tt,_e){var nt=M$2,rt=Uh(),it=_e(),st=!He(rt.memoizedState,it);if(st&&(rt.memoizedState=it,dh=!0),rt=rt.queue,$h(ai.bind(null,nt,rt,tt),[tt]),rt.getSnapshot!==_e||st||O!==null&&O.memoizedState.tag&1){if(nt.flags|=2048,bi(9,ci.bind(null,nt,rt,it,_e),void 0,null),Q===null)throw Error(p$2(349));Hh&30||di(nt,_e,it)}return it}function di(tt,_e,nt){tt.flags|=16384,tt={getSnapshot:_e,value:nt},_e=M$2.updateQueue,_e===null?(_e={lastEffect:null,stores:null},M$2.updateQueue=_e,_e.stores=[tt]):(nt=_e.stores,nt===null?_e.stores=[tt]:nt.push(tt))}function ci(tt,_e,nt,rt){_e.value=nt,_e.getSnapshot=rt,ei(_e)&&fi(tt)}function ai(tt,_e,nt){return nt(function(){ei(_e)&&fi(tt)})}function ei(tt){var _e=tt.getSnapshot;tt=tt.value;try{var nt=_e();return!He(tt,nt)}catch{return!0}}function fi(tt){var _e=ih(tt,1);_e!==null&&gi(_e,tt,1,-1)}function hi(tt){var _e=Th();return typeof tt=="function"&&(tt=tt()),_e.memoizedState=_e.baseState=tt,tt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:tt},_e.queue=tt,tt=tt.dispatch=ii.bind(null,M$2,tt),[_e.memoizedState,tt]}function bi(tt,_e,nt,rt){return tt={tag:tt,create:_e,destroy:nt,deps:rt,next:null},_e=M$2.updateQueue,_e===null?(_e={lastEffect:null,stores:null},M$2.updateQueue=_e,_e.lastEffect=tt.next=tt):(nt=_e.lastEffect,nt===null?_e.lastEffect=tt.next=tt:(rt=nt.next,nt.next=tt,tt.next=rt,_e.lastEffect=tt)),tt}function ji(){return Uh().memoizedState}function ki(tt,_e,nt,rt){var it=Th();M$2.flags|=tt,it.memoizedState=bi(1|_e,nt,void 0,rt===void 0?null:rt)}function li(tt,_e,nt,rt){var it=Uh();rt=rt===void 0?null:rt;var st=void 0;if(N$1!==null){var at=N$1.memoizedState;if(st=at.destroy,rt!==null&&Mh(rt,at.deps)){it.memoizedState=bi(_e,nt,st,rt);return}}M$2.flags|=tt,it.memoizedState=bi(1|_e,nt,st,rt)}function mi(tt,_e){return ki(8390656,8,tt,_e)}function $h(tt,_e){return li(2048,8,tt,_e)}function ni(tt,_e){return li(4,2,tt,_e)}function oi(tt,_e){return li(4,4,tt,_e)}function pi(tt,_e){if(typeof _e=="function")return tt=tt(),_e(tt),function(){_e(null)};if(_e!=null)return tt=tt(),_e.current=tt,function(){_e.current=null}}function qi(tt,_e,nt){return nt=nt!=null?nt.concat([tt]):null,li(4,4,pi.bind(null,_e,tt),nt)}function ri(){}function si(tt,_e){var nt=Uh();_e=_e===void 0?null:_e;var rt=nt.memoizedState;return rt!==null&&_e!==null&&Mh(_e,rt[1])?rt[0]:(nt.memoizedState=[tt,_e],tt)}function ti(tt,_e){var nt=Uh();_e=_e===void 0?null:_e;var rt=nt.memoizedState;return rt!==null&&_e!==null&&Mh(_e,rt[1])?rt[0]:(tt=tt(),nt.memoizedState=[tt,_e],tt)}function ui(tt,_e,nt){return Hh&21?(He(nt,_e)||(nt=yc(),M$2.lanes|=nt,rh|=nt,tt.baseState=!0),_e):(tt.baseState&&(tt.baseState=!1,dh=!0),tt.memoizedState=nt)}function vi(tt,_e){var nt=C$1;C$1=nt!==0&&4>nt?nt:4,tt(!0);var rt=Gh.transition;Gh.transition={};try{tt(!1),_e()}finally{C$1=nt,Gh.transition=rt}}function wi(){return Uh().memoizedState}function xi(tt,_e,nt){var rt=yi(tt);if(nt={lane:rt,action:nt,hasEagerState:!1,eagerState:null,next:null},zi(tt))Ai(_e,nt);else if(nt=hh(tt,_e,nt,rt),nt!==null){var it=R();gi(nt,tt,rt,it),Bi(nt,_e,rt)}}function ii(tt,_e,nt){var rt=yi(tt),it={lane:rt,action:nt,hasEagerState:!1,eagerState:null,next:null};if(zi(tt))Ai(_e,it);else{var st=tt.alternate;if(tt.lanes===0&&(st===null||st.lanes===0)&&(st=_e.lastRenderedReducer,st!==null))try{var at=_e.lastRenderedState,ot=st(at,nt);if(it.hasEagerState=!0,it.eagerState=ot,He(ot,at)){var lt=_e.interleaved;lt===null?(it.next=it,gh(_e)):(it.next=lt.next,lt.next=it),_e.interleaved=it;return}}catch{}finally{}nt=hh(tt,_e,it,rt),nt!==null&&(it=R(),gi(nt,tt,rt,it),Bi(nt,_e,rt))}}function zi(tt){var _e=tt.alternate;return tt===M$2||_e!==null&&_e===M$2}function Ai(tt,_e){Jh=Ih=!0;var nt=tt.pending;nt===null?_e.next=_e:(_e.next=nt.next,nt.next=_e),tt.pending=_e}function Bi(tt,_e,nt){if(nt&4194240){var rt=_e.lanes;rt&=tt.pendingLanes,nt|=rt,_e.lanes=nt,Cc(tt,nt)}}var Rh={readContext:eh,useCallback:P$2,useContext:P$2,useEffect:P$2,useImperativeHandle:P$2,useInsertionEffect:P$2,useLayoutEffect:P$2,useMemo:P$2,useReducer:P$2,useRef:P$2,useState:P$2,useDebugValue:P$2,useDeferredValue:P$2,useTransition:P$2,useMutableSource:P$2,useSyncExternalStore:P$2,useId:P$2,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(tt,_e){return Th().memoizedState=[tt,_e===void 0?null:_e],tt},useContext:eh,useEffect:mi,useImperativeHandle:function(tt,_e,nt){return nt=nt!=null?nt.concat([tt]):null,ki(4194308,4,pi.bind(null,_e,tt),nt)},useLayoutEffect:function(tt,_e){return ki(4194308,4,tt,_e)},useInsertionEffect:function(tt,_e){return ki(4,2,tt,_e)},useMemo:function(tt,_e){var nt=Th();return _e=_e===void 0?null:_e,tt=tt(),nt.memoizedState=[tt,_e],tt},useReducer:function(tt,_e,nt){var rt=Th();return _e=nt!==void 0?nt(_e):_e,rt.memoizedState=rt.baseState=_e,tt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tt,lastRenderedState:_e},rt.queue=tt,tt=tt.dispatch=xi.bind(null,M$2,tt),[rt.memoizedState,tt]},useRef:function(tt){var _e=Th();return tt={current:tt},_e.memoizedState=tt},useState:hi,useDebugValue:ri,useDeferredValue:function(tt){return Th().memoizedState=tt},useTransition:function(){var tt=hi(!1),_e=tt[0];return tt=vi.bind(null,tt[1]),Th().memoizedState=tt,[_e,tt]},useMutableSource:function(){},useSyncExternalStore:function(tt,_e,nt){var rt=M$2,it=Th();if(I$3){if(nt===void 0)throw Error(p$2(407));nt=nt()}else{if(nt=_e(),Q===null)throw Error(p$2(349));Hh&30||di(rt,_e,nt)}it.memoizedState=nt;var st={value:nt,getSnapshot:_e};return it.queue=st,mi(ai.bind(null,rt,st,tt),[tt]),rt.flags|=2048,bi(9,ci.bind(null,rt,st,nt,_e),void 0,null),nt},useId:function(){var tt=Th(),_e=Q.identifierPrefix;if(I$3){var nt=sg,rt=rg;nt=(rt&~(1<<32-oc(rt)-1)).toString(32)+nt,_e=":"+_e+"R"+nt,nt=Kh++,0<nt&&(_e+="H"+nt.toString(32)),_e+=":"}else nt=Lh++,_e=":"+_e+"r"+nt.toString(32)+":";return tt.memoizedState=_e},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(tt){var _e=Uh();return ui(_e,N$1.memoizedState,tt)},useTransition:function(){var tt=Wh(Vh)[0],_e=Uh().memoizedState;return[tt,_e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(tt){var _e=Uh();return N$1===null?_e.memoizedState=tt:ui(_e,N$1.memoizedState,tt)},useTransition:function(){var tt=Xh(Vh)[0],_e=Uh().memoizedState;return[tt,_e]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(tt,_e){if(tt&&tt.defaultProps){_e=A$1({},_e),tt=tt.defaultProps;for(var nt in tt)_e[nt]===void 0&&(_e[nt]=tt[nt]);return _e}return _e}function Di(tt,_e,nt,rt){_e=tt.memoizedState,nt=nt(rt,_e),nt=nt==null?_e:A$1({},_e,nt),tt.memoizedState=nt,tt.lanes===0&&(tt.updateQueue.baseState=nt)}var Ei={isMounted:function(tt){return(tt=tt._reactInternals)?Vb(tt)===tt:!1},enqueueSetState:function(tt,_e,nt){tt=tt._reactInternals;var rt=R(),it=yi(tt),st=mh(rt,it);st.payload=_e,nt!=null&&(st.callback=nt),_e=nh(tt,st,it),_e!==null&&(gi(_e,tt,it,rt),oh(_e,tt,it))},enqueueReplaceState:function(tt,_e,nt){tt=tt._reactInternals;var rt=R(),it=yi(tt),st=mh(rt,it);st.tag=1,st.payload=_e,nt!=null&&(st.callback=nt),_e=nh(tt,st,it),_e!==null&&(gi(_e,tt,it,rt),oh(_e,tt,it))},enqueueForceUpdate:function(tt,_e){tt=tt._reactInternals;var nt=R(),rt=yi(tt),it=mh(nt,rt);it.tag=2,_e!=null&&(it.callback=_e),_e=nh(tt,it,rt),_e!==null&&(gi(_e,tt,rt,nt),oh(_e,tt,rt))}};function Fi(tt,_e,nt,rt,it,st,at){return tt=tt.stateNode,typeof tt.shouldComponentUpdate=="function"?tt.shouldComponentUpdate(rt,st,at):_e.prototype&&_e.prototype.isPureReactComponent?!Ie(nt,rt)||!Ie(it,st):!0}function Gi(tt,_e,nt){var rt=!1,it=Vf,st=_e.contextType;return typeof st=="object"&&st!==null?st=eh(st):(it=Zf(_e)?Xf:H$1.current,rt=_e.contextTypes,st=(rt=rt!=null)?Yf(tt,it):Vf),_e=new _e(nt,st),tt.memoizedState=_e.state!==null&&_e.state!==void 0?_e.state:null,_e.updater=Ei,tt.stateNode=_e,_e._reactInternals=tt,rt&&(tt=tt.stateNode,tt.__reactInternalMemoizedUnmaskedChildContext=it,tt.__reactInternalMemoizedMaskedChildContext=st),_e}function Hi(tt,_e,nt,rt){tt=_e.state,typeof _e.componentWillReceiveProps=="function"&&_e.componentWillReceiveProps(nt,rt),typeof _e.UNSAFE_componentWillReceiveProps=="function"&&_e.UNSAFE_componentWillReceiveProps(nt,rt),_e.state!==tt&&Ei.enqueueReplaceState(_e,_e.state,null)}function Ii(tt,_e,nt,rt){var it=tt.stateNode;it.props=nt,it.state=tt.memoizedState,it.refs={},kh(tt);var st=_e.contextType;typeof st=="object"&&st!==null?it.context=eh(st):(st=Zf(_e)?Xf:H$1.current,it.context=Yf(tt,st)),it.state=tt.memoizedState,st=_e.getDerivedStateFromProps,typeof st=="function"&&(Di(tt,_e,st,nt),it.state=tt.memoizedState),typeof _e.getDerivedStateFromProps=="function"||typeof it.getSnapshotBeforeUpdate=="function"||typeof it.UNSAFE_componentWillMount!="function"&&typeof it.componentWillMount!="function"||(_e=it.state,typeof it.componentWillMount=="function"&&it.componentWillMount(),typeof it.UNSAFE_componentWillMount=="function"&&it.UNSAFE_componentWillMount(),_e!==it.state&&Ei.enqueueReplaceState(it,it.state,null),qh(tt,nt,it,rt),it.state=tt.memoizedState),typeof it.componentDidMount=="function"&&(tt.flags|=4194308)}function Ji(tt,_e){try{var nt="",rt=_e;do nt+=Pa(rt),rt=rt.return;while(rt);var it=nt}catch(st){it=`
Error generating stack: `+st.message+`
`+st.stack}return{value:tt,source:_e,stack:it,digest:null}}function Ki(tt,_e,nt){return{value:tt,source:null,stack:nt??null,digest:_e??null}}function Li(tt,_e){try{console.error(_e.value)}catch(nt){setTimeout(function(){throw nt})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(tt,_e,nt){nt=mh(-1,nt),nt.tag=3,nt.payload={element:null};var rt=_e.value;return nt.callback=function(){Oi||(Oi=!0,Pi=rt),Li(tt,_e)},nt}function Qi(tt,_e,nt){nt=mh(-1,nt),nt.tag=3;var rt=tt.type.getDerivedStateFromError;if(typeof rt=="function"){var it=_e.value;nt.payload=function(){return rt(it)},nt.callback=function(){Li(tt,_e)}}var st=tt.stateNode;return st!==null&&typeof st.componentDidCatch=="function"&&(nt.callback=function(){Li(tt,_e),typeof rt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var at=_e.stack;this.componentDidCatch(_e.value,{componentStack:at!==null?at:""})}),nt}function Si(tt,_e,nt){var rt=tt.pingCache;if(rt===null){rt=tt.pingCache=new Mi;var it=new Set;rt.set(_e,it)}else it=rt.get(_e),it===void 0&&(it=new Set,rt.set(_e,it));it.has(nt)||(it.add(nt),tt=Ti.bind(null,tt,_e,nt),_e.then(tt,tt))}function Ui(tt){do{var _e;if((_e=tt.tag===13)&&(_e=tt.memoizedState,_e=_e!==null?_e.dehydrated!==null:!0),_e)return tt;tt=tt.return}while(tt!==null);return null}function Vi(tt,_e,nt,rt,it){return tt.mode&1?(tt.flags|=65536,tt.lanes=it,tt):(tt===_e?tt.flags|=65536:(tt.flags|=128,nt.flags|=131072,nt.flags&=-52805,nt.tag===1&&(nt.alternate===null?nt.tag=17:(_e=mh(-1,1),_e.tag=2,nh(nt,_e,1))),nt.lanes|=1),tt)}var Wi=ua.ReactCurrentOwner,dh=!1;function Xi(tt,_e,nt,rt){_e.child=tt===null?Vg(_e,null,nt,rt):Ug(_e,tt.child,nt,rt)}function Yi(tt,_e,nt,rt,it){nt=nt.render;var st=_e.ref;return ch(_e,it),rt=Nh(tt,_e,nt,rt,st,it),nt=Sh(),tt!==null&&!dh?(_e.updateQueue=tt.updateQueue,_e.flags&=-2053,tt.lanes&=~it,Zi(tt,_e,it)):(I$3&&nt&&vg(_e),_e.flags|=1,Xi(tt,_e,rt,it),_e.child)}function $i(tt,_e,nt,rt,it){if(tt===null){var st=nt.type;return typeof st=="function"&&!aj(st)&&st.defaultProps===void 0&&nt.compare===null&&nt.defaultProps===void 0?(_e.tag=15,_e.type=st,bj(tt,_e,st,rt,it)):(tt=Rg(nt.type,null,rt,_e,_e.mode,it),tt.ref=_e.ref,tt.return=_e,_e.child=tt)}if(st=tt.child,!(tt.lanes&it)){var at=st.memoizedProps;if(nt=nt.compare,nt=nt!==null?nt:Ie,nt(at,rt)&&tt.ref===_e.ref)return Zi(tt,_e,it)}return _e.flags|=1,tt=Pg(st,rt),tt.ref=_e.ref,tt.return=_e,_e.child=tt}function bj(tt,_e,nt,rt,it){if(tt!==null){var st=tt.memoizedProps;if(Ie(st,rt)&&tt.ref===_e.ref)if(dh=!1,_e.pendingProps=rt=st,(tt.lanes&it)!==0)tt.flags&131072&&(dh=!0);else return _e.lanes=tt.lanes,Zi(tt,_e,it)}return cj(tt,_e,nt,rt,it)}function dj(tt,_e,nt){var rt=_e.pendingProps,it=rt.children,st=tt!==null?tt.memoizedState:null;if(rt.mode==="hidden")if(!(_e.mode&1))_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(ej,fj),fj|=nt;else{if(!(nt&1073741824))return tt=st!==null?st.baseLanes|nt:nt,_e.lanes=_e.childLanes=1073741824,_e.memoizedState={baseLanes:tt,cachePool:null,transitions:null},_e.updateQueue=null,G$1(ej,fj),fj|=tt,null;_e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt=st!==null?st.baseLanes:nt,G$1(ej,fj),fj|=rt}else st!==null?(rt=st.baseLanes|nt,_e.memoizedState=null):rt=nt,G$1(ej,fj),fj|=rt;return Xi(tt,_e,it,nt),_e.child}function gj(tt,_e){var nt=_e.ref;(tt===null&&nt!==null||tt!==null&&tt.ref!==nt)&&(_e.flags|=512,_e.flags|=2097152)}function cj(tt,_e,nt,rt,it){var st=Zf(nt)?Xf:H$1.current;return st=Yf(_e,st),ch(_e,it),nt=Nh(tt,_e,nt,rt,st,it),rt=Sh(),tt!==null&&!dh?(_e.updateQueue=tt.updateQueue,_e.flags&=-2053,tt.lanes&=~it,Zi(tt,_e,it)):(I$3&&rt&&vg(_e),_e.flags|=1,Xi(tt,_e,nt,it),_e.child)}function hj(tt,_e,nt,rt,it){if(Zf(nt)){var st=!0;cg(_e)}else st=!1;if(ch(_e,it),_e.stateNode===null)ij(tt,_e),Gi(_e,nt,rt),Ii(_e,nt,rt,it),rt=!0;else if(tt===null){var at=_e.stateNode,ot=_e.memoizedProps;at.props=ot;var lt=at.context,ct=nt.contextType;typeof ct=="object"&&ct!==null?ct=eh(ct):(ct=Zf(nt)?Xf:H$1.current,ct=Yf(_e,ct));var ut=nt.getDerivedStateFromProps,ft=typeof ut=="function"||typeof at.getSnapshotBeforeUpdate=="function";ft||typeof at.UNSAFE_componentWillReceiveProps!="function"&&typeof at.componentWillReceiveProps!="function"||(ot!==rt||lt!==ct)&&Hi(_e,at,rt,ct),jh=!1;var ht=_e.memoizedState;at.state=ht,qh(_e,rt,at,it),lt=_e.memoizedState,ot!==rt||ht!==lt||Wf.current||jh?(typeof ut=="function"&&(Di(_e,nt,ut,rt),lt=_e.memoizedState),(ot=jh||Fi(_e,nt,ot,rt,ht,lt,ct))?(ft||typeof at.UNSAFE_componentWillMount!="function"&&typeof at.componentWillMount!="function"||(typeof at.componentWillMount=="function"&&at.componentWillMount(),typeof at.UNSAFE_componentWillMount=="function"&&at.UNSAFE_componentWillMount()),typeof at.componentDidMount=="function"&&(_e.flags|=4194308)):(typeof at.componentDidMount=="function"&&(_e.flags|=4194308),_e.memoizedProps=rt,_e.memoizedState=lt),at.props=rt,at.state=lt,at.context=ct,rt=ot):(typeof at.componentDidMount=="function"&&(_e.flags|=4194308),rt=!1)}else{at=_e.stateNode,lh(tt,_e),ot=_e.memoizedProps,ct=_e.type===_e.elementType?ot:Ci(_e.type,ot),at.props=ct,ft=_e.pendingProps,ht=at.context,lt=nt.contextType,typeof lt=="object"&&lt!==null?lt=eh(lt):(lt=Zf(nt)?Xf:H$1.current,lt=Yf(_e,lt));var pt=nt.getDerivedStateFromProps;(ut=typeof pt=="function"||typeof at.getSnapshotBeforeUpdate=="function")||typeof at.UNSAFE_componentWillReceiveProps!="function"&&typeof at.componentWillReceiveProps!="function"||(ot!==ft||ht!==lt)&&Hi(_e,at,rt,lt),jh=!1,ht=_e.memoizedState,at.state=ht,qh(_e,rt,at,it);var dt=_e.memoizedState;ot!==ft||ht!==dt||Wf.current||jh?(typeof pt=="function"&&(Di(_e,nt,pt,rt),dt=_e.memoizedState),(ct=jh||Fi(_e,nt,ct,rt,ht,dt,lt)||!1)?(ut||typeof at.UNSAFE_componentWillUpdate!="function"&&typeof at.componentWillUpdate!="function"||(typeof at.componentWillUpdate=="function"&&at.componentWillUpdate(rt,dt,lt),typeof at.UNSAFE_componentWillUpdate=="function"&&at.UNSAFE_componentWillUpdate(rt,dt,lt)),typeof at.componentDidUpdate=="function"&&(_e.flags|=4),typeof at.getSnapshotBeforeUpdate=="function"&&(_e.flags|=1024)):(typeof at.componentDidUpdate!="function"||ot===tt.memoizedProps&&ht===tt.memoizedState||(_e.flags|=4),typeof at.getSnapshotBeforeUpdate!="function"||ot===tt.memoizedProps&&ht===tt.memoizedState||(_e.flags|=1024),_e.memoizedProps=rt,_e.memoizedState=dt),at.props=rt,at.state=dt,at.context=lt,rt=ct):(typeof at.componentDidUpdate!="function"||ot===tt.memoizedProps&&ht===tt.memoizedState||(_e.flags|=4),typeof at.getSnapshotBeforeUpdate!="function"||ot===tt.memoizedProps&&ht===tt.memoizedState||(_e.flags|=1024),rt=!1)}return jj(tt,_e,nt,rt,st,it)}function jj(tt,_e,nt,rt,it,st){gj(tt,_e);var at=(_e.flags&128)!==0;if(!rt&&!at)return it&&dg(_e,nt,!1),Zi(tt,_e,st);rt=_e.stateNode,Wi.current=_e;var ot=at&&typeof nt.getDerivedStateFromError!="function"?null:rt.render();return _e.flags|=1,tt!==null&&at?(_e.child=Ug(_e,tt.child,null,st),_e.child=Ug(_e,null,ot,st)):Xi(tt,_e,ot,st),_e.memoizedState=rt.state,it&&dg(_e,nt,!0),_e.child}function kj(tt){var _e=tt.stateNode;_e.pendingContext?ag(tt,_e.pendingContext,_e.pendingContext!==_e.context):_e.context&&ag(tt,_e.context,!1),yh(tt,_e.containerInfo)}function lj(tt,_e,nt,rt,it){return Ig(),Jg(it),_e.flags|=256,Xi(tt,_e,nt,rt),_e.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(tt){return{baseLanes:tt,cachePool:null,transitions:null}}function oj(tt,_e,nt){var rt=_e.pendingProps,it=L$2.current,st=!1,at=(_e.flags&128)!==0,ot;if((ot=at)||(ot=tt!==null&&tt.memoizedState===null?!1:(it&2)!==0),ot?(st=!0,_e.flags&=-129):(tt===null||tt.memoizedState!==null)&&(it|=1),G$1(L$2,it&1),tt===null)return Eg(_e),tt=_e.memoizedState,tt!==null&&(tt=tt.dehydrated,tt!==null)?(_e.mode&1?tt.data==="$!"?_e.lanes=8:_e.lanes=1073741824:_e.lanes=1,null):(at=rt.children,tt=rt.fallback,st?(rt=_e.mode,st=_e.child,at={mode:"hidden",children:at},!(rt&1)&&st!==null?(st.childLanes=0,st.pendingProps=at):st=pj(at,rt,0,null),tt=Tg(tt,rt,nt,null),st.return=_e,tt.return=_e,st.sibling=tt,_e.child=st,_e.child.memoizedState=nj(nt),_e.memoizedState=mj,tt):qj(_e,at));if(it=tt.memoizedState,it!==null&&(ot=it.dehydrated,ot!==null))return rj(tt,_e,at,rt,ot,it,nt);if(st){st=rt.fallback,at=_e.mode,it=tt.child,ot=it.sibling;var lt={mode:"hidden",children:rt.children};return!(at&1)&&_e.child!==it?(rt=_e.child,rt.childLanes=0,rt.pendingProps=lt,_e.deletions=null):(rt=Pg(it,lt),rt.subtreeFlags=it.subtreeFlags&14680064),ot!==null?st=Pg(ot,st):(st=Tg(st,at,nt,null),st.flags|=2),st.return=_e,rt.return=_e,rt.sibling=st,_e.child=rt,rt=st,st=_e.child,at=tt.child.memoizedState,at=at===null?nj(nt):{baseLanes:at.baseLanes|nt,cachePool:null,transitions:at.transitions},st.memoizedState=at,st.childLanes=tt.childLanes&~nt,_e.memoizedState=mj,rt}return st=tt.child,tt=st.sibling,rt=Pg(st,{mode:"visible",children:rt.children}),!(_e.mode&1)&&(rt.lanes=nt),rt.return=_e,rt.sibling=null,tt!==null&&(nt=_e.deletions,nt===null?(_e.deletions=[tt],_e.flags|=16):nt.push(tt)),_e.child=rt,_e.memoizedState=null,rt}function qj(tt,_e){return _e=pj({mode:"visible",children:_e},tt.mode,0,null),_e.return=tt,tt.child=_e}function sj(tt,_e,nt,rt){return rt!==null&&Jg(rt),Ug(_e,tt.child,null,nt),tt=qj(_e,_e.pendingProps.children),tt.flags|=2,_e.memoizedState=null,tt}function rj(tt,_e,nt,rt,it,st,at){if(nt)return _e.flags&256?(_e.flags&=-257,rt=Ki(Error(p$2(422))),sj(tt,_e,at,rt)):_e.memoizedState!==null?(_e.child=tt.child,_e.flags|=128,null):(st=rt.fallback,it=_e.mode,rt=pj({mode:"visible",children:rt.children},it,0,null),st=Tg(st,it,at,null),st.flags|=2,rt.return=_e,st.return=_e,rt.sibling=st,_e.child=rt,_e.mode&1&&Ug(_e,tt.child,null,at),_e.child.memoizedState=nj(at),_e.memoizedState=mj,st);if(!(_e.mode&1))return sj(tt,_e,at,null);if(it.data==="$!"){if(rt=it.nextSibling&&it.nextSibling.dataset,rt)var ot=rt.dgst;return rt=ot,st=Error(p$2(419)),rt=Ki(st,rt,void 0),sj(tt,_e,at,rt)}if(ot=(at&tt.childLanes)!==0,dh||ot){if(rt=Q,rt!==null){switch(at&-at){case 4:it=2;break;case 16:it=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:it=32;break;case 536870912:it=268435456;break;default:it=0}it=it&(rt.suspendedLanes|at)?0:it,it!==0&&it!==st.retryLane&&(st.retryLane=it,ih(tt,it),gi(rt,tt,it,-1))}return tj(),rt=Ki(Error(p$2(421))),sj(tt,_e,at,rt)}return it.data==="$?"?(_e.flags|=128,_e.child=tt.child,_e=uj.bind(null,tt),it._reactRetry=_e,null):(tt=st.treeContext,yg=Lf(it.nextSibling),xg=_e,I$3=!0,zg=null,tt!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=tt.id,sg=tt.overflow,qg=_e),_e=qj(_e,rt.children),_e.flags|=4096,_e)}function vj(tt,_e,nt){tt.lanes|=_e;var rt=tt.alternate;rt!==null&&(rt.lanes|=_e),bh(tt.return,_e,nt)}function wj(tt,_e,nt,rt,it){var st=tt.memoizedState;st===null?tt.memoizedState={isBackwards:_e,rendering:null,renderingStartTime:0,last:rt,tail:nt,tailMode:it}:(st.isBackwards=_e,st.rendering=null,st.renderingStartTime=0,st.last=rt,st.tail=nt,st.tailMode=it)}function xj(tt,_e,nt){var rt=_e.pendingProps,it=rt.revealOrder,st=rt.tail;if(Xi(tt,_e,rt.children,nt),rt=L$2.current,rt&2)rt=rt&1|2,_e.flags|=128;else{if(tt!==null&&tt.flags&128)e:for(tt=_e.child;tt!==null;){if(tt.tag===13)tt.memoizedState!==null&&vj(tt,nt,_e);else if(tt.tag===19)vj(tt,nt,_e);else if(tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===_e)break e;for(;tt.sibling===null;){if(tt.return===null||tt.return===_e)break e;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}rt&=1}if(G$1(L$2,rt),!(_e.mode&1))_e.memoizedState=null;else switch(it){case"forwards":for(nt=_e.child,it=null;nt!==null;)tt=nt.alternate,tt!==null&&Ch(tt)===null&&(it=nt),nt=nt.sibling;nt=it,nt===null?(it=_e.child,_e.child=null):(it=nt.sibling,nt.sibling=null),wj(_e,!1,it,nt,st);break;case"backwards":for(nt=null,it=_e.child,_e.child=null;it!==null;){if(tt=it.alternate,tt!==null&&Ch(tt)===null){_e.child=it;break}tt=it.sibling,it.sibling=nt,nt=it,it=tt}wj(_e,!0,nt,null,st);break;case"together":wj(_e,!1,null,null,void 0);break;default:_e.memoizedState=null}return _e.child}function ij(tt,_e){!(_e.mode&1)&&tt!==null&&(tt.alternate=null,_e.alternate=null,_e.flags|=2)}function Zi(tt,_e,nt){if(tt!==null&&(_e.dependencies=tt.dependencies),rh|=_e.lanes,!(nt&_e.childLanes))return null;if(tt!==null&&_e.child!==tt.child)throw Error(p$2(153));if(_e.child!==null){for(tt=_e.child,nt=Pg(tt,tt.pendingProps),_e.child=nt,nt.return=_e;tt.sibling!==null;)tt=tt.sibling,nt=nt.sibling=Pg(tt,tt.pendingProps),nt.return=_e;nt.sibling=null}return _e.child}function yj(tt,_e,nt){switch(_e.tag){case 3:kj(_e),Ig();break;case 5:Ah(_e);break;case 1:Zf(_e.type)&&cg(_e);break;case 4:yh(_e,_e.stateNode.containerInfo);break;case 10:var rt=_e.type._context,it=_e.memoizedProps.value;G$1(Wg,rt._currentValue),rt._currentValue=it;break;case 13:if(rt=_e.memoizedState,rt!==null)return rt.dehydrated!==null?(G$1(L$2,L$2.current&1),_e.flags|=128,null):nt&_e.child.childLanes?oj(tt,_e,nt):(G$1(L$2,L$2.current&1),tt=Zi(tt,_e,nt),tt!==null?tt.sibling:null);G$1(L$2,L$2.current&1);break;case 19:if(rt=(nt&_e.childLanes)!==0,tt.flags&128){if(rt)return xj(tt,_e,nt);_e.flags|=128}if(it=_e.memoizedState,it!==null&&(it.rendering=null,it.tail=null,it.lastEffect=null),G$1(L$2,L$2.current),rt)break;return null;case 22:case 23:return _e.lanes=0,dj(tt,_e,nt)}return Zi(tt,_e,nt)}var zj,Aj,Bj,Cj;zj=function(tt,_e){for(var nt=_e.child;nt!==null;){if(nt.tag===5||nt.tag===6)tt.appendChild(nt.stateNode);else if(nt.tag!==4&&nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===_e)break;for(;nt.sibling===null;){if(nt.return===null||nt.return===_e)return;nt=nt.return}nt.sibling.return=nt.return,nt=nt.sibling}};Aj=function(){};Bj=function(tt,_e,nt,rt){var it=tt.memoizedProps;if(it!==rt){tt=_e.stateNode,xh(uh.current);var st=null;switch(nt){case"input":it=Ya(tt,it),rt=Ya(tt,rt),st=[];break;case"select":it=A$1({},it,{value:void 0}),rt=A$1({},rt,{value:void 0}),st=[];break;case"textarea":it=gb(tt,it),rt=gb(tt,rt),st=[];break;default:typeof it.onClick!="function"&&typeof rt.onClick=="function"&&(tt.onclick=Bf)}ub(nt,rt);var at;nt=null;for(ct in it)if(!rt.hasOwnProperty(ct)&&it.hasOwnProperty(ct)&&it[ct]!=null)if(ct==="style"){var ot=it[ct];for(at in ot)ot.hasOwnProperty(at)&&(nt||(nt={}),nt[at]="")}else ct!=="dangerouslySetInnerHTML"&&ct!=="children"&&ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&ct!=="autoFocus"&&(ea.hasOwnProperty(ct)?st||(st=[]):(st=st||[]).push(ct,null));for(ct in rt){var lt=rt[ct];if(ot=it!=null?it[ct]:void 0,rt.hasOwnProperty(ct)&&lt!==ot&&(lt!=null||ot!=null))if(ct==="style")if(ot){for(at in ot)!ot.hasOwnProperty(at)||lt&&lt.hasOwnProperty(at)||(nt||(nt={}),nt[at]="");for(at in lt)lt.hasOwnProperty(at)&&ot[at]!==lt[at]&&(nt||(nt={}),nt[at]=lt[at])}else nt||(st||(st=[]),st.push(ct,nt)),nt=lt;else ct==="dangerouslySetInnerHTML"?(lt=lt?lt.__html:void 0,ot=ot?ot.__html:void 0,lt!=null&&ot!==lt&&(st=st||[]).push(ct,lt)):ct==="children"?typeof lt!="string"&&typeof lt!="number"||(st=st||[]).push(ct,""+lt):ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ct)?(lt!=null&&ct==="onScroll"&&D$1("scroll",tt),st||ot===lt||(st=[])):(st=st||[]).push(ct,lt))}nt&&(st=st||[]).push("style",nt);var ct=st;(_e.updateQueue=ct)&&(_e.flags|=4)}};Cj=function(tt,_e,nt,rt){nt!==rt&&(_e.flags|=4)};function Dj(tt,_e){if(!I$3)switch(tt.tailMode){case"hidden":_e=tt.tail;for(var nt=null;_e!==null;)_e.alternate!==null&&(nt=_e),_e=_e.sibling;nt===null?tt.tail=null:nt.sibling=null;break;case"collapsed":nt=tt.tail;for(var rt=null;nt!==null;)nt.alternate!==null&&(rt=nt),nt=nt.sibling;rt===null?_e||tt.tail===null?tt.tail=null:tt.tail.sibling=null:rt.sibling=null}}function S$3(tt){var _e=tt.alternate!==null&&tt.alternate.child===tt.child,nt=0,rt=0;if(_e)for(var it=tt.child;it!==null;)nt|=it.lanes|it.childLanes,rt|=it.subtreeFlags&14680064,rt|=it.flags&14680064,it.return=tt,it=it.sibling;else for(it=tt.child;it!==null;)nt|=it.lanes|it.childLanes,rt|=it.subtreeFlags,rt|=it.flags,it.return=tt,it=it.sibling;return tt.subtreeFlags|=rt,tt.childLanes=nt,_e}function Ej(tt,_e,nt){var rt=_e.pendingProps;switch(wg(_e),_e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$3(_e),null;case 1:return Zf(_e.type)&&$f(),S$3(_e),null;case 3:return rt=_e.stateNode,zh(),E$3(Wf),E$3(H$1),Eh(),rt.pendingContext&&(rt.context=rt.pendingContext,rt.pendingContext=null),(tt===null||tt.child===null)&&(Gg(_e)?_e.flags|=4:tt===null||tt.memoizedState.isDehydrated&&!(_e.flags&256)||(_e.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(tt,_e),S$3(_e),null;case 5:Bh(_e);var it=xh(wh.current);if(nt=_e.type,tt!==null&&_e.stateNode!=null)Bj(tt,_e,nt,rt,it),tt.ref!==_e.ref&&(_e.flags|=512,_e.flags|=2097152);else{if(!rt){if(_e.stateNode===null)throw Error(p$2(166));return S$3(_e),null}if(tt=xh(uh.current),Gg(_e)){rt=_e.stateNode,nt=_e.type;var st=_e.memoizedProps;switch(rt[Of]=_e,rt[Pf]=st,tt=(_e.mode&1)!==0,nt){case"dialog":D$1("cancel",rt),D$1("close",rt);break;case"iframe":case"object":case"embed":D$1("load",rt);break;case"video":case"audio":for(it=0;it<lf.length;it++)D$1(lf[it],rt);break;case"source":D$1("error",rt);break;case"img":case"image":case"link":D$1("error",rt),D$1("load",rt);break;case"details":D$1("toggle",rt);break;case"input":Za(rt,st),D$1("invalid",rt);break;case"select":rt._wrapperState={wasMultiple:!!st.multiple},D$1("invalid",rt);break;case"textarea":hb(rt,st),D$1("invalid",rt)}ub(nt,st),it=null;for(var at in st)if(st.hasOwnProperty(at)){var ot=st[at];at==="children"?typeof ot=="string"?rt.textContent!==ot&&(st.suppressHydrationWarning!==!0&&Af(rt.textContent,ot,tt),it=["children",ot]):typeof ot=="number"&&rt.textContent!==""+ot&&(st.suppressHydrationWarning!==!0&&Af(rt.textContent,ot,tt),it=["children",""+ot]):ea.hasOwnProperty(at)&&ot!=null&&at==="onScroll"&&D$1("scroll",rt)}switch(nt){case"input":Va(rt),db(rt,st,!0);break;case"textarea":Va(rt),jb(rt);break;case"select":case"option":break;default:typeof st.onClick=="function"&&(rt.onclick=Bf)}rt=it,_e.updateQueue=rt,rt!==null&&(_e.flags|=4)}else{at=it.nodeType===9?it:it.ownerDocument,tt==="http://www.w3.org/1999/xhtml"&&(tt=kb(nt)),tt==="http://www.w3.org/1999/xhtml"?nt==="script"?(tt=at.createElement("div"),tt.innerHTML="<script><\/script>",tt=tt.removeChild(tt.firstChild)):typeof rt.is=="string"?tt=at.createElement(nt,{is:rt.is}):(tt=at.createElement(nt),nt==="select"&&(at=tt,rt.multiple?at.multiple=!0:rt.size&&(at.size=rt.size))):tt=at.createElementNS(tt,nt),tt[Of]=_e,tt[Pf]=rt,zj(tt,_e,!1,!1),_e.stateNode=tt;e:{switch(at=vb(nt,rt),nt){case"dialog":D$1("cancel",tt),D$1("close",tt),it=rt;break;case"iframe":case"object":case"embed":D$1("load",tt),it=rt;break;case"video":case"audio":for(it=0;it<lf.length;it++)D$1(lf[it],tt);it=rt;break;case"source":D$1("error",tt),it=rt;break;case"img":case"image":case"link":D$1("error",tt),D$1("load",tt),it=rt;break;case"details":D$1("toggle",tt),it=rt;break;case"input":Za(tt,rt),it=Ya(tt,rt),D$1("invalid",tt);break;case"option":it=rt;break;case"select":tt._wrapperState={wasMultiple:!!rt.multiple},it=A$1({},rt,{value:void 0}),D$1("invalid",tt);break;case"textarea":hb(tt,rt),it=gb(tt,rt),D$1("invalid",tt);break;default:it=rt}ub(nt,it),ot=it;for(st in ot)if(ot.hasOwnProperty(st)){var lt=ot[st];st==="style"?sb(tt,lt):st==="dangerouslySetInnerHTML"?(lt=lt?lt.__html:void 0,lt!=null&&nb(tt,lt)):st==="children"?typeof lt=="string"?(nt!=="textarea"||lt!=="")&&ob(tt,lt):typeof lt=="number"&&ob(tt,""+lt):st!=="suppressContentEditableWarning"&&st!=="suppressHydrationWarning"&&st!=="autoFocus"&&(ea.hasOwnProperty(st)?lt!=null&&st==="onScroll"&&D$1("scroll",tt):lt!=null&&ta(tt,st,lt,at))}switch(nt){case"input":Va(tt),db(tt,rt,!1);break;case"textarea":Va(tt),jb(tt);break;case"option":rt.value!=null&&tt.setAttribute("value",""+Sa(rt.value));break;case"select":tt.multiple=!!rt.multiple,st=rt.value,st!=null?fb(tt,!!rt.multiple,st,!1):rt.defaultValue!=null&&fb(tt,!!rt.multiple,rt.defaultValue,!0);break;default:typeof it.onClick=="function"&&(tt.onclick=Bf)}switch(nt){case"button":case"input":case"select":case"textarea":rt=!!rt.autoFocus;break e;case"img":rt=!0;break e;default:rt=!1}}rt&&(_e.flags|=4)}_e.ref!==null&&(_e.flags|=512,_e.flags|=2097152)}return S$3(_e),null;case 6:if(tt&&_e.stateNode!=null)Cj(tt,_e,tt.memoizedProps,rt);else{if(typeof rt!="string"&&_e.stateNode===null)throw Error(p$2(166));if(nt=xh(wh.current),xh(uh.current),Gg(_e)){if(rt=_e.stateNode,nt=_e.memoizedProps,rt[Of]=_e,(st=rt.nodeValue!==nt)&&(tt=xg,tt!==null))switch(tt.tag){case 3:Af(rt.nodeValue,nt,(tt.mode&1)!==0);break;case 5:tt.memoizedProps.suppressHydrationWarning!==!0&&Af(rt.nodeValue,nt,(tt.mode&1)!==0)}st&&(_e.flags|=4)}else rt=(nt.nodeType===9?nt:nt.ownerDocument).createTextNode(rt),rt[Of]=_e,_e.stateNode=rt}return S$3(_e),null;case 13:if(E$3(L$2),rt=_e.memoizedState,tt===null||tt.memoizedState!==null&&tt.memoizedState.dehydrated!==null){if(I$3&&yg!==null&&_e.mode&1&&!(_e.flags&128))Hg(),Ig(),_e.flags|=98560,st=!1;else if(st=Gg(_e),rt!==null&&rt.dehydrated!==null){if(tt===null){if(!st)throw Error(p$2(318));if(st=_e.memoizedState,st=st!==null?st.dehydrated:null,!st)throw Error(p$2(317));st[Of]=_e}else Ig(),!(_e.flags&128)&&(_e.memoizedState=null),_e.flags|=4;S$3(_e),st=!1}else zg!==null&&(Fj(zg),zg=null),st=!0;if(!st)return _e.flags&65536?_e:null}return _e.flags&128?(_e.lanes=nt,_e):(rt=rt!==null,rt!==(tt!==null&&tt.memoizedState!==null)&&rt&&(_e.child.flags|=8192,_e.mode&1&&(tt===null||L$2.current&1?T$1===0&&(T$1=3):tj())),_e.updateQueue!==null&&(_e.flags|=4),S$3(_e),null);case 4:return zh(),Aj(tt,_e),tt===null&&sf(_e.stateNode.containerInfo),S$3(_e),null;case 10:return ah(_e.type._context),S$3(_e),null;case 17:return Zf(_e.type)&&$f(),S$3(_e),null;case 19:if(E$3(L$2),st=_e.memoizedState,st===null)return S$3(_e),null;if(rt=(_e.flags&128)!==0,at=st.rendering,at===null)if(rt)Dj(st,!1);else{if(T$1!==0||tt!==null&&tt.flags&128)for(tt=_e.child;tt!==null;){if(at=Ch(tt),at!==null){for(_e.flags|=128,Dj(st,!1),rt=at.updateQueue,rt!==null&&(_e.updateQueue=rt,_e.flags|=4),_e.subtreeFlags=0,rt=nt,nt=_e.child;nt!==null;)st=nt,tt=rt,st.flags&=14680066,at=st.alternate,at===null?(st.childLanes=0,st.lanes=tt,st.child=null,st.subtreeFlags=0,st.memoizedProps=null,st.memoizedState=null,st.updateQueue=null,st.dependencies=null,st.stateNode=null):(st.childLanes=at.childLanes,st.lanes=at.lanes,st.child=at.child,st.subtreeFlags=0,st.deletions=null,st.memoizedProps=at.memoizedProps,st.memoizedState=at.memoizedState,st.updateQueue=at.updateQueue,st.type=at.type,tt=at.dependencies,st.dependencies=tt===null?null:{lanes:tt.lanes,firstContext:tt.firstContext}),nt=nt.sibling;return G$1(L$2,L$2.current&1|2),_e.child}tt=tt.sibling}st.tail!==null&&B$1()>Gj&&(_e.flags|=128,rt=!0,Dj(st,!1),_e.lanes=4194304)}else{if(!rt)if(tt=Ch(at),tt!==null){if(_e.flags|=128,rt=!0,nt=tt.updateQueue,nt!==null&&(_e.updateQueue=nt,_e.flags|=4),Dj(st,!0),st.tail===null&&st.tailMode==="hidden"&&!at.alternate&&!I$3)return S$3(_e),null}else 2*B$1()-st.renderingStartTime>Gj&&nt!==1073741824&&(_e.flags|=128,rt=!0,Dj(st,!1),_e.lanes=4194304);st.isBackwards?(at.sibling=_e.child,_e.child=at):(nt=st.last,nt!==null?nt.sibling=at:_e.child=at,st.last=at)}return st.tail!==null?(_e=st.tail,st.rendering=_e,st.tail=_e.sibling,st.renderingStartTime=B$1(),_e.sibling=null,nt=L$2.current,G$1(L$2,rt?nt&1|2:nt&1),_e):(S$3(_e),null);case 22:case 23:return Hj(),rt=_e.memoizedState!==null,tt!==null&&tt.memoizedState!==null!==rt&&(_e.flags|=8192),rt&&_e.mode&1?fj&1073741824&&(S$3(_e),_e.subtreeFlags&6&&(_e.flags|=8192)):S$3(_e),null;case 24:return null;case 25:return null}throw Error(p$2(156,_e.tag))}function Ij(tt,_e){switch(wg(_e),_e.tag){case 1:return Zf(_e.type)&&$f(),tt=_e.flags,tt&65536?(_e.flags=tt&-65537|128,_e):null;case 3:return zh(),E$3(Wf),E$3(H$1),Eh(),tt=_e.flags,tt&65536&&!(tt&128)?(_e.flags=tt&-65537|128,_e):null;case 5:return Bh(_e),null;case 13:if(E$3(L$2),tt=_e.memoizedState,tt!==null&&tt.dehydrated!==null){if(_e.alternate===null)throw Error(p$2(340));Ig()}return tt=_e.flags,tt&65536?(_e.flags=tt&-65537|128,_e):null;case 19:return E$3(L$2),null;case 4:return zh(),null;case 10:return ah(_e.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(tt,_e){var nt=tt.ref;if(nt!==null)if(typeof nt=="function")try{nt(null)}catch(rt){W$2(tt,_e,rt)}else nt.current=null}function Mj(tt,_e,nt){try{nt()}catch(rt){W$2(tt,_e,rt)}}var Nj=!1;function Oj(tt,_e){if(Cf=dd,tt=Me$1(),Ne(tt)){if("selectionStart"in tt)var nt={start:tt.selectionStart,end:tt.selectionEnd};else e:{nt=(nt=tt.ownerDocument)&&nt.defaultView||window;var rt=nt.getSelection&&nt.getSelection();if(rt&&rt.rangeCount!==0){nt=rt.anchorNode;var it=rt.anchorOffset,st=rt.focusNode;rt=rt.focusOffset;try{nt.nodeType,st.nodeType}catch{nt=null;break e}var at=0,ot=-1,lt=-1,ct=0,ut=0,ft=tt,ht=null;t:for(;;){for(var pt;ft!==nt||it!==0&&ft.nodeType!==3||(ot=at+it),ft!==st||rt!==0&&ft.nodeType!==3||(lt=at+rt),ft.nodeType===3&&(at+=ft.nodeValue.length),(pt=ft.firstChild)!==null;)ht=ft,ft=pt;for(;;){if(ft===tt)break t;if(ht===nt&&++ct===it&&(ot=at),ht===st&&++ut===rt&&(lt=at),(pt=ft.nextSibling)!==null)break;ft=ht,ht=ft.parentNode}ft=pt}nt=ot===-1||lt===-1?null:{start:ot,end:lt}}else nt=null}nt=nt||{start:0,end:0}}else nt=null;for(Df={focusedElem:tt,selectionRange:nt},dd=!1,V$1=_e;V$1!==null;)if(_e=V$1,tt=_e.child,(_e.subtreeFlags&1028)!==0&&tt!==null)tt.return=_e,V$1=tt;else for(;V$1!==null;){_e=V$1;try{var dt=_e.alternate;if(_e.flags&1024)switch(_e.tag){case 0:case 11:case 15:break;case 1:if(dt!==null){var gt=dt.memoizedProps,vt=dt.memoizedState,mt=_e.stateNode,xt=mt.getSnapshotBeforeUpdate(_e.elementType===_e.type?gt:Ci(_e.type,gt),vt);mt.__reactInternalSnapshotBeforeUpdate=xt}break;case 3:var St=_e.stateNode.containerInfo;St.nodeType===1?St.textContent="":St.nodeType===9&&St.documentElement&&St.removeChild(St.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(Et){W$2(_e,_e.return,Et)}if(tt=_e.sibling,tt!==null){tt.return=_e.return,V$1=tt;break}V$1=_e.return}return dt=Nj,Nj=!1,dt}function Pj(tt,_e,nt){var rt=_e.updateQueue;if(rt=rt!==null?rt.lastEffect:null,rt!==null){var it=rt=rt.next;do{if((it.tag&tt)===tt){var st=it.destroy;it.destroy=void 0,st!==void 0&&Mj(_e,nt,st)}it=it.next}while(it!==rt)}}function Qj(tt,_e){if(_e=_e.updateQueue,_e=_e!==null?_e.lastEffect:null,_e!==null){var nt=_e=_e.next;do{if((nt.tag&tt)===tt){var rt=nt.create;nt.destroy=rt()}nt=nt.next}while(nt!==_e)}}function Rj(tt){var _e=tt.ref;if(_e!==null){var nt=tt.stateNode;switch(tt.tag){case 5:tt=nt;break;default:tt=nt}typeof _e=="function"?_e(tt):_e.current=tt}}function Sj(tt){var _e=tt.alternate;_e!==null&&(tt.alternate=null,Sj(_e)),tt.child=null,tt.deletions=null,tt.sibling=null,tt.tag===5&&(_e=tt.stateNode,_e!==null&&(delete _e[Of],delete _e[Pf],delete _e[of],delete _e[Qf],delete _e[Rf])),tt.stateNode=null,tt.return=null,tt.dependencies=null,tt.memoizedProps=null,tt.memoizedState=null,tt.pendingProps=null,tt.stateNode=null,tt.updateQueue=null}function Tj(tt){return tt.tag===5||tt.tag===3||tt.tag===4}function Uj(tt){e:for(;;){for(;tt.sibling===null;){if(tt.return===null||Tj(tt.return))return null;tt=tt.return}for(tt.sibling.return=tt.return,tt=tt.sibling;tt.tag!==5&&tt.tag!==6&&tt.tag!==18;){if(tt.flags&2||tt.child===null||tt.tag===4)continue e;tt.child.return=tt,tt=tt.child}if(!(tt.flags&2))return tt.stateNode}}function Vj(tt,_e,nt){var rt=tt.tag;if(rt===5||rt===6)tt=tt.stateNode,_e?nt.nodeType===8?nt.parentNode.insertBefore(tt,_e):nt.insertBefore(tt,_e):(nt.nodeType===8?(_e=nt.parentNode,_e.insertBefore(tt,nt)):(_e=nt,_e.appendChild(tt)),nt=nt._reactRootContainer,nt!=null||_e.onclick!==null||(_e.onclick=Bf));else if(rt!==4&&(tt=tt.child,tt!==null))for(Vj(tt,_e,nt),tt=tt.sibling;tt!==null;)Vj(tt,_e,nt),tt=tt.sibling}function Wj(tt,_e,nt){var rt=tt.tag;if(rt===5||rt===6)tt=tt.stateNode,_e?nt.insertBefore(tt,_e):nt.appendChild(tt);else if(rt!==4&&(tt=tt.child,tt!==null))for(Wj(tt,_e,nt),tt=tt.sibling;tt!==null;)Wj(tt,_e,nt),tt=tt.sibling}var X$2=null,Xj=!1;function Yj(tt,_e,nt){for(nt=nt.child;nt!==null;)Zj(tt,_e,nt),nt=nt.sibling}function Zj(tt,_e,nt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,nt)}catch{}switch(nt.tag){case 5:U$1||Lj(nt,_e);case 6:var rt=X$2,it=Xj;X$2=null,Yj(tt,_e,nt),X$2=rt,Xj=it,X$2!==null&&(Xj?(tt=X$2,nt=nt.stateNode,tt.nodeType===8?tt.parentNode.removeChild(nt):tt.removeChild(nt)):X$2.removeChild(nt.stateNode));break;case 18:X$2!==null&&(Xj?(tt=X$2,nt=nt.stateNode,tt.nodeType===8?Kf(tt.parentNode,nt):tt.nodeType===1&&Kf(tt,nt),bd(tt)):Kf(X$2,nt.stateNode));break;case 4:rt=X$2,it=Xj,X$2=nt.stateNode.containerInfo,Xj=!0,Yj(tt,_e,nt),X$2=rt,Xj=it;break;case 0:case 11:case 14:case 15:if(!U$1&&(rt=nt.updateQueue,rt!==null&&(rt=rt.lastEffect,rt!==null))){it=rt=rt.next;do{var st=it,at=st.destroy;st=st.tag,at!==void 0&&(st&2||st&4)&&Mj(nt,_e,at),it=it.next}while(it!==rt)}Yj(tt,_e,nt);break;case 1:if(!U$1&&(Lj(nt,_e),rt=nt.stateNode,typeof rt.componentWillUnmount=="function"))try{rt.props=nt.memoizedProps,rt.state=nt.memoizedState,rt.componentWillUnmount()}catch(ot){W$2(nt,_e,ot)}Yj(tt,_e,nt);break;case 21:Yj(tt,_e,nt);break;case 22:nt.mode&1?(U$1=(rt=U$1)||nt.memoizedState!==null,Yj(tt,_e,nt),U$1=rt):Yj(tt,_e,nt);break;default:Yj(tt,_e,nt)}}function ak(tt){var _e=tt.updateQueue;if(_e!==null){tt.updateQueue=null;var nt=tt.stateNode;nt===null&&(nt=tt.stateNode=new Kj),_e.forEach(function(rt){var it=bk.bind(null,tt,rt);nt.has(rt)||(nt.add(rt),rt.then(it,it))})}}function ck(tt,_e){var nt=_e.deletions;if(nt!==null)for(var rt=0;rt<nt.length;rt++){var it=nt[rt];try{var st=tt,at=_e,ot=at;e:for(;ot!==null;){switch(ot.tag){case 5:X$2=ot.stateNode,Xj=!1;break e;case 3:X$2=ot.stateNode.containerInfo,Xj=!0;break e;case 4:X$2=ot.stateNode.containerInfo,Xj=!0;break e}ot=ot.return}if(X$2===null)throw Error(p$2(160));Zj(st,at,it),X$2=null,Xj=!1;var lt=it.alternate;lt!==null&&(lt.return=null),it.return=null}catch(ct){W$2(it,_e,ct)}}if(_e.subtreeFlags&12854)for(_e=_e.child;_e!==null;)dk(_e,tt),_e=_e.sibling}function dk(tt,_e){var nt=tt.alternate,rt=tt.flags;switch(tt.tag){case 0:case 11:case 14:case 15:if(ck(_e,tt),ek(tt),rt&4){try{Pj(3,tt,tt.return),Qj(3,tt)}catch(gt){W$2(tt,tt.return,gt)}try{Pj(5,tt,tt.return)}catch(gt){W$2(tt,tt.return,gt)}}break;case 1:ck(_e,tt),ek(tt),rt&512&&nt!==null&&Lj(nt,nt.return);break;case 5:if(ck(_e,tt),ek(tt),rt&512&&nt!==null&&Lj(nt,nt.return),tt.flags&32){var it=tt.stateNode;try{ob(it,"")}catch(gt){W$2(tt,tt.return,gt)}}if(rt&4&&(it=tt.stateNode,it!=null)){var st=tt.memoizedProps,at=nt!==null?nt.memoizedProps:st,ot=tt.type,lt=tt.updateQueue;if(tt.updateQueue=null,lt!==null)try{ot==="input"&&st.type==="radio"&&st.name!=null&&ab(it,st),vb(ot,at);var ct=vb(ot,st);for(at=0;at<lt.length;at+=2){var ut=lt[at],ft=lt[at+1];ut==="style"?sb(it,ft):ut==="dangerouslySetInnerHTML"?nb(it,ft):ut==="children"?ob(it,ft):ta(it,ut,ft,ct)}switch(ot){case"input":bb(it,st);break;case"textarea":ib(it,st);break;case"select":var ht=it._wrapperState.wasMultiple;it._wrapperState.wasMultiple=!!st.multiple;var pt=st.value;pt!=null?fb(it,!!st.multiple,pt,!1):ht!==!!st.multiple&&(st.defaultValue!=null?fb(it,!!st.multiple,st.defaultValue,!0):fb(it,!!st.multiple,st.multiple?[]:"",!1))}it[Pf]=st}catch(gt){W$2(tt,tt.return,gt)}}break;case 6:if(ck(_e,tt),ek(tt),rt&4){if(tt.stateNode===null)throw Error(p$2(162));it=tt.stateNode,st=tt.memoizedProps;try{it.nodeValue=st}catch(gt){W$2(tt,tt.return,gt)}}break;case 3:if(ck(_e,tt),ek(tt),rt&4&&nt!==null&&nt.memoizedState.isDehydrated)try{bd(_e.containerInfo)}catch(gt){W$2(tt,tt.return,gt)}break;case 4:ck(_e,tt),ek(tt);break;case 13:ck(_e,tt),ek(tt),it=tt.child,it.flags&8192&&(st=it.memoizedState!==null,it.stateNode.isHidden=st,!st||it.alternate!==null&&it.alternate.memoizedState!==null||(fk=B$1())),rt&4&&ak(tt);break;case 22:if(ut=nt!==null&&nt.memoizedState!==null,tt.mode&1?(U$1=(ct=U$1)||ut,ck(_e,tt),U$1=ct):ck(_e,tt),ek(tt),rt&8192){if(ct=tt.memoizedState!==null,(tt.stateNode.isHidden=ct)&&!ut&&tt.mode&1)for(V$1=tt,ut=tt.child;ut!==null;){for(ft=V$1=ut;V$1!==null;){switch(ht=V$1,pt=ht.child,ht.tag){case 0:case 11:case 14:case 15:Pj(4,ht,ht.return);break;case 1:Lj(ht,ht.return);var dt=ht.stateNode;if(typeof dt.componentWillUnmount=="function"){rt=ht,nt=ht.return;try{_e=rt,dt.props=_e.memoizedProps,dt.state=_e.memoizedState,dt.componentWillUnmount()}catch(gt){W$2(rt,nt,gt)}}break;case 5:Lj(ht,ht.return);break;case 22:if(ht.memoizedState!==null){gk(ft);continue}}pt!==null?(pt.return=ht,V$1=pt):gk(ft)}ut=ut.sibling}e:for(ut=null,ft=tt;;){if(ft.tag===5){if(ut===null){ut=ft;try{it=ft.stateNode,ct?(st=it.style,typeof st.setProperty=="function"?st.setProperty("display","none","important"):st.display="none"):(ot=ft.stateNode,lt=ft.memoizedProps.style,at=lt!=null&&lt.hasOwnProperty("display")?lt.display:null,ot.style.display=rb("display",at))}catch(gt){W$2(tt,tt.return,gt)}}}else if(ft.tag===6){if(ut===null)try{ft.stateNode.nodeValue=ct?"":ft.memoizedProps}catch(gt){W$2(tt,tt.return,gt)}}else if((ft.tag!==22&&ft.tag!==23||ft.memoizedState===null||ft===tt)&&ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===tt)break e;for(;ft.sibling===null;){if(ft.return===null||ft.return===tt)break e;ut===ft&&(ut=null),ft=ft.return}ut===ft&&(ut=null),ft.sibling.return=ft.return,ft=ft.sibling}}break;case 19:ck(_e,tt),ek(tt),rt&4&&ak(tt);break;case 21:break;default:ck(_e,tt),ek(tt)}}function ek(tt){var _e=tt.flags;if(_e&2){try{e:{for(var nt=tt.return;nt!==null;){if(Tj(nt)){var rt=nt;break e}nt=nt.return}throw Error(p$2(160))}switch(rt.tag){case 5:var it=rt.stateNode;rt.flags&32&&(ob(it,""),rt.flags&=-33);var st=Uj(tt);Wj(tt,st,it);break;case 3:case 4:var at=rt.stateNode.containerInfo,ot=Uj(tt);Vj(tt,ot,at);break;default:throw Error(p$2(161))}}catch(lt){W$2(tt,tt.return,lt)}tt.flags&=-3}_e&4096&&(tt.flags&=-4097)}function hk(tt,_e,nt){V$1=tt,ik(tt)}function ik(tt,_e,nt){for(var rt=(tt.mode&1)!==0;V$1!==null;){var it=V$1,st=it.child;if(it.tag===22&&rt){var at=it.memoizedState!==null||Jj;if(!at){var ot=it.alternate,lt=ot!==null&&ot.memoizedState!==null||U$1;ot=Jj;var ct=U$1;if(Jj=at,(U$1=lt)&&!ct)for(V$1=it;V$1!==null;)at=V$1,lt=at.child,at.tag===22&&at.memoizedState!==null?jk(it):lt!==null?(lt.return=at,V$1=lt):jk(it);for(;st!==null;)V$1=st,ik(st),st=st.sibling;V$1=it,Jj=ot,U$1=ct}kk(tt)}else it.subtreeFlags&8772&&st!==null?(st.return=it,V$1=st):kk(tt)}}function kk(tt){for(;V$1!==null;){var _e=V$1;if(_e.flags&8772){var nt=_e.alternate;try{if(_e.flags&8772)switch(_e.tag){case 0:case 11:case 15:U$1||Qj(5,_e);break;case 1:var rt=_e.stateNode;if(_e.flags&4&&!U$1)if(nt===null)rt.componentDidMount();else{var it=_e.elementType===_e.type?nt.memoizedProps:Ci(_e.type,nt.memoizedProps);rt.componentDidUpdate(it,nt.memoizedState,rt.__reactInternalSnapshotBeforeUpdate)}var st=_e.updateQueue;st!==null&&sh(_e,st,rt);break;case 3:var at=_e.updateQueue;if(at!==null){if(nt=null,_e.child!==null)switch(_e.child.tag){case 5:nt=_e.child.stateNode;break;case 1:nt=_e.child.stateNode}sh(_e,at,nt)}break;case 5:var ot=_e.stateNode;if(nt===null&&_e.flags&4){nt=ot;var lt=_e.memoizedProps;switch(_e.type){case"button":case"input":case"select":case"textarea":lt.autoFocus&&nt.focus();break;case"img":lt.src&&(nt.src=lt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_e.memoizedState===null){var ct=_e.alternate;if(ct!==null){var ut=ct.memoizedState;if(ut!==null){var ft=ut.dehydrated;ft!==null&&bd(ft)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U$1||_e.flags&512&&Rj(_e)}catch(ht){W$2(_e,_e.return,ht)}}if(_e===tt){V$1=null;break}if(nt=_e.sibling,nt!==null){nt.return=_e.return,V$1=nt;break}V$1=_e.return}}function gk(tt){for(;V$1!==null;){var _e=V$1;if(_e===tt){V$1=null;break}var nt=_e.sibling;if(nt!==null){nt.return=_e.return,V$1=nt;break}V$1=_e.return}}function jk(tt){for(;V$1!==null;){var _e=V$1;try{switch(_e.tag){case 0:case 11:case 15:var nt=_e.return;try{Qj(4,_e)}catch(lt){W$2(_e,nt,lt)}break;case 1:var rt=_e.stateNode;if(typeof rt.componentDidMount=="function"){var it=_e.return;try{rt.componentDidMount()}catch(lt){W$2(_e,it,lt)}}var st=_e.return;try{Rj(_e)}catch(lt){W$2(_e,st,lt)}break;case 5:var at=_e.return;try{Rj(_e)}catch(lt){W$2(_e,at,lt)}}}catch(lt){W$2(_e,_e.return,lt)}if(_e===tt){V$1=null;break}var ot=_e.sibling;if(ot!==null){ot.return=_e.return,V$1=ot;break}V$1=_e.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T$1=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(tt){return tt.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(tt=C$1,tt!==0||(tt=window.event,tt=tt===void 0?16:jd(tt.type)),tt):1}function gi(tt,_e,nt,rt){if(50<yk)throw yk=0,zk=null,Error(p$2(185));Ac(tt,nt,rt),(!(K&2)||tt!==Q)&&(tt===Q&&(!(K&2)&&(qk|=nt),T$1===4&&Ck(tt,Z)),Dk(tt,rt),nt===1&&K===0&&!(_e.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(tt,_e){var nt=tt.callbackNode;wc(tt,_e);var rt=uc(tt,tt===Q?Z:0);if(rt===0)nt!==null&&bc(nt),tt.callbackNode=null,tt.callbackPriority=0;else if(_e=rt&-rt,tt.callbackPriority!==_e){if(nt!=null&&bc(nt),_e===1)tt.tag===0?ig(Ek.bind(null,tt)):hg(Ek.bind(null,tt)),Jf(function(){!(K&6)&&jg()}),nt=null;else{switch(Dc(rt)){case 1:nt=fc;break;case 4:nt=gc;break;case 16:nt=hc;break;case 536870912:nt=jc;break;default:nt=hc}nt=Fk(nt,Gk.bind(null,tt))}tt.callbackPriority=_e,tt.callbackNode=nt}}function Gk(tt,_e){if(Ak=-1,Bk=0,K&6)throw Error(p$2(327));var nt=tt.callbackNode;if(Hk()&&tt.callbackNode!==nt)return null;var rt=uc(tt,tt===Q?Z:0);if(rt===0)return null;if(rt&30||rt&tt.expiredLanes||_e)_e=Ik(tt,rt);else{_e=rt;var it=K;K|=2;var st=Jk();(Q!==tt||Z!==_e)&&(uk=null,Gj=B$1()+500,Kk(tt,_e));do try{Lk();break}catch(ot){Mk(tt,ot)}while(!0);$g(),mk.current=st,K=it,Y!==null?_e=0:(Q=null,Z=0,_e=T$1)}if(_e!==0){if(_e===2&&(it=xc(tt),it!==0&&(rt=it,_e=Nk(tt,it))),_e===1)throw nt=pk,Kk(tt,0),Ck(tt,rt),Dk(tt,B$1()),nt;if(_e===6)Ck(tt,rt);else{if(it=tt.current.alternate,!(rt&30)&&!Ok(it)&&(_e=Ik(tt,rt),_e===2&&(st=xc(tt),st!==0&&(rt=st,_e=Nk(tt,st))),_e===1))throw nt=pk,Kk(tt,0),Ck(tt,rt),Dk(tt,B$1()),nt;switch(tt.finishedWork=it,tt.finishedLanes=rt,_e){case 0:case 1:throw Error(p$2(345));case 2:Pk(tt,tk,uk);break;case 3:if(Ck(tt,rt),(rt&130023424)===rt&&(_e=fk+500-B$1(),10<_e)){if(uc(tt,0)!==0)break;if(it=tt.suspendedLanes,(it&rt)!==rt){R(),tt.pingedLanes|=tt.suspendedLanes&it;break}tt.timeoutHandle=Ff(Pk.bind(null,tt,tk,uk),_e);break}Pk(tt,tk,uk);break;case 4:if(Ck(tt,rt),(rt&4194240)===rt)break;for(_e=tt.eventTimes,it=-1;0<rt;){var at=31-oc(rt);st=1<<at,at=_e[at],at>it&&(it=at),rt&=~st}if(rt=it,rt=B$1()-rt,rt=(120>rt?120:480>rt?480:1080>rt?1080:1920>rt?1920:3e3>rt?3e3:4320>rt?4320:1960*lk(rt/1960))-rt,10<rt){tt.timeoutHandle=Ff(Pk.bind(null,tt,tk,uk),rt);break}Pk(tt,tk,uk);break;case 5:Pk(tt,tk,uk);break;default:throw Error(p$2(329))}}}return Dk(tt,B$1()),tt.callbackNode===nt?Gk.bind(null,tt):null}function Nk(tt,_e){var nt=sk;return tt.current.memoizedState.isDehydrated&&(Kk(tt,_e).flags|=256),tt=Ik(tt,_e),tt!==2&&(_e=tk,tk=nt,_e!==null&&Fj(_e)),tt}function Fj(tt){tk===null?tk=tt:tk.push.apply(tk,tt)}function Ok(tt){for(var _e=tt;;){if(_e.flags&16384){var nt=_e.updateQueue;if(nt!==null&&(nt=nt.stores,nt!==null))for(var rt=0;rt<nt.length;rt++){var it=nt[rt],st=it.getSnapshot;it=it.value;try{if(!He(st(),it))return!1}catch{return!1}}}if(nt=_e.child,_e.subtreeFlags&16384&&nt!==null)nt.return=_e,_e=nt;else{if(_e===tt)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===tt)return!0;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}}return!0}function Ck(tt,_e){for(_e&=~rk,_e&=~qk,tt.suspendedLanes|=_e,tt.pingedLanes&=~_e,tt=tt.expirationTimes;0<_e;){var nt=31-oc(_e),rt=1<<nt;tt[nt]=-1,_e&=~rt}}function Ek(tt){if(K&6)throw Error(p$2(327));Hk();var _e=uc(tt,0);if(!(_e&1))return Dk(tt,B$1()),null;var nt=Ik(tt,_e);if(tt.tag!==0&&nt===2){var rt=xc(tt);rt!==0&&(_e=rt,nt=Nk(tt,rt))}if(nt===1)throw nt=pk,Kk(tt,0),Ck(tt,_e),Dk(tt,B$1()),nt;if(nt===6)throw Error(p$2(345));return tt.finishedWork=tt.current.alternate,tt.finishedLanes=_e,Pk(tt,tk,uk),Dk(tt,B$1()),null}function Qk(tt,_e){var nt=K;K|=1;try{return tt(_e)}finally{K=nt,K===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(tt){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var _e=K;K|=1;var nt=ok.transition,rt=C$1;try{if(ok.transition=null,C$1=1,tt)return tt()}finally{C$1=rt,ok.transition=nt,K=_e,!(K&6)&&jg()}}function Hj(){fj=ej.current,E$3(ej)}function Kk(tt,_e){tt.finishedWork=null,tt.finishedLanes=0;var nt=tt.timeoutHandle;if(nt!==-1&&(tt.timeoutHandle=-1,Gf(nt)),Y!==null)for(nt=Y.return;nt!==null;){var rt=nt;switch(wg(rt),rt.tag){case 1:rt=rt.type.childContextTypes,rt!=null&&$f();break;case 3:zh(),E$3(Wf),E$3(H$1),Eh();break;case 5:Bh(rt);break;case 4:zh();break;case 13:E$3(L$2);break;case 19:E$3(L$2);break;case 10:ah(rt.type._context);break;case 22:case 23:Hj()}nt=nt.return}if(Q=tt,Y=tt=Pg(tt.current,null),Z=fj=_e,T$1=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(_e=0;_e<fh.length;_e++)if(nt=fh[_e],rt=nt.interleaved,rt!==null){nt.interleaved=null;var it=rt.next,st=nt.pending;if(st!==null){var at=st.next;st.next=it,rt.next=at}nt.pending=rt}fh=null}return tt}function Mk(tt,_e){do{var nt=Y;try{if($g(),Fh.current=Rh,Ih){for(var rt=M$2.memoizedState;rt!==null;){var it=rt.queue;it!==null&&(it.pending=null),rt=rt.next}Ih=!1}if(Hh=0,O=N$1=M$2=null,Jh=!1,Kh=0,nk.current=null,nt===null||nt.return===null){T$1=1,pk=_e,Y=null;break}e:{var st=tt,at=nt.return,ot=nt,lt=_e;if(_e=Z,ot.flags|=32768,lt!==null&&typeof lt=="object"&&typeof lt.then=="function"){var ct=lt,ut=ot,ft=ut.tag;if(!(ut.mode&1)&&(ft===0||ft===11||ft===15)){var ht=ut.alternate;ht?(ut.updateQueue=ht.updateQueue,ut.memoizedState=ht.memoizedState,ut.lanes=ht.lanes):(ut.updateQueue=null,ut.memoizedState=null)}var pt=Ui(at);if(pt!==null){pt.flags&=-257,Vi(pt,at,ot,st,_e),pt.mode&1&&Si(st,ct,_e),_e=pt,lt=ct;var dt=_e.updateQueue;if(dt===null){var gt=new Set;gt.add(lt),_e.updateQueue=gt}else dt.add(lt);break e}else{if(!(_e&1)){Si(st,ct,_e),tj();break e}lt=Error(p$2(426))}}else if(I$3&&ot.mode&1){var vt=Ui(at);if(vt!==null){!(vt.flags&65536)&&(vt.flags|=256),Vi(vt,at,ot,st,_e),Jg(Ji(lt,ot));break e}}st=lt=Ji(lt,ot),T$1!==4&&(T$1=2),sk===null?sk=[st]:sk.push(st),st=at;do{switch(st.tag){case 3:st.flags|=65536,_e&=-_e,st.lanes|=_e;var mt=Ni(st,lt,_e);ph(st,mt);break e;case 1:ot=lt;var xt=st.type,St=st.stateNode;if(!(st.flags&128)&&(typeof xt.getDerivedStateFromError=="function"||St!==null&&typeof St.componentDidCatch=="function"&&(Ri===null||!Ri.has(St)))){st.flags|=65536,_e&=-_e,st.lanes|=_e;var Et=Qi(st,ot,_e);ph(st,Et);break e}}st=st.return}while(st!==null)}Sk(nt)}catch(bt){_e=bt,Y===nt&&nt!==null&&(Y=nt=nt.return);continue}break}while(!0)}function Jk(){var tt=mk.current;return mk.current=Rh,tt===null?Rh:tt}function tj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(tt,_e){var nt=K;K|=2;var rt=Jk();(Q!==tt||Z!==_e)&&(uk=null,Kk(tt,_e));do try{Tk();break}catch(it){Mk(tt,it)}while(!0);if($g(),K=nt,mk.current=rt,Y!==null)throw Error(p$2(261));return Q=null,Z=0,T$1}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc();)Uk(Y)}function Uk(tt){var _e=Vk(tt.alternate,tt,fj);tt.memoizedProps=tt.pendingProps,_e===null?Sk(tt):Y=_e,nk.current=null}function Sk(tt){var _e=tt;do{var nt=_e.alternate;if(tt=_e.return,_e.flags&32768){if(nt=Ij(nt,_e),nt!==null){nt.flags&=32767,Y=nt;return}if(tt!==null)tt.flags|=32768,tt.subtreeFlags=0,tt.deletions=null;else{T$1=6,Y=null;return}}else if(nt=Ej(nt,_e,fj),nt!==null){Y=nt;return}if(_e=_e.sibling,_e!==null){Y=_e;return}Y=_e=tt}while(_e!==null);T$1===0&&(T$1=5)}function Pk(tt,_e,nt){var rt=C$1,it=ok.transition;try{ok.transition=null,C$1=1,Wk(tt,_e,nt,rt)}finally{ok.transition=it,C$1=rt}return null}function Wk(tt,_e,nt,rt){do Hk();while(wk!==null);if(K&6)throw Error(p$2(327));nt=tt.finishedWork;var it=tt.finishedLanes;if(nt===null)return null;if(tt.finishedWork=null,tt.finishedLanes=0,nt===tt.current)throw Error(p$2(177));tt.callbackNode=null,tt.callbackPriority=0;var st=nt.lanes|nt.childLanes;if(Bc(tt,st),tt===Q&&(Y=Q=null,Z=0),!(nt.subtreeFlags&2064)&&!(nt.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),st=(nt.flags&15990)!==0,nt.subtreeFlags&15990||st){st=ok.transition,ok.transition=null;var at=C$1;C$1=1;var ot=K;K|=4,nk.current=null,Oj(tt,nt),dk(nt,tt),Oe(Df),dd=!!Cf,Df=Cf=null,tt.current=nt,hk(nt),dc(),K=ot,C$1=at,ok.transition=st}else tt.current=nt;if(vk&&(vk=!1,wk=tt,xk=it),st=tt.pendingLanes,st===0&&(Ri=null),mc(nt.stateNode),Dk(tt,B$1()),_e!==null)for(rt=tt.onRecoverableError,nt=0;nt<_e.length;nt++)it=_e[nt],rt(it.value,{componentStack:it.stack,digest:it.digest});if(Oi)throw Oi=!1,tt=Pi,Pi=null,tt;return xk&1&&tt.tag!==0&&Hk(),st=tt.pendingLanes,st&1?tt===zk?yk++:(yk=0,zk=tt):yk=0,jg(),null}function Hk(){if(wk!==null){var tt=Dc(xk),_e=ok.transition,nt=C$1;try{if(ok.transition=null,C$1=16>tt?16:tt,wk===null)var rt=!1;else{if(tt=wk,wk=null,xk=0,K&6)throw Error(p$2(331));var it=K;for(K|=4,V$1=tt.current;V$1!==null;){var st=V$1,at=st.child;if(V$1.flags&16){var ot=st.deletions;if(ot!==null){for(var lt=0;lt<ot.length;lt++){var ct=ot[lt];for(V$1=ct;V$1!==null;){var ut=V$1;switch(ut.tag){case 0:case 11:case 15:Pj(8,ut,st)}var ft=ut.child;if(ft!==null)ft.return=ut,V$1=ft;else for(;V$1!==null;){ut=V$1;var ht=ut.sibling,pt=ut.return;if(Sj(ut),ut===ct){V$1=null;break}if(ht!==null){ht.return=pt,V$1=ht;break}V$1=pt}}}var dt=st.alternate;if(dt!==null){var gt=dt.child;if(gt!==null){dt.child=null;do{var vt=gt.sibling;gt.sibling=null,gt=vt}while(gt!==null)}}V$1=st}}if(st.subtreeFlags&2064&&at!==null)at.return=st,V$1=at;else e:for(;V$1!==null;){if(st=V$1,st.flags&2048)switch(st.tag){case 0:case 11:case 15:Pj(9,st,st.return)}var mt=st.sibling;if(mt!==null){mt.return=st.return,V$1=mt;break e}V$1=st.return}}var xt=tt.current;for(V$1=xt;V$1!==null;){at=V$1;var St=at.child;if(at.subtreeFlags&2064&&St!==null)St.return=at,V$1=St;else e:for(at=xt;V$1!==null;){if(ot=V$1,ot.flags&2048)try{switch(ot.tag){case 0:case 11:case 15:Qj(9,ot)}}catch(bt){W$2(ot,ot.return,bt)}if(ot===at){V$1=null;break e}var Et=ot.sibling;if(Et!==null){Et.return=ot.return,V$1=Et;break e}V$1=ot.return}}if(K=it,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,tt)}catch{}rt=!0}return rt}finally{C$1=nt,ok.transition=_e}}return!1}function Xk(tt,_e,nt){_e=Ji(nt,_e),_e=Ni(tt,_e,1),tt=nh(tt,_e,1),_e=R(),tt!==null&&(Ac(tt,1,_e),Dk(tt,_e))}function W$2(tt,_e,nt){if(tt.tag===3)Xk(tt,tt,nt);else for(;_e!==null;){if(_e.tag===3){Xk(_e,tt,nt);break}else if(_e.tag===1){var rt=_e.stateNode;if(typeof _e.type.getDerivedStateFromError=="function"||typeof rt.componentDidCatch=="function"&&(Ri===null||!Ri.has(rt))){tt=Ji(nt,tt),tt=Qi(_e,tt,1),_e=nh(_e,tt,1),tt=R(),_e!==null&&(Ac(_e,1,tt),Dk(_e,tt));break}}_e=_e.return}}function Ti(tt,_e,nt){var rt=tt.pingCache;rt!==null&&rt.delete(_e),_e=R(),tt.pingedLanes|=tt.suspendedLanes&nt,Q===tt&&(Z&nt)===nt&&(T$1===4||T$1===3&&(Z&130023424)===Z&&500>B$1()-fk?Kk(tt,0):rk|=nt),Dk(tt,_e)}function Yk(tt,_e){_e===0&&(tt.mode&1?(_e=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):_e=1);var nt=R();tt=ih(tt,_e),tt!==null&&(Ac(tt,_e,nt),Dk(tt,nt))}function uj(tt){var _e=tt.memoizedState,nt=0;_e!==null&&(nt=_e.retryLane),Yk(tt,nt)}function bk(tt,_e){var nt=0;switch(tt.tag){case 13:var rt=tt.stateNode,it=tt.memoizedState;it!==null&&(nt=it.retryLane);break;case 19:rt=tt.stateNode;break;default:throw Error(p$2(314))}rt!==null&&rt.delete(_e),Yk(tt,nt)}var Vk;Vk=function(tt,_e,nt){if(tt!==null)if(tt.memoizedProps!==_e.pendingProps||Wf.current)dh=!0;else{if(!(tt.lanes&nt)&&!(_e.flags&128))return dh=!1,yj(tt,_e,nt);dh=!!(tt.flags&131072)}else dh=!1,I$3&&_e.flags&1048576&&ug(_e,ng,_e.index);switch(_e.lanes=0,_e.tag){case 2:var rt=_e.type;ij(tt,_e),tt=_e.pendingProps;var it=Yf(_e,H$1.current);ch(_e,nt),it=Nh(null,_e,rt,tt,it,nt);var st=Sh();return _e.flags|=1,typeof it=="object"&&it!==null&&typeof it.render=="function"&&it.$$typeof===void 0?(_e.tag=1,_e.memoizedState=null,_e.updateQueue=null,Zf(rt)?(st=!0,cg(_e)):st=!1,_e.memoizedState=it.state!==null&&it.state!==void 0?it.state:null,kh(_e),it.updater=Ei,_e.stateNode=it,it._reactInternals=_e,Ii(_e,rt,tt,nt),_e=jj(null,_e,rt,!0,st,nt)):(_e.tag=0,I$3&&st&&vg(_e),Xi(null,_e,it,nt),_e=_e.child),_e;case 16:rt=_e.elementType;e:{switch(ij(tt,_e),tt=_e.pendingProps,it=rt._init,rt=it(rt._payload),_e.type=rt,it=_e.tag=Zk(rt),tt=Ci(rt,tt),it){case 0:_e=cj(null,_e,rt,tt,nt);break e;case 1:_e=hj(null,_e,rt,tt,nt);break e;case 11:_e=Yi(null,_e,rt,tt,nt);break e;case 14:_e=$i(null,_e,rt,Ci(rt.type,tt),nt);break e}throw Error(p$2(306,rt,""))}return _e;case 0:return rt=_e.type,it=_e.pendingProps,it=_e.elementType===rt?it:Ci(rt,it),cj(tt,_e,rt,it,nt);case 1:return rt=_e.type,it=_e.pendingProps,it=_e.elementType===rt?it:Ci(rt,it),hj(tt,_e,rt,it,nt);case 3:e:{if(kj(_e),tt===null)throw Error(p$2(387));rt=_e.pendingProps,st=_e.memoizedState,it=st.element,lh(tt,_e),qh(_e,rt,null,nt);var at=_e.memoizedState;if(rt=at.element,st.isDehydrated)if(st={element:rt,isDehydrated:!1,cache:at.cache,pendingSuspenseBoundaries:at.pendingSuspenseBoundaries,transitions:at.transitions},_e.updateQueue.baseState=st,_e.memoizedState=st,_e.flags&256){it=Ji(Error(p$2(423)),_e),_e=lj(tt,_e,rt,nt,it);break e}else if(rt!==it){it=Ji(Error(p$2(424)),_e),_e=lj(tt,_e,rt,nt,it);break e}else for(yg=Lf(_e.stateNode.containerInfo.firstChild),xg=_e,I$3=!0,zg=null,nt=Vg(_e,null,rt,nt),_e.child=nt;nt;)nt.flags=nt.flags&-3|4096,nt=nt.sibling;else{if(Ig(),rt===it){_e=Zi(tt,_e,nt);break e}Xi(tt,_e,rt,nt)}_e=_e.child}return _e;case 5:return Ah(_e),tt===null&&Eg(_e),rt=_e.type,it=_e.pendingProps,st=tt!==null?tt.memoizedProps:null,at=it.children,Ef(rt,it)?at=null:st!==null&&Ef(rt,st)&&(_e.flags|=32),gj(tt,_e),Xi(tt,_e,at,nt),_e.child;case 6:return tt===null&&Eg(_e),null;case 13:return oj(tt,_e,nt);case 4:return yh(_e,_e.stateNode.containerInfo),rt=_e.pendingProps,tt===null?_e.child=Ug(_e,null,rt,nt):Xi(tt,_e,rt,nt),_e.child;case 11:return rt=_e.type,it=_e.pendingProps,it=_e.elementType===rt?it:Ci(rt,it),Yi(tt,_e,rt,it,nt);case 7:return Xi(tt,_e,_e.pendingProps,nt),_e.child;case 8:return Xi(tt,_e,_e.pendingProps.children,nt),_e.child;case 12:return Xi(tt,_e,_e.pendingProps.children,nt),_e.child;case 10:e:{if(rt=_e.type._context,it=_e.pendingProps,st=_e.memoizedProps,at=it.value,G$1(Wg,rt._currentValue),rt._currentValue=at,st!==null)if(He(st.value,at)){if(st.children===it.children&&!Wf.current){_e=Zi(tt,_e,nt);break e}}else for(st=_e.child,st!==null&&(st.return=_e);st!==null;){var ot=st.dependencies;if(ot!==null){at=st.child;for(var lt=ot.firstContext;lt!==null;){if(lt.context===rt){if(st.tag===1){lt=mh(-1,nt&-nt),lt.tag=2;var ct=st.updateQueue;if(ct!==null){ct=ct.shared;var ut=ct.pending;ut===null?lt.next=lt:(lt.next=ut.next,ut.next=lt),ct.pending=lt}}st.lanes|=nt,lt=st.alternate,lt!==null&&(lt.lanes|=nt),bh(st.return,nt,_e),ot.lanes|=nt;break}lt=lt.next}}else if(st.tag===10)at=st.type===_e.type?null:st.child;else if(st.tag===18){if(at=st.return,at===null)throw Error(p$2(341));at.lanes|=nt,ot=at.alternate,ot!==null&&(ot.lanes|=nt),bh(at,nt,_e),at=st.sibling}else at=st.child;if(at!==null)at.return=st;else for(at=st;at!==null;){if(at===_e){at=null;break}if(st=at.sibling,st!==null){st.return=at.return,at=st;break}at=at.return}st=at}Xi(tt,_e,it.children,nt),_e=_e.child}return _e;case 9:return it=_e.type,rt=_e.pendingProps.children,ch(_e,nt),it=eh(it),rt=rt(it),_e.flags|=1,Xi(tt,_e,rt,nt),_e.child;case 14:return rt=_e.type,it=Ci(rt,_e.pendingProps),it=Ci(rt.type,it),$i(tt,_e,rt,it,nt);case 15:return bj(tt,_e,_e.type,_e.pendingProps,nt);case 17:return rt=_e.type,it=_e.pendingProps,it=_e.elementType===rt?it:Ci(rt,it),ij(tt,_e),_e.tag=1,Zf(rt)?(tt=!0,cg(_e)):tt=!1,ch(_e,nt),Gi(_e,rt,it),Ii(_e,rt,it,nt),jj(null,_e,rt,!0,tt,nt);case 19:return xj(tt,_e,nt);case 22:return dj(tt,_e,nt)}throw Error(p$2(156,_e.tag))};function Fk(tt,_e){return ac(tt,_e)}function $k(tt,_e,nt,rt){this.tag=tt,this.key=nt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=rt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(tt,_e,nt,rt){return new $k(tt,_e,nt,rt)}function aj(tt){return tt=tt.prototype,!(!tt||!tt.isReactComponent)}function Zk(tt){if(typeof tt=="function")return aj(tt)?1:0;if(tt!=null){if(tt=tt.$$typeof,tt===Da)return 11;if(tt===Ga)return 14}return 2}function Pg(tt,_e){var nt=tt.alternate;return nt===null?(nt=Bg(tt.tag,_e,tt.key,tt.mode),nt.elementType=tt.elementType,nt.type=tt.type,nt.stateNode=tt.stateNode,nt.alternate=tt,tt.alternate=nt):(nt.pendingProps=_e,nt.type=tt.type,nt.flags=0,nt.subtreeFlags=0,nt.deletions=null),nt.flags=tt.flags&14680064,nt.childLanes=tt.childLanes,nt.lanes=tt.lanes,nt.child=tt.child,nt.memoizedProps=tt.memoizedProps,nt.memoizedState=tt.memoizedState,nt.updateQueue=tt.updateQueue,_e=tt.dependencies,nt.dependencies=_e===null?null:{lanes:_e.lanes,firstContext:_e.firstContext},nt.sibling=tt.sibling,nt.index=tt.index,nt.ref=tt.ref,nt}function Rg(tt,_e,nt,rt,it,st){var at=2;if(rt=tt,typeof tt=="function")aj(tt)&&(at=1);else if(typeof tt=="string")at=5;else e:switch(tt){case ya:return Tg(nt.children,it,st,_e);case za:at=8,it|=8;break;case Aa:return tt=Bg(12,nt,_e,it|2),tt.elementType=Aa,tt.lanes=st,tt;case Ea:return tt=Bg(13,nt,_e,it),tt.elementType=Ea,tt.lanes=st,tt;case Fa:return tt=Bg(19,nt,_e,it),tt.elementType=Fa,tt.lanes=st,tt;case Ia:return pj(nt,it,st,_e);default:if(typeof tt=="object"&&tt!==null)switch(tt.$$typeof){case Ba:at=10;break e;case Ca:at=9;break e;case Da:at=11;break e;case Ga:at=14;break e;case Ha:at=16,rt=null;break e}throw Error(p$2(130,tt==null?tt:typeof tt,""))}return _e=Bg(at,nt,_e,it),_e.elementType=tt,_e.type=rt,_e.lanes=st,_e}function Tg(tt,_e,nt,rt){return tt=Bg(7,tt,rt,_e),tt.lanes=nt,tt}function pj(tt,_e,nt,rt){return tt=Bg(22,tt,rt,_e),tt.elementType=Ia,tt.lanes=nt,tt.stateNode={isHidden:!1},tt}function Qg(tt,_e,nt){return tt=Bg(6,tt,null,_e),tt.lanes=nt,tt}function Sg(tt,_e,nt){return _e=Bg(4,tt.children!==null?tt.children:[],tt.key,_e),_e.lanes=nt,_e.stateNode={containerInfo:tt.containerInfo,pendingChildren:null,implementation:tt.implementation},_e}function al(tt,_e,nt,rt,it){this.tag=_e,this.containerInfo=tt,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=rt,this.onRecoverableError=it,this.mutableSourceEagerHydrationData=null}function bl(tt,_e,nt,rt,it,st,at,ot,lt){return tt=new al(tt,_e,nt,ot,lt),_e===1?(_e=1,st===!0&&(_e|=8)):_e=0,st=Bg(3,null,null,_e),tt.current=st,st.stateNode=tt,st.memoizedState={element:rt,isDehydrated:nt,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(st),tt}function cl(tt,_e,nt){var rt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:rt==null?null:""+rt,children:tt,containerInfo:_e,implementation:nt}}function dl(tt){if(!tt)return Vf;tt=tt._reactInternals;e:{if(Vb(tt)!==tt||tt.tag!==1)throw Error(p$2(170));var _e=tt;do{switch(_e.tag){case 3:_e=_e.stateNode.context;break e;case 1:if(Zf(_e.type)){_e=_e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_e=_e.return}while(_e!==null);throw Error(p$2(171))}if(tt.tag===1){var nt=tt.type;if(Zf(nt))return bg(tt,nt,_e)}return _e}function el(tt,_e,nt,rt,it,st,at,ot,lt){return tt=bl(nt,rt,!0,tt,it,st,at,ot,lt),tt.context=dl(null),nt=tt.current,rt=R(),it=yi(nt),st=mh(rt,it),st.callback=_e??null,nh(nt,st,it),tt.current.lanes=it,Ac(tt,it,rt),Dk(tt,rt),tt}function fl$1(tt,_e,nt,rt){var it=_e.current,st=R(),at=yi(it);return nt=dl(nt),_e.context===null?_e.context=nt:_e.pendingContext=nt,_e=mh(st,at),_e.payload={element:tt},rt=rt===void 0?null:rt,rt!==null&&(_e.callback=rt),tt=nh(it,_e,at),tt!==null&&(gi(tt,it,at,st),oh(tt,it,at)),at}function gl(tt){if(tt=tt.current,!tt.child)return null;switch(tt.child.tag){case 5:return tt.child.stateNode;default:return tt.child.stateNode}}function hl(tt,_e){if(tt=tt.memoizedState,tt!==null&&tt.dehydrated!==null){var nt=tt.retryLane;tt.retryLane=nt!==0&&nt<_e?nt:_e}}function il(tt,_e){hl(tt,_e),(tt=tt.alternate)&&hl(tt,_e)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(tt){console.error(tt)};function ll(tt){this._internalRoot=tt}ml.prototype.render=ll.prototype.render=function(tt){var _e=this._internalRoot;if(_e===null)throw Error(p$2(409));fl$1(tt,_e,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var tt=this._internalRoot;if(tt!==null){this._internalRoot=null;var _e=tt.containerInfo;Rk(function(){fl$1(null,tt,null,null)}),_e[uf]=null}};function ml(tt){this._internalRoot=tt}ml.prototype.unstable_scheduleHydration=function(tt){if(tt){var _e=Hc();tt={blockedOn:null,target:tt,priority:_e};for(var nt=0;nt<Qc.length&&_e!==0&&_e<Qc[nt].priority;nt++);Qc.splice(nt,0,tt),nt===0&&Vc(tt)}};function nl(tt){return!(!tt||tt.nodeType!==1&&tt.nodeType!==9&&tt.nodeType!==11)}function ol(tt){return!(!tt||tt.nodeType!==1&&tt.nodeType!==9&&tt.nodeType!==11&&(tt.nodeType!==8||tt.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(tt,_e,nt,rt,it){if(it){if(typeof rt=="function"){var st=rt;rt=function(){var ct=gl(at);st.call(ct)}}var at=el(_e,rt,tt,0,null,!1,!1,"",pl);return tt._reactRootContainer=at,tt[uf]=at.current,sf(tt.nodeType===8?tt.parentNode:tt),Rk(),at}for(;it=tt.lastChild;)tt.removeChild(it);if(typeof rt=="function"){var ot=rt;rt=function(){var ct=gl(lt);ot.call(ct)}}var lt=bl(tt,0,!1,null,null,!1,!1,"",pl);return tt._reactRootContainer=lt,tt[uf]=lt.current,sf(tt.nodeType===8?tt.parentNode:tt),Rk(function(){fl$1(_e,lt,nt,rt)}),lt}function rl(tt,_e,nt,rt,it){var st=nt._reactRootContainer;if(st){var at=st;if(typeof it=="function"){var ot=it;it=function(){var lt=gl(at);ot.call(lt)}}fl$1(_e,at,tt,it)}else at=ql(nt,_e,tt,it,rt);return gl(at)}Ec=function(tt){switch(tt.tag){case 3:var _e=tt.stateNode;if(_e.current.memoizedState.isDehydrated){var nt=tc(_e.pendingLanes);nt!==0&&(Cc(_e,nt|1),Dk(_e,B$1()),!(K&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var rt=ih(tt,1);if(rt!==null){var it=R();gi(rt,tt,1,it)}}),il(tt,1)}};Fc=function(tt){if(tt.tag===13){var _e=ih(tt,134217728);if(_e!==null){var nt=R();gi(_e,tt,134217728,nt)}il(tt,134217728)}};Gc=function(tt){if(tt.tag===13){var _e=yi(tt),nt=ih(tt,_e);if(nt!==null){var rt=R();gi(nt,tt,_e,rt)}il(tt,_e)}};Hc=function(){return C$1};Ic=function(tt,_e){var nt=C$1;try{return C$1=tt,_e()}finally{C$1=nt}};yb=function(tt,_e,nt){switch(_e){case"input":if(bb(tt,nt),_e=nt.name,nt.type==="radio"&&_e!=null){for(nt=tt;nt.parentNode;)nt=nt.parentNode;for(nt=nt.querySelectorAll("input[name="+JSON.stringify(""+_e)+'][type="radio"]'),_e=0;_e<nt.length;_e++){var rt=nt[_e];if(rt!==tt&&rt.form===tt.form){var it=Db(rt);if(!it)throw Error(p$2(90));Wa(rt),bb(rt,it)}}}break;case"textarea":ib(tt,nt);break;case"select":_e=nt.value,_e!=null&&fb(tt,!!nt.multiple,_e,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(tt){return tt=Zb(tt),tt===null?null:tt.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(tt,_e){var nt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(_e))throw Error(p$2(200));return cl(tt,_e,null,nt)};reactDom_production_min.createRoot=function(tt,_e){if(!nl(tt))throw Error(p$2(299));var nt=!1,rt="",it=kl;return _e!=null&&(_e.unstable_strictMode===!0&&(nt=!0),_e.identifierPrefix!==void 0&&(rt=_e.identifierPrefix),_e.onRecoverableError!==void 0&&(it=_e.onRecoverableError)),_e=bl(tt,1,!1,null,null,nt,!1,rt,it),tt[uf]=_e.current,sf(tt.nodeType===8?tt.parentNode:tt),new ll(_e)};reactDom_production_min.findDOMNode=function(tt){if(tt==null)return null;if(tt.nodeType===1)return tt;var _e=tt._reactInternals;if(_e===void 0)throw typeof tt.render=="function"?Error(p$2(188)):(tt=Object.keys(tt).join(","),Error(p$2(268,tt)));return tt=Zb(_e),tt=tt===null?null:tt.stateNode,tt};reactDom_production_min.flushSync=function(tt){return Rk(tt)};reactDom_production_min.hydrate=function(tt,_e,nt){if(!ol(_e))throw Error(p$2(200));return rl(null,tt,_e,!0,nt)};reactDom_production_min.hydrateRoot=function(tt,_e,nt){if(!nl(tt))throw Error(p$2(405));var rt=nt!=null&&nt.hydratedSources||null,it=!1,st="",at=kl;if(nt!=null&&(nt.unstable_strictMode===!0&&(it=!0),nt.identifierPrefix!==void 0&&(st=nt.identifierPrefix),nt.onRecoverableError!==void 0&&(at=nt.onRecoverableError)),_e=el(_e,null,tt,1,nt??null,it,!1,st,at),tt[uf]=_e.current,sf(tt),rt)for(tt=0;tt<rt.length;tt++)nt=rt[tt],it=nt._getVersion,it=it(nt._source),_e.mutableSourceEagerHydrationData==null?_e.mutableSourceEagerHydrationData=[nt,it]:_e.mutableSourceEagerHydrationData.push(nt,it);return new ml(_e)};reactDom_production_min.render=function(tt,_e,nt){if(!ol(_e))throw Error(p$2(200));return rl(null,tt,_e,!1,nt)};reactDom_production_min.unmountComponentAtNode=function(tt){if(!ol(tt))throw Error(p$2(40));return tt._reactRootContainer?(Rk(function(){rl(null,null,tt,!1,function(){tt._reactRootContainer=null,tt[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(tt,_e,nt,rt){if(!ol(nt))throw Error(p$2(200));if(tt==null||tt._reactInternals===void 0)throw Error(p$2(38));return rl(tt,_e,nt,!1,rt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(tt){console.error(tt)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,m$2=reactDomExports;client.createRoot=m$2.createRoot,client.hydrateRoot=m$2.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(tt){for(var _e=1;_e<arguments.length;_e++){var nt=arguments[_e];for(var rt in nt)Object.prototype.hasOwnProperty.call(nt,rt)&&(tt[rt]=nt[rt])}return tt},_extends$3.apply(this,arguments)}var Action;(function(tt){tt.Pop="POP",tt.Push="PUSH",tt.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createHashHistory(tt){tt===void 0&&(tt={});function _e(it,st){let{pathname:at="/",search:ot="",hash:lt=""}=parsePath(it.location.hash.substr(1));return!at.startsWith("/")&&!at.startsWith(".")&&(at="/"+at),createLocation("",{pathname:at,search:ot,hash:lt},st.state&&st.state.usr||null,st.state&&st.state.key||"default")}function nt(it,st){let at=it.document.querySelector("base"),ot="";if(at&&at.getAttribute("href")){let lt=it.location.href,ct=lt.indexOf("#");ot=ct===-1?lt:lt.slice(0,ct)}return ot+"#"+(typeof st=="string"?st:createPath(st))}function rt(it,st){warning$1(it.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(st)+")")}return getUrlBasedHistory(_e,nt,rt,tt)}function invariant$2(tt,_e){if(tt===!1||tt===null||typeof tt>"u")throw new Error(_e)}function warning$1(tt,_e){if(!tt){typeof console<"u"&&console.warn(_e);try{throw new Error(_e)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(tt,_e){return{usr:tt.state,key:tt.key,idx:_e}}function createLocation(tt,_e,nt,rt){return nt===void 0&&(nt=null),_extends$3({pathname:typeof tt=="string"?tt:tt.pathname,search:"",hash:""},typeof _e=="string"?parsePath(_e):_e,{state:nt,key:_e&&_e.key||rt||createKey()})}function createPath(tt){let{pathname:_e="/",search:nt="",hash:rt=""}=tt;return nt&&nt!=="?"&&(_e+=nt.charAt(0)==="?"?nt:"?"+nt),rt&&rt!=="#"&&(_e+=rt.charAt(0)==="#"?rt:"#"+rt),_e}function parsePath(tt){let _e={};if(tt){let nt=tt.indexOf("#");nt>=0&&(_e.hash=tt.substr(nt),tt=tt.substr(0,nt));let rt=tt.indexOf("?");rt>=0&&(_e.search=tt.substr(rt),tt=tt.substr(0,rt)),tt&&(_e.pathname=tt)}return _e}function getUrlBasedHistory(tt,_e,nt,rt){rt===void 0&&(rt={});let{window:it=document.defaultView,v5Compat:st=!1}=rt,at=it.history,ot=Action.Pop,lt=null,ct=ut();ct==null&&(ct=0,at.replaceState(_extends$3({},at.state,{idx:ct}),""));function ut(){return(at.state||{idx:null}).idx}function ft(){ot=Action.Pop;let vt=ut(),mt=vt==null?null:vt-ct;ct=vt,lt&&lt({action:ot,location:gt.location,delta:mt})}function ht(vt,mt){ot=Action.Push;let xt=createLocation(gt.location,vt,mt);nt&&nt(xt,vt),ct=ut()+1;let St=getHistoryState(xt,ct),Et=gt.createHref(xt);try{at.pushState(St,"",Et)}catch(bt){if(bt instanceof DOMException&&bt.name==="DataCloneError")throw bt;it.location.assign(Et)}st&&lt&&lt({action:ot,location:gt.location,delta:1})}function pt(vt,mt){ot=Action.Replace;let xt=createLocation(gt.location,vt,mt);nt&&nt(xt,vt),ct=ut();let St=getHistoryState(xt,ct),Et=gt.createHref(xt);at.replaceState(St,"",Et),st&&lt&&lt({action:ot,location:gt.location,delta:0})}function dt(vt){let mt=it.location.origin!=="null"?it.location.origin:it.location.href,xt=typeof vt=="string"?vt:createPath(vt);return xt=xt.replace(/ $/,"%20"),invariant$2(mt,"No window.location.(origin|href) available to create URL for href: "+xt),new URL(xt,mt)}let gt={get action(){return ot},get location(){return tt(it,at)},listen(vt){if(lt)throw new Error("A history only accepts one active listener");return it.addEventListener(PopStateEventType,ft),lt=vt,()=>{it.removeEventListener(PopStateEventType,ft),lt=null}},createHref(vt){return _e(it,vt)},createURL:dt,encodeLocation(vt){let mt=dt(vt);return{pathname:mt.pathname,search:mt.search,hash:mt.hash}},push:ht,replace:pt,go(vt){return at.go(vt)}};return gt}var ResultType;(function(tt){tt.data="data",tt.deferred="deferred",tt.redirect="redirect",tt.error="error"})(ResultType||(ResultType={}));function matchRoutes(tt,_e,nt){return nt===void 0&&(nt="/"),matchRoutesImpl(tt,_e,nt,!1)}function matchRoutesImpl(tt,_e,nt,rt){let it=typeof _e=="string"?parsePath(_e):_e,st=stripBasename(it.pathname||"/",nt);if(st==null)return null;let at=flattenRoutes(tt);rankRouteBranches(at);let ot=null;for(let lt=0;ot==null&&lt<at.length;++lt){let ct=decodePath(st);ot=matchRouteBranch(at[lt],ct,rt)}return ot}function flattenRoutes(tt,_e,nt,rt){_e===void 0&&(_e=[]),nt===void 0&&(nt=[]),rt===void 0&&(rt="");let it=(st,at,ot)=>{let lt={relativePath:ot===void 0?st.path||"":ot,caseSensitive:st.caseSensitive===!0,childrenIndex:at,route:st};lt.relativePath.startsWith("/")&&(invariant$2(lt.relativePath.startsWith(rt),'Absolute route path "'+lt.relativePath+'" nested under path '+('"'+rt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),lt.relativePath=lt.relativePath.slice(rt.length));let ct=joinPaths([rt,lt.relativePath]),ut=nt.concat(lt);st.children&&st.children.length>0&&(invariant$2(st.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ct+'".')),flattenRoutes(st.children,_e,ut,ct)),!(st.path==null&&!st.index)&&_e.push({path:ct,score:computeScore(ct,st.index),routesMeta:ut})};return tt.forEach((st,at)=>{var ot;if(st.path===""||!((ot=st.path)!=null&&ot.includes("?")))it(st,at);else for(let lt of explodeOptionalSegments(st.path))it(st,at,lt)}),_e}function explodeOptionalSegments(tt){let _e=tt.split("/");if(_e.length===0)return[];let[nt,...rt]=_e,it=nt.endsWith("?"),st=nt.replace(/\?$/,"");if(rt.length===0)return it?[st,""]:[st];let at=explodeOptionalSegments(rt.join("/")),ot=[];return ot.push(...at.map(lt=>lt===""?st:[st,lt].join("/"))),it&&ot.push(...at),ot.map(lt=>tt.startsWith("/")&&lt===""?"/":lt)}function rankRouteBranches(tt){tt.sort((_e,nt)=>_e.score!==nt.score?nt.score-_e.score:compareIndexes(_e.routesMeta.map(rt=>rt.childrenIndex),nt.routesMeta.map(rt=>rt.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=tt=>tt==="*";function computeScore(tt,_e){let nt=tt.split("/"),rt=nt.length;return nt.some(isSplat)&&(rt+=splatPenalty),_e&&(rt+=indexRouteValue),nt.filter(it=>!isSplat(it)).reduce((it,st)=>it+(paramRe.test(st)?dynamicSegmentValue:st===""?emptySegmentValue:staticSegmentValue),rt)}function compareIndexes(tt,_e){return tt.length===_e.length&&tt.slice(0,-1).every((rt,it)=>rt===_e[it])?tt[tt.length-1]-_e[_e.length-1]:0}function matchRouteBranch(tt,_e,nt){let{routesMeta:rt}=tt,it={},st="/",at=[];for(let ot=0;ot<rt.length;++ot){let lt=rt[ot],ct=ot===rt.length-1,ut=st==="/"?_e:_e.slice(st.length)||"/",ft=matchPath({path:lt.relativePath,caseSensitive:lt.caseSensitive,end:ct},ut),ht=lt.route;if(!ft&&ct&&nt&&!rt[rt.length-1].route.index&&(ft=matchPath({path:lt.relativePath,caseSensitive:lt.caseSensitive,end:!1},ut)),!ft)return null;Object.assign(it,ft.params),at.push({params:it,pathname:joinPaths([st,ft.pathname]),pathnameBase:normalizePathname(joinPaths([st,ft.pathnameBase])),route:ht}),ft.pathnameBase!=="/"&&(st=joinPaths([st,ft.pathnameBase]))}return at}function matchPath(tt,_e){typeof tt=="string"&&(tt={path:tt,caseSensitive:!1,end:!0});let[nt,rt]=compilePath(tt.path,tt.caseSensitive,tt.end),it=_e.match(nt);if(!it)return null;let st=it[0],at=st.replace(/(.)\/+$/,"$1"),ot=it.slice(1);return{params:rt.reduce((ct,ut,ft)=>{let{paramName:ht,isOptional:pt}=ut;if(ht==="*"){let gt=ot[ft]||"";at=st.slice(0,st.length-gt.length).replace(/(.)\/+$/,"$1")}const dt=ot[ft];return pt&&!dt?ct[ht]=void 0:ct[ht]=(dt||"").replace(/%2F/g,"/"),ct},{}),pathname:st,pathnameBase:at,pattern:tt}}function compilePath(tt,_e,nt){_e===void 0&&(_e=!1),nt===void 0&&(nt=!0),warning$1(tt==="*"||!tt.endsWith("*")||tt.endsWith("/*"),'Route path "'+tt+'" will be treated as if it were '+('"'+tt.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+tt.replace(/\*$/,"/*")+'".'));let rt=[],it="^"+tt.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(at,ot,lt)=>(rt.push({paramName:ot,isOptional:lt!=null}),lt?"/?([^\\/]+)?":"/([^\\/]+)"));return tt.endsWith("*")?(rt.push({paramName:"*"}),it+=tt==="*"||tt==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):nt?it+="\\/*$":tt!==""&&tt!=="/"&&(it+="(?:(?=\\/|$))"),[new RegExp(it,_e?void 0:"i"),rt]}function decodePath(tt){try{return tt.split("/").map(_e=>decodeURIComponent(_e).replace(/\//g,"%2F")).join("/")}catch(_e){return warning$1(!1,'The URL path "'+tt+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+_e+").")),tt}}function stripBasename(tt,_e){if(_e==="/")return tt;if(!tt.toLowerCase().startsWith(_e.toLowerCase()))return null;let nt=_e.endsWith("/")?_e.length-1:_e.length,rt=tt.charAt(nt);return rt&&rt!=="/"?null:tt.slice(nt)||"/"}function resolvePath(tt,_e){_e===void 0&&(_e="/");let{pathname:nt,search:rt="",hash:it=""}=typeof tt=="string"?parsePath(tt):tt;return{pathname:nt?nt.startsWith("/")?nt:resolvePathname(nt,_e):_e,search:normalizeSearch(rt),hash:normalizeHash(it)}}function resolvePathname(tt,_e){let nt=_e.replace(/\/+$/,"").split("/");return tt.split("/").forEach(it=>{it===".."?nt.length>1&&nt.pop():it!=="."&&nt.push(it)}),nt.length>1?nt.join("/"):"/"}function getInvalidPathError(tt,_e,nt,rt){return"Cannot include a '"+tt+"' character in a manually specified "+("`to."+_e+"` field ["+JSON.stringify(rt)+"].  Please separate it out to the ")+("`to."+nt+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(tt){return tt.filter((_e,nt)=>nt===0||_e.route.path&&_e.route.path.length>0)}function getResolveToMatches(tt,_e){let nt=getPathContributingMatches(tt);return _e?nt.map((rt,it)=>it===nt.length-1?rt.pathname:rt.pathnameBase):nt.map(rt=>rt.pathnameBase)}function resolveTo(tt,_e,nt,rt){rt===void 0&&(rt=!1);let it;typeof tt=="string"?it=parsePath(tt):(it=_extends$3({},tt),invariant$2(!it.pathname||!it.pathname.includes("?"),getInvalidPathError("?","pathname","search",it)),invariant$2(!it.pathname||!it.pathname.includes("#"),getInvalidPathError("#","pathname","hash",it)),invariant$2(!it.search||!it.search.includes("#"),getInvalidPathError("#","search","hash",it)));let st=tt===""||it.pathname==="",at=st?"/":it.pathname,ot;if(at==null)ot=nt;else{let ft=_e.length-1;if(!rt&&at.startsWith("..")){let ht=at.split("/");for(;ht[0]==="..";)ht.shift(),ft-=1;it.pathname=ht.join("/")}ot=ft>=0?_e[ft]:"/"}let lt=resolvePath(it,ot),ct=at&&at!=="/"&&at.endsWith("/"),ut=(st||at===".")&&nt.endsWith("/");return!lt.pathname.endsWith("/")&&(ct||ut)&&(lt.pathname+="/"),lt}const joinPaths=tt=>tt.join("/").replace(/\/\/+/g,"/"),normalizePathname=tt=>tt.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=tt=>!tt||tt==="?"?"":tt.startsWith("?")?tt:"?"+tt,normalizeHash=tt=>!tt||tt==="#"?"":tt.startsWith("#")?tt:"#"+tt;function isRouteErrorResponse(tt){return tt!=null&&typeof tt.status=="number"&&typeof tt.statusText=="string"&&typeof tt.internal=="boolean"&&"data"in tt}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(tt){for(var _e=1;_e<arguments.length;_e++){var nt=arguments[_e];for(var rt in nt)Object.prototype.hasOwnProperty.call(nt,rt)&&(tt[rt]=nt[rt])}return tt},_extends$2.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(tt,_e){let{relative:nt}=_e===void 0?{}:_e;useInRouterContext()||invariant$2(!1);let{basename:rt,navigator:it}=reactExports.useContext(NavigationContext),{hash:st,pathname:at,search:ot}=useResolvedPath(tt,{relative:nt}),lt=at;return rt!=="/"&&(lt=at==="/"?rt:joinPaths([rt,at])),it.createHref({pathname:lt,search:ot,hash:st})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$2(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$4(tt){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(tt)}function useNavigate(){let{isDataRoute:tt}=reactExports.useContext(RouteContext);return tt?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$2(!1);let tt=reactExports.useContext(DataRouterContext),{basename:_e,future:nt,navigator:rt}=reactExports.useContext(NavigationContext),{matches:it}=reactExports.useContext(RouteContext),{pathname:st}=useLocation(),at=JSON.stringify(getResolveToMatches(it,nt.v7_relativeSplatPath)),ot=reactExports.useRef(!1);return useIsomorphicLayoutEffect$4(()=>{ot.current=!0}),reactExports.useCallback(function(ct,ut){if(ut===void 0&&(ut={}),!ot.current)return;if(typeof ct=="number"){rt.go(ct);return}let ft=resolveTo(ct,JSON.parse(at),st,ut.relative==="path");tt==null&&_e!=="/"&&(ft.pathname=ft.pathname==="/"?_e:joinPaths([_e,ft.pathname])),(ut.replace?rt.replace:rt.push)(ft,ut.state,ut)},[_e,rt,at,st,tt])}function useResolvedPath(tt,_e){let{relative:nt}=_e===void 0?{}:_e,{future:rt}=reactExports.useContext(NavigationContext),{matches:it}=reactExports.useContext(RouteContext),{pathname:st}=useLocation(),at=JSON.stringify(getResolveToMatches(it,rt.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(tt,JSON.parse(at),st,nt==="path"),[tt,at,st,nt])}function useRoutes(tt,_e){return useRoutesImpl(tt,_e)}function useRoutesImpl(tt,_e,nt,rt){useInRouterContext()||invariant$2(!1);let{navigator:it}=reactExports.useContext(NavigationContext),{matches:st}=reactExports.useContext(RouteContext),at=st[st.length-1],ot=at?at.params:{};at&&at.pathname;let lt=at?at.pathnameBase:"/";at&&at.route;let ct=useLocation(),ut;if(_e){var ft;let vt=typeof _e=="string"?parsePath(_e):_e;lt==="/"||(ft=vt.pathname)!=null&&ft.startsWith(lt)||invariant$2(!1),ut=vt}else ut=ct;let ht=ut.pathname||"/",pt=ht;if(lt!=="/"){let vt=lt.replace(/^\//,"").split("/");pt="/"+ht.replace(/^\//,"").split("/").slice(vt.length).join("/")}let dt=matchRoutes(tt,{pathname:pt}),gt=_renderMatches(dt&&dt.map(vt=>Object.assign({},vt,{params:Object.assign({},ot,vt.params),pathname:joinPaths([lt,it.encodeLocation?it.encodeLocation(vt.pathname).pathname:vt.pathname]),pathnameBase:vt.pathnameBase==="/"?lt:joinPaths([lt,it.encodeLocation?it.encodeLocation(vt.pathnameBase).pathname:vt.pathnameBase])})),st,nt,rt);return _e&&gt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$2({pathname:"/",search:"",hash:"",state:null,key:"default"},ut),navigationType:Action.Pop}},gt):gt}function DefaultErrorComponent(){let tt=useRouteError(),_e=isRouteErrorResponse(tt)?tt.status+" "+tt.statusText:tt instanceof Error?tt.message:JSON.stringify(tt),nt=tt instanceof Error?tt.stack:null,it={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},_e),nt?reactExports.createElement("pre",{style:it},nt):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(_e){super(_e),this.state={location:_e.location,revalidation:_e.revalidation,error:_e.error}}static getDerivedStateFromError(_e){return{error:_e}}static getDerivedStateFromProps(_e,nt){return nt.location!==_e.location||nt.revalidation!=="idle"&&_e.revalidation==="idle"?{error:_e.error,location:_e.location,revalidation:_e.revalidation}:{error:_e.error!==void 0?_e.error:nt.error,location:nt.location,revalidation:_e.revalidation||nt.revalidation}}componentDidCatch(_e,nt){console.error("React Router caught the following error during render",_e,nt)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(tt){let{routeContext:_e,match:nt,children:rt}=tt,it=reactExports.useContext(DataRouterContext);return it&&it.static&&it.staticContext&&(nt.route.errorElement||nt.route.ErrorBoundary)&&(it.staticContext._deepestRenderedBoundaryId=nt.route.id),reactExports.createElement(RouteContext.Provider,{value:_e},rt)}function _renderMatches(tt,_e,nt,rt){var it;if(_e===void 0&&(_e=[]),nt===void 0&&(nt=null),rt===void 0&&(rt=null),tt==null){var st;if(!nt)return null;if(nt.errors)tt=nt.matches;else if((st=rt)!=null&&st.v7_partialHydration&&_e.length===0&&!nt.initialized&&nt.matches.length>0)tt=nt.matches;else return null}let at=tt,ot=(it=nt)==null?void 0:it.errors;if(ot!=null){let ut=at.findIndex(ft=>ft.route.id&&(ot==null?void 0:ot[ft.route.id])!==void 0);ut>=0||invariant$2(!1),at=at.slice(0,Math.min(at.length,ut+1))}let lt=!1,ct=-1;if(nt&&rt&&rt.v7_partialHydration)for(let ut=0;ut<at.length;ut++){let ft=at[ut];if((ft.route.HydrateFallback||ft.route.hydrateFallbackElement)&&(ct=ut),ft.route.id){let{loaderData:ht,errors:pt}=nt,dt=ft.route.loader&&ht[ft.route.id]===void 0&&(!pt||pt[ft.route.id]===void 0);if(ft.route.lazy||dt){lt=!0,ct>=0?at=at.slice(0,ct+1):at=[at[0]];break}}}return at.reduceRight((ut,ft,ht)=>{let pt,dt=!1,gt=null,vt=null;nt&&(pt=ot&&ft.route.id?ot[ft.route.id]:void 0,gt=ft.route.errorElement||defaultErrorElement,lt&&(ct<0&&ht===0?(dt=!0,vt=null):ct===ht&&(dt=!0,vt=ft.route.hydrateFallbackElement||null)));let mt=_e.concat(at.slice(0,ht+1)),xt=()=>{let St;return pt?St=gt:dt?St=vt:ft.route.Component?St=reactExports.createElement(ft.route.Component,null):ft.route.element?St=ft.route.element:St=ut,reactExports.createElement(RenderedRoute,{match:ft,routeContext:{outlet:ut,matches:mt,isDataRoute:nt!=null},children:St})};return nt&&(ft.route.ErrorBoundary||ft.route.errorElement||ht===0)?reactExports.createElement(RenderErrorBoundary,{location:nt.location,revalidation:nt.revalidation,component:gt,error:pt,children:xt(),routeContext:{outlet:null,matches:mt,isDataRoute:!0}}):xt()},null)}var DataRouterHook$1=function(tt){return tt.UseBlocker="useBlocker",tt.UseRevalidator="useRevalidator",tt.UseNavigateStable="useNavigate",tt}(DataRouterHook$1||{}),DataRouterStateHook$1=function(tt){return tt.UseBlocker="useBlocker",tt.UseLoaderData="useLoaderData",tt.UseActionData="useActionData",tt.UseRouteError="useRouteError",tt.UseNavigation="useNavigation",tt.UseRouteLoaderData="useRouteLoaderData",tt.UseMatches="useMatches",tt.UseRevalidator="useRevalidator",tt.UseNavigateStable="useNavigate",tt.UseRouteId="useRouteId",tt}(DataRouterStateHook$1||{});function useDataRouterContext(tt){let _e=reactExports.useContext(DataRouterContext);return _e||invariant$2(!1),_e}function useDataRouterState(tt){let _e=reactExports.useContext(DataRouterStateContext);return _e||invariant$2(!1),_e}function useRouteContext(tt){let _e=reactExports.useContext(RouteContext);return _e||invariant$2(!1),_e}function useCurrentRouteId(tt){let _e=useRouteContext(),nt=_e.matches[_e.matches.length-1];return nt.route.id||invariant$2(!1),nt.route.id}function useRouteError(){var tt;let _e=reactExports.useContext(RouteErrorContext),nt=useDataRouterState(DataRouterStateHook$1.UseRouteError),rt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return _e!==void 0?_e:(tt=nt.errors)==null?void 0:tt[rt]}function useNavigateStable(){let{router:tt}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),_e=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),nt=reactExports.useRef(!1);return useIsomorphicLayoutEffect$4(()=>{nt.current=!0}),reactExports.useCallback(function(it,st){st===void 0&&(st={}),nt.current&&(typeof it=="number"?tt.navigate(it):tt.navigate(it,_extends$2({fromRouteId:_e},st)))},[tt,_e])}const alreadyWarned={};function warnOnce$1(tt,_e){alreadyWarned[_e]||(alreadyWarned[_e]=!0,console.warn(_e))}const logDeprecation=(tt,_e,nt)=>warnOnce$1(tt," React Router Future Flag Warning: "+_e+". "+("You can use the `"+tt+"` future flag to opt-in early. ")+("For more information, see "+nt+"."));function logV6DeprecationWarnings(tt,_e){tt!=null&&tt.v7_startTransition||logDeprecation("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(tt!=null&&tt.v7_relativeSplatPath)&&!_e&&logDeprecation("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Navigate(tt){let{to:_e,replace:nt,state:rt,relative:it}=tt;useInRouterContext()||invariant$2(!1);let{future:st,static:at}=reactExports.useContext(NavigationContext),{matches:ot}=reactExports.useContext(RouteContext),{pathname:lt}=useLocation(),ct=useNavigate(),ut=resolveTo(_e,getResolveToMatches(ot,st.v7_relativeSplatPath),lt,it==="path"),ft=JSON.stringify(ut);return reactExports.useEffect(()=>ct(JSON.parse(ft),{replace:nt,state:rt,relative:it}),[ct,ft,it,nt,rt]),null}function Route(tt){invariant$2(!1)}function Router(tt){let{basename:_e="/",children:nt=null,location:rt,navigationType:it=Action.Pop,navigator:st,static:at=!1,future:ot}=tt;useInRouterContext()&&invariant$2(!1);let lt=_e.replace(/^\/*/,"/"),ct=reactExports.useMemo(()=>({basename:lt,navigator:st,static:at,future:_extends$2({v7_relativeSplatPath:!1},ot)}),[lt,ot,st,at]);typeof rt=="string"&&(rt=parsePath(rt));let{pathname:ut="/",search:ft="",hash:ht="",state:pt=null,key:dt="default"}=rt,gt=reactExports.useMemo(()=>{let vt=stripBasename(ut,lt);return vt==null?null:{location:{pathname:vt,search:ft,hash:ht,state:pt,key:dt},navigationType:it}},[lt,ut,ft,ht,pt,dt,it]);return gt==null?null:reactExports.createElement(NavigationContext.Provider,{value:ct},reactExports.createElement(LocationContext.Provider,{children:nt,value:gt}))}function Routes(tt){let{children:_e,location:nt}=tt;return useRoutes(createRoutesFromChildren(_e),nt)}new Promise(()=>{});function createRoutesFromChildren(tt,_e){_e===void 0&&(_e=[]);let nt=[];return reactExports.Children.forEach(tt,(rt,it)=>{if(!reactExports.isValidElement(rt))return;let st=[..._e,it];if(rt.type===reactExports.Fragment){nt.push.apply(nt,createRoutesFromChildren(rt.props.children,st));return}rt.type!==Route&&invariant$2(!1),!rt.props.index||!rt.props.children||invariant$2(!1);let at={id:rt.props.id||st.join("-"),caseSensitive:rt.props.caseSensitive,element:rt.props.element,Component:rt.props.Component,index:rt.props.index,path:rt.props.path,loader:rt.props.loader,action:rt.props.action,errorElement:rt.props.errorElement,ErrorBoundary:rt.props.ErrorBoundary,hasErrorBoundary:rt.props.ErrorBoundary!=null||rt.props.errorElement!=null,shouldRevalidate:rt.props.shouldRevalidate,handle:rt.props.handle,lazy:rt.props.lazy};rt.props.children&&(at.children=createRoutesFromChildren(rt.props.children,st)),nt.push(at)}),nt}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(tt){for(var _e=1;_e<arguments.length;_e++){var nt=arguments[_e];for(var rt in nt)Object.prototype.hasOwnProperty.call(nt,rt)&&(tt[rt]=nt[rt])}return tt},_extends$1.apply(this,arguments)}function _objectWithoutPropertiesLoose(tt,_e){if(tt==null)return{};var nt={},rt=Object.keys(tt),it,st;for(st=0;st<rt.length;st++)it=rt[st],!(_e.indexOf(it)>=0)&&(nt[it]=tt[it]);return nt}function isModifiedEvent(tt){return!!(tt.metaKey||tt.altKey||tt.ctrlKey||tt.shiftKey)}function shouldProcessLinkClick(tt,_e){return tt.button===0&&(!_e||_e==="_self")&&!isModifiedEvent(tt)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function HashRouter(tt){let{basename:_e,children:nt,future:rt,window:it}=tt,st=reactExports.useRef();st.current==null&&(st.current=createHashHistory({window:it,v5Compat:!0}));let at=st.current,[ot,lt]=reactExports.useState({action:at.action,location:at.location}),{v7_startTransition:ct}=rt||{},ut=reactExports.useCallback(ft=>{ct&&startTransitionImpl?startTransitionImpl(()=>lt(ft)):lt(ft)},[lt,ct]);return reactExports.useLayoutEffect(()=>at.listen(ut),[at,ut]),reactExports.useEffect(()=>logV6DeprecationWarnings(rt),[rt]),reactExports.createElement(Router,{basename:_e,children:nt,location:ot.location,navigationType:ot.action,navigator:at,future:rt})}const isBrowser$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(_e,nt){let{onClick:rt,relative:it,reloadDocument:st,replace:at,state:ot,target:lt,to:ct,preventScrollReset:ut,viewTransition:ft}=_e,ht=_objectWithoutPropertiesLoose(_e,_excluded),{basename:pt}=reactExports.useContext(NavigationContext),dt,gt=!1;if(typeof ct=="string"&&ABSOLUTE_URL_REGEX.test(ct)&&(dt=ct,isBrowser$2))try{let St=new URL(window.location.href),Et=ct.startsWith("//")?new URL(St.protocol+ct):new URL(ct),bt=stripBasename(Et.pathname,pt);Et.origin===St.origin&&bt!=null?ct=bt+Et.search+Et.hash:gt=!0}catch{}let vt=useHref(ct,{relative:it}),mt=useLinkClickHandler(ct,{replace:at,state:ot,target:lt,preventScrollReset:ut,relative:it,viewTransition:ft});function xt(St){rt&&rt(St),St.defaultPrevented||mt(St)}return reactExports.createElement("a",_extends$1({},ht,{href:dt||vt,onClick:gt||st?rt:xt,ref:nt,target:lt}))});var DataRouterHook;(function(tt){tt.UseScrollRestoration="useScrollRestoration",tt.UseSubmit="useSubmit",tt.UseSubmitFetcher="useSubmitFetcher",tt.UseFetcher="useFetcher",tt.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(tt){tt.UseFetcher="useFetcher",tt.UseFetchers="useFetchers",tt.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(tt,_e){let{target:nt,replace:rt,state:it,preventScrollReset:st,relative:at,viewTransition:ot}=_e===void 0?{}:_e,lt=useNavigate(),ct=useLocation(),ut=useResolvedPath(tt,{relative:at});return reactExports.useCallback(ft=>{if(shouldProcessLinkClick(ft,nt)){ft.preventDefault();let ht=rt!==void 0?rt:createPath(ct)===createPath(ut);lt(tt,{replace:ht,state:it,preventScrollReset:st,relative:at,viewTransition:ot})}},[ct,lt,ut,rt,it,nt,tt,st,at,ot])}const ScrollToTop=()=>{const{pathname:tt}=useLocation();return reactExports.useLayoutEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[tt]),null},Hero=()=>{const tt=reactExports.useRef(null),_e=reactExports.useRef(null);return reactExports.useEffect(()=>{const nt=tt.current,rt=st=>{st.forEach(at=>{at.isIntersecting&&nt.play()})},it=new IntersectionObserver(rt,{root:null,rootMargin:"0px",threshold:.1});return _e.current&&it.observe(_e.current),()=>{_e.current&&it.unobserve(_e.current)}},[]),jsxRuntimeExports.jsx("div",{className:"hero",children:jsxRuntimeExports.jsxs("div",{className:"row",children:[jsxRuntimeExports.jsxs("div",{className:"col-md-8 px-0 pe-4 pt-80",children:[jsxRuntimeExports.jsx("img",{src:"assets/me.jpg",className:"me"}),jsxRuntimeExports.jsx("p",{children:"I design products that address real challenges and deliver meaningful value to both users and businesses. My journey covers everything from building products from the ground up to fine-tuning the details that make them better. Along the way, Ive developed design systems, shaped processes, and led design teams. Collaboration is key for meI love working closely with different teams, and Im always learning new skills to keep improving how I work and what I deliver."})]}),jsxRuntimeExports.jsxs("div",{className:"col-md-4 px-0 ps-4",children:[jsxRuntimeExports.jsx("div",{className:"",ref:_e,children:jsxRuntimeExports.jsx("lottie-player",{ref:tt,mode:"normal",speed:1,src:"/portfolio/assets/animation/Complex_render2.json",style:{width:"100%",height:"360px"},loop:!0,onClick:()=>{var nt,rt;(nt=tt.current)==null||nt.stop(),(rt=tt.current)==null||rt.play()}})}),jsxRuntimeExports.jsxs("div",{className:"complexthings",children:["Making Complex Things",jsxRuntimeExports.jsx("br",{}),"Straightforward & Delightful"]})]})]})})},Header=({wrapperclassName:tt,className:_e,title:nt,description:rt,size:it="medium",color:st,colorDescription:at,alignment:ot="left",logoUrl:lt})=>jsxRuntimeExports.jsxs("div",{className:`${tt} page-header-wrapper`,children:[jsxRuntimeExports.jsxs("div",{className:"page-header-text-wrapper",children:[jsxRuntimeExports.jsx("h1",{className:`page-header-title ${it} ${_e}`,style:{color:st,textAlign:ot,alignSelf:ot},children:nt}),jsxRuntimeExports.jsx("p",{className:`page-header-description ${it} ${_e}`,style:{color:at,textAlign:ot,alignSelf:ot},children:rt})]}),lt&&jsxRuntimeExports.jsx("div",{className:"page-header-logo-wrapper",children:jsxRuntimeExports.jsx("img",{src:lt,className:"page-header-logo"})})]}),Project=({link:tt,image:_e,title:nt,year:rt,description:it,comingsoon:st,noHeader:at,projectNDA:ot,isNextProject:lt})=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Header,{wrapperclassName:`${lt?"nextProjectSubtitle":"d_none"}`,title:"See next project",size:"small"}),jsxRuntimeExports.jsxs("div",{className:`project_card container-xxl ${lt?"nextProject":""}`,children:[jsxRuntimeExports.jsx("img",{src:"/portfolio/assets/icons/project_NDA.svg",className:`project_NDA ${ot?"":"d_none"}`}),jsxRuntimeExports.jsxs(Link,{to:tt.toString(),className:`a.project_card ${st?"coming_soon":""}`,children:[jsxRuntimeExports.jsx("div",{className:"project_image_wrapper",children:jsxRuntimeExports.jsx("img",{src:_e,alt:nt,className:"project_image"})}),jsxRuntimeExports.jsxs("div",{className:`titlesWrapper ${at?"project_header":""}`,children:[jsxRuntimeExports.jsx("p",{className:"project_title",children:nt}),jsxRuntimeExports.jsx("p",{className:"project_description flex-grow-1",children:it}),jsxRuntimeExports.jsx("p",{className:"project_year",children:rt})]})]})]})]}),LayoutGroupContext$1=reactExports.createContext({});function useConstant$1(tt){const _e=reactExports.useRef(null);return _e.current===null&&(_e.current=tt()),_e.current}const PresenceContext$1=reactExports.createContext(null),MotionConfigContext$1=reactExports.createContext({transformPagePoint:tt=>tt,isStatic:!1,reducedMotion:"never"});class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(_e){const nt=this.props.childRef.current;if(nt&&_e.isPresent&&!this.props.isPresent){const rt=this.props.sizeRef.current;rt.height=nt.offsetHeight||0,rt.width=nt.offsetWidth||0,rt.top=nt.offsetTop,rt.left=nt.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:tt,isPresent:_e}){const nt=reactExports.useId(),rt=reactExports.useRef(null),it=reactExports.useRef({width:0,height:0,top:0,left:0}),{nonce:st}=reactExports.useContext(MotionConfigContext$1);return reactExports.useInsertionEffect(()=>{const{width:at,height:ot,top:lt,left:ct}=it.current;if(_e||!rt.current||!at||!ot)return;rt.current.dataset.motionPopId=nt;const ut=document.createElement("style");return st&&(ut.nonce=st),document.head.appendChild(ut),ut.sheet&&ut.sheet.insertRule(`
          [data-motion-pop-id="${nt}"] {
            position: absolute !important;
            width: ${at}px !important;
            height: ${ot}px !important;
            top: ${lt}px !important;
            left: ${ct}px !important;
          }
        `),()=>{document.head.removeChild(ut)}},[_e]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:_e,childRef:rt,sizeRef:it,children:reactExports.cloneElement(tt,{ref:rt})})}const PresenceChild=({children:tt,initial:_e,isPresent:nt,onExitComplete:rt,custom:it,presenceAffectsLayout:st,mode:at})=>{const ot=useConstant$1(newChildrenMap),lt=reactExports.useId(),ct=reactExports.useCallback(ft=>{ot.set(ft,!0);for(const ht of ot.values())if(!ht)return;rt&&rt()},[ot,rt]),ut=reactExports.useMemo(()=>({id:lt,initial:_e,isPresent:nt,custom:it,onExitComplete:ct,register:ft=>(ot.set(ft,!1),()=>ot.delete(ft))}),st?[Math.random(),ct]:[nt,ct]);return reactExports.useMemo(()=>{ot.forEach((ft,ht)=>ot.set(ht,!1))},[nt]),reactExports.useEffect(()=>{!nt&&!ot.size&&rt&&rt()},[nt]),at==="popLayout"&&(tt=jsxRuntimeExports.jsx(PopChild,{isPresent:nt,children:tt})),jsxRuntimeExports.jsx(PresenceContext$1.Provider,{value:ut,children:tt})};function newChildrenMap(){return new Map}function usePresence$1(tt=!0){const _e=reactExports.useContext(PresenceContext$1);if(_e===null)return[!0,null];const{isPresent:nt,onExitComplete:rt,register:it}=_e,st=reactExports.useId();reactExports.useEffect(()=>{tt&&it(st)},[tt]);const at=reactExports.useCallback(()=>tt&&rt&&rt(st),[st,rt,tt]);return!nt&&rt?[!1,at]:[!0]}const getChildKey=tt=>tt.key||"";function onlyElements(tt){const _e=[];return reactExports.Children.forEach(tt,nt=>{reactExports.isValidElement(nt)&&_e.push(nt)}),_e}const isBrowser$1=typeof window<"u",useIsomorphicLayoutEffect$3=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,AnimatePresence=({children:tt,custom:_e,initial:nt=!0,onExitComplete:rt,presenceAffectsLayout:it=!0,mode:st="sync",propagate:at=!1})=>{const[ot,lt]=usePresence$1(at),ct=reactExports.useMemo(()=>onlyElements(tt),[tt]),ut=at&&!ot?[]:ct.map(getChildKey),ft=reactExports.useRef(!0),ht=reactExports.useRef(ct),pt=useConstant$1(()=>new Map),[dt,gt]=reactExports.useState(ct),[vt,mt]=reactExports.useState(ct);useIsomorphicLayoutEffect$3(()=>{ft.current=!1,ht.current=ct;for(let Et=0;Et<vt.length;Et++){const bt=getChildKey(vt[Et]);ut.includes(bt)?pt.delete(bt):pt.get(bt)!==!0&&pt.set(bt,!1)}},[vt,ut.length,ut.join("-")]);const xt=[];if(ct!==dt){let Et=[...ct];for(let bt=0;bt<vt.length;bt++){const Tt=vt[bt],At=getChildKey(Tt);ut.includes(At)||(Et.splice(bt,0,Tt),xt.push(Tt))}st==="wait"&&xt.length&&(Et=xt),mt(onlyElements(Et)),gt(ct);return}const{forceRender:St}=reactExports.useContext(LayoutGroupContext$1);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:vt.map(Et=>{const bt=getChildKey(Et),Tt=at&&!ot?!1:ct===vt||ut.includes(bt),At=()=>{if(pt.has(bt))pt.set(bt,!0);else return;let Ct=!0;pt.forEach(Pt=>{Pt||(Ct=!1)}),Ct&&(St==null||St(),mt(ht.current),at&&(lt==null||lt()),rt&&rt())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:Tt,initial:!ft.current||nt?void 0:!1,custom:Tt?void 0:_e,presenceAffectsLayout:it,mode:st,onExitComplete:Tt?void 0:At,children:Et},bt)})})},noop$1=tt=>tt;let invariant$1=noop$1;function memo$1(tt){let _e;return()=>(_e===void 0&&(_e=tt()),_e)}const progress$1=(tt,_e,nt)=>{const rt=_e-tt;return rt===0?1:(nt-tt)/rt},secondsToMilliseconds$1=tt=>tt*1e3,millisecondsToSeconds$1=tt=>tt/1e3,MotionGlobalConfig$1={skipAnimations:!1,useManualTiming:!1};function createRenderStep$1(tt){let _e=new Set,nt=new Set,rt=!1,it=!1;const st=new WeakSet;let at={delta:0,timestamp:0,isProcessing:!1};function ot(ct){st.has(ct)&&(lt.schedule(ct),tt()),ct(at)}const lt={schedule:(ct,ut=!1,ft=!1)=>{const pt=ft&&rt?_e:nt;return ut&&st.add(ct),pt.has(ct)||pt.add(ct),ct},cancel:ct=>{nt.delete(ct),st.delete(ct)},process:ct=>{if(at=ct,rt){it=!0;return}rt=!0,[_e,nt]=[nt,_e],_e.forEach(ot),_e.clear(),rt=!1,it&&(it=!1,lt.process(ct))}};return lt}const stepsOrder$1=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed$2=40;function createRenderBatcher$1(tt,_e){let nt=!1,rt=!0;const it={delta:0,timestamp:0,isProcessing:!1},st=()=>nt=!0,at=stepsOrder$1.reduce((mt,xt)=>(mt[xt]=createRenderStep$1(st),mt),{}),{read:ot,resolveKeyframes:lt,update:ct,preRender:ut,render:ft,postRender:ht}=at,pt=()=>{const mt=performance.now();nt=!1,it.delta=rt?1e3/60:Math.max(Math.min(mt-it.timestamp,maxElapsed$2),1),it.timestamp=mt,it.isProcessing=!0,ot.process(it),lt.process(it),ct.process(it),ut.process(it),ft.process(it),ht.process(it),it.isProcessing=!1,nt&&_e&&(rt=!1,tt(pt))},dt=()=>{nt=!0,rt=!0,it.isProcessing||tt(pt)};return{schedule:stepsOrder$1.reduce((mt,xt)=>{const St=at[xt];return mt[xt]=(Et,bt=!1,Tt=!1)=>(nt||dt(),St.schedule(Et,bt,Tt)),mt},{}),cancel:mt=>{for(let xt=0;xt<stepsOrder$1.length;xt++)at[stepsOrder$1[xt]].cancel(mt)},state:it,steps:at}}const{schedule:frame$1,cancel:cancelFrame$1,state:frameData$1,steps:frameSteps$1}=createRenderBatcher$1(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$1,!0),LazyContext$1=reactExports.createContext({strict:!1}),featureProps$1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions$1={};for(const tt in featureProps$1)featureDefinitions$1[tt]={isEnabled:_e=>featureProps$1[tt].some(nt=>!!_e[nt])};function loadFeatures$1(tt){for(const _e in tt)featureDefinitions$1[_e]={...featureDefinitions$1[_e],...tt[_e]}}const validMotionProps$1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp$1(tt){return tt.startsWith("while")||tt.startsWith("drag")&&tt!=="draggable"||tt.startsWith("layout")||tt.startsWith("onTap")||tt.startsWith("onPan")||tt.startsWith("onLayout")||validMotionProps$1.has(tt)}let shouldForward$1=tt=>!isValidMotionProp$1(tt);function loadExternalIsValidProp$1(tt){tt&&(shouldForward$1=_e=>_e.startsWith("on")?!isValidMotionProp$1(_e):tt(_e))}try{loadExternalIsValidProp$1(require("@emotion/is-prop-valid").default)}catch{}function filterProps$1(tt,_e,nt){const rt={};for(const it in tt)it==="values"&&typeof tt.values=="object"||(shouldForward$1(it)||nt===!0&&isValidMotionProp$1(it)||!_e&&!isValidMotionProp$1(it)||tt.draggable&&it.startsWith("onDrag"))&&(rt[it]=tt[it]);return rt}function createDOMMotionComponentProxy$1(tt){if(typeof Proxy>"u")return tt;const _e=new Map,nt=(...rt)=>tt(...rt);return new Proxy(nt,{get:(rt,it)=>it==="create"?tt:(_e.has(it)||_e.set(it,tt(it)),_e.get(it))})}const MotionContext$1=reactExports.createContext({});function isVariantLabel$1(tt){return typeof tt=="string"||Array.isArray(tt)}function isAnimationControls$1(tt){return tt!==null&&typeof tt=="object"&&typeof tt.start=="function"}const variantPriorityOrder$1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps$1=["initial",...variantPriorityOrder$1];function isControllingVariants$1(tt){return isAnimationControls$1(tt.animate)||variantProps$1.some(_e=>isVariantLabel$1(tt[_e]))}function isVariantNode$1(tt){return!!(isControllingVariants$1(tt)||tt.variants)}function getCurrentTreeVariants$1(tt,_e){if(isControllingVariants$1(tt)){const{initial:nt,animate:rt}=tt;return{initial:nt===!1||isVariantLabel$1(nt)?nt:void 0,animate:isVariantLabel$1(rt)?rt:void 0}}return tt.inherit!==!1?_e:{}}function useCreateMotionContext$1(tt){const{initial:_e,animate:nt}=getCurrentTreeVariants$1(tt,reactExports.useContext(MotionContext$1));return reactExports.useMemo(()=>({initial:_e,animate:nt}),[variantLabelsAsDependency$1(_e),variantLabelsAsDependency$1(nt)])}function variantLabelsAsDependency$1(tt){return Array.isArray(tt)?tt.join(" "):tt}const motionComponentSymbol$1=Symbol.for("motionComponentSymbol");function isRefObject$1(tt){return tt&&typeof tt=="object"&&Object.prototype.hasOwnProperty.call(tt,"current")}function useMotionRef$1(tt,_e,nt){return reactExports.useCallback(rt=>{rt&&tt.onMount&&tt.onMount(rt),_e&&(rt?_e.mount(rt):_e.unmount()),nt&&(typeof nt=="function"?nt(rt):isRefObject$1(nt)&&(nt.current=rt))},[_e])}const camelToDash$1=tt=>tt.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId$1="framerAppearId",optimizedAppearDataAttribute$1="data-"+camelToDash$1(optimizedAppearDataId$1),{schedule:microtask$1,cancel:cancelMicrotask$1}=createRenderBatcher$1(queueMicrotask,!1),SwitchLayoutGroupContext$1=reactExports.createContext({});function useVisualElement$1(tt,_e,nt,rt,it){var st,at;const{visualElement:ot}=reactExports.useContext(MotionContext$1),lt=reactExports.useContext(LazyContext$1),ct=reactExports.useContext(PresenceContext$1),ut=reactExports.useContext(MotionConfigContext$1).reducedMotion,ft=reactExports.useRef(null);rt=rt||lt.renderer,!ft.current&&rt&&(ft.current=rt(tt,{visualState:_e,parent:ot,props:nt,presenceContext:ct,blockInitialAnimation:ct?ct.initial===!1:!1,reducedMotionConfig:ut}));const ht=ft.current,pt=reactExports.useContext(SwitchLayoutGroupContext$1);ht&&!ht.projection&&it&&(ht.type==="html"||ht.type==="svg")&&createProjectionNode$3(ft.current,nt,it,pt);const dt=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{ht&&dt.current&&ht.update(nt,ct)});const gt=nt[optimizedAppearDataAttribute$1],vt=reactExports.useRef(!!gt&&!(!((st=window.MotionHandoffIsComplete)===null||st===void 0)&&st.call(window,gt))&&((at=window.MotionHasOptimisedAnimation)===null||at===void 0?void 0:at.call(window,gt)));return useIsomorphicLayoutEffect$3(()=>{ht&&(dt.current=!0,window.MotionIsMounted=!0,ht.updateFeatures(),microtask$1.render(ht.render),vt.current&&ht.animationState&&ht.animationState.animateChanges())}),reactExports.useEffect(()=>{ht&&(!vt.current&&ht.animationState&&ht.animationState.animateChanges(),vt.current&&(queueMicrotask(()=>{var mt;(mt=window.MotionHandoffMarkAsComplete)===null||mt===void 0||mt.call(window,gt)}),vt.current=!1))}),ht}function createProjectionNode$3(tt,_e,nt,rt){const{layoutId:it,layout:st,drag:at,dragConstraints:ot,layoutScroll:lt,layoutRoot:ct}=_e;tt.projection=new nt(tt.latestValues,_e["data-framer-portal-id"]?void 0:getClosestProjectingNode$1(tt.parent)),tt.projection.setOptions({layoutId:it,layout:st,alwaysMeasureLayout:!!at||ot&&isRefObject$1(ot),visualElement:tt,animationType:typeof st=="string"?st:"both",initialPromotionConfig:rt,layoutScroll:lt,layoutRoot:ct})}function getClosestProjectingNode$1(tt){if(tt)return tt.options.allowProjection!==!1?tt.projection:getClosestProjectingNode$1(tt.parent)}function createRendererMotionComponent$1({preloadedFeatures:tt,createVisualElement:_e,useRender:nt,useVisualState:rt,Component:it}){var st,at;tt&&loadFeatures$1(tt);function ot(ct,ut){let ft;const ht={...reactExports.useContext(MotionConfigContext$1),...ct,layoutId:useLayoutId$1(ct)},{isStatic:pt}=ht,dt=useCreateMotionContext$1(ct),gt=rt(ct,pt);if(!pt&&isBrowser$1){useStrictMode$1();const vt=getProjectionFunctionality$1(ht);ft=vt.MeasureLayout,dt.visualElement=useVisualElement$1(it,gt,ht,_e,vt.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext$1.Provider,{value:dt,children:[ft&&dt.visualElement?jsxRuntimeExports.jsx(ft,{visualElement:dt.visualElement,...ht}):null,nt(it,ct,useMotionRef$1(gt,dt.visualElement,ut),gt,pt,dt.visualElement)]})}ot.displayName=`motion.${typeof it=="string"?it:`create(${(at=(st=it.displayName)!==null&&st!==void 0?st:it.name)!==null&&at!==void 0?at:""})`}`;const lt=reactExports.forwardRef(ot);return lt[motionComponentSymbol$1]=it,lt}function useLayoutId$1({layoutId:tt}){const _e=reactExports.useContext(LayoutGroupContext$1).id;return _e&&tt!==void 0?_e+"-"+tt:tt}function useStrictMode$1(tt,_e){reactExports.useContext(LazyContext$1).strict}function getProjectionFunctionality$1(tt){const{drag:_e,layout:nt}=featureDefinitions$1;if(!_e&&!nt)return{};const rt={..._e,...nt};return{MeasureLayout:_e!=null&&_e.isEnabled(tt)||nt!=null&&nt.isEnabled(tt)?rt.MeasureLayout:void 0,ProjectionNode:rt.ProjectionNode}}const lowercaseSVGElements$1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent$1(tt){return typeof tt!="string"||tt.includes("-")?!1:!!(lowercaseSVGElements$1.indexOf(tt)>-1||/[A-Z]/u.test(tt))}function getValueState$1(tt){const _e=[{},{}];return tt==null||tt.values.forEach((nt,rt)=>{_e[0][rt]=nt.get(),_e[1][rt]=nt.getVelocity()}),_e}function resolveVariantFromProps$1(tt,_e,nt,rt){if(typeof _e=="function"){const[it,st]=getValueState$1(rt);_e=_e(nt!==void 0?nt:tt.custom,it,st)}if(typeof _e=="string"&&(_e=tt.variants&&tt.variants[_e]),typeof _e=="function"){const[it,st]=getValueState$1(rt);_e=_e(nt!==void 0?nt:tt.custom,it,st)}return _e}const isKeyframesTarget$1=tt=>Array.isArray(tt),isCustomValue$1=tt=>!!(tt&&typeof tt=="object"&&tt.mix&&tt.toValue),resolveFinalValueInKeyframes$1=tt=>isKeyframesTarget$1(tt)?tt[tt.length-1]||0:tt,isMotionValue$1=tt=>!!(tt&&tt.getVelocity);function resolveMotionValue$1(tt){const _e=isMotionValue$1(tt)?tt.get():tt;return isCustomValue$1(_e)?_e.toValue():_e}function makeState$1({scrapeMotionValuesFromProps:tt,createRenderState:_e,onUpdate:nt},rt,it,st){const at={latestValues:makeLatestValues$1(rt,it,st,tt),renderState:_e()};return nt&&(at.onMount=ot=>nt({props:rt,current:ot,...at}),at.onUpdate=ot=>nt(ot)),at}const makeUseVisualState$1=tt=>(_e,nt)=>{const rt=reactExports.useContext(MotionContext$1),it=reactExports.useContext(PresenceContext$1),st=()=>makeState$1(tt,_e,rt,it);return nt?st():useConstant$1(st)};function makeLatestValues$1(tt,_e,nt,rt){const it={},st=rt(tt,{});for(const ht in st)it[ht]=resolveMotionValue$1(st[ht]);let{initial:at,animate:ot}=tt;const lt=isControllingVariants$1(tt),ct=isVariantNode$1(tt);_e&&ct&&!lt&&tt.inherit!==!1&&(at===void 0&&(at=_e.initial),ot===void 0&&(ot=_e.animate));let ut=nt?nt.initial===!1:!1;ut=ut||at===!1;const ft=ut?ot:at;if(ft&&typeof ft!="boolean"&&!isAnimationControls$1(ft)){const ht=Array.isArray(ft)?ft:[ft];for(let pt=0;pt<ht.length;pt++){const dt=resolveVariantFromProps$1(tt,ht[pt]);if(dt){const{transitionEnd:gt,transition:vt,...mt}=dt;for(const xt in mt){let St=mt[xt];if(Array.isArray(St)){const Et=ut?St.length-1:0;St=St[Et]}St!==null&&(it[xt]=St)}for(const xt in gt)it[xt]=gt[xt]}}}return it}const transformPropOrder$1=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps$1=new Set(transformPropOrder$1),checkStringStartsWith$1=tt=>_e=>typeof _e=="string"&&_e.startsWith(tt),isCSSVariableName$1=checkStringStartsWith$1("--"),startsAsVariableToken$1=checkStringStartsWith$1("var(--"),isCSSVariableToken$1=tt=>startsAsVariableToken$1(tt)?singleCssVariableRegex$1.test(tt.split("/*")[0].trim()):!1,singleCssVariableRegex$1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,getValueAsType$1=(tt,_e)=>_e&&typeof tt=="number"?_e.transform(tt):tt,clamp$2=(tt,_e,nt)=>nt>_e?_e:nt<tt?tt:nt,number$1={test:tt=>typeof tt=="number",parse:parseFloat,transform:tt=>tt},alpha$1={...number$1,transform:tt=>clamp$2(0,1,tt)},scale$1={...number$1,default:1},createUnitType$1=tt=>({test:_e=>typeof _e=="string"&&_e.endsWith(tt)&&_e.split(" ").length===1,parse:parseFloat,transform:_e=>`${_e}${tt}`}),degrees$1=createUnitType$1("deg"),percent$1=createUnitType$1("%"),px$2=createUnitType$1("px"),vh$1=createUnitType$1("vh"),vw$1=createUnitType$1("vw"),progressPercentage$1={...percent$1,parse:tt=>percent$1.parse(tt)/100,transform:tt=>percent$1.transform(tt*100)},browserNumberValueTypes$1={borderWidth:px$2,borderTopWidth:px$2,borderRightWidth:px$2,borderBottomWidth:px$2,borderLeftWidth:px$2,borderRadius:px$2,radius:px$2,borderTopLeftRadius:px$2,borderTopRightRadius:px$2,borderBottomRightRadius:px$2,borderBottomLeftRadius:px$2,width:px$2,maxWidth:px$2,height:px$2,maxHeight:px$2,top:px$2,right:px$2,bottom:px$2,left:px$2,padding:px$2,paddingTop:px$2,paddingRight:px$2,paddingBottom:px$2,paddingLeft:px$2,margin:px$2,marginTop:px$2,marginRight:px$2,marginBottom:px$2,marginLeft:px$2,backgroundPositionX:px$2,backgroundPositionY:px$2},transformValueTypes$1={rotate:degrees$1,rotateX:degrees$1,rotateY:degrees$1,rotateZ:degrees$1,scale:scale$1,scaleX:scale$1,scaleY:scale$1,scaleZ:scale$1,skew:degrees$1,skewX:degrees$1,skewY:degrees$1,distance:px$2,translateX:px$2,translateY:px$2,translateZ:px$2,x:px$2,y:px$2,z:px$2,perspective:px$2,transformPerspective:px$2,opacity:alpha$1,originX:progressPercentage$1,originY:progressPercentage$1,originZ:px$2},int$1={...number$1,transform:Math.round},numberValueTypes$1={...browserNumberValueTypes$1,...transformValueTypes$1,zIndex:int$1,size:px$2,fillOpacity:alpha$1,strokeOpacity:alpha$1,numOctaves:int$1},translateAlias$1={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms$1=transformPropOrder$1.length;function buildTransform$1(tt,_e,nt){let rt="",it=!0;for(let st=0;st<numTransforms$1;st++){const at=transformPropOrder$1[st],ot=tt[at];if(ot===void 0)continue;let lt=!0;if(typeof ot=="number"?lt=ot===(at.startsWith("scale")?1:0):lt=parseFloat(ot)===0,!lt||nt){const ct=getValueAsType$1(ot,numberValueTypes$1[at]);if(!lt){it=!1;const ut=translateAlias$1[at]||at;rt+=`${ut}(${ct}) `}nt&&(_e[at]=ct)}}return rt=rt.trim(),nt?rt=nt(_e,it?"":rt):it&&(rt="none"),rt}function buildHTMLStyles$1(tt,_e,nt){const{style:rt,vars:it,transformOrigin:st}=tt;let at=!1,ot=!1;for(const lt in _e){const ct=_e[lt];if(transformProps$1.has(lt)){at=!0;continue}else if(isCSSVariableName$1(lt)){it[lt]=ct;continue}else{const ut=getValueAsType$1(ct,numberValueTypes$1[lt]);lt.startsWith("origin")?(ot=!0,st[lt]=ut):rt[lt]=ut}}if(_e.transform||(at||nt?rt.transform=buildTransform$1(_e,tt.transform,nt):rt.transform&&(rt.transform="none")),ot){const{originX:lt="50%",originY:ct="50%",originZ:ut=0}=st;rt.transformOrigin=`${lt} ${ct} ${ut}`}}const dashKeys$1={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys$1={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath$1(tt,_e,nt=1,rt=0,it=!0){tt.pathLength=1;const st=it?dashKeys$1:camelKeys$1;tt[st.offset]=px$2.transform(-rt);const at=px$2.transform(_e),ot=px$2.transform(nt);tt[st.array]=`${at} ${ot}`}function calcOrigin$3(tt,_e,nt){return typeof tt=="string"?tt:px$2.transform(_e+nt*tt)}function calcSVGTransformOrigin$1(tt,_e,nt){const rt=calcOrigin$3(_e,tt.x,tt.width),it=calcOrigin$3(nt,tt.y,tt.height);return`${rt} ${it}`}function buildSVGAttrs$1(tt,{attrX:_e,attrY:nt,attrScale:rt,originX:it,originY:st,pathLength:at,pathSpacing:ot=1,pathOffset:lt=0,...ct},ut,ft){if(buildHTMLStyles$1(tt,ct,ft),ut){tt.style.viewBox&&(tt.attrs.viewBox=tt.style.viewBox);return}tt.attrs=tt.style,tt.style={};const{attrs:ht,style:pt,dimensions:dt}=tt;ht.transform&&(dt&&(pt.transform=ht.transform),delete ht.transform),dt&&(it!==void 0||st!==void 0||pt.transform)&&(pt.transformOrigin=calcSVGTransformOrigin$1(dt,it!==void 0?it:.5,st!==void 0?st:.5)),_e!==void 0&&(ht.x=_e),nt!==void 0&&(ht.y=nt),rt!==void 0&&(ht.scale=rt),at!==void 0&&buildSVGPath$1(ht,at,ot,lt,!1)}const createHtmlRenderState$1=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),createSvgRenderState$1=()=>({...createHtmlRenderState$1(),attrs:{}}),isSVGTag$1=tt=>typeof tt=="string"&&tt.toLowerCase()==="svg";function renderHTML$1(tt,{style:_e,vars:nt},rt,it){Object.assign(tt.style,_e,it&&it.getProjectionStyles(rt));for(const st in nt)tt.style.setProperty(st,nt[st])}const camelCaseAttributes$1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG$1(tt,_e,nt,rt){renderHTML$1(tt,_e,void 0,rt);for(const it in _e.attrs)tt.setAttribute(camelCaseAttributes$1.has(it)?it:camelToDash$1(it),_e.attrs[it])}const scaleCorrectors$1={};function addScaleCorrector$1(tt){Object.assign(scaleCorrectors$1,tt)}function isForcedMotionValue$1(tt,{layout:_e,layoutId:nt}){return transformProps$1.has(tt)||tt.startsWith("origin")||(_e||nt!==void 0)&&(!!scaleCorrectors$1[tt]||tt==="opacity")}function scrapeMotionValuesFromProps$3(tt,_e,nt){var rt;const{style:it}=tt,st={};for(const at in it)(isMotionValue$1(it[at])||_e.style&&isMotionValue$1(_e.style[at])||isForcedMotionValue$1(at,tt)||((rt=nt==null?void 0:nt.getValue(at))===null||rt===void 0?void 0:rt.liveStyle)!==void 0)&&(st[at]=it[at]);return st}function scrapeMotionValuesFromProps$2(tt,_e,nt){const rt=scrapeMotionValuesFromProps$3(tt,_e,nt);for(const it in tt)if(isMotionValue$1(tt[it])||isMotionValue$1(_e[it])){const st=transformPropOrder$1.indexOf(it)!==-1?"attr"+it.charAt(0).toUpperCase()+it.substring(1):it;rt[st]=tt[it]}return rt}function updateSVGDimensions$1(tt,_e){try{_e.dimensions=typeof tt.getBBox=="function"?tt.getBBox():tt.getBoundingClientRect()}catch{_e.dimensions={x:0,y:0,width:0,height:0}}}const layoutProps$1=["x","y","width","height","cx","cy","r"],svgMotionConfig$1={useVisualState:makeUseVisualState$1({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$2,createRenderState:createSvgRenderState$1,onUpdate:({props:tt,prevProps:_e,current:nt,renderState:rt,latestValues:it})=>{if(!nt)return;let st=!!tt.drag;if(!st){for(const ot in it)if(transformProps$1.has(ot)){st=!0;break}}if(!st)return;let at=!_e;if(_e)for(let ot=0;ot<layoutProps$1.length;ot++){const lt=layoutProps$1[ot];tt[lt]!==_e[lt]&&(at=!0)}at&&frame$1.read(()=>{updateSVGDimensions$1(nt,rt),frame$1.render(()=>{buildSVGAttrs$1(rt,it,isSVGTag$1(nt.tagName),tt.transformTemplate),renderSVG$1(nt,rt)})})}})},htmlMotionConfig$1={useVisualState:makeUseVisualState$1({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$3,createRenderState:createHtmlRenderState$1})};function copyRawValuesOnly$1(tt,_e,nt){for(const rt in _e)!isMotionValue$1(_e[rt])&&!isForcedMotionValue$1(rt,nt)&&(tt[rt]=_e[rt])}function useInitialMotionValues$1({transformTemplate:tt},_e){return reactExports.useMemo(()=>{const nt=createHtmlRenderState$1();return buildHTMLStyles$1(nt,_e,tt),Object.assign({},nt.vars,nt.style)},[_e])}function useStyle$1(tt,_e){const nt=tt.style||{},rt={};return copyRawValuesOnly$1(rt,nt,tt),Object.assign(rt,useInitialMotionValues$1(tt,_e)),rt}function useHTMLProps$1(tt,_e){const nt={},rt=useStyle$1(tt,_e);return tt.drag&&tt.dragListener!==!1&&(nt.draggable=!1,rt.userSelect=rt.WebkitUserSelect=rt.WebkitTouchCallout="none",rt.touchAction=tt.drag===!0?"none":`pan-${tt.drag==="x"?"y":"x"}`),tt.tabIndex===void 0&&(tt.onTap||tt.onTapStart||tt.whileTap)&&(nt.tabIndex=0),nt.style=rt,nt}function useSVGProps$1(tt,_e,nt,rt){const it=reactExports.useMemo(()=>{const st=createSvgRenderState$1();return buildSVGAttrs$1(st,_e,isSVGTag$1(rt),tt.transformTemplate),{...st.attrs,style:{...st.style}}},[_e]);if(tt.style){const st={};copyRawValuesOnly$1(st,tt.style,tt),it.style={...st,...it.style}}return it}function createUseRender$1(tt=!1){return(nt,rt,it,{latestValues:st},at)=>{const lt=(isSVGComponent$1(nt)?useSVGProps$1:useHTMLProps$1)(rt,st,at,nt),ct=filterProps$1(rt,typeof nt=="string",tt),ut=nt!==reactExports.Fragment?{...ct,...lt,ref:it}:{},{children:ft}=rt,ht=reactExports.useMemo(()=>isMotionValue$1(ft)?ft.get():ft,[ft]);return reactExports.createElement(nt,{...ut,children:ht})}}function createMotionComponentFactory$1(tt,_e){return function(rt,{forwardMotionProps:it}={forwardMotionProps:!1}){const at={...isSVGComponent$1(rt)?svgMotionConfig$1:htmlMotionConfig$1,preloadedFeatures:tt,useRender:createUseRender$1(it),createVisualElement:_e,Component:rt};return createRendererMotionComponent$1(at)}}function shallowCompare$1(tt,_e){if(!Array.isArray(_e))return!1;const nt=_e.length;if(nt!==tt.length)return!1;for(let rt=0;rt<nt;rt++)if(_e[rt]!==tt[rt])return!1;return!0}function resolveVariant$1(tt,_e,nt){const rt=tt.getProps();return resolveVariantFromProps$1(rt,_e,nt!==void 0?nt:rt.custom,tt)}const supportsScrollTimeline$1=memo$1(()=>window.ScrollTimeline!==void 0);let BaseGroupPlaybackControls$1=class{constructor(_e){this.stop=()=>this.runAll("stop"),this.animations=_e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(_e=>"finished"in _e?_e.finished:_e))}getAll(_e){return this.animations[0][_e]}setAll(_e,nt){for(let rt=0;rt<this.animations.length;rt++)this.animations[rt][_e]=nt}attachTimeline(_e,nt){const rt=this.animations.map(it=>{if(supportsScrollTimeline$1()&&it.attachTimeline)return it.attachTimeline(_e);if(typeof nt=="function")return nt(it)});return()=>{rt.forEach((it,st)=>{it&&it(),this.animations[st].stop()})}}get time(){return this.getAll("time")}set time(_e){this.setAll("time",_e)}get speed(){return this.getAll("speed")}set speed(_e){this.setAll("speed",_e)}get startTime(){return this.getAll("startTime")}get duration(){let _e=0;for(let nt=0;nt<this.animations.length;nt++)_e=Math.max(_e,this.animations[nt].duration);return _e}runAll(_e){this.animations.forEach(nt=>nt[_e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}},GroupPlaybackControls$1=class extends BaseGroupPlaybackControls$1{then(_e,nt){return Promise.all(this.animations).then(_e).catch(nt)}};function getValueTransition$2(tt,_e){return tt?tt[_e]||tt.default||tt:void 0}const maxGeneratorDuration$1=2e4;function calcGeneratorDuration$1(tt){let _e=0;const nt=50;let rt=tt.next(_e);for(;!rt.done&&_e<maxGeneratorDuration$1;)_e+=nt,rt=tt.next(_e);return _e>=maxGeneratorDuration$1?1/0:_e}function createGeneratorEasing(tt,_e=100,nt){const rt=nt({...tt,keyframes:[0,_e]}),it=Math.min(calcGeneratorDuration$1(rt),maxGeneratorDuration$1);return{type:"keyframes",ease:st=>rt.next(it*st).value/_e,duration:millisecondsToSeconds$1(it)}}function isGenerator$1(tt){return typeof tt=="function"}function attachTimeline$1(tt,_e){tt.timeline=_e,tt.onfinish=null}const isBezierDefinition$1=tt=>Array.isArray(tt)&&typeof tt[0]=="number",supportsFlags$1={linearEasing:void 0};function memoSupports$1(tt,_e){const nt=memo$1(tt);return()=>{var rt;return(rt=supportsFlags$1[_e])!==null&&rt!==void 0?rt:nt()}}const supportsLinearEasing$1=memoSupports$1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),generateLinearEasing$1=(tt,_e,nt=10)=>{let rt="";const it=Math.max(Math.round(_e/nt),2);for(let st=0;st<it;st++)rt+=tt(progress$1(0,it-1,st))+", ";return`linear(${rt.substring(0,rt.length-2)})`};function isWaapiSupportedEasing$1(tt){return!!(typeof tt=="function"&&supportsLinearEasing$1()||!tt||typeof tt=="string"&&(tt in supportedWaapiEasing$1||supportsLinearEasing$1())||isBezierDefinition$1(tt)||Array.isArray(tt)&&tt.every(isWaapiSupportedEasing$1))}const cubicBezierAsString$1=([tt,_e,nt,rt])=>`cubic-bezier(${tt}, ${_e}, ${nt}, ${rt})`,supportedWaapiEasing$1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString$1([0,.65,.55,1]),circOut:cubicBezierAsString$1([.55,0,1,.45]),backIn:cubicBezierAsString$1([.31,.01,.66,-.59]),backOut:cubicBezierAsString$1([.33,1.53,.69,.99])};function mapEasingToNativeEasing$1(tt,_e){if(tt)return typeof tt=="function"&&supportsLinearEasing$1()?generateLinearEasing$1(tt,_e):isBezierDefinition$1(tt)?cubicBezierAsString$1(tt):Array.isArray(tt)?tt.map(nt=>mapEasingToNativeEasing$1(nt,_e)||supportedWaapiEasing$1.easeOut):supportedWaapiEasing$1[tt]}const isDragging$1={x:!1,y:!1};function isDragActive$1(){return isDragging$1.x||isDragging$1.y}function resolveElements$1(tt,_e,nt){var rt;if(tt instanceof Element)return[tt];if(typeof tt=="string"){let it=document;_e&&(it=_e.current);const st=(rt=nt==null?void 0:nt[tt])!==null&&rt!==void 0?rt:it.querySelectorAll(tt);return st?Array.from(st):[]}return Array.from(tt)}function setupGesture$1(tt,_e){const nt=resolveElements$1(tt),rt=new AbortController,it={passive:!0,..._e,signal:rt.signal};return[nt,it,()=>rt.abort()]}function filterEvents$3(tt){return _e=>{_e.pointerType==="touch"||isDragActive$1()||tt(_e)}}function hover$1(tt,_e,nt={}){const[rt,it,st]=setupGesture$1(tt,nt),at=filterEvents$3(ot=>{const{target:lt}=ot,ct=_e(ot);if(typeof ct!="function"||!lt)return;const ut=filterEvents$3(ft=>{ct(ft),lt.removeEventListener("pointerleave",ut)});lt.addEventListener("pointerleave",ut,it)});return rt.forEach(ot=>{ot.addEventListener("pointerenter",at,it)}),st}const isNodeOrChild$1=(tt,_e)=>_e?tt===_e?!0:isNodeOrChild$1(tt,_e.parentElement):!1,isPrimaryPointer$1=tt=>tt.pointerType==="mouse"?typeof tt.button!="number"||tt.button<=0:tt.isPrimary!==!1,focusableElements$1=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible$1(tt){return focusableElements$1.has(tt.tagName)||tt.tabIndex!==-1}const isPressing$1=new WeakSet;function filterEvents$2(tt){return _e=>{_e.key==="Enter"&&tt(_e)}}function firePointerEvent$1(tt,_e){tt.dispatchEvent(new PointerEvent("pointer"+_e,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress$1=(tt,_e)=>{const nt=tt.currentTarget;if(!nt)return;const rt=filterEvents$2(()=>{if(isPressing$1.has(nt))return;firePointerEvent$1(nt,"down");const it=filterEvents$2(()=>{firePointerEvent$1(nt,"up")}),st=()=>firePointerEvent$1(nt,"cancel");nt.addEventListener("keyup",it,_e),nt.addEventListener("blur",st,_e)});nt.addEventListener("keydown",rt,_e),nt.addEventListener("blur",()=>nt.removeEventListener("keydown",rt),_e)};function isValidPressEvent$1(tt){return isPrimaryPointer$1(tt)&&!isDragActive$1()}function press$1(tt,_e,nt={}){const[rt,it,st]=setupGesture$1(tt,nt),at=ot=>{const lt=ot.currentTarget;if(!isValidPressEvent$1(ot)||isPressing$1.has(lt))return;isPressing$1.add(lt);const ct=_e(ot),ut=(pt,dt)=>{window.removeEventListener("pointerup",ft),window.removeEventListener("pointercancel",ht),!(!isValidPressEvent$1(pt)||!isPressing$1.has(lt))&&(isPressing$1.delete(lt),typeof ct=="function"&&ct(pt,{success:dt}))},ft=pt=>{ut(pt,nt.useGlobalTarget||isNodeOrChild$1(lt,pt.target))},ht=pt=>{ut(pt,!1)};window.addEventListener("pointerup",ft,it),window.addEventListener("pointercancel",ht,it)};return rt.forEach(ot=>{!isElementKeyboardAccessible$1(ot)&&ot.getAttribute("tabindex")===null&&(ot.tabIndex=0),(nt.useGlobalTarget?window:ot).addEventListener("pointerdown",at,it),ot.addEventListener("focus",ct=>enableKeyboardPress$1(ct,it),it)}),st}function setDragLock$1(tt){return tt==="x"||tt==="y"?isDragging$1[tt]?null:(isDragging$1[tt]=!0,()=>{isDragging$1[tt]=!1}):isDragging$1.x||isDragging$1.y?null:(isDragging$1.x=isDragging$1.y=!0,()=>{isDragging$1.x=isDragging$1.y=!1})}const positionalKeys$1=new Set(["width","height","top","left","right","bottom",...transformPropOrder$1]);let now$4;function clearTime$1(){now$4=void 0}const time$1={now:()=>(now$4===void 0&&time$1.set(frameData$1.isProcessing||MotionGlobalConfig$1.useManualTiming?frameData$1.timestamp:performance.now()),now$4),set:tt=>{now$4=tt,queueMicrotask(clearTime$1)}};function addUniqueItem$1(tt,_e){tt.indexOf(_e)===-1&&tt.push(_e)}function removeItem$1(tt,_e){const nt=tt.indexOf(_e);nt>-1&&tt.splice(nt,1)}let SubscriptionManager$1=class{constructor(){this.subscriptions=[]}add(_e){return addUniqueItem$1(this.subscriptions,_e),()=>removeItem$1(this.subscriptions,_e)}notify(_e,nt,rt){const it=this.subscriptions.length;if(it)if(it===1)this.subscriptions[0](_e,nt,rt);else for(let st=0;st<it;st++){const at=this.subscriptions[st];at&&at(_e,nt,rt)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};function velocityPerSecond$1(tt,_e){return _e?tt*(1e3/_e):0}const MAX_VELOCITY_DELTA$1=30,isFloat$1=tt=>!isNaN(parseFloat(tt));let MotionValue$1=class{constructor(_e,nt={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(rt,it=!0)=>{const st=time$1.now();this.updatedAt!==st&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(rt),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),it&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(_e),this.owner=nt.owner}setCurrent(_e){this.current=_e,this.updatedAt=time$1.now(),this.canTrackVelocity===null&&_e!==void 0&&(this.canTrackVelocity=isFloat$1(this.current))}setPrevFrameValue(_e=this.current){this.prevFrameValue=_e,this.prevUpdatedAt=this.updatedAt}onChange(_e){return this.on("change",_e)}on(_e,nt){this.events[_e]||(this.events[_e]=new SubscriptionManager$1);const rt=this.events[_e].add(nt);return _e==="change"?()=>{rt(),frame$1.read(()=>{this.events.change.getSize()||this.stop()})}:rt}clearListeners(){for(const _e in this.events)this.events[_e].clear()}attach(_e,nt){this.passiveEffect=_e,this.stopPassiveEffect=nt}set(_e,nt=!0){!nt||!this.passiveEffect?this.updateAndNotify(_e,nt):this.passiveEffect(_e,this.updateAndNotify)}setWithVelocity(_e,nt,rt){this.set(nt),this.prev=void 0,this.prevFrameValue=_e,this.prevUpdatedAt=this.updatedAt-rt}jump(_e,nt=!0){this.updateAndNotify(_e),this.prev=_e,this.prevUpdatedAt=this.prevFrameValue=void 0,nt&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const _e=time$1.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||_e-this.updatedAt>MAX_VELOCITY_DELTA$1)return 0;const nt=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA$1);return velocityPerSecond$1(parseFloat(this.current)-parseFloat(this.prevFrameValue),nt)}start(_e){return this.stop(),new Promise(nt=>{this.hasAnimated=!0,this.animation=_e(nt),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function motionValue$1(tt,_e){return new MotionValue$1(tt,_e)}function setMotionValue$1(tt,_e,nt){tt.hasValue(_e)?tt.getValue(_e).set(nt):tt.addValue(_e,motionValue$1(nt))}function setTarget$1(tt,_e){const nt=resolveVariant$1(tt,_e);let{transitionEnd:rt={},transition:it={},...st}=nt||{};st={...st,...rt};for(const at in st){const ot=resolveFinalValueInKeyframes$1(st[at]);setMotionValue$1(tt,at,ot)}}function isWillChangeMotionValue$1(tt){return!!(isMotionValue$1(tt)&&tt.add)}function addValueToWillChange$1(tt,_e){const nt=tt.getValue("willChange");if(isWillChangeMotionValue$1(nt))return nt.add(_e)}function getOptimisedAppearId$1(tt){return tt.props[optimizedAppearDataAttribute$1]}const calcBezier$1=(tt,_e,nt)=>(((1-3*nt+3*_e)*tt+(3*nt-6*_e))*tt+3*_e)*tt,subdivisionPrecision$1=1e-7,subdivisionMaxIterations$1=12;function binarySubdivide$1(tt,_e,nt,rt,it){let st,at,ot=0;do at=_e+(nt-_e)/2,st=calcBezier$1(at,rt,it)-tt,st>0?nt=at:_e=at;while(Math.abs(st)>subdivisionPrecision$1&&++ot<subdivisionMaxIterations$1);return at}function cubicBezier$1(tt,_e,nt,rt){if(tt===_e&&nt===rt)return noop$1;const it=st=>binarySubdivide$1(st,0,1,tt,nt);return st=>st===0||st===1?st:calcBezier$1(it(st),_e,rt)}const mirrorEasing$1=tt=>_e=>_e<=.5?tt(2*_e)/2:(2-tt(2*(1-_e)))/2,reverseEasing$1=tt=>_e=>1-tt(1-_e),backOut$1=cubicBezier$1(.33,1.53,.69,.99),backIn$1=reverseEasing$1(backOut$1),backInOut$1=mirrorEasing$1(backIn$1),anticipate$1=tt=>(tt*=2)<1?.5*backIn$1(tt):.5*(2-Math.pow(2,-10*(tt-1))),circIn$1=tt=>1-Math.sin(Math.acos(tt)),circOut$1=reverseEasing$1(circIn$1),circInOut$1=mirrorEasing$1(circIn$1),isZeroValueString$1=tt=>/^0[^.\s]+$/u.test(tt);function isNone$1(tt){return typeof tt=="number"?tt===0:tt!==null?tt==="none"||tt==="0"||isZeroValueString$1(tt):!0}const sanitize$1=tt=>Math.round(tt*1e5)/1e5,floatRegex$1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish$1(tt){return tt==null}const singleColorRegex$1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString$1=(tt,_e)=>nt=>!!(typeof nt=="string"&&singleColorRegex$1.test(nt)&&nt.startsWith(tt)||_e&&!isNullish$1(nt)&&Object.prototype.hasOwnProperty.call(nt,_e)),splitColor$1=(tt,_e,nt)=>rt=>{if(typeof rt!="string")return rt;const[it,st,at,ot]=rt.match(floatRegex$1);return{[tt]:parseFloat(it),[_e]:parseFloat(st),[nt]:parseFloat(at),alpha:ot!==void 0?parseFloat(ot):1}},clampRgbUnit$1=tt=>clamp$2(0,255,tt),rgbUnit$1={...number$1,transform:tt=>Math.round(clampRgbUnit$1(tt))},rgba$1={test:isColorString$1("rgb","red"),parse:splitColor$1("red","green","blue"),transform:({red:tt,green:_e,blue:nt,alpha:rt=1})=>"rgba("+rgbUnit$1.transform(tt)+", "+rgbUnit$1.transform(_e)+", "+rgbUnit$1.transform(nt)+", "+sanitize$1(alpha$1.transform(rt))+")"};function parseHex$1(tt){let _e="",nt="",rt="",it="";return tt.length>5?(_e=tt.substring(1,3),nt=tt.substring(3,5),rt=tt.substring(5,7),it=tt.substring(7,9)):(_e=tt.substring(1,2),nt=tt.substring(2,3),rt=tt.substring(3,4),it=tt.substring(4,5),_e+=_e,nt+=nt,rt+=rt,it+=it),{red:parseInt(_e,16),green:parseInt(nt,16),blue:parseInt(rt,16),alpha:it?parseInt(it,16)/255:1}}const hex$1={test:isColorString$1("#"),parse:parseHex$1,transform:rgba$1.transform},hsla$1={test:isColorString$1("hsl","hue"),parse:splitColor$1("hue","saturation","lightness"),transform:({hue:tt,saturation:_e,lightness:nt,alpha:rt=1})=>"hsla("+Math.round(tt)+", "+percent$1.transform(sanitize$1(_e))+", "+percent$1.transform(sanitize$1(nt))+", "+sanitize$1(alpha$1.transform(rt))+")"},color$1={test:tt=>rgba$1.test(tt)||hex$1.test(tt)||hsla$1.test(tt),parse:tt=>rgba$1.test(tt)?rgba$1.parse(tt):hsla$1.test(tt)?hsla$1.parse(tt):hex$1.parse(tt),transform:tt=>typeof tt=="string"?tt:tt.hasOwnProperty("red")?rgba$1.transform(tt):hsla$1.transform(tt)},colorRegex$1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test$1(tt){var _e,nt;return isNaN(tt)&&typeof tt=="string"&&(((_e=tt.match(floatRegex$1))===null||_e===void 0?void 0:_e.length)||0)+(((nt=tt.match(colorRegex$1))===null||nt===void 0?void 0:nt.length)||0)>0}const NUMBER_TOKEN$1="number",COLOR_TOKEN$1="color",VAR_TOKEN$1="var",VAR_FUNCTION_TOKEN$1="var(",SPLIT_TOKEN$1="${}",complexRegex$1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue$1(tt){const _e=tt.toString(),nt=[],rt={color:[],number:[],var:[]},it=[];let st=0;const ot=_e.replace(complexRegex$1,lt=>(color$1.test(lt)?(rt.color.push(st),it.push(COLOR_TOKEN$1),nt.push(color$1.parse(lt))):lt.startsWith(VAR_FUNCTION_TOKEN$1)?(rt.var.push(st),it.push(VAR_TOKEN$1),nt.push(lt)):(rt.number.push(st),it.push(NUMBER_TOKEN$1),nt.push(parseFloat(lt))),++st,SPLIT_TOKEN$1)).split(SPLIT_TOKEN$1);return{values:nt,split:ot,indexes:rt,types:it}}function parseComplexValue$1(tt){return analyseComplexValue$1(tt).values}function createTransformer$1(tt){const{split:_e,types:nt}=analyseComplexValue$1(tt),rt=_e.length;return it=>{let st="";for(let at=0;at<rt;at++)if(st+=_e[at],it[at]!==void 0){const ot=nt[at];ot===NUMBER_TOKEN$1?st+=sanitize$1(it[at]):ot===COLOR_TOKEN$1?st+=color$1.transform(it[at]):st+=it[at]}return st}}const convertNumbersToZero$1=tt=>typeof tt=="number"?0:tt;function getAnimatableNone$3(tt){const _e=parseComplexValue$1(tt);return createTransformer$1(tt)(_e.map(convertNumbersToZero$1))}const complex$1={test:test$1,parse:parseComplexValue$1,createTransformer:createTransformer$1,getAnimatableNone:getAnimatableNone$3},maxDefaults$1=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter$1(tt){const[_e,nt]=tt.slice(0,-1).split("(");if(_e==="drop-shadow")return tt;const[rt]=nt.match(floatRegex$1)||[];if(!rt)return tt;const it=nt.replace(rt,"");let st=maxDefaults$1.has(_e)?1:0;return rt!==nt&&(st*=100),_e+"("+st+it+")"}const functionRegex$1=/\b([a-z-]*)\(.*?\)/gu,filter$1={...complex$1,getAnimatableNone:tt=>{const _e=tt.match(functionRegex$1);return _e?_e.map(applyDefaultFilter$1).join(" "):tt}},defaultValueTypes$1={...numberValueTypes$1,color:color$1,backgroundColor:color$1,outlineColor:color$1,fill:color$1,stroke:color$1,borderColor:color$1,borderTopColor:color$1,borderRightColor:color$1,borderBottomColor:color$1,borderLeftColor:color$1,filter:filter$1,WebkitFilter:filter$1},getDefaultValueType$1=tt=>defaultValueTypes$1[tt];function getAnimatableNone$2(tt,_e){let nt=getDefaultValueType$1(tt);return nt!==filter$1&&(nt=complex$1),nt.getAnimatableNone?nt.getAnimatableNone(_e):void 0}const invalidTemplates$1=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable$1(tt,_e,nt){let rt=0,it;for(;rt<tt.length&&!it;){const st=tt[rt];typeof st=="string"&&!invalidTemplates$1.has(st)&&analyseComplexValue$1(st).values.length&&(it=tt[rt]),rt++}if(it&&nt)for(const st of _e)tt[st]=getAnimatableNone$2(nt,it)}const isNumOrPxType$1=tt=>tt===number$1||tt===px$2,getPosFromMatrix$1=(tt,_e)=>parseFloat(tt.split(", ")[_e]),getTranslateFromMatrix$1=(tt,_e)=>(nt,{transform:rt})=>{if(rt==="none"||!rt)return 0;const it=rt.match(/^matrix3d\((.+)\)$/u);if(it)return getPosFromMatrix$1(it[1],_e);{const st=rt.match(/^matrix\((.+)\)$/u);return st?getPosFromMatrix$1(st[1],tt):0}},transformKeys$1=new Set(["x","y","z"]),nonTranslationalTransformKeys$1=transformPropOrder$1.filter(tt=>!transformKeys$1.has(tt));function removeNonTranslationalTransform$1(tt){const _e=[];return nonTranslationalTransformKeys$1.forEach(nt=>{const rt=tt.getValue(nt);rt!==void 0&&(_e.push([nt,rt.get()]),rt.set(nt.startsWith("scale")?1:0))}),_e}const positionalValues$1={width:({x:tt},{paddingLeft:_e="0",paddingRight:nt="0"})=>tt.max-tt.min-parseFloat(_e)-parseFloat(nt),height:({y:tt},{paddingTop:_e="0",paddingBottom:nt="0"})=>tt.max-tt.min-parseFloat(_e)-parseFloat(nt),top:(tt,{top:_e})=>parseFloat(_e),left:(tt,{left:_e})=>parseFloat(_e),bottom:({y:tt},{top:_e})=>parseFloat(_e)+(tt.max-tt.min),right:({x:tt},{left:_e})=>parseFloat(_e)+(tt.max-tt.min),x:getTranslateFromMatrix$1(4,13),y:getTranslateFromMatrix$1(5,14)};positionalValues$1.translateX=positionalValues$1.x;positionalValues$1.translateY=positionalValues$1.y;const toResolve$1=new Set;let isScheduled$1=!1,anyNeedsMeasurement$1=!1;function measureAllKeyframes$1(){if(anyNeedsMeasurement$1){const tt=Array.from(toResolve$1).filter(rt=>rt.needsMeasurement),_e=new Set(tt.map(rt=>rt.element)),nt=new Map;_e.forEach(rt=>{const it=removeNonTranslationalTransform$1(rt);it.length&&(nt.set(rt,it),rt.render())}),tt.forEach(rt=>rt.measureInitialState()),_e.forEach(rt=>{rt.render();const it=nt.get(rt);it&&it.forEach(([st,at])=>{var ot;(ot=rt.getValue(st))===null||ot===void 0||ot.set(at)})}),tt.forEach(rt=>rt.measureEndState()),tt.forEach(rt=>{rt.suspendedScrollY!==void 0&&window.scrollTo(0,rt.suspendedScrollY)})}anyNeedsMeasurement$1=!1,isScheduled$1=!1,toResolve$1.forEach(tt=>tt.complete()),toResolve$1.clear()}function readAllKeyframes$1(){toResolve$1.forEach(tt=>{tt.readKeyframes(),tt.needsMeasurement&&(anyNeedsMeasurement$1=!0)})}function flushKeyframeResolvers$1(){readAllKeyframes$1(),measureAllKeyframes$1()}let KeyframeResolver$1=class{constructor(_e,nt,rt,it,st,at=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[..._e],this.onComplete=nt,this.name=rt,this.motionValue=it,this.element=st,this.isAsync=at}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve$1.add(this),isScheduled$1||(isScheduled$1=!0,frame$1.read(readAllKeyframes$1),frame$1.resolveKeyframes(measureAllKeyframes$1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:_e,name:nt,element:rt,motionValue:it}=this;for(let st=0;st<_e.length;st++)if(_e[st]===null)if(st===0){const at=it==null?void 0:it.get(),ot=_e[_e.length-1];if(at!==void 0)_e[0]=at;else if(rt&&nt){const lt=rt.readValue(nt,ot);lt!=null&&(_e[0]=lt)}_e[0]===void 0&&(_e[0]=ot),it&&at===void 0&&it.set(_e[0])}else _e[st]=_e[st-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve$1.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve$1.delete(this))}resume(){this.isComplete||this.scheduleResolve()}};const isNumericalString$1=tt=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(tt),splitCSSVariableRegex$1=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable$1(tt){const _e=splitCSSVariableRegex$1.exec(tt);if(!_e)return[,];const[,nt,rt,it]=_e;return[`--${nt??rt}`,it]}function getVariableValue$1(tt,_e,nt=1){const[rt,it]=parseCSSVariable$1(tt);if(!rt)return;const st=window.getComputedStyle(_e).getPropertyValue(rt);if(st){const at=st.trim();return isNumericalString$1(at)?parseFloat(at):at}return isCSSVariableToken$1(it)?getVariableValue$1(it,_e,nt+1):it}const testValueType$1=tt=>_e=>_e.test(tt),auto$1={test:tt=>tt==="auto",parse:tt=>tt},dimensionValueTypes$1=[number$1,px$2,percent$1,degrees$1,vw$1,vh$1,auto$1],findDimensionValueType$1=tt=>dimensionValueTypes$1.find(testValueType$1(tt));let DOMKeyframesResolver$1=class extends KeyframeResolver$1{constructor(_e,nt,rt,it,st){super(_e,nt,rt,it,st,!0)}readKeyframes(){const{unresolvedKeyframes:_e,element:nt,name:rt}=this;if(!nt||!nt.current)return;super.readKeyframes();for(let lt=0;lt<_e.length;lt++){let ct=_e[lt];if(typeof ct=="string"&&(ct=ct.trim(),isCSSVariableToken$1(ct))){const ut=getVariableValue$1(ct,nt.current);ut!==void 0&&(_e[lt]=ut),lt===_e.length-1&&(this.finalKeyframe=ct)}}if(this.resolveNoneKeyframes(),!positionalKeys$1.has(rt)||_e.length!==2)return;const[it,st]=_e,at=findDimensionValueType$1(it),ot=findDimensionValueType$1(st);if(at!==ot)if(isNumOrPxType$1(at)&&isNumOrPxType$1(ot))for(let lt=0;lt<_e.length;lt++){const ct=_e[lt];typeof ct=="string"&&(_e[lt]=parseFloat(ct))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:_e,name:nt}=this,rt=[];for(let it=0;it<_e.length;it++)isNone$1(_e[it])&&rt.push(it);rt.length&&makeNoneKeyframesAnimatable$1(_e,rt,nt)}measureInitialState(){const{element:_e,unresolvedKeyframes:nt,name:rt}=this;if(!_e||!_e.current)return;rt==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues$1[rt](_e.measureViewportBox(),window.getComputedStyle(_e.current)),nt[0]=this.measuredOrigin;const it=nt[nt.length-1];it!==void 0&&_e.getValue(rt,it).jump(it,!1)}measureEndState(){var _e;const{element:nt,name:rt,unresolvedKeyframes:it}=this;if(!nt||!nt.current)return;const st=nt.getValue(rt);st&&st.jump(this.measuredOrigin,!1);const at=it.length-1,ot=it[at];it[at]=positionalValues$1[rt](nt.measureViewportBox(),window.getComputedStyle(nt.current)),ot!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=ot),!((_e=this.removedTransforms)===null||_e===void 0)&&_e.length&&this.removedTransforms.forEach(([lt,ct])=>{nt.getValue(lt).set(ct)}),this.resolveNoneKeyframes()}};const isAnimatable$1=(tt,_e)=>_e==="zIndex"?!1:!!(typeof tt=="number"||Array.isArray(tt)||typeof tt=="string"&&(complex$1.test(tt)||tt==="0")&&!tt.startsWith("url("));function hasKeyframesChanged$1(tt){const _e=tt[0];if(tt.length===1)return!0;for(let nt=0;nt<tt.length;nt++)if(tt[nt]!==_e)return!0}function canAnimate$1(tt,_e,nt,rt){const it=tt[0];if(it===null)return!1;if(_e==="display"||_e==="visibility")return!0;const st=tt[tt.length-1],at=isAnimatable$1(it,_e),ot=isAnimatable$1(st,_e);return!at||!ot?!1:hasKeyframesChanged$1(tt)||(nt==="spring"||isGenerator$1(nt))&&rt}const isNotNull$1=tt=>tt!==null;function getFinalKeyframe$1(tt,{repeat:_e,repeatType:nt="loop"},rt){const it=tt.filter(isNotNull$1),st=_e&&nt!=="loop"&&_e%2===1?0:it.length-1;return!st||rt===void 0?it[st]:rt}const MAX_RESOLVE_DELAY$1=40;let BaseAnimation$1=class{constructor({autoplay:_e=!0,delay:nt=0,type:rt="keyframes",repeat:it=0,repeatDelay:st=0,repeatType:at="loop",...ot}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time$1.now(),this.options={autoplay:_e,delay:nt,type:rt,repeat:it,repeatDelay:st,repeatType:at,...ot},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY$1?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers$1(),this._resolved}onKeyframesResolved(_e,nt){this.resolvedAt=time$1.now(),this.hasAttemptedResolve=!0;const{name:rt,type:it,velocity:st,delay:at,onComplete:ot,onUpdate:lt,isGenerator:ct}=this.options;if(!ct&&!canAnimate$1(_e,rt,it,st))if(at)this.options.duration=0;else{lt&&lt(getFinalKeyframe$1(_e,this.options,nt)),ot&&ot(),this.resolveFinishedPromise();return}const ut=this.initPlayback(_e,nt);ut!==!1&&(this._resolved={keyframes:_e,finalKeyframe:nt,...ut},this.onPostResolved())}onPostResolved(){}then(_e,nt){return this.currentFinishedPromise.then(_e,nt)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(_e=>{this.resolveFinishedPromise=_e})}};const mixNumber$3=(tt,_e,nt)=>tt+(_e-tt)*nt;function hueToRgb$1(tt,_e,nt){return nt<0&&(nt+=1),nt>1&&(nt-=1),nt<1/6?tt+(_e-tt)*6*nt:nt<1/2?_e:nt<2/3?tt+(_e-tt)*(2/3-nt)*6:tt}function hslaToRgba$1({hue:tt,saturation:_e,lightness:nt,alpha:rt}){tt/=360,_e/=100,nt/=100;let it=0,st=0,at=0;if(!_e)it=st=at=nt;else{const ot=nt<.5?nt*(1+_e):nt+_e-nt*_e,lt=2*nt-ot;it=hueToRgb$1(lt,ot,tt+1/3),st=hueToRgb$1(lt,ot,tt),at=hueToRgb$1(lt,ot,tt-1/3)}return{red:Math.round(it*255),green:Math.round(st*255),blue:Math.round(at*255),alpha:rt}}function mixImmediate$1(tt,_e){return nt=>nt>0?_e:tt}const mixLinearColor$1=(tt,_e,nt)=>{const rt=tt*tt,it=nt*(_e*_e-rt)+rt;return it<0?0:Math.sqrt(it)},colorTypes$1=[hex$1,rgba$1,hsla$1],getColorType$1=tt=>colorTypes$1.find(_e=>_e.test(tt));function asRGBA$1(tt){const _e=getColorType$1(tt);if(!_e)return!1;let nt=_e.parse(tt);return _e===hsla$1&&(nt=hslaToRgba$1(nt)),nt}const mixColor$1=(tt,_e)=>{const nt=asRGBA$1(tt),rt=asRGBA$1(_e);if(!nt||!rt)return mixImmediate$1(tt,_e);const it={...nt};return st=>(it.red=mixLinearColor$1(nt.red,rt.red,st),it.green=mixLinearColor$1(nt.green,rt.green,st),it.blue=mixLinearColor$1(nt.blue,rt.blue,st),it.alpha=mixNumber$3(nt.alpha,rt.alpha,st),rgba$1.transform(it))},combineFunctions$1=(tt,_e)=>nt=>_e(tt(nt)),pipe$1=(...tt)=>tt.reduce(combineFunctions$1),invisibleValues$1=new Set(["none","hidden"]);function mixVisibility$1(tt,_e){return invisibleValues$1.has(tt)?nt=>nt<=0?tt:_e:nt=>nt>=1?_e:tt}function mixNumber$2(tt,_e){return nt=>mixNumber$3(tt,_e,nt)}function getMixer$1(tt){return typeof tt=="number"?mixNumber$2:typeof tt=="string"?isCSSVariableToken$1(tt)?mixImmediate$1:color$1.test(tt)?mixColor$1:mixComplex$1:Array.isArray(tt)?mixArray$1:typeof tt=="object"?color$1.test(tt)?mixColor$1:mixObject$1:mixImmediate$1}function mixArray$1(tt,_e){const nt=[...tt],rt=nt.length,it=tt.map((st,at)=>getMixer$1(st)(st,_e[at]));return st=>{for(let at=0;at<rt;at++)nt[at]=it[at](st);return nt}}function mixObject$1(tt,_e){const nt={...tt,..._e},rt={};for(const it in nt)tt[it]!==void 0&&_e[it]!==void 0&&(rt[it]=getMixer$1(tt[it])(tt[it],_e[it]));return it=>{for(const st in rt)nt[st]=rt[st](it);return nt}}function matchOrder$1(tt,_e){var nt;const rt=[],it={color:0,var:0,number:0};for(let st=0;st<_e.values.length;st++){const at=_e.types[st],ot=tt.indexes[at][it[at]],lt=(nt=tt.values[ot])!==null&&nt!==void 0?nt:0;rt[st]=lt,it[at]++}return rt}const mixComplex$1=(tt,_e)=>{const nt=complex$1.createTransformer(_e),rt=analyseComplexValue$1(tt),it=analyseComplexValue$1(_e);return rt.indexes.var.length===it.indexes.var.length&&rt.indexes.color.length===it.indexes.color.length&&rt.indexes.number.length>=it.indexes.number.length?invisibleValues$1.has(tt)&&!it.values.length||invisibleValues$1.has(_e)&&!rt.values.length?mixVisibility$1(tt,_e):pipe$1(mixArray$1(matchOrder$1(rt,it),it.values),nt):mixImmediate$1(tt,_e)};function mix$1(tt,_e,nt){return typeof tt=="number"&&typeof _e=="number"&&typeof nt=="number"?mixNumber$3(tt,_e,nt):getMixer$1(tt)(tt,_e)}const velocitySampleDuration$1=5;function calcGeneratorVelocity$1(tt,_e,nt){const rt=Math.max(_e-velocitySampleDuration$1,0);return velocityPerSecond$1(nt-tt(rt),_e-rt)}const springDefaults$1={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin$1=.001;function findSpring$1({duration:tt=springDefaults$1.duration,bounce:_e=springDefaults$1.bounce,velocity:nt=springDefaults$1.velocity,mass:rt=springDefaults$1.mass}){let it,st,at=1-_e;at=clamp$2(springDefaults$1.minDamping,springDefaults$1.maxDamping,at),tt=clamp$2(springDefaults$1.minDuration,springDefaults$1.maxDuration,millisecondsToSeconds$1(tt)),at<1?(it=ct=>{const ut=ct*at,ft=ut*tt,ht=ut-nt,pt=calcAngularFreq$1(ct,at),dt=Math.exp(-ft);return safeMin$1-ht/pt*dt},st=ct=>{const ft=ct*at*tt,ht=ft*nt+nt,pt=Math.pow(at,2)*Math.pow(ct,2)*tt,dt=Math.exp(-ft),gt=calcAngularFreq$1(Math.pow(ct,2),at);return(-it(ct)+safeMin$1>0?-1:1)*((ht-pt)*dt)/gt}):(it=ct=>{const ut=Math.exp(-ct*tt),ft=(ct-nt)*tt+1;return-safeMin$1+ut*ft},st=ct=>{const ut=Math.exp(-ct*tt),ft=(nt-ct)*(tt*tt);return ut*ft});const ot=5/tt,lt=approximateRoot$1(it,st,ot);if(tt=secondsToMilliseconds$1(tt),isNaN(lt))return{stiffness:springDefaults$1.stiffness,damping:springDefaults$1.damping,duration:tt};{const ct=Math.pow(lt,2)*rt;return{stiffness:ct,damping:at*2*Math.sqrt(rt*ct),duration:tt}}}const rootIterations$1=12;function approximateRoot$1(tt,_e,nt){let rt=nt;for(let it=1;it<rootIterations$1;it++)rt=rt-tt(rt)/_e(rt);return rt}function calcAngularFreq$1(tt,_e){return tt*Math.sqrt(1-_e*_e)}const durationKeys$1=["duration","bounce"],physicsKeys$1=["stiffness","damping","mass"];function isSpringType$1(tt,_e){return _e.some(nt=>tt[nt]!==void 0)}function getSpringOptions$1(tt){let _e={velocity:springDefaults$1.velocity,stiffness:springDefaults$1.stiffness,damping:springDefaults$1.damping,mass:springDefaults$1.mass,isResolvedFromDuration:!1,...tt};if(!isSpringType$1(tt,physicsKeys$1)&&isSpringType$1(tt,durationKeys$1))if(tt.visualDuration){const nt=tt.visualDuration,rt=2*Math.PI/(nt*1.2),it=rt*rt,st=2*clamp$2(.05,1,1-(tt.bounce||0))*Math.sqrt(it);_e={..._e,mass:springDefaults$1.mass,stiffness:it,damping:st}}else{const nt=findSpring$1(tt);_e={..._e,...nt,mass:springDefaults$1.mass},_e.isResolvedFromDuration=!0}return _e}function spring$1(tt=springDefaults$1.visualDuration,_e=springDefaults$1.bounce){const nt=typeof tt!="object"?{visualDuration:tt,keyframes:[0,1],bounce:_e}:tt;let{restSpeed:rt,restDelta:it}=nt;const st=nt.keyframes[0],at=nt.keyframes[nt.keyframes.length-1],ot={done:!1,value:st},{stiffness:lt,damping:ct,mass:ut,duration:ft,velocity:ht,isResolvedFromDuration:pt}=getSpringOptions$1({...nt,velocity:-millisecondsToSeconds$1(nt.velocity||0)}),dt=ht||0,gt=ct/(2*Math.sqrt(lt*ut)),vt=at-st,mt=millisecondsToSeconds$1(Math.sqrt(lt/ut)),xt=Math.abs(vt)<5;rt||(rt=xt?springDefaults$1.restSpeed.granular:springDefaults$1.restSpeed.default),it||(it=xt?springDefaults$1.restDelta.granular:springDefaults$1.restDelta.default);let St;if(gt<1){const bt=calcAngularFreq$1(mt,gt);St=Tt=>{const At=Math.exp(-gt*mt*Tt);return at-At*((dt+gt*mt*vt)/bt*Math.sin(bt*Tt)+vt*Math.cos(bt*Tt))}}else if(gt===1)St=bt=>at-Math.exp(-mt*bt)*(vt+(dt+mt*vt)*bt);else{const bt=mt*Math.sqrt(gt*gt-1);St=Tt=>{const At=Math.exp(-gt*mt*Tt),Ct=Math.min(bt*Tt,300);return at-At*((dt+gt*mt*vt)*Math.sinh(Ct)+bt*vt*Math.cosh(Ct))/bt}}const Et={calculatedDuration:pt&&ft||null,next:bt=>{const Tt=St(bt);if(pt)ot.done=bt>=ft;else{let At=0;gt<1&&(At=bt===0?secondsToMilliseconds$1(dt):calcGeneratorVelocity$1(St,bt,Tt));const Ct=Math.abs(At)<=rt,Pt=Math.abs(at-Tt)<=it;ot.done=Ct&&Pt}return ot.value=ot.done?at:Tt,ot},toString:()=>{const bt=Math.min(calcGeneratorDuration$1(Et),maxGeneratorDuration$1),Tt=generateLinearEasing$1(At=>Et.next(bt*At).value,bt,30);return bt+"ms "+Tt}};return Et}function inertia$1({keyframes:tt,velocity:_e=0,power:nt=.8,timeConstant:rt=325,bounceDamping:it=10,bounceStiffness:st=500,modifyTarget:at,min:ot,max:lt,restDelta:ct=.5,restSpeed:ut}){const ft=tt[0],ht={done:!1,value:ft},pt=Ct=>ot!==void 0&&Ct<ot||lt!==void 0&&Ct>lt,dt=Ct=>ot===void 0?lt:lt===void 0||Math.abs(ot-Ct)<Math.abs(lt-Ct)?ot:lt;let gt=nt*_e;const vt=ft+gt,mt=at===void 0?vt:at(vt);mt!==vt&&(gt=mt-ft);const xt=Ct=>-gt*Math.exp(-Ct/rt),St=Ct=>mt+xt(Ct),Et=Ct=>{const Pt=xt(Ct),It=St(Ct);ht.done=Math.abs(Pt)<=ct,ht.value=ht.done?mt:It};let bt,Tt;const At=Ct=>{pt(ht.value)&&(bt=Ct,Tt=spring$1({keyframes:[ht.value,dt(ht.value)],velocity:calcGeneratorVelocity$1(St,Ct,ht.value),damping:it,stiffness:st,restDelta:ct,restSpeed:ut}))};return At(0),{calculatedDuration:null,next:Ct=>{let Pt=!1;return!Tt&&bt===void 0&&(Pt=!0,Et(Ct),At(Ct)),bt!==void 0&&Ct>=bt?Tt.next(Ct-bt):(!Pt&&Et(Ct),ht)}}}const easeIn$1=cubicBezier$1(.42,0,1,1),easeOut$1=cubicBezier$1(0,0,.58,1),easeInOut$1=cubicBezier$1(.42,0,.58,1),isEasingArray$1=tt=>Array.isArray(tt)&&typeof tt[0]!="number",easingLookup$1={linear:noop$1,easeIn:easeIn$1,easeInOut:easeInOut$1,easeOut:easeOut$1,circIn:circIn$1,circInOut:circInOut$1,circOut:circOut$1,backIn:backIn$1,backInOut:backInOut$1,backOut:backOut$1,anticipate:anticipate$1},easingDefinitionToFunction$1=tt=>{if(isBezierDefinition$1(tt)){invariant$1(tt.length===4);const[_e,nt,rt,it]=tt;return cubicBezier$1(_e,nt,rt,it)}else if(typeof tt=="string")return invariant$1(easingLookup$1[tt]!==void 0),easingLookup$1[tt];return tt};function createMixers$1(tt,_e,nt){const rt=[],it=nt||mix$1,st=tt.length-1;for(let at=0;at<st;at++){let ot=it(tt[at],tt[at+1]);if(_e){const lt=Array.isArray(_e)?_e[at]||noop$1:_e;ot=pipe$1(lt,ot)}rt.push(ot)}return rt}function interpolate$1(tt,_e,{clamp:nt=!0,ease:rt,mixer:it}={}){const st=tt.length;if(invariant$1(st===_e.length),st===1)return()=>_e[0];if(st===2&&_e[0]===_e[1])return()=>_e[1];const at=tt[0]===tt[1];tt[0]>tt[st-1]&&(tt=[...tt].reverse(),_e=[..._e].reverse());const ot=createMixers$1(_e,rt,it),lt=ot.length,ct=ut=>{if(at&&ut<tt[0])return _e[0];let ft=0;if(lt>1)for(;ft<tt.length-2&&!(ut<tt[ft+1]);ft++);const ht=progress$1(tt[ft],tt[ft+1],ut);return ot[ft](ht)};return nt?ut=>ct(clamp$2(tt[0],tt[st-1],ut)):ct}function fillOffset$1(tt,_e){const nt=tt[tt.length-1];for(let rt=1;rt<=_e;rt++){const it=progress$1(0,_e,rt);tt.push(mixNumber$3(nt,1,it))}}function defaultOffset$2(tt){const _e=[0];return fillOffset$1(_e,tt.length-1),_e}function convertOffsetToTimes$1(tt,_e){return tt.map(nt=>nt*_e)}function defaultEasing$1(tt,_e){return tt.map(()=>_e||easeInOut$1).splice(0,tt.length-1)}function keyframes$1({duration:tt=300,keyframes:_e,times:nt,ease:rt="easeInOut"}){const it=isEasingArray$1(rt)?rt.map(easingDefinitionToFunction$1):easingDefinitionToFunction$1(rt),st={done:!1,value:_e[0]},at=convertOffsetToTimes$1(nt&&nt.length===_e.length?nt:defaultOffset$2(_e),tt),ot=interpolate$1(at,_e,{ease:Array.isArray(it)?it:defaultEasing$1(_e,it)});return{calculatedDuration:tt,next:lt=>(st.value=ot(lt),st.done=lt>=tt,st)}}const frameloopDriver$1=tt=>{const _e=({timestamp:nt})=>tt(nt);return{start:()=>frame$1.update(_e,!0),stop:()=>cancelFrame$1(_e),now:()=>frameData$1.isProcessing?frameData$1.timestamp:time$1.now()}},generators$1={decay:inertia$1,inertia:inertia$1,tween:keyframes$1,keyframes:keyframes$1,spring:spring$1},percentToProgress$1=tt=>tt/100;let MainThreadAnimation$1=class extends BaseAnimation$1{constructor(_e){super(_e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:lt}=this.options;lt&&lt()};const{name:nt,motionValue:rt,element:it,keyframes:st}=this.options,at=(it==null?void 0:it.KeyframeResolver)||KeyframeResolver$1,ot=(lt,ct)=>this.onKeyframesResolved(lt,ct);this.resolver=new at(st,ot,nt,rt,it),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(_e){const{type:nt="keyframes",repeat:rt=0,repeatDelay:it=0,repeatType:st,velocity:at=0}=this.options,ot=isGenerator$1(nt)?nt:generators$1[nt]||keyframes$1;let lt,ct;ot!==keyframes$1&&typeof _e[0]!="number"&&(lt=pipe$1(percentToProgress$1,mix$1(_e[0],_e[1])),_e=[0,100]);const ut=ot({...this.options,keyframes:_e});st==="mirror"&&(ct=ot({...this.options,keyframes:[..._e].reverse(),velocity:-at})),ut.calculatedDuration===null&&(ut.calculatedDuration=calcGeneratorDuration$1(ut));const{calculatedDuration:ft}=ut,ht=ft+it,pt=ht*(rt+1)-it;return{generator:ut,mirroredGenerator:ct,mapPercentToKeyframes:lt,calculatedDuration:ft,resolvedDuration:ht,totalDuration:pt}}onPostResolved(){const{autoplay:_e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!_e?this.pause():this.state=this.pendingPlayState}tick(_e,nt=!1){const{resolved:rt}=this;if(!rt){const{keyframes:Ct}=this.options;return{done:!0,value:Ct[Ct.length-1]}}const{finalKeyframe:it,generator:st,mirroredGenerator:at,mapPercentToKeyframes:ot,keyframes:lt,calculatedDuration:ct,totalDuration:ut,resolvedDuration:ft}=rt;if(this.startTime===null)return st.next(0);const{delay:ht,repeat:pt,repeatType:dt,repeatDelay:gt,onUpdate:vt}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,_e):this.speed<0&&(this.startTime=Math.min(_e-ut/this.speed,this.startTime)),nt?this.currentTime=_e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(_e-this.startTime)*this.speed;const mt=this.currentTime-ht*(this.speed>=0?1:-1),xt=this.speed>=0?mt<0:mt>ut;this.currentTime=Math.max(mt,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=ut);let St=this.currentTime,Et=st;if(pt){const Ct=Math.min(this.currentTime,ut)/ft;let Pt=Math.floor(Ct),It=Ct%1;!It&&Ct>=1&&(It=1),It===1&&Pt--,Pt=Math.min(Pt,pt+1),!!(Pt%2)&&(dt==="reverse"?(It=1-It,gt&&(It-=gt/ft)):dt==="mirror"&&(Et=at)),St=clamp$2(0,1,It)*ft}const bt=xt?{done:!1,value:lt[0]}:Et.next(St);ot&&(bt.value=ot(bt.value));let{done:Tt}=bt;!xt&&ct!==null&&(Tt=this.speed>=0?this.currentTime>=ut:this.currentTime<=0);const At=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Tt);return At&&it!==void 0&&(bt.value=getFinalKeyframe$1(lt,this.options,it)),vt&&vt(bt.value),At&&this.finish(),bt}get duration(){const{resolved:_e}=this;return _e?millisecondsToSeconds$1(_e.calculatedDuration):0}get time(){return millisecondsToSeconds$1(this.currentTime)}set time(_e){_e=secondsToMilliseconds$1(_e),this.currentTime=_e,this.holdTime!==null||this.speed===0?this.holdTime=_e:this.driver&&(this.startTime=this.driver.now()-_e/this.speed)}get speed(){return this.playbackSpeed}set speed(_e){const nt=this.playbackSpeed!==_e;this.playbackSpeed=_e,nt&&(this.time=millisecondsToSeconds$1(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:_e=frameloopDriver$1,onPlay:nt,startTime:rt}=this.options;this.driver||(this.driver=_e(st=>this.tick(st))),nt&&nt();const it=this.driver.now();this.holdTime!==null?this.startTime=it-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=it):this.startTime=rt??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var _e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(_e=this.currentTime)!==null&&_e!==void 0?_e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:_e}=this.options;_e&&_e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(_e){return this.startTime=0,this.tick(_e,!0)}};const acceleratedValues$1=new Set(["opacity","clipPath","filter","transform"]);function startWaapiAnimation$1(tt,_e,nt,{delay:rt=0,duration:it=300,repeat:st=0,repeatType:at="loop",ease:ot="easeInOut",times:lt}={}){const ct={[_e]:nt};lt&&(ct.offset=lt);const ut=mapEasingToNativeEasing$1(ot,it);return Array.isArray(ut)&&(ct.easing=ut),tt.animate(ct,{delay:rt,duration:it,easing:Array.isArray(ut)?"linear":ut,fill:"both",iterations:st+1,direction:at==="reverse"?"alternate":"normal"})}const supportsWaapi$1=memo$1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta$1=10,maxDuration$1=2e4;function requiresPregeneratedKeyframes$1(tt){return isGenerator$1(tt.type)||tt.type==="spring"||!isWaapiSupportedEasing$1(tt.ease)}function pregenerateKeyframes$1(tt,_e){const nt=new MainThreadAnimation$1({..._e,keyframes:tt,repeat:0,delay:0,isGenerator:!0});let rt={done:!1,value:tt[0]};const it=[];let st=0;for(;!rt.done&&st<maxDuration$1;)rt=nt.sample(st),it.push(rt.value),st+=sampleDelta$1;return{times:void 0,keyframes:it,duration:st-sampleDelta$1,ease:"linear"}}const unsupportedEasingFunctions$1={anticipate:anticipate$1,backInOut:backInOut$1,circInOut:circInOut$1};function isUnsupportedEase$1(tt){return tt in unsupportedEasingFunctions$1}let AcceleratedAnimation$1=class extends BaseAnimation$1{constructor(_e){super(_e);const{name:nt,motionValue:rt,element:it,keyframes:st}=this.options;this.resolver=new DOMKeyframesResolver$1(st,(at,ot)=>this.onKeyframesResolved(at,ot),nt,rt,it),this.resolver.scheduleResolve()}initPlayback(_e,nt){let{duration:rt=300,times:it,ease:st,type:at,motionValue:ot,name:lt,startTime:ct}=this.options;if(!ot.owner||!ot.owner.current)return!1;if(typeof st=="string"&&supportsLinearEasing$1()&&isUnsupportedEase$1(st)&&(st=unsupportedEasingFunctions$1[st]),requiresPregeneratedKeyframes$1(this.options)){const{onComplete:ft,onUpdate:ht,motionValue:pt,element:dt,...gt}=this.options,vt=pregenerateKeyframes$1(_e,gt);_e=vt.keyframes,_e.length===1&&(_e[1]=_e[0]),rt=vt.duration,it=vt.times,st=vt.ease,at="keyframes"}const ut=startWaapiAnimation$1(ot.owner.current,lt,_e,{...this.options,duration:rt,times:it,ease:st});return ut.startTime=ct??this.calcStartTime(),this.pendingTimeline?(attachTimeline$1(ut,this.pendingTimeline),this.pendingTimeline=void 0):ut.onfinish=()=>{const{onComplete:ft}=this.options;ot.set(getFinalKeyframe$1(_e,this.options,nt)),ft&&ft(),this.cancel(),this.resolveFinishedPromise()},{animation:ut,duration:rt,times:it,type:at,ease:st,keyframes:_e}}get duration(){const{resolved:_e}=this;if(!_e)return 0;const{duration:nt}=_e;return millisecondsToSeconds$1(nt)}get time(){const{resolved:_e}=this;if(!_e)return 0;const{animation:nt}=_e;return millisecondsToSeconds$1(nt.currentTime||0)}set time(_e){const{resolved:nt}=this;if(!nt)return;const{animation:rt}=nt;rt.currentTime=secondsToMilliseconds$1(_e)}get speed(){const{resolved:_e}=this;if(!_e)return 1;const{animation:nt}=_e;return nt.playbackRate}set speed(_e){const{resolved:nt}=this;if(!nt)return;const{animation:rt}=nt;rt.playbackRate=_e}get state(){const{resolved:_e}=this;if(!_e)return"idle";const{animation:nt}=_e;return nt.playState}get startTime(){const{resolved:_e}=this;if(!_e)return null;const{animation:nt}=_e;return nt.startTime}attachTimeline(_e){if(!this._resolved)this.pendingTimeline=_e;else{const{resolved:nt}=this;if(!nt)return noop$1;const{animation:rt}=nt;attachTimeline$1(rt,_e)}return noop$1}play(){if(this.isStopped)return;const{resolved:_e}=this;if(!_e)return;const{animation:nt}=_e;nt.playState==="finished"&&this.updateFinishedPromise(),nt.play()}pause(){const{resolved:_e}=this;if(!_e)return;const{animation:nt}=_e;nt.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:_e}=this;if(!_e)return;const{animation:nt,keyframes:rt,duration:it,type:st,ease:at,times:ot}=_e;if(nt.playState==="idle"||nt.playState==="finished")return;if(this.time){const{motionValue:ct,onUpdate:ut,onComplete:ft,element:ht,...pt}=this.options,dt=new MainThreadAnimation$1({...pt,keyframes:rt,duration:it,type:st,ease:at,times:ot,isGenerator:!0}),gt=secondsToMilliseconds$1(this.time);ct.setWithVelocity(dt.sample(gt-sampleDelta$1).value,dt.sample(gt).value,sampleDelta$1)}const{onStop:lt}=this.options;lt&&lt(),this.cancel()}complete(){const{resolved:_e}=this;_e&&_e.animation.finish()}cancel(){const{resolved:_e}=this;_e&&_e.animation.cancel()}static supports(_e){const{motionValue:nt,name:rt,repeatDelay:it,repeatType:st,damping:at,type:ot}=_e;if(!nt||!nt.owner||!(nt.owner.current instanceof HTMLElement))return!1;const{onUpdate:lt,transformTemplate:ct}=nt.owner.getProps();return supportsWaapi$1()&&rt&&acceleratedValues$1.has(rt)&&!lt&&!ct&&!it&&st!=="mirror"&&at!==0&&ot!=="inertia"}};const underDampedSpring$1={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring$1=tt=>({type:"spring",stiffness:550,damping:tt===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition$1={type:"keyframes",duration:.8},ease$1={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition$1=(tt,{keyframes:_e})=>_e.length>2?keyframesTransition$1:transformProps$1.has(tt)?tt.startsWith("scale")?criticallyDampedSpring$1(_e[1]):underDampedSpring$1:ease$1;function isTransitionDefined$1({when:tt,delay:_e,delayChildren:nt,staggerChildren:rt,staggerDirection:it,repeat:st,repeatType:at,repeatDelay:ot,from:lt,elapsed:ct,...ut}){return!!Object.keys(ut).length}const animateMotionValue$1=(tt,_e,nt,rt={},it,st)=>at=>{const ot=getValueTransition$2(rt,tt)||{},lt=ot.delay||rt.delay||0;let{elapsed:ct=0}=rt;ct=ct-secondsToMilliseconds$1(lt);let ut={keyframes:Array.isArray(nt)?nt:[null,nt],ease:"easeOut",velocity:_e.getVelocity(),...ot,delay:-ct,onUpdate:ht=>{_e.set(ht),ot.onUpdate&&ot.onUpdate(ht)},onComplete:()=>{at(),ot.onComplete&&ot.onComplete()},name:tt,motionValue:_e,element:st?void 0:it};isTransitionDefined$1(ot)||(ut={...ut,...getDefaultTransition$1(tt,ut)}),ut.duration&&(ut.duration=secondsToMilliseconds$1(ut.duration)),ut.repeatDelay&&(ut.repeatDelay=secondsToMilliseconds$1(ut.repeatDelay)),ut.from!==void 0&&(ut.keyframes[0]=ut.from);let ft=!1;if((ut.type===!1||ut.duration===0&&!ut.repeatDelay)&&(ut.duration=0,ut.delay===0&&(ft=!0)),ft&&!st&&_e.get()!==void 0){const ht=getFinalKeyframe$1(ut.keyframes,ot);if(ht!==void 0)return frame$1.update(()=>{ut.onUpdate(ht),ut.onComplete()}),new GroupPlaybackControls$1([])}return!st&&AcceleratedAnimation$1.supports(ut)?new AcceleratedAnimation$1(ut):new MainThreadAnimation$1(ut)};function shouldBlockAnimation$1({protectedKeys:tt,needsAnimating:_e},nt){const rt=tt.hasOwnProperty(nt)&&_e[nt]!==!0;return _e[nt]=!1,rt}function animateTarget$1(tt,_e,{delay:nt=0,transitionOverride:rt,type:it}={}){var st;let{transition:at=tt.getDefaultTransition(),transitionEnd:ot,...lt}=_e;rt&&(at=rt);const ct=[],ut=it&&tt.animationState&&tt.animationState.getState()[it];for(const ft in lt){const ht=tt.getValue(ft,(st=tt.latestValues[ft])!==null&&st!==void 0?st:null),pt=lt[ft];if(pt===void 0||ut&&shouldBlockAnimation$1(ut,ft))continue;const dt={delay:nt,...getValueTransition$2(at||{},ft)};let gt=!1;if(window.MotionHandoffAnimation){const mt=getOptimisedAppearId$1(tt);if(mt){const xt=window.MotionHandoffAnimation(mt,ft,frame$1);xt!==null&&(dt.startTime=xt,gt=!0)}}addValueToWillChange$1(tt,ft),ht.start(animateMotionValue$1(ft,ht,pt,tt.shouldReduceMotion&&positionalKeys$1.has(ft)?{type:!1}:dt,tt,gt));const vt=ht.animation;vt&&ct.push(vt)}return ot&&Promise.all(ct).then(()=>{frame$1.update(()=>{ot&&setTarget$1(tt,ot)})}),ct}function animateVariant$1(tt,_e,nt={}){var rt;const it=resolveVariant$1(tt,_e,nt.type==="exit"?(rt=tt.presenceContext)===null||rt===void 0?void 0:rt.custom:void 0);let{transition:st=tt.getDefaultTransition()||{}}=it||{};nt.transitionOverride&&(st=nt.transitionOverride);const at=it?()=>Promise.all(animateTarget$1(tt,it,nt)):()=>Promise.resolve(),ot=tt.variantChildren&&tt.variantChildren.size?(ct=0)=>{const{delayChildren:ut=0,staggerChildren:ft,staggerDirection:ht}=st;return animateChildren$1(tt,_e,ut+ct,ft,ht,nt)}:()=>Promise.resolve(),{when:lt}=st;if(lt){const[ct,ut]=lt==="beforeChildren"?[at,ot]:[ot,at];return ct().then(()=>ut())}else return Promise.all([at(),ot(nt.delay)])}function animateChildren$1(tt,_e,nt=0,rt=0,it=1,st){const at=[],ot=(tt.variantChildren.size-1)*rt,lt=it===1?(ct=0)=>ct*rt:(ct=0)=>ot-ct*rt;return Array.from(tt.variantChildren).sort(sortByTreeOrder$1).forEach((ct,ut)=>{ct.notify("AnimationStart",_e),at.push(animateVariant$1(ct,_e,{...st,delay:nt+lt(ut)}).then(()=>ct.notify("AnimationComplete",_e)))}),Promise.all(at)}function sortByTreeOrder$1(tt,_e){return tt.sortNodePosition(_e)}function animateVisualElement$1(tt,_e,nt={}){tt.notify("AnimationStart",_e);let rt;if(Array.isArray(_e)){const it=_e.map(st=>animateVariant$1(tt,st,nt));rt=Promise.all(it)}else if(typeof _e=="string")rt=animateVariant$1(tt,_e,nt);else{const it=typeof _e=="function"?resolveVariant$1(tt,_e,nt.custom):_e;rt=Promise.all(animateTarget$1(tt,it,nt))}return rt.then(()=>{tt.notify("AnimationComplete",_e)})}const numVariantProps$1=variantProps$1.length;function getVariantContext$1(tt){if(!tt)return;if(!tt.isControllingVariants){const nt=tt.parent?getVariantContext$1(tt.parent)||{}:{};return tt.props.initial!==void 0&&(nt.initial=tt.props.initial),nt}const _e={};for(let nt=0;nt<numVariantProps$1;nt++){const rt=variantProps$1[nt],it=tt.props[rt];(isVariantLabel$1(it)||it===!1)&&(_e[rt]=it)}return _e}const reversePriorityOrder$1=[...variantPriorityOrder$1].reverse(),numAnimationTypes$1=variantPriorityOrder$1.length;function animateList$1(tt){return _e=>Promise.all(_e.map(({animation:nt,options:rt})=>animateVisualElement$1(tt,nt,rt)))}function createAnimationState$1(tt){let _e=animateList$1(tt),nt=createState$1(),rt=!0;const it=lt=>(ct,ut)=>{var ft;const ht=resolveVariant$1(tt,ut,lt==="exit"?(ft=tt.presenceContext)===null||ft===void 0?void 0:ft.custom:void 0);if(ht){const{transition:pt,transitionEnd:dt,...gt}=ht;ct={...ct,...gt,...dt}}return ct};function st(lt){_e=lt(tt)}function at(lt){const{props:ct}=tt,ut=getVariantContext$1(tt.parent)||{},ft=[],ht=new Set;let pt={},dt=1/0;for(let vt=0;vt<numAnimationTypes$1;vt++){const mt=reversePriorityOrder$1[vt],xt=nt[mt],St=ct[mt]!==void 0?ct[mt]:ut[mt],Et=isVariantLabel$1(St),bt=mt===lt?xt.isActive:null;bt===!1&&(dt=vt);let Tt=St===ut[mt]&&St!==ct[mt]&&Et;if(Tt&&rt&&tt.manuallyAnimateOnMount&&(Tt=!1),xt.protectedKeys={...pt},!xt.isActive&&bt===null||!St&&!xt.prevProp||isAnimationControls$1(St)||typeof St=="boolean")continue;const At=checkVariantsDidChange$1(xt.prevProp,St);let Ct=At||mt===lt&&xt.isActive&&!Tt&&Et||vt>dt&&Et,Pt=!1;const It=Array.isArray(St)?St:[St];let Lt=It.reduce(it(mt),{});bt===!1&&(Lt={});const{prevResolvedValues:Vt={}}=xt,Ut={...Vt,...Lt},Ot=$t=>{Ct=!0,ht.has($t)&&(Pt=!0,ht.delete($t)),xt.needsAnimating[$t]=!0;const Mt=tt.getValue($t);Mt&&(Mt.liveStyle=!1)};for(const $t in Ut){const Mt=Lt[$t],Rt=Vt[$t];if(pt.hasOwnProperty($t))continue;let Nt=!1;isKeyframesTarget$1(Mt)&&isKeyframesTarget$1(Rt)?Nt=!shallowCompare$1(Mt,Rt):Nt=Mt!==Rt,Nt?Mt!=null?Ot($t):ht.add($t):Mt!==void 0&&ht.has($t)?Ot($t):xt.protectedKeys[$t]=!0}xt.prevProp=St,xt.prevResolvedValues=Lt,xt.isActive&&(pt={...pt,...Lt}),rt&&tt.blockInitialAnimation&&(Ct=!1),Ct&&(!(Tt&&At)||Pt)&&ft.push(...It.map($t=>({animation:$t,options:{type:mt}})))}if(ht.size){const vt={};ht.forEach(mt=>{const xt=tt.getBaseTarget(mt),St=tt.getValue(mt);St&&(St.liveStyle=!0),vt[mt]=xt??null}),ft.push({animation:vt})}let gt=!!ft.length;return rt&&(ct.initial===!1||ct.initial===ct.animate)&&!tt.manuallyAnimateOnMount&&(gt=!1),rt=!1,gt?_e(ft):Promise.resolve()}function ot(lt,ct){var ut;if(nt[lt].isActive===ct)return Promise.resolve();(ut=tt.variantChildren)===null||ut===void 0||ut.forEach(ht=>{var pt;return(pt=ht.animationState)===null||pt===void 0?void 0:pt.setActive(lt,ct)}),nt[lt].isActive=ct;const ft=at(lt);for(const ht in nt)nt[ht].protectedKeys={};return ft}return{animateChanges:at,setActive:ot,setAnimateFunction:st,getState:()=>nt,reset:()=>{nt=createState$1(),rt=!0}}}function checkVariantsDidChange$1(tt,_e){return typeof _e=="string"?_e!==tt:Array.isArray(_e)?!shallowCompare$1(_e,tt):!1}function createTypeState$1(tt=!1){return{isActive:tt,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState$1(){return{animate:createTypeState$1(!0),whileInView:createTypeState$1(),whileHover:createTypeState$1(),whileTap:createTypeState$1(),whileDrag:createTypeState$1(),whileFocus:createTypeState$1(),exit:createTypeState$1()}}let Feature$1=class{constructor(_e){this.isMounted=!1,this.node=_e}update(){}},AnimationFeature$1=class extends Feature$1{constructor(_e){super(_e),_e.animationState||(_e.animationState=createAnimationState$1(_e))}updateAnimationControlsSubscription(){const{animate:_e}=this.node.getProps();isAnimationControls$1(_e)&&(this.unmountControls=_e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:_e}=this.node.getProps(),{animate:nt}=this.node.prevProps||{};_e!==nt&&this.updateAnimationControlsSubscription()}unmount(){var _e;this.node.animationState.reset(),(_e=this.unmountControls)===null||_e===void 0||_e.call(this)}},id$3=0,ExitAnimationFeature$1=class extends Feature$1{constructor(){super(...arguments),this.id=id$3++}update(){if(!this.node.presenceContext)return;const{isPresent:_e,onExitComplete:nt}=this.node.presenceContext,{isPresent:rt}=this.node.prevPresenceContext||{};if(!this.node.animationState||_e===rt)return;const it=this.node.animationState.setActive("exit",!_e);nt&&!_e&&it.then(()=>nt(this.id))}mount(){const{register:_e}=this.node.presenceContext||{};_e&&(this.unmount=_e(this.id))}unmount(){}};const animations$1={animation:{Feature:AnimationFeature$1},exit:{Feature:ExitAnimationFeature$1}};function addDomEvent$1(tt,_e,nt,rt={passive:!0}){return tt.addEventListener(_e,nt,rt),()=>tt.removeEventListener(_e,nt)}function extractEventInfo$1(tt){return{point:{x:tt.pageX,y:tt.pageY}}}const addPointerInfo$1=tt=>_e=>isPrimaryPointer$1(_e)&&tt(_e,extractEventInfo$1(_e));function addPointerEvent$1(tt,_e,nt,rt){return addDomEvent$1(tt,_e,addPointerInfo$1(nt),rt)}const distance$1=(tt,_e)=>Math.abs(tt-_e);function distance2D$1(tt,_e){const nt=distance$1(tt.x,_e.x),rt=distance$1(tt.y,_e.y);return Math.sqrt(nt**2+rt**2)}let PanSession$1=class{constructor(_e,nt,{transformPagePoint:rt,contextWindow:it,dragSnapToOrigin:st=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const ft=getPanInfo$1(this.lastMoveEventInfo,this.history),ht=this.startEvent!==null,pt=distance2D$1(ft.offset,{x:0,y:0})>=3;if(!ht&&!pt)return;const{point:dt}=ft,{timestamp:gt}=frameData$1;this.history.push({...dt,timestamp:gt});const{onStart:vt,onMove:mt}=this.handlers;ht||(vt&&vt(this.lastMoveEvent,ft),this.startEvent=this.lastMoveEvent),mt&&mt(this.lastMoveEvent,ft)},this.handlePointerMove=(ft,ht)=>{this.lastMoveEvent=ft,this.lastMoveEventInfo=transformPoint$1(ht,this.transformPagePoint),frame$1.update(this.updatePoint,!0)},this.handlePointerUp=(ft,ht)=>{this.end();const{onEnd:pt,onSessionEnd:dt,resumeAnimation:gt}=this.handlers;if(this.dragSnapToOrigin&&gt&&gt(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const vt=getPanInfo$1(ft.type==="pointercancel"?this.lastMoveEventInfo:transformPoint$1(ht,this.transformPagePoint),this.history);this.startEvent&&pt&&pt(ft,vt),dt&&dt(ft,vt)},!isPrimaryPointer$1(_e))return;this.dragSnapToOrigin=st,this.handlers=nt,this.transformPagePoint=rt,this.contextWindow=it||window;const at=extractEventInfo$1(_e),ot=transformPoint$1(at,this.transformPagePoint),{point:lt}=ot,{timestamp:ct}=frameData$1;this.history=[{...lt,timestamp:ct}];const{onSessionStart:ut}=nt;ut&&ut(_e,getPanInfo$1(ot,this.history)),this.removeListeners=pipe$1(addPointerEvent$1(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent$1(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent$1(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(_e){this.handlers=_e}end(){this.removeListeners&&this.removeListeners(),cancelFrame$1(this.updatePoint)}};function transformPoint$1(tt,_e){return _e?{point:_e(tt.point)}:tt}function subtractPoint$1(tt,_e){return{x:tt.x-_e.x,y:tt.y-_e.y}}function getPanInfo$1({point:tt},_e){return{point:tt,delta:subtractPoint$1(tt,lastDevicePoint$1(_e)),offset:subtractPoint$1(tt,startDevicePoint$1(_e)),velocity:getVelocity$1(_e,.1)}}function startDevicePoint$1(tt){return tt[0]}function lastDevicePoint$1(tt){return tt[tt.length-1]}function getVelocity$1(tt,_e){if(tt.length<2)return{x:0,y:0};let nt=tt.length-1,rt=null;const it=lastDevicePoint$1(tt);for(;nt>=0&&(rt=tt[nt],!(it.timestamp-rt.timestamp>secondsToMilliseconds$1(_e)));)nt--;if(!rt)return{x:0,y:0};const st=millisecondsToSeconds$1(it.timestamp-rt.timestamp);if(st===0)return{x:0,y:0};const at={x:(it.x-rt.x)/st,y:(it.y-rt.y)/st};return at.x===1/0&&(at.x=0),at.y===1/0&&(at.y=0),at}const SCALE_PRECISION$1=1e-4,SCALE_MIN$1=1-SCALE_PRECISION$1,SCALE_MAX$1=1+SCALE_PRECISION$1,TRANSLATE_PRECISION$1=.01,TRANSLATE_MIN$1=0-TRANSLATE_PRECISION$1,TRANSLATE_MAX$1=0+TRANSLATE_PRECISION$1;function calcLength$1(tt){return tt.max-tt.min}function isNear$1(tt,_e,nt){return Math.abs(tt-_e)<=nt}function calcAxisDelta$1(tt,_e,nt,rt=.5){tt.origin=rt,tt.originPoint=mixNumber$3(_e.min,_e.max,tt.origin),tt.scale=calcLength$1(nt)/calcLength$1(_e),tt.translate=mixNumber$3(nt.min,nt.max,tt.origin)-tt.originPoint,(tt.scale>=SCALE_MIN$1&&tt.scale<=SCALE_MAX$1||isNaN(tt.scale))&&(tt.scale=1),(tt.translate>=TRANSLATE_MIN$1&&tt.translate<=TRANSLATE_MAX$1||isNaN(tt.translate))&&(tt.translate=0)}function calcBoxDelta$1(tt,_e,nt,rt){calcAxisDelta$1(tt.x,_e.x,nt.x,rt?rt.originX:void 0),calcAxisDelta$1(tt.y,_e.y,nt.y,rt?rt.originY:void 0)}function calcRelativeAxis$1(tt,_e,nt){tt.min=nt.min+_e.min,tt.max=tt.min+calcLength$1(_e)}function calcRelativeBox$1(tt,_e,nt){calcRelativeAxis$1(tt.x,_e.x,nt.x),calcRelativeAxis$1(tt.y,_e.y,nt.y)}function calcRelativeAxisPosition$1(tt,_e,nt){tt.min=_e.min-nt.min,tt.max=tt.min+calcLength$1(_e)}function calcRelativePosition$1(tt,_e,nt){calcRelativeAxisPosition$1(tt.x,_e.x,nt.x),calcRelativeAxisPosition$1(tt.y,_e.y,nt.y)}function applyConstraints$1(tt,{min:_e,max:nt},rt){return _e!==void 0&&tt<_e?tt=rt?mixNumber$3(_e,tt,rt.min):Math.max(tt,_e):nt!==void 0&&tt>nt&&(tt=rt?mixNumber$3(nt,tt,rt.max):Math.min(tt,nt)),tt}function calcRelativeAxisConstraints$1(tt,_e,nt){return{min:_e!==void 0?tt.min+_e:void 0,max:nt!==void 0?tt.max+nt-(tt.max-tt.min):void 0}}function calcRelativeConstraints$1(tt,{top:_e,left:nt,bottom:rt,right:it}){return{x:calcRelativeAxisConstraints$1(tt.x,nt,it),y:calcRelativeAxisConstraints$1(tt.y,_e,rt)}}function calcViewportAxisConstraints$1(tt,_e){let nt=_e.min-tt.min,rt=_e.max-tt.max;return _e.max-_e.min<tt.max-tt.min&&([nt,rt]=[rt,nt]),{min:nt,max:rt}}function calcViewportConstraints$1(tt,_e){return{x:calcViewportAxisConstraints$1(tt.x,_e.x),y:calcViewportAxisConstraints$1(tt.y,_e.y)}}function calcOrigin$2(tt,_e){let nt=.5;const rt=calcLength$1(tt),it=calcLength$1(_e);return it>rt?nt=progress$1(_e.min,_e.max-rt,tt.min):rt>it&&(nt=progress$1(tt.min,tt.max-it,_e.min)),clamp$2(0,1,nt)}function rebaseAxisConstraints$1(tt,_e){const nt={};return _e.min!==void 0&&(nt.min=_e.min-tt.min),_e.max!==void 0&&(nt.max=_e.max-tt.min),nt}const defaultElastic$1=.35;function resolveDragElastic$1(tt=defaultElastic$1){return tt===!1?tt=0:tt===!0&&(tt=defaultElastic$1),{x:resolveAxisElastic$1(tt,"left","right"),y:resolveAxisElastic$1(tt,"top","bottom")}}function resolveAxisElastic$1(tt,_e,nt){return{min:resolvePointElastic$1(tt,_e),max:resolvePointElastic$1(tt,nt)}}function resolvePointElastic$1(tt,_e){return typeof tt=="number"?tt:tt[_e]||0}const createAxisDelta$1=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta$1=()=>({x:createAxisDelta$1(),y:createAxisDelta$1()}),createAxis$1=()=>({min:0,max:0}),createBox$1=()=>({x:createAxis$1(),y:createAxis$1()});function eachAxis$1(tt){return[tt("x"),tt("y")]}function convertBoundingBoxToBox$1({top:tt,left:_e,right:nt,bottom:rt}){return{x:{min:_e,max:nt},y:{min:tt,max:rt}}}function convertBoxToBoundingBox$1({x:tt,y:_e}){return{top:_e.min,right:tt.max,bottom:_e.max,left:tt.min}}function transformBoxPoints$1(tt,_e){if(!_e)return tt;const nt=_e({x:tt.left,y:tt.top}),rt=_e({x:tt.right,y:tt.bottom});return{top:nt.y,left:nt.x,bottom:rt.y,right:rt.x}}function isIdentityScale$1(tt){return tt===void 0||tt===1}function hasScale$1({scale:tt,scaleX:_e,scaleY:nt}){return!isIdentityScale$1(tt)||!isIdentityScale$1(_e)||!isIdentityScale$1(nt)}function hasTransform$1(tt){return hasScale$1(tt)||has2DTranslate$1(tt)||tt.z||tt.rotate||tt.rotateX||tt.rotateY||tt.skewX||tt.skewY}function has2DTranslate$1(tt){return is2DTranslate$1(tt.x)||is2DTranslate$1(tt.y)}function is2DTranslate$1(tt){return tt&&tt!=="0%"}function scalePoint$1(tt,_e,nt){const rt=tt-nt,it=_e*rt;return nt+it}function applyPointDelta$1(tt,_e,nt,rt,it){return it!==void 0&&(tt=scalePoint$1(tt,it,rt)),scalePoint$1(tt,nt,rt)+_e}function applyAxisDelta$1(tt,_e=0,nt=1,rt,it){tt.min=applyPointDelta$1(tt.min,_e,nt,rt,it),tt.max=applyPointDelta$1(tt.max,_e,nt,rt,it)}function applyBoxDelta$1(tt,{x:_e,y:nt}){applyAxisDelta$1(tt.x,_e.translate,_e.scale,_e.originPoint),applyAxisDelta$1(tt.y,nt.translate,nt.scale,nt.originPoint)}const TREE_SCALE_SNAP_MIN$1=.999999999999,TREE_SCALE_SNAP_MAX$1=1.0000000000001;function applyTreeDeltas$1(tt,_e,nt,rt=!1){const it=nt.length;if(!it)return;_e.x=_e.y=1;let st,at;for(let ot=0;ot<it;ot++){st=nt[ot],at=st.projectionDelta;const{visualElement:lt}=st.options;lt&&lt.props.style&&lt.props.style.display==="contents"||(rt&&st.options.layoutScroll&&st.scroll&&st!==st.root&&transformBox$1(tt,{x:-st.scroll.offset.x,y:-st.scroll.offset.y}),at&&(_e.x*=at.x.scale,_e.y*=at.y.scale,applyBoxDelta$1(tt,at)),rt&&hasTransform$1(st.latestValues)&&transformBox$1(tt,st.latestValues))}_e.x<TREE_SCALE_SNAP_MAX$1&&_e.x>TREE_SCALE_SNAP_MIN$1&&(_e.x=1),_e.y<TREE_SCALE_SNAP_MAX$1&&_e.y>TREE_SCALE_SNAP_MIN$1&&(_e.y=1)}function translateAxis$1(tt,_e){tt.min=tt.min+_e,tt.max=tt.max+_e}function transformAxis$1(tt,_e,nt,rt,it=.5){const st=mixNumber$3(tt.min,tt.max,it);applyAxisDelta$1(tt,_e,nt,st,rt)}function transformBox$1(tt,_e){transformAxis$1(tt.x,_e.x,_e.scaleX,_e.scale,_e.originX),transformAxis$1(tt.y,_e.y,_e.scaleY,_e.scale,_e.originY)}function measureViewportBox$1(tt,_e){return convertBoundingBoxToBox$1(transformBoxPoints$1(tt.getBoundingClientRect(),_e))}function measurePageBox$1(tt,_e,nt){const rt=measureViewportBox$1(tt,nt),{scroll:it}=_e;return it&&(translateAxis$1(rt.x,it.offset.x),translateAxis$1(rt.y,it.offset.y)),rt}const getContextWindow$1=({current:tt})=>tt?tt.ownerDocument.defaultView:null,elementDragControls$1=new WeakMap;let VisualElementDragControls$1=class{constructor(_e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox$1(),this.visualElement=_e}start(_e,{snapToCursor:nt=!1}={}){const{presenceContext:rt}=this.visualElement;if(rt&&rt.isPresent===!1)return;const it=ut=>{const{dragSnapToOrigin:ft}=this.getProps();ft?this.pauseAnimation():this.stopAnimation(),nt&&this.snapToCursor(extractEventInfo$1(ut).point)},st=(ut,ft)=>{const{drag:ht,dragPropagation:pt,onDragStart:dt}=this.getProps();if(ht&&!pt&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock$1(ht),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis$1(vt=>{let mt=this.getAxisMotionValue(vt).get()||0;if(percent$1.test(mt)){const{projection:xt}=this.visualElement;if(xt&&xt.layout){const St=xt.layout.layoutBox[vt];St&&(mt=calcLength$1(St)*(parseFloat(mt)/100))}}this.originPoint[vt]=mt}),dt&&frame$1.postRender(()=>dt(ut,ft)),addValueToWillChange$1(this.visualElement,"transform");const{animationState:gt}=this.visualElement;gt&&gt.setActive("whileDrag",!0)},at=(ut,ft)=>{const{dragPropagation:ht,dragDirectionLock:pt,onDirectionLock:dt,onDrag:gt}=this.getProps();if(!ht&&!this.openDragLock)return;const{offset:vt}=ft;if(pt&&this.currentDirection===null){this.currentDirection=getCurrentDirection$1(vt),this.currentDirection!==null&&dt&&dt(this.currentDirection);return}this.updateAxis("x",ft.point,vt),this.updateAxis("y",ft.point,vt),this.visualElement.render(),gt&&gt(ut,ft)},ot=(ut,ft)=>this.stop(ut,ft),lt=()=>eachAxis$1(ut=>{var ft;return this.getAnimationState(ut)==="paused"&&((ft=this.getAxisMotionValue(ut).animation)===null||ft===void 0?void 0:ft.play())}),{dragSnapToOrigin:ct}=this.getProps();this.panSession=new PanSession$1(_e,{onSessionStart:it,onStart:st,onMove:at,onSessionEnd:ot,resumeAnimation:lt},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:ct,contextWindow:getContextWindow$1(this.visualElement)})}stop(_e,nt){const rt=this.isDragging;if(this.cancel(),!rt)return;const{velocity:it}=nt;this.startAnimation(it);const{onDragEnd:st}=this.getProps();st&&frame$1.postRender(()=>st(_e,nt))}cancel(){this.isDragging=!1;const{projection:_e,animationState:nt}=this.visualElement;_e&&(_e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:rt}=this.getProps();!rt&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),nt&&nt.setActive("whileDrag",!1)}updateAxis(_e,nt,rt){const{drag:it}=this.getProps();if(!rt||!shouldDrag$1(_e,it,this.currentDirection))return;const st=this.getAxisMotionValue(_e);let at=this.originPoint[_e]+rt[_e];this.constraints&&this.constraints[_e]&&(at=applyConstraints$1(at,this.constraints[_e],this.elastic[_e])),st.set(at)}resolveConstraints(){var _e;const{dragConstraints:nt,dragElastic:rt}=this.getProps(),it=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(_e=this.visualElement.projection)===null||_e===void 0?void 0:_e.layout,st=this.constraints;nt&&isRefObject$1(nt)?this.constraints||(this.constraints=this.resolveRefConstraints()):nt&&it?this.constraints=calcRelativeConstraints$1(it.layoutBox,nt):this.constraints=!1,this.elastic=resolveDragElastic$1(rt),st!==this.constraints&&it&&this.constraints&&!this.hasMutatedConstraints&&eachAxis$1(at=>{this.constraints!==!1&&this.getAxisMotionValue(at)&&(this.constraints[at]=rebaseAxisConstraints$1(it.layoutBox[at],this.constraints[at]))})}resolveRefConstraints(){const{dragConstraints:_e,onMeasureDragConstraints:nt}=this.getProps();if(!_e||!isRefObject$1(_e))return!1;const rt=_e.current,{projection:it}=this.visualElement;if(!it||!it.layout)return!1;const st=measurePageBox$1(rt,it.root,this.visualElement.getTransformPagePoint());let at=calcViewportConstraints$1(it.layout.layoutBox,st);if(nt){const ot=nt(convertBoxToBoundingBox$1(at));this.hasMutatedConstraints=!!ot,ot&&(at=convertBoundingBoxToBox$1(ot))}return at}startAnimation(_e){const{drag:nt,dragMomentum:rt,dragElastic:it,dragTransition:st,dragSnapToOrigin:at,onDragTransitionEnd:ot}=this.getProps(),lt=this.constraints||{},ct=eachAxis$1(ut=>{if(!shouldDrag$1(ut,nt,this.currentDirection))return;let ft=lt&&lt[ut]||{};at&&(ft={min:0,max:0});const ht=it?200:1e6,pt=it?40:1e7,dt={type:"inertia",velocity:rt?_e[ut]:0,bounceStiffness:ht,bounceDamping:pt,timeConstant:750,restDelta:1,restSpeed:10,...st,...ft};return this.startAxisValueAnimation(ut,dt)});return Promise.all(ct).then(ot)}startAxisValueAnimation(_e,nt){const rt=this.getAxisMotionValue(_e);return addValueToWillChange$1(this.visualElement,_e),rt.start(animateMotionValue$1(_e,rt,0,nt,this.visualElement,!1))}stopAnimation(){eachAxis$1(_e=>this.getAxisMotionValue(_e).stop())}pauseAnimation(){eachAxis$1(_e=>{var nt;return(nt=this.getAxisMotionValue(_e).animation)===null||nt===void 0?void 0:nt.pause()})}getAnimationState(_e){var nt;return(nt=this.getAxisMotionValue(_e).animation)===null||nt===void 0?void 0:nt.state}getAxisMotionValue(_e){const nt=`_drag${_e.toUpperCase()}`,rt=this.visualElement.getProps(),it=rt[nt];return it||this.visualElement.getValue(_e,(rt.initial?rt.initial[_e]:void 0)||0)}snapToCursor(_e){eachAxis$1(nt=>{const{drag:rt}=this.getProps();if(!shouldDrag$1(nt,rt,this.currentDirection))return;const{projection:it}=this.visualElement,st=this.getAxisMotionValue(nt);if(it&&it.layout){const{min:at,max:ot}=it.layout.layoutBox[nt];st.set(_e[nt]-mixNumber$3(at,ot,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:_e,dragConstraints:nt}=this.getProps(),{projection:rt}=this.visualElement;if(!isRefObject$1(nt)||!rt||!this.constraints)return;this.stopAnimation();const it={x:0,y:0};eachAxis$1(at=>{const ot=this.getAxisMotionValue(at);if(ot&&this.constraints!==!1){const lt=ot.get();it[at]=calcOrigin$2({min:lt,max:lt},this.constraints[at])}});const{transformTemplate:st}=this.visualElement.getProps();this.visualElement.current.style.transform=st?st({},""):"none",rt.root&&rt.root.updateScroll(),rt.updateLayout(),this.resolveConstraints(),eachAxis$1(at=>{if(!shouldDrag$1(at,_e,null))return;const ot=this.getAxisMotionValue(at),{min:lt,max:ct}=this.constraints[at];ot.set(mixNumber$3(lt,ct,it[at]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls$1.set(this.visualElement,this);const _e=this.visualElement.current,nt=addPointerEvent$1(_e,"pointerdown",lt=>{const{drag:ct,dragListener:ut=!0}=this.getProps();ct&&ut&&this.start(lt)}),rt=()=>{const{dragConstraints:lt}=this.getProps();isRefObject$1(lt)&&lt.current&&(this.constraints=this.resolveRefConstraints())},{projection:it}=this.visualElement,st=it.addEventListener("measure",rt);it&&!it.layout&&(it.root&&it.root.updateScroll(),it.updateLayout()),frame$1.read(rt);const at=addDomEvent$1(window,"resize",()=>this.scalePositionWithinConstraints()),ot=it.addEventListener("didUpdate",({delta:lt,hasLayoutChanged:ct})=>{this.isDragging&&ct&&(eachAxis$1(ut=>{const ft=this.getAxisMotionValue(ut);ft&&(this.originPoint[ut]+=lt[ut].translate,ft.set(ft.get()+lt[ut].translate))}),this.visualElement.render())});return()=>{at(),nt(),st(),ot&&ot()}}getProps(){const _e=this.visualElement.getProps(),{drag:nt=!1,dragDirectionLock:rt=!1,dragPropagation:it=!1,dragConstraints:st=!1,dragElastic:at=defaultElastic$1,dragMomentum:ot=!0}=_e;return{..._e,drag:nt,dragDirectionLock:rt,dragPropagation:it,dragConstraints:st,dragElastic:at,dragMomentum:ot}}};function shouldDrag$1(tt,_e,nt){return(_e===!0||_e===tt)&&(nt===null||nt===tt)}function getCurrentDirection$1(tt,_e=10){let nt=null;return Math.abs(tt.y)>_e?nt="y":Math.abs(tt.x)>_e&&(nt="x"),nt}let DragGesture$1=class extends Feature$1{constructor(_e){super(_e),this.removeGroupControls=noop$1,this.removeListeners=noop$1,this.controls=new VisualElementDragControls$1(_e)}mount(){const{dragControls:_e}=this.node.getProps();_e&&(this.removeGroupControls=_e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$1}unmount(){this.removeGroupControls(),this.removeListeners()}};const asyncHandler$1=tt=>(_e,nt)=>{tt&&frame$1.postRender(()=>tt(_e,nt))};let PanGesture$1=class extends Feature$1{constructor(){super(...arguments),this.removePointerDownListener=noop$1}onPointerDown(_e){this.session=new PanSession$1(_e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow$1(this.node)})}createPanHandlers(){const{onPanSessionStart:_e,onPanStart:nt,onPan:rt,onPanEnd:it}=this.node.getProps();return{onSessionStart:asyncHandler$1(_e),onStart:asyncHandler$1(nt),onMove:rt,onEnd:(st,at)=>{delete this.session,it&&frame$1.postRender(()=>it(st,at))}}}mount(){this.removePointerDownListener=addPointerEvent$1(this.node.current,"pointerdown",_e=>this.onPointerDown(_e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const globalProjectionState$1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent$1(tt,_e){return _e.max===_e.min?0:tt/(_e.max-_e.min)*100}const correctBorderRadius$1={correct:(tt,_e)=>{if(!_e.target)return tt;if(typeof tt=="string")if(px$2.test(tt))tt=parseFloat(tt);else return tt;const nt=pixelsToPercent$1(tt,_e.target.x),rt=pixelsToPercent$1(tt,_e.target.y);return`${nt}% ${rt}%`}},correctBoxShadow$1={correct:(tt,{treeScale:_e,projectionDelta:nt})=>{const rt=tt,it=complex$1.parse(tt);if(it.length>5)return rt;const st=complex$1.createTransformer(tt),at=typeof it[0]!="number"?1:0,ot=nt.x.scale*_e.x,lt=nt.y.scale*_e.y;it[0+at]/=ot,it[1+at]/=lt;const ct=mixNumber$3(ot,lt,.5);return typeof it[2+at]=="number"&&(it[2+at]/=ct),typeof it[3+at]=="number"&&(it[3+at]/=ct),st(it)}};let MeasureLayoutWithContext$1=class extends reactExports.Component{componentDidMount(){const{visualElement:_e,layoutGroup:nt,switchLayoutGroup:rt,layoutId:it}=this.props,{projection:st}=_e;addScaleCorrector$1(defaultScaleCorrectors$1),st&&(nt.group&&nt.group.add(st),rt&&rt.register&&it&&rt.register(st),st.root.didUpdate(),st.addEventListener("animationComplete",()=>{this.safeToRemove()}),st.setOptions({...st.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState$1.hasEverUpdated=!0}getSnapshotBeforeUpdate(_e){const{layoutDependency:nt,visualElement:rt,drag:it,isPresent:st}=this.props,at=rt.projection;return at&&(at.isPresent=st,it||_e.layoutDependency!==nt||nt===void 0?at.willUpdate():this.safeToRemove(),_e.isPresent!==st&&(st?at.promote():at.relegate()||frame$1.postRender(()=>{const ot=at.getStack();(!ot||!ot.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:_e}=this.props.visualElement;_e&&(_e.root.didUpdate(),microtask$1.postRender(()=>{!_e.currentAnimation&&_e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:_e,layoutGroup:nt,switchLayoutGroup:rt}=this.props,{projection:it}=_e;it&&(it.scheduleCheckAfterUnmount(),nt&&nt.group&&nt.group.remove(it),rt&&rt.deregister&&rt.deregister(it))}safeToRemove(){const{safeToRemove:_e}=this.props;_e&&_e()}render(){return null}};function MeasureLayout$1(tt){const[_e,nt]=usePresence$1(),rt=reactExports.useContext(LayoutGroupContext$1);return jsxRuntimeExports.jsx(MeasureLayoutWithContext$1,{...tt,layoutGroup:rt,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext$1),isPresent:_e,safeToRemove:nt})}const defaultScaleCorrectors$1={borderRadius:{...correctBorderRadius$1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius$1,borderTopRightRadius:correctBorderRadius$1,borderBottomLeftRadius:correctBorderRadius$1,borderBottomRightRadius:correctBorderRadius$1,boxShadow:correctBoxShadow$1};function animateSingleValue$1(tt,_e,nt){const rt=isMotionValue$1(tt)?tt:motionValue$1(tt);return rt.start(animateMotionValue$1("",rt,_e,nt)),rt.animation}function isSVGElement$1(tt){return tt instanceof SVGElement&&tt.tagName!=="svg"}const compareByDepth$1=(tt,_e)=>tt.depth-_e.depth;let FlatTree$1=class{constructor(){this.children=[],this.isDirty=!1}add(_e){addUniqueItem$1(this.children,_e),this.isDirty=!0}remove(_e){removeItem$1(this.children,_e),this.isDirty=!0}forEach(_e){this.isDirty&&this.children.sort(compareByDepth$1),this.isDirty=!1,this.children.forEach(_e)}};function delay$1(tt,_e){const nt=time$1.now(),rt=({timestamp:it})=>{const st=it-nt;st>=_e&&(cancelFrame$1(rt),tt(st-_e))};return frame$1.read(rt,!0),()=>cancelFrame$1(rt)}const borders$1=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders$1=borders$1.length,asNumber$1=tt=>typeof tt=="string"?parseFloat(tt):tt,isPx$1=tt=>typeof tt=="number"||px$2.test(tt);function mixValues$1(tt,_e,nt,rt,it,st){it?(tt.opacity=mixNumber$3(0,nt.opacity!==void 0?nt.opacity:1,easeCrossfadeIn$1(rt)),tt.opacityExit=mixNumber$3(_e.opacity!==void 0?_e.opacity:1,0,easeCrossfadeOut$1(rt))):st&&(tt.opacity=mixNumber$3(_e.opacity!==void 0?_e.opacity:1,nt.opacity!==void 0?nt.opacity:1,rt));for(let at=0;at<numBorders$1;at++){const ot=`border${borders$1[at]}Radius`;let lt=getRadius$1(_e,ot),ct=getRadius$1(nt,ot);if(lt===void 0&&ct===void 0)continue;lt||(lt=0),ct||(ct=0),lt===0||ct===0||isPx$1(lt)===isPx$1(ct)?(tt[ot]=Math.max(mixNumber$3(asNumber$1(lt),asNumber$1(ct),rt),0),(percent$1.test(ct)||percent$1.test(lt))&&(tt[ot]+="%")):tt[ot]=ct}(_e.rotate||nt.rotate)&&(tt.rotate=mixNumber$3(_e.rotate||0,nt.rotate||0,rt))}function getRadius$1(tt,_e){return tt[_e]!==void 0?tt[_e]:tt.borderRadius}const easeCrossfadeIn$1=compress$1(0,.5,circOut$1),easeCrossfadeOut$1=compress$1(.5,.95,noop$1);function compress$1(tt,_e,nt){return rt=>rt<tt?0:rt>_e?1:nt(progress$1(tt,_e,rt))}function copyAxisInto$1(tt,_e){tt.min=_e.min,tt.max=_e.max}function copyBoxInto$1(tt,_e){copyAxisInto$1(tt.x,_e.x),copyAxisInto$1(tt.y,_e.y)}function copyAxisDeltaInto$1(tt,_e){tt.translate=_e.translate,tt.scale=_e.scale,tt.originPoint=_e.originPoint,tt.origin=_e.origin}function removePointDelta$1(tt,_e,nt,rt,it){return tt-=_e,tt=scalePoint$1(tt,1/nt,rt),it!==void 0&&(tt=scalePoint$1(tt,1/it,rt)),tt}function removeAxisDelta$1(tt,_e=0,nt=1,rt=.5,it,st=tt,at=tt){if(percent$1.test(_e)&&(_e=parseFloat(_e),_e=mixNumber$3(at.min,at.max,_e/100)-at.min),typeof _e!="number")return;let ot=mixNumber$3(st.min,st.max,rt);tt===st&&(ot-=_e),tt.min=removePointDelta$1(tt.min,_e,nt,ot,it),tt.max=removePointDelta$1(tt.max,_e,nt,ot,it)}function removeAxisTransforms$1(tt,_e,[nt,rt,it],st,at){removeAxisDelta$1(tt,_e[nt],_e[rt],_e[it],_e.scale,st,at)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function removeBoxTransforms$1(tt,_e,nt,rt){removeAxisTransforms$1(tt.x,_e,xKeys$1,nt?nt.x:void 0,rt?rt.x:void 0),removeAxisTransforms$1(tt.y,_e,yKeys$1,nt?nt.y:void 0,rt?rt.y:void 0)}function isAxisDeltaZero$1(tt){return tt.translate===0&&tt.scale===1}function isDeltaZero$1(tt){return isAxisDeltaZero$1(tt.x)&&isAxisDeltaZero$1(tt.y)}function axisEquals$1(tt,_e){return tt.min===_e.min&&tt.max===_e.max}function boxEquals$1(tt,_e){return axisEquals$1(tt.x,_e.x)&&axisEquals$1(tt.y,_e.y)}function axisEqualsRounded$1(tt,_e){return Math.round(tt.min)===Math.round(_e.min)&&Math.round(tt.max)===Math.round(_e.max)}function boxEqualsRounded$1(tt,_e){return axisEqualsRounded$1(tt.x,_e.x)&&axisEqualsRounded$1(tt.y,_e.y)}function aspectRatio$1(tt){return calcLength$1(tt.x)/calcLength$1(tt.y)}function axisDeltaEquals$1(tt,_e){return tt.translate===_e.translate&&tt.scale===_e.scale&&tt.originPoint===_e.originPoint}let NodeStack$1=class{constructor(){this.members=[]}add(_e){addUniqueItem$1(this.members,_e),_e.scheduleRender()}remove(_e){if(removeItem$1(this.members,_e),_e===this.prevLead&&(this.prevLead=void 0),_e===this.lead){const nt=this.members[this.members.length-1];nt&&this.promote(nt)}}relegate(_e){const nt=this.members.findIndex(it=>_e===it);if(nt===0)return!1;let rt;for(let it=nt;it>=0;it--){const st=this.members[it];if(st.isPresent!==!1){rt=st;break}}return rt?(this.promote(rt),!0):!1}promote(_e,nt){const rt=this.lead;if(_e!==rt&&(this.prevLead=rt,this.lead=_e,_e.show(),rt)){rt.instance&&rt.scheduleRender(),_e.scheduleRender(),_e.resumeFrom=rt,nt&&(_e.resumeFrom.preserveOpacity=!0),rt.snapshot&&(_e.snapshot=rt.snapshot,_e.snapshot.latestValues=rt.animationValues||rt.latestValues),_e.root&&_e.root.isUpdating&&(_e.isLayoutDirty=!0);const{crossfade:it}=_e.options;it===!1&&rt.hide()}}exitAnimationComplete(){this.members.forEach(_e=>{const{options:nt,resumingFrom:rt}=_e;nt.onExitComplete&&nt.onExitComplete(),rt&&rt.options.onExitComplete&&rt.options.onExitComplete()})}scheduleRender(){this.members.forEach(_e=>{_e.instance&&_e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function buildProjectionTransform$1(tt,_e,nt){let rt="";const it=tt.x.translate/_e.x,st=tt.y.translate/_e.y,at=(nt==null?void 0:nt.z)||0;if((it||st||at)&&(rt=`translate3d(${it}px, ${st}px, ${at}px) `),(_e.x!==1||_e.y!==1)&&(rt+=`scale(${1/_e.x}, ${1/_e.y}) `),nt){const{transformPerspective:ct,rotate:ut,rotateX:ft,rotateY:ht,skewX:pt,skewY:dt}=nt;ct&&(rt=`perspective(${ct}px) ${rt}`),ut&&(rt+=`rotate(${ut}deg) `),ft&&(rt+=`rotateX(${ft}deg) `),ht&&(rt+=`rotateY(${ht}deg) `),pt&&(rt+=`skewX(${pt}deg) `),dt&&(rt+=`skewY(${dt}deg) `)}const ot=tt.x.scale*_e.x,lt=tt.y.scale*_e.y;return(ot!==1||lt!==1)&&(rt+=`scale(${ot}, ${lt})`),rt||"none"}const metrics$1={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},isDebug$1=typeof window<"u"&&window.MotionDebug!==void 0,transformAxes$1=["","X","Y","Z"],hiddenVisibility$1={visibility:"hidden"},animationTarget$1=1e3;let id$2=0;function resetDistortingTransform$1(tt,_e,nt,rt){const{latestValues:it}=_e;it[tt]&&(nt[tt]=it[tt],_e.setStaticValue(tt,0),rt&&(rt[tt]=0))}function cancelTreeOptimisedTransformAnimations$1(tt){if(tt.hasCheckedOptimisedAppear=!0,tt.root===tt)return;const{visualElement:_e}=tt.options;if(!_e)return;const nt=getOptimisedAppearId$1(_e);if(window.MotionHasOptimisedAnimation(nt,"transform")){const{layout:it,layoutId:st}=tt.options;window.MotionCancelOptimisedAnimation(nt,"transform",frame$1,!(it||st))}const{parent:rt}=tt;rt&&!rt.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations$1(rt)}function createProjectionNode$2({attachResizeListener:tt,defaultParent:_e,measureScroll:nt,checkIsScrollRoot:rt,resetTransform:it}){return class{constructor(at={},ot=_e==null?void 0:_e()){this.id=id$2++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,isDebug$1&&(metrics$1.totalNodes=metrics$1.resolvedTargetDeltas=metrics$1.recalculatedProjection=0),this.nodes.forEach(propagateDirtyNodes$1),this.nodes.forEach(resolveTargetDelta$1),this.nodes.forEach(calcProjection$1),this.nodes.forEach(cleanDirtyNodes$1),isDebug$1&&window.MotionDebug.record(metrics$1)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=at,this.root=ot?ot.root||ot:this,this.path=ot?[...ot.path,ot]:[],this.parent=ot,this.depth=ot?ot.depth+1:0;for(let lt=0;lt<this.path.length;lt++)this.path[lt].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree$1)}addEventListener(at,ot){return this.eventHandlers.has(at)||this.eventHandlers.set(at,new SubscriptionManager$1),this.eventHandlers.get(at).add(ot)}notifyListeners(at,...ot){const lt=this.eventHandlers.get(at);lt&&lt.notify(...ot)}hasListeners(at){return this.eventHandlers.has(at)}mount(at,ot=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement$1(at),this.instance=at;const{layoutId:lt,layout:ct,visualElement:ut}=this.options;if(ut&&!ut.current&&ut.mount(at),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),ot&&(ct||lt)&&(this.isLayoutDirty=!0),tt){let ft;const ht=()=>this.root.updateBlockedByResize=!1;tt(at,()=>{this.root.updateBlockedByResize=!0,ft&&ft(),ft=delay$1(ht,250),globalProjectionState$1.hasAnimatedSinceResize&&(globalProjectionState$1.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation$1))})}lt&&this.root.registerSharedNode(lt,this),this.options.animate!==!1&&ut&&(lt||ct)&&this.addEventListener("didUpdate",({delta:ft,hasLayoutChanged:ht,hasRelativeTargetChanged:pt,layout:dt})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const gt=this.options.transition||ut.getDefaultTransition()||defaultLayoutTransition$1,{onLayoutAnimationStart:vt,onLayoutAnimationComplete:mt}=ut.getProps(),xt=!this.targetLayout||!boxEqualsRounded$1(this.targetLayout,dt)||pt,St=!ht&&pt;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||St||ht&&(xt||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(ft,St);const Et={...getValueTransition$2(gt,"layout"),onPlay:vt,onComplete:mt};(ut.shouldReduceMotion||this.options.layoutRoot)&&(Et.delay=0,Et.type=!1),this.startAnimation(Et)}else ht||finishAnimation$1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=dt})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const at=this.getStack();at&&at.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame$1(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation$1),this.animationId++)}getTransformTemplate(){const{visualElement:at}=this.options;return at&&at.getProps().transformTemplate}willUpdate(at=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations$1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let ut=0;ut<this.path.length;ut++){const ft=this.path[ut];ft.shouldResetTransform=!0,ft.updateScroll("snapshot"),ft.options.layoutRoot&&ft.willUpdate(!1)}const{layoutId:ot,layout:lt}=this.options;if(ot===void 0&&!lt)return;const ct=this.getTransformTemplate();this.prevTransformTemplateValue=ct?ct(this.latestValues,""):void 0,this.updateSnapshot(),at&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements$1);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty$1),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle$1),this.nodes.forEach(updateLayout$1),this.nodes.forEach(notifyLayoutUpdate$1),this.clearAllSnapshots();const ot=time$1.now();frameData$1.delta=clamp$2(0,1e3/60,ot-frameData$1.timestamp),frameData$1.timestamp=ot,frameData$1.isProcessing=!0,frameSteps$1.update.process(frameData$1),frameSteps$1.preRender.process(frameData$1),frameSteps$1.render.process(frameData$1),frameData$1.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask$1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot$1),this.sharedNodes.forEach(removeLeadSnapshots$1)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame$1.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame$1.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let lt=0;lt<this.path.length;lt++)this.path[lt].updateScroll();const at=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox$1(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:ot}=this.options;ot&&ot.notify("LayoutMeasure",this.layout.layoutBox,at?at.layoutBox:void 0)}updateScroll(at="measure"){let ot=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===at&&(ot=!1),ot){const lt=rt(this.instance);this.scroll={animationId:this.root.animationId,phase:at,isRoot:lt,offset:nt(this.instance),wasRoot:this.scroll?this.scroll.isRoot:lt}}}resetTransform(){if(!it)return;const at=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,ot=this.projectionDelta&&!isDeltaZero$1(this.projectionDelta),lt=this.getTransformTemplate(),ct=lt?lt(this.latestValues,""):void 0,ut=ct!==this.prevTransformTemplateValue;at&&(ot||hasTransform$1(this.latestValues)||ut)&&(it(this.instance,ct),this.shouldResetTransform=!1,this.scheduleRender())}measure(at=!0){const ot=this.measurePageBox();let lt=this.removeElementScroll(ot);return at&&(lt=this.removeTransform(lt)),roundBox$1(lt),{animationId:this.root.animationId,measuredBox:ot,layoutBox:lt,latestValues:{},source:this.id}}measurePageBox(){var at;const{visualElement:ot}=this.options;if(!ot)return createBox$1();const lt=ot.measureViewportBox();if(!(((at=this.scroll)===null||at===void 0?void 0:at.wasRoot)||this.path.some(checkNodeWasScrollRoot$1))){const{scroll:ut}=this.root;ut&&(translateAxis$1(lt.x,ut.offset.x),translateAxis$1(lt.y,ut.offset.y))}return lt}removeElementScroll(at){var ot;const lt=createBox$1();if(copyBoxInto$1(lt,at),!((ot=this.scroll)===null||ot===void 0)&&ot.wasRoot)return lt;for(let ct=0;ct<this.path.length;ct++){const ut=this.path[ct],{scroll:ft,options:ht}=ut;ut!==this.root&&ft&&ht.layoutScroll&&(ft.wasRoot&&copyBoxInto$1(lt,at),translateAxis$1(lt.x,ft.offset.x),translateAxis$1(lt.y,ft.offset.y))}return lt}applyTransform(at,ot=!1){const lt=createBox$1();copyBoxInto$1(lt,at);for(let ct=0;ct<this.path.length;ct++){const ut=this.path[ct];!ot&&ut.options.layoutScroll&&ut.scroll&&ut!==ut.root&&transformBox$1(lt,{x:-ut.scroll.offset.x,y:-ut.scroll.offset.y}),hasTransform$1(ut.latestValues)&&transformBox$1(lt,ut.latestValues)}return hasTransform$1(this.latestValues)&&transformBox$1(lt,this.latestValues),lt}removeTransform(at){const ot=createBox$1();copyBoxInto$1(ot,at);for(let lt=0;lt<this.path.length;lt++){const ct=this.path[lt];if(!ct.instance||!hasTransform$1(ct.latestValues))continue;hasScale$1(ct.latestValues)&&ct.updateSnapshot();const ut=createBox$1(),ft=ct.measurePageBox();copyBoxInto$1(ut,ft),removeBoxTransforms$1(ot,ct.latestValues,ct.snapshot?ct.snapshot.layoutBox:void 0,ut)}return hasTransform$1(this.latestValues)&&removeBoxTransforms$1(ot,this.latestValues),ot}setTargetDelta(at){this.targetDelta=at,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(at){this.options={...this.options,...at,crossfade:at.crossfade!==void 0?at.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData$1.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(at=!1){var ot;const lt=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=lt.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=lt.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=lt.isSharedProjectionDirty);const ct=!!this.resumingFrom||this!==lt;if(!(at||ct&&this.isSharedProjectionDirty||this.isProjectionDirty||!((ot=this.parent)===null||ot===void 0)&&ot.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:ft,layoutId:ht}=this.options;if(!(!this.layout||!(ft||ht))){if(this.resolvedRelativeTargetAt=frameData$1.timestamp,!this.targetDelta&&!this.relativeTarget){const pt=this.getClosestProjectingParent();pt&&pt.layout&&this.animationProgress!==1?(this.relativeParent=pt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox$1(),this.relativeTargetOrigin=createBox$1(),calcRelativePosition$1(this.relativeTargetOrigin,this.layout.layoutBox,pt.layout.layoutBox),copyBoxInto$1(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox$1(),this.targetWithTransforms=createBox$1()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox$1(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto$1(this.target,this.layout.layoutBox),applyBoxDelta$1(this.target,this.targetDelta)):copyBoxInto$1(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const pt=this.getClosestProjectingParent();pt&&!!pt.resumingFrom==!!this.resumingFrom&&!pt.options.layoutScroll&&pt.target&&this.animationProgress!==1?(this.relativeParent=pt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox$1(),this.relativeTargetOrigin=createBox$1(),calcRelativePosition$1(this.relativeTargetOrigin,this.target,pt.target),copyBoxInto$1(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}isDebug$1&&metrics$1.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale$1(this.parent.latestValues)||has2DTranslate$1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var at;const ot=this.getLead(),lt=!!this.resumingFrom||this!==ot;let ct=!0;if((this.isProjectionDirty||!((at=this.parent)===null||at===void 0)&&at.isProjectionDirty)&&(ct=!1),lt&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(ct=!1),this.resolvedRelativeTargetAt===frameData$1.timestamp&&(ct=!1),ct)return;const{layout:ut,layoutId:ft}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(ut||ft))return;copyBoxInto$1(this.layoutCorrected,this.layout.layoutBox);const ht=this.treeScale.x,pt=this.treeScale.y;applyTreeDeltas$1(this.layoutCorrected,this.treeScale,this.path,lt),ot.layout&&!ot.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(ot.target=ot.layout.layoutBox,ot.targetWithTransforms=createBox$1());const{target:dt}=ot;if(!dt){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto$1(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto$1(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta$1(this.projectionDelta,this.layoutCorrected,dt,this.latestValues),(this.treeScale.x!==ht||this.treeScale.y!==pt||!axisDeltaEquals$1(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals$1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",dt)),isDebug$1&&metrics$1.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(at=!0){var ot;if((ot=this.options.visualElement)===null||ot===void 0||ot.scheduleRender(),at){const lt=this.getStack();lt&&lt.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta$1(),this.projectionDelta=createDelta$1(),this.projectionDeltaWithTransform=createDelta$1()}setAnimationOrigin(at,ot=!1){const lt=this.snapshot,ct=lt?lt.latestValues:{},ut={...this.latestValues},ft=createDelta$1();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!ot;const ht=createBox$1(),pt=lt?lt.source:void 0,dt=this.layout?this.layout.source:void 0,gt=pt!==dt,vt=this.getStack(),mt=!vt||vt.members.length<=1,xt=!!(gt&&!mt&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade$1));this.animationProgress=0;let St;this.mixTargetDelta=Et=>{const bt=Et/1e3;mixAxisDelta$1(ft.x,at.x,bt),mixAxisDelta$1(ft.y,at.y,bt),this.setTargetDelta(ft),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition$1(ht,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox$1(this.relativeTarget,this.relativeTargetOrigin,ht,bt),St&&boxEquals$1(this.relativeTarget,St)&&(this.isProjectionDirty=!1),St||(St=createBox$1()),copyBoxInto$1(St,this.relativeTarget)),gt&&(this.animationValues=ut,mixValues$1(ut,ct,this.latestValues,bt,xt,mt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=bt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(at){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame$1(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame$1.update(()=>{globalProjectionState$1.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue$1(0,animationTarget$1,{...at,onUpdate:ot=>{this.mixTargetDelta(ot),at.onUpdate&&at.onUpdate(ot)},onComplete:()=>{at.onComplete&&at.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const at=this.getStack();at&&at.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget$1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const at=this.getLead();let{targetWithTransforms:ot,target:lt,layout:ct,latestValues:ut}=at;if(!(!ot||!lt||!ct)){if(this!==at&&this.layout&&ct&&shouldAnimatePositionOnly$1(this.options.animationType,this.layout.layoutBox,ct.layoutBox)){lt=this.target||createBox$1();const ft=calcLength$1(this.layout.layoutBox.x);lt.x.min=at.target.x.min,lt.x.max=lt.x.min+ft;const ht=calcLength$1(this.layout.layoutBox.y);lt.y.min=at.target.y.min,lt.y.max=lt.y.min+ht}copyBoxInto$1(ot,lt),transformBox$1(ot,ut),calcBoxDelta$1(this.projectionDeltaWithTransform,this.layoutCorrected,ot,ut)}}registerSharedNode(at,ot){this.sharedNodes.has(at)||this.sharedNodes.set(at,new NodeStack$1),this.sharedNodes.get(at).add(ot);const ct=ot.options.initialPromotionConfig;ot.promote({transition:ct?ct.transition:void 0,preserveFollowOpacity:ct&&ct.shouldPreserveFollowOpacity?ct.shouldPreserveFollowOpacity(ot):void 0})}isLead(){const at=this.getStack();return at?at.lead===this:!0}getLead(){var at;const{layoutId:ot}=this.options;return ot?((at=this.getStack())===null||at===void 0?void 0:at.lead)||this:this}getPrevLead(){var at;const{layoutId:ot}=this.options;return ot?(at=this.getStack())===null||at===void 0?void 0:at.prevLead:void 0}getStack(){const{layoutId:at}=this.options;if(at)return this.root.sharedNodes.get(at)}promote({needsReset:at,transition:ot,preserveFollowOpacity:lt}={}){const ct=this.getStack();ct&&ct.promote(this,lt),at&&(this.projectionDelta=void 0,this.needsReset=!0),ot&&this.setOptions({transition:ot})}relegate(){const at=this.getStack();return at?at.relegate(this):!1}resetSkewAndRotation(){const{visualElement:at}=this.options;if(!at)return;let ot=!1;const{latestValues:lt}=at;if((lt.z||lt.rotate||lt.rotateX||lt.rotateY||lt.rotateZ||lt.skewX||lt.skewY)&&(ot=!0),!ot)return;const ct={};lt.z&&resetDistortingTransform$1("z",at,ct,this.animationValues);for(let ut=0;ut<transformAxes$1.length;ut++)resetDistortingTransform$1(`rotate${transformAxes$1[ut]}`,at,ct,this.animationValues),resetDistortingTransform$1(`skew${transformAxes$1[ut]}`,at,ct,this.animationValues);at.render();for(const ut in ct)at.setStaticValue(ut,ct[ut]),this.animationValues&&(this.animationValues[ut]=ct[ut]);at.scheduleRender()}getProjectionStyles(at){var ot,lt;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility$1;const ct={visibility:""},ut=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,ct.opacity="",ct.pointerEvents=resolveMotionValue$1(at==null?void 0:at.pointerEvents)||"",ct.transform=ut?ut(this.latestValues,""):"none",ct;const ft=this.getLead();if(!this.projectionDelta||!this.layout||!ft.target){const gt={};return this.options.layoutId&&(gt.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,gt.pointerEvents=resolveMotionValue$1(at==null?void 0:at.pointerEvents)||""),this.hasProjected&&!hasTransform$1(this.latestValues)&&(gt.transform=ut?ut({},""):"none",this.hasProjected=!1),gt}const ht=ft.animationValues||ft.latestValues;this.applyTransformsToTarget(),ct.transform=buildProjectionTransform$1(this.projectionDeltaWithTransform,this.treeScale,ht),ut&&(ct.transform=ut(ht,ct.transform));const{x:pt,y:dt}=this.projectionDelta;ct.transformOrigin=`${pt.origin*100}% ${dt.origin*100}% 0`,ft.animationValues?ct.opacity=ft===this?(lt=(ot=ht.opacity)!==null&&ot!==void 0?ot:this.latestValues.opacity)!==null&&lt!==void 0?lt:1:this.preserveOpacity?this.latestValues.opacity:ht.opacityExit:ct.opacity=ft===this?ht.opacity!==void 0?ht.opacity:"":ht.opacityExit!==void 0?ht.opacityExit:0;for(const gt in scaleCorrectors$1){if(ht[gt]===void 0)continue;const{correct:vt,applyTo:mt}=scaleCorrectors$1[gt],xt=ct.transform==="none"?ht[gt]:vt(ht[gt],ft);if(mt){const St=mt.length;for(let Et=0;Et<St;Et++)ct[mt[Et]]=xt}else ct[gt]=xt}return this.options.layoutId&&(ct.pointerEvents=ft===this?resolveMotionValue$1(at==null?void 0:at.pointerEvents)||"":"none"),ct}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(at=>{var ot;return(ot=at.currentAnimation)===null||ot===void 0?void 0:ot.stop()}),this.root.nodes.forEach(clearMeasurements$1),this.root.sharedNodes.clear()}}}function updateLayout$1(tt){tt.updateLayout()}function notifyLayoutUpdate$1(tt){var _e;const nt=((_e=tt.resumeFrom)===null||_e===void 0?void 0:_e.snapshot)||tt.snapshot;if(tt.isLead()&&tt.layout&&nt&&tt.hasListeners("didUpdate")){const{layoutBox:rt,measuredBox:it}=tt.layout,{animationType:st}=tt.options,at=nt.source!==tt.layout.source;st==="size"?eachAxis$1(ft=>{const ht=at?nt.measuredBox[ft]:nt.layoutBox[ft],pt=calcLength$1(ht);ht.min=rt[ft].min,ht.max=ht.min+pt}):shouldAnimatePositionOnly$1(st,nt.layoutBox,rt)&&eachAxis$1(ft=>{const ht=at?nt.measuredBox[ft]:nt.layoutBox[ft],pt=calcLength$1(rt[ft]);ht.max=ht.min+pt,tt.relativeTarget&&!tt.currentAnimation&&(tt.isProjectionDirty=!0,tt.relativeTarget[ft].max=tt.relativeTarget[ft].min+pt)});const ot=createDelta$1();calcBoxDelta$1(ot,rt,nt.layoutBox);const lt=createDelta$1();at?calcBoxDelta$1(lt,tt.applyTransform(it,!0),nt.measuredBox):calcBoxDelta$1(lt,rt,nt.layoutBox);const ct=!isDeltaZero$1(ot);let ut=!1;if(!tt.resumeFrom){const ft=tt.getClosestProjectingParent();if(ft&&!ft.resumeFrom){const{snapshot:ht,layout:pt}=ft;if(ht&&pt){const dt=createBox$1();calcRelativePosition$1(dt,nt.layoutBox,ht.layoutBox);const gt=createBox$1();calcRelativePosition$1(gt,rt,pt.layoutBox),boxEqualsRounded$1(dt,gt)||(ut=!0),ft.options.layoutRoot&&(tt.relativeTarget=gt,tt.relativeTargetOrigin=dt,tt.relativeParent=ft)}}}tt.notifyListeners("didUpdate",{layout:rt,snapshot:nt,delta:lt,layoutDelta:ot,hasLayoutChanged:ct,hasRelativeTargetChanged:ut})}else if(tt.isLead()){const{onExitComplete:rt}=tt.options;rt&&rt()}tt.options.transition=void 0}function propagateDirtyNodes$1(tt){isDebug$1&&metrics$1.totalNodes++,tt.parent&&(tt.isProjecting()||(tt.isProjectionDirty=tt.parent.isProjectionDirty),tt.isSharedProjectionDirty||(tt.isSharedProjectionDirty=!!(tt.isProjectionDirty||tt.parent.isProjectionDirty||tt.parent.isSharedProjectionDirty)),tt.isTransformDirty||(tt.isTransformDirty=tt.parent.isTransformDirty))}function cleanDirtyNodes$1(tt){tt.isProjectionDirty=tt.isSharedProjectionDirty=tt.isTransformDirty=!1}function clearSnapshot$1(tt){tt.clearSnapshot()}function clearMeasurements$1(tt){tt.clearMeasurements()}function clearIsLayoutDirty$1(tt){tt.isLayoutDirty=!1}function resetTransformStyle$1(tt){const{visualElement:_e}=tt.options;_e&&_e.getProps().onBeforeLayoutMeasure&&_e.notify("BeforeLayoutMeasure"),tt.resetTransform()}function finishAnimation$1(tt){tt.finishAnimation(),tt.targetDelta=tt.relativeTarget=tt.target=void 0,tt.isProjectionDirty=!0}function resolveTargetDelta$1(tt){tt.resolveTargetDelta()}function calcProjection$1(tt){tt.calcProjection()}function resetSkewAndRotation$1(tt){tt.resetSkewAndRotation()}function removeLeadSnapshots$1(tt){tt.removeLeadSnapshot()}function mixAxisDelta$1(tt,_e,nt){tt.translate=mixNumber$3(_e.translate,0,nt),tt.scale=mixNumber$3(_e.scale,1,nt),tt.origin=_e.origin,tt.originPoint=_e.originPoint}function mixAxis$1(tt,_e,nt,rt){tt.min=mixNumber$3(_e.min,nt.min,rt),tt.max=mixNumber$3(_e.max,nt.max,rt)}function mixBox$1(tt,_e,nt,rt){mixAxis$1(tt.x,_e.x,nt.x,rt),mixAxis$1(tt.y,_e.y,nt.y,rt)}function hasOpacityCrossfade$1(tt){return tt.animationValues&&tt.animationValues.opacityExit!==void 0}const defaultLayoutTransition$1={duration:.45,ease:[.4,0,.1,1]},userAgentContains$1=tt=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(tt),roundPoint$1=userAgentContains$1("applewebkit/")&&!userAgentContains$1("chrome/")?Math.round:noop$1;function roundAxis$1(tt){tt.min=roundPoint$1(tt.min),tt.max=roundPoint$1(tt.max)}function roundBox$1(tt){roundAxis$1(tt.x),roundAxis$1(tt.y)}function shouldAnimatePositionOnly$1(tt,_e,nt){return tt==="position"||tt==="preserve-aspect"&&!isNear$1(aspectRatio$1(_e),aspectRatio$1(nt),.2)}function checkNodeWasScrollRoot$1(tt){var _e;return tt!==tt.root&&((_e=tt.scroll)===null||_e===void 0?void 0:_e.wasRoot)}const DocumentProjectionNode$1=createProjectionNode$2({attachResizeListener:(tt,_e)=>addDomEvent$1(tt,"resize",_e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode$1={current:void 0},HTMLProjectionNode$1=createProjectionNode$2({measureScroll:tt=>({x:tt.scrollLeft,y:tt.scrollTop}),defaultParent:()=>{if(!rootProjectionNode$1.current){const tt=new DocumentProjectionNode$1({});tt.mount(window),tt.setOptions({layoutScroll:!0}),rootProjectionNode$1.current=tt}return rootProjectionNode$1.current},resetTransform:(tt,_e)=>{tt.style.transform=_e!==void 0?_e:"none"},checkIsScrollRoot:tt=>window.getComputedStyle(tt).position==="fixed"}),drag$1={pan:{Feature:PanGesture$1},drag:{Feature:DragGesture$1,ProjectionNode:HTMLProjectionNode$1,MeasureLayout:MeasureLayout$1}};function handleHoverEvent$1(tt,_e,nt){const{props:rt}=tt;tt.animationState&&rt.whileHover&&tt.animationState.setActive("whileHover",nt==="Start");const it="onHover"+nt,st=rt[it];st&&frame$1.postRender(()=>st(_e,extractEventInfo$1(_e)))}let HoverGesture$1=class extends Feature$1{mount(){const{current:_e}=this.node;_e&&(this.unmount=hover$1(_e,nt=>(handleHoverEvent$1(this.node,nt,"Start"),rt=>handleHoverEvent$1(this.node,rt,"End"))))}unmount(){}},FocusGesture$1=class extends Feature$1{constructor(){super(...arguments),this.isActive=!1}onFocus(){let _e=!1;try{_e=this.node.current.matches(":focus-visible")}catch{_e=!0}!_e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe$1(addDomEvent$1(this.node.current,"focus",()=>this.onFocus()),addDomEvent$1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};function handlePressEvent$1(tt,_e,nt){const{props:rt}=tt;tt.animationState&&rt.whileTap&&tt.animationState.setActive("whileTap",nt==="Start");const it="onTap"+(nt==="End"?"":nt),st=rt[it];st&&frame$1.postRender(()=>st(_e,extractEventInfo$1(_e)))}let PressGesture$1=class extends Feature$1{mount(){const{current:_e}=this.node;_e&&(this.unmount=press$1(_e,nt=>(handlePressEvent$1(this.node,nt,"Start"),(rt,{success:it})=>handlePressEvent$1(this.node,rt,it?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const observerCallbacks$1=new WeakMap,observers$1=new WeakMap,fireObserverCallback$1=tt=>{const _e=observerCallbacks$1.get(tt.target);_e&&_e(tt)},fireAllObserverCallbacks$1=tt=>{tt.forEach(fireObserverCallback$1)};function initIntersectionObserver$1({root:tt,..._e}){const nt=tt||document;observers$1.has(nt)||observers$1.set(nt,{});const rt=observers$1.get(nt),it=JSON.stringify(_e);return rt[it]||(rt[it]=new IntersectionObserver(fireAllObserverCallbacks$1,{root:tt,..._e})),rt[it]}function observeIntersection$1(tt,_e,nt){const rt=initIntersectionObserver$1(_e);return observerCallbacks$1.set(tt,nt),rt.observe(tt),()=>{observerCallbacks$1.delete(tt),rt.unobserve(tt)}}const thresholdNames$1={some:0,all:1};let InViewFeature$1=class extends Feature$1{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:_e={}}=this.node.getProps(),{root:nt,margin:rt,amount:it="some",once:st}=_e,at={root:nt?nt.current:void 0,rootMargin:rt,threshold:typeof it=="number"?it:thresholdNames$1[it]},ot=lt=>{const{isIntersecting:ct}=lt;if(this.isInView===ct||(this.isInView=ct,st&&!ct&&this.hasEnteredView))return;ct&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",ct);const{onViewportEnter:ut,onViewportLeave:ft}=this.node.getProps(),ht=ct?ut:ft;ht&&ht(lt)};return observeIntersection$1(this.node.current,at,ot)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:_e,prevProps:nt}=this.node;["amount","margin","root"].some(hasViewportOptionChanged$1(_e,nt))&&this.startObserver()}unmount(){}};function hasViewportOptionChanged$1({viewport:tt={}},{viewport:_e={}}={}){return nt=>tt[nt]!==_e[nt]}const gestureAnimations$1={inView:{Feature:InViewFeature$1},tap:{Feature:PressGesture$1},focus:{Feature:FocusGesture$1},hover:{Feature:HoverGesture$1}},layout$1={layout:{ProjectionNode:HTMLProjectionNode$1,MeasureLayout:MeasureLayout$1}},prefersReducedMotion$1={current:null},hasReducedMotionListener$1={current:!1};function initPrefersReducedMotion$1(){if(hasReducedMotionListener$1.current=!0,!!isBrowser$1)if(window.matchMedia){const tt=window.matchMedia("(prefers-reduced-motion)"),_e=()=>prefersReducedMotion$1.current=tt.matches;tt.addListener(_e),_e()}else prefersReducedMotion$1.current=!1}const valueTypes$1=[...dimensionValueTypes$1,color$1,complex$1],findValueType$1=tt=>valueTypes$1.find(testValueType$1(tt)),visualElementStore$1=new WeakMap;function updateMotionValuesFromProps$1(tt,_e,nt){for(const rt in _e){const it=_e[rt],st=nt[rt];if(isMotionValue$1(it))tt.addValue(rt,it);else if(isMotionValue$1(st))tt.addValue(rt,motionValue$1(it,{owner:tt}));else if(st!==it)if(tt.hasValue(rt)){const at=tt.getValue(rt);at.liveStyle===!0?at.jump(it):at.hasAnimated||at.set(it)}else{const at=tt.getStaticValue(rt);tt.addValue(rt,motionValue$1(at!==void 0?at:it,{owner:tt}))}}for(const rt in nt)_e[rt]===void 0&&tt.removeValue(rt);return _e}const propEventHandlers$1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let VisualElement$1=class{scrapeMotionValuesFromProps(_e,nt,rt){return{}}constructor({parent:_e,props:nt,presenceContext:rt,reducedMotionConfig:it,blockInitialAnimation:st,visualState:at},ot={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver$1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const pt=time$1.now();this.renderScheduledAt<pt&&(this.renderScheduledAt=pt,frame$1.render(this.render,!1,!0))};const{latestValues:lt,renderState:ct,onUpdate:ut}=at;this.onUpdate=ut,this.latestValues=lt,this.baseTarget={...lt},this.initialValues=nt.initial?{...lt}:{},this.renderState=ct,this.parent=_e,this.props=nt,this.presenceContext=rt,this.depth=_e?_e.depth+1:0,this.reducedMotionConfig=it,this.options=ot,this.blockInitialAnimation=!!st,this.isControllingVariants=isControllingVariants$1(nt),this.isVariantNode=isVariantNode$1(nt),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(_e&&_e.current);const{willChange:ft,...ht}=this.scrapeMotionValuesFromProps(nt,{},this);for(const pt in ht){const dt=ht[pt];lt[pt]!==void 0&&isMotionValue$1(dt)&&dt.set(lt[pt],!1)}}mount(_e){this.current=_e,visualElementStore$1.set(_e,this),this.projection&&!this.projection.instance&&this.projection.mount(_e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((nt,rt)=>this.bindToMotionValue(rt,nt)),hasReducedMotionListener$1.current||initPrefersReducedMotion$1(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion$1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore$1.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame$1(this.notifyUpdate),cancelFrame$1(this.render),this.valueSubscriptions.forEach(_e=>_e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const _e in this.events)this.events[_e].clear();for(const _e in this.features){const nt=this.features[_e];nt&&(nt.unmount(),nt.isMounted=!1)}this.current=null}bindToMotionValue(_e,nt){this.valueSubscriptions.has(_e)&&this.valueSubscriptions.get(_e)();const rt=transformProps$1.has(_e),it=nt.on("change",ot=>{this.latestValues[_e]=ot,this.props.onUpdate&&frame$1.preRender(this.notifyUpdate),rt&&this.projection&&(this.projection.isTransformDirty=!0)}),st=nt.on("renderRequest",this.scheduleRender);let at;window.MotionCheckAppearSync&&(at=window.MotionCheckAppearSync(this,_e,nt)),this.valueSubscriptions.set(_e,()=>{it(),st(),at&&at(),nt.owner&&nt.stop()})}sortNodePosition(_e){return!this.current||!this.sortInstanceNodePosition||this.type!==_e.type?0:this.sortInstanceNodePosition(this.current,_e.current)}updateFeatures(){let _e="animation";for(_e in featureDefinitions$1){const nt=featureDefinitions$1[_e];if(!nt)continue;const{isEnabled:rt,Feature:it}=nt;if(!this.features[_e]&&it&&rt(this.props)&&(this.features[_e]=new it(this)),this.features[_e]){const st=this.features[_e];st.isMounted?st.update():(st.mount(),st.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox$1()}getStaticValue(_e){return this.latestValues[_e]}setStaticValue(_e,nt){this.latestValues[_e]=nt}update(_e,nt){(_e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=_e,this.prevPresenceContext=this.presenceContext,this.presenceContext=nt;for(let rt=0;rt<propEventHandlers$1.length;rt++){const it=propEventHandlers$1[rt];this.propEventSubscriptions[it]&&(this.propEventSubscriptions[it](),delete this.propEventSubscriptions[it]);const st="on"+it,at=_e[st];at&&(this.propEventSubscriptions[it]=this.on(it,at))}this.prevMotionValues=updateMotionValuesFromProps$1(this,this.scrapeMotionValuesFromProps(_e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(_e){return this.props.variants?this.props.variants[_e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(_e){const nt=this.getClosestVariantNode();if(nt)return nt.variantChildren&&nt.variantChildren.add(_e),()=>nt.variantChildren.delete(_e)}addValue(_e,nt){const rt=this.values.get(_e);nt!==rt&&(rt&&this.removeValue(_e),this.bindToMotionValue(_e,nt),this.values.set(_e,nt),this.latestValues[_e]=nt.get())}removeValue(_e){this.values.delete(_e);const nt=this.valueSubscriptions.get(_e);nt&&(nt(),this.valueSubscriptions.delete(_e)),delete this.latestValues[_e],this.removeValueFromRenderState(_e,this.renderState)}hasValue(_e){return this.values.has(_e)}getValue(_e,nt){if(this.props.values&&this.props.values[_e])return this.props.values[_e];let rt=this.values.get(_e);return rt===void 0&&nt!==void 0&&(rt=motionValue$1(nt===null?void 0:nt,{owner:this}),this.addValue(_e,rt)),rt}readValue(_e,nt){var rt;let it=this.latestValues[_e]!==void 0||!this.current?this.latestValues[_e]:(rt=this.getBaseTargetFromProps(this.props,_e))!==null&&rt!==void 0?rt:this.readValueFromInstance(this.current,_e,this.options);return it!=null&&(typeof it=="string"&&(isNumericalString$1(it)||isZeroValueString$1(it))?it=parseFloat(it):!findValueType$1(it)&&complex$1.test(nt)&&(it=getAnimatableNone$2(_e,nt)),this.setBaseTarget(_e,isMotionValue$1(it)?it.get():it)),isMotionValue$1(it)?it.get():it}setBaseTarget(_e,nt){this.baseTarget[_e]=nt}getBaseTarget(_e){var nt;const{initial:rt}=this.props;let it;if(typeof rt=="string"||typeof rt=="object"){const at=resolveVariantFromProps$1(this.props,rt,(nt=this.presenceContext)===null||nt===void 0?void 0:nt.custom);at&&(it=at[_e])}if(rt&&it!==void 0)return it;const st=this.getBaseTargetFromProps(this.props,_e);return st!==void 0&&!isMotionValue$1(st)?st:this.initialValues[_e]!==void 0&&it===void 0?void 0:this.baseTarget[_e]}on(_e,nt){return this.events[_e]||(this.events[_e]=new SubscriptionManager$1),this.events[_e].add(nt)}notify(_e,...nt){this.events[_e]&&this.events[_e].notify(...nt)}},DOMVisualElement$1=class extends VisualElement$1{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver$1}sortInstanceNodePosition(_e,nt){return _e.compareDocumentPosition(nt)&2?1:-1}getBaseTargetFromProps(_e,nt){return _e.style?_e.style[nt]:void 0}removeValueFromRenderState(_e,{vars:nt,style:rt}){delete nt[_e],delete rt[_e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:_e}=this.props;isMotionValue$1(_e)&&(this.childSubscription=_e.on("change",nt=>{this.current&&(this.current.textContent=`${nt}`)}))}};function getComputedStyle$1(tt){return window.getComputedStyle(tt)}let HTMLVisualElement$1=class extends DOMVisualElement$1{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML$1}readValueFromInstance(_e,nt){if(transformProps$1.has(nt)){const rt=getDefaultValueType$1(nt);return rt&&rt.default||0}else{const rt=getComputedStyle$1(_e),it=(isCSSVariableName$1(nt)?rt.getPropertyValue(nt):rt[nt])||0;return typeof it=="string"?it.trim():it}}measureInstanceViewportBox(_e,{transformPagePoint:nt}){return measureViewportBox$1(_e,nt)}build(_e,nt,rt){buildHTMLStyles$1(_e,nt,rt.transformTemplate)}scrapeMotionValuesFromProps(_e,nt,rt){return scrapeMotionValuesFromProps$3(_e,nt,rt)}},SVGVisualElement$1=class extends DOMVisualElement$1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox$1}getBaseTargetFromProps(_e,nt){return _e[nt]}readValueFromInstance(_e,nt){if(transformProps$1.has(nt)){const rt=getDefaultValueType$1(nt);return rt&&rt.default||0}return nt=camelCaseAttributes$1.has(nt)?nt:camelToDash$1(nt),_e.getAttribute(nt)}scrapeMotionValuesFromProps(_e,nt,rt){return scrapeMotionValuesFromProps$2(_e,nt,rt)}build(_e,nt,rt){buildSVGAttrs$1(_e,nt,this.isSVGTag,rt.transformTemplate)}renderInstance(_e,nt,rt,it){renderSVG$1(_e,nt,rt,it)}mount(_e){this.isSVGTag=isSVGTag$1(_e.tagName),super.mount(_e)}};const createDomVisualElement$1=(tt,_e)=>isSVGComponent$1(tt)?new SVGVisualElement$1(_e):new HTMLVisualElement$1(_e,{allowProjection:tt!==reactExports.Fragment}),createMotionComponent$1=createMotionComponentFactory$1({...animations$1,...gestureAnimations$1,...drag$1,...layout$1},createDomVisualElement$1),motion$1=createDOMMotionComponentProxy$1(createMotionComponent$1);function stopAnimation(tt){tt.values.forEach(_e=>_e.stop())}function setVariants(tt,_e){[..._e].reverse().forEach(rt=>{const it=tt.getVariant(rt);it&&setTarget$1(tt,it),tt.variantChildren&&tt.variantChildren.forEach(st=>{setVariants(st,_e)})})}function setValues(tt,_e){if(Array.isArray(_e))return setVariants(tt,_e);if(typeof _e=="string")return setVariants(tt,[_e]);setTarget$1(tt,_e)}function animationControls(){const tt=new Set,_e={subscribe(nt){return tt.add(nt),()=>void tt.delete(nt)},start(nt,rt){const it=[];return tt.forEach(st=>{it.push(animateVisualElement$1(st,nt,{transitionOverride:rt}))}),Promise.all(it)},set(nt){return tt.forEach(rt=>{setValues(rt,nt)})},stop(){tt.forEach(nt=>{stopAnimation(nt)})},mount(){return()=>{_e.stop()}}};return _e}function useUnmountEffect(tt){return reactExports.useEffect(()=>()=>tt(),[])}const wrap=(tt,_e,nt)=>{const rt=_e-tt;return((nt-tt)%rt+rt)%rt+tt};function getEasingForSegment(tt,_e){return isEasingArray$1(tt)?tt[wrap(0,tt.length,_e)]:tt}function isDOMKeyframes(tt){return typeof tt=="object"&&!Array.isArray(tt)}function resolveSubjects(tt,_e,nt,rt){return typeof tt=="string"&&isDOMKeyframes(_e)?resolveElements$1(tt,nt,rt):tt instanceof NodeList?Array.from(tt):Array.isArray(tt)?tt:[tt]}function calculateRepeatDuration(tt,_e,nt){return tt*(_e+1)}function calcNextTime(tt,_e,nt,rt){var it;return typeof _e=="number"?_e:_e.startsWith("-")||_e.startsWith("+")?Math.max(0,tt+parseFloat(_e)):_e==="<"?nt:(it=rt.get(_e))!==null&&it!==void 0?it:tt}function eraseKeyframes(tt,_e,nt){for(let rt=0;rt<tt.length;rt++){const it=tt[rt];it.at>_e&&it.at<nt&&(removeItem$1(tt,it),rt--)}}function addKeyframes(tt,_e,nt,rt,it,st){eraseKeyframes(tt,it,st);for(let at=0;at<_e.length;at++)tt.push({value:_e[at],at:mixNumber$3(it,st,rt[at]),easing:getEasingForSegment(nt,at)})}function normalizeTimes(tt,_e){for(let nt=0;nt<tt.length;nt++)tt[nt]=tt[nt]/(_e+1)}function compareByTime(tt,_e){return tt.at===_e.at?tt.value===null?1:_e.value===null?-1:0:tt.at-_e.at}const defaultSegmentEasing="easeInOut";function createAnimationsFromSequence(tt,{defaultTransition:_e={},...nt}={},rt,it){const st=_e.duration||.3,at=new Map,ot=new Map,lt={},ct=new Map;let ut=0,ft=0,ht=0;for(let pt=0;pt<tt.length;pt++){const dt=tt[pt];if(typeof dt=="string"){ct.set(dt,ft);continue}else if(!Array.isArray(dt)){ct.set(dt.name,calcNextTime(ft,dt.at,ut,ct));continue}let[gt,vt,mt={}]=dt;mt.at!==void 0&&(ft=calcNextTime(ft,mt.at,ut,ct));let xt=0;const St=(Et,bt,Tt,At=0,Ct=0)=>{const Pt=keyframesAsList(Et),{delay:It=0,times:Lt=defaultOffset$2(Pt),type:Vt="keyframes",repeat:Ut,repeatType:Ot,repeatDelay:zt=0,...Dt}=bt;let{ease:$t=_e.ease||"easeOut",duration:Mt}=bt;const Rt=typeof It=="function"?It(At,Ct):It,Nt=Pt.length,Ft=isGenerator$1(Vt)?Vt:it==null?void 0:it[Vt];if(Nt<=2&&Ft){let Zt=100;if(Nt===2&&isNumberKeyframesArray(Pt)){const un=Pt[1]-Pt[0];Zt=Math.abs(un)}const tn={...Dt};Mt!==void 0&&(tn.duration=secondsToMilliseconds$1(Mt));const en=createGeneratorEasing(tn,Zt,Ft);$t=en.ease,Mt=en.duration}Mt??(Mt=st);const qt=ft+Rt;Lt.length===1&&Lt[0]===0&&(Lt[1]=1);const Qt=Lt.length-Pt.length;if(Qt>0&&fillOffset$1(Lt,Qt),Pt.length===1&&Pt.unshift(null),Ut){Mt=calculateRepeatDuration(Mt,Ut);const Zt=[...Pt],tn=[...Lt];$t=Array.isArray($t)?[...$t]:[$t];const en=[...$t];for(let un=0;un<Ut;un++){Pt.push(...Zt);for(let Cn=0;Cn<Zt.length;Cn++)Lt.push(tn[Cn]+(un+1)),$t.push(Cn===0?"linear":getEasingForSegment(en,Cn-1))}normalizeTimes(Lt,Ut)}const Kt=qt+Mt;addKeyframes(Tt,Pt,$t,Lt,qt,Kt),xt=Math.max(Rt+Mt,xt),ht=Math.max(Kt,ht)};if(isMotionValue$1(gt)){const Et=getSubjectSequence(gt,ot);St(vt,mt,getValueSequence("default",Et))}else{const Et=resolveSubjects(gt,vt,rt,lt),bt=Et.length;for(let Tt=0;Tt<bt;Tt++){vt=vt,mt=mt;const At=Et[Tt],Ct=getSubjectSequence(At,ot);for(const Pt in vt)St(vt[Pt],getValueTransition$1(mt,Pt),getValueSequence(Pt,Ct),Tt,bt)}}ut=ft,ft+=xt}return ot.forEach((pt,dt)=>{for(const gt in pt){const vt=pt[gt];vt.sort(compareByTime);const mt=[],xt=[],St=[];for(let bt=0;bt<vt.length;bt++){const{at:Tt,value:At,easing:Ct}=vt[bt];mt.push(At),xt.push(progress$1(0,ht,Tt)),St.push(Ct||"easeOut")}xt[0]!==0&&(xt.unshift(0),mt.unshift(mt[0]),St.unshift(defaultSegmentEasing)),xt[xt.length-1]!==1&&(xt.push(1),mt.push(null)),at.has(dt)||at.set(dt,{keyframes:{},transition:{}});const Et=at.get(dt);Et.keyframes[gt]=mt,Et.transition[gt]={..._e,duration:ht,ease:St,times:xt,...nt}}}),at}function getSubjectSequence(tt,_e){return!_e.has(tt)&&_e.set(tt,{}),_e.get(tt)}function getValueSequence(tt,_e){return _e[tt]||(_e[tt]=[]),_e[tt]}function keyframesAsList(tt){return Array.isArray(tt)?tt:[tt]}function getValueTransition$1(tt,_e){return tt&&tt[_e]?{...tt,...tt[_e]}:{...tt}}const isNumber=tt=>typeof tt=="number",isNumberKeyframesArray=tt=>tt.every(isNumber);function isObjectKey(tt,_e){return tt in _e}class ObjectVisualElement extends VisualElement$1{constructor(){super(...arguments),this.type="object"}readValueFromInstance(_e,nt){if(isObjectKey(nt,_e)){const rt=_e[nt];if(typeof rt=="string"||typeof rt=="number")return rt}}getBaseTargetFromProps(){}removeValueFromRenderState(_e,nt){delete nt.output[_e]}measureInstanceViewportBox(){return createBox$1()}build(_e,nt){Object.assign(_e.output,nt)}renderInstance(_e,{output:nt}){Object.assign(_e,nt)}sortInstanceNodePosition(){return 0}}function createDOMVisualElement(tt){const _e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},nt=isSVGElement$1(tt)?new SVGVisualElement$1(_e):new HTMLVisualElement$1(_e);nt.mount(tt),visualElementStore$1.set(tt,nt)}function createObjectVisualElement(tt){const _e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},nt=new ObjectVisualElement(_e);nt.mount(tt),visualElementStore$1.set(tt,nt)}function isSingleValue(tt,_e){return isMotionValue$1(tt)||typeof tt=="number"||typeof tt=="string"&&!isDOMKeyframes(_e)}function animateSubject(tt,_e,nt,rt){const it=[];if(isSingleValue(tt,_e))it.push(animateSingleValue$1(tt,isDOMKeyframes(_e)&&_e.default||_e,nt&&(nt.default||nt)));else{const st=resolveSubjects(tt,_e,rt),at=st.length;for(let ot=0;ot<at;ot++){const lt=st[ot],ct=lt instanceof Element?createDOMVisualElement:createObjectVisualElement;visualElementStore$1.has(lt)||ct(lt);const ut=visualElementStore$1.get(lt),ft={...nt};"delay"in ft&&typeof ft.delay=="function"&&(ft.delay=ft.delay(ot,at)),it.push(...animateTarget$1(ut,{..._e,transition:ft},{}))}}return it}function animateSequence(tt,_e,nt){const rt=[];return createAnimationsFromSequence(tt,_e,nt,{spring:spring$1}).forEach(({keyframes:st,transition:at},ot)=>{rt.push(...animateSubject(ot,st,at))}),rt}function isSequence(tt){return Array.isArray(tt)&&tt.some(Array.isArray)}function createScopedAnimate(tt){function _e(nt,rt,it){let st=[];isSequence(nt)?st=animateSequence(nt,rt,tt):st=animateSubject(nt,rt,it,tt);const at=new GroupPlaybackControls$1(st);return tt&&tt.animations.push(at),at}return _e}function useAnimate(){const tt=useConstant$1(()=>({current:null,animations:[]})),_e=useConstant$1(()=>createScopedAnimate(tt));return useUnmountEffect(()=>{tt.animations.forEach(nt=>nt.stop())}),[tt,_e]}function useAnimationControls(){const tt=useConstant$1(animationControls);return useIsomorphicLayoutEffect$3(tt.mount,[]),tt}const useAnimation=useAnimationControls,thresholds={some:0,all:1};function inView(tt,_e,{root:nt,margin:rt,amount:it="some"}={}){const st=resolveElements$1(tt),at=new WeakMap,ot=ct=>{ct.forEach(ut=>{const ft=at.get(ut.target);if(ut.isIntersecting!==!!ft)if(ut.isIntersecting){const ht=_e(ut);typeof ht=="function"?at.set(ut.target,ht):lt.unobserve(ut.target)}else typeof ft=="function"&&(ft(ut),at.delete(ut.target))})},lt=new IntersectionObserver(ot,{root:nt,rootMargin:rt,threshold:typeof it=="number"?it:thresholds[it]});return st.forEach(ct=>lt.observe(ct)),()=>lt.disconnect()}function useInView$1(tt,{root:_e,margin:nt,amount:rt,once:it=!1}={}){const[st,at]=reactExports.useState(!1);return reactExports.useEffect(()=>{if(!tt.current||it&&st)return;const ot=()=>(at(!0),it?void 0:()=>at(!1)),lt={root:_e&&_e.current||void 0,margin:nt,amount:rt};return inView(tt.current,ot,lt)},[_e,tt,nt,it,rt]),st}const Menu=({productDesign:tt,proceduralArt:_e,contact:nt})=>{const rt=reactExports.useRef(null),[it,st]=reactExports.useState(!1),[at,ot]=reactExports.useState(!1);return reactExports.useEffect(()=>{const lt=()=>{const ct=window.scrollY||window.pageYOffset||document.documentElement.scrollTop;st(ct>=200)};return window.addEventListener("scroll",lt),()=>{window.removeEventListener("scroll",lt)}},[]),jsxRuntimeExports.jsx("div",{id:"menu",className:"container-xxl px-4",children:jsxRuntimeExports.jsx(motion$1.div,{className:`top-bar ${it?"compact":""}`,ref:rt,children:jsxRuntimeExports.jsxs("div",{className:`menu-wrapper ${it?"compact":""} ${at?"menu-open":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"menu-container",children:[jsxRuntimeExports.jsx("div",{className:"menu menu-item nav-link",style:{zIndex:21},onClick:()=>ot(!at),children:"Menu"}),jsxRuntimeExports.jsxs("div",{className:`menu-dropdown ${at?"open":""} ${it?"compact":""}`,children:[jsxRuntimeExports.jsx("div",{id:"menu-divider",className:`${it?"compact":""}`}),jsxRuntimeExports.jsx("div",{className:`menu-item ${tt?"active":""}`,children:jsxRuntimeExports.jsx(Link,{to:"/",className:"nav-link",children:"Product Design & Web"})}),jsxRuntimeExports.jsx("div",{className:`menu-item ${_e?"active":""}`,children:jsxRuntimeExports.jsx(Link,{to:"/project/100",className:"nav-link",children:"Procedural Art"})}),jsxRuntimeExports.jsx("div",{className:`menu-item ${nt?"active":""}`,children:jsxRuntimeExports.jsx(Link,{to:"/contact",className:"nav-link",children:"Contacts"})})]})]}),jsxRuntimeExports.jsx("div",{className:"logo",children:jsxRuntimeExports.jsx("a",{href:"#/",children:"Evgeny Prymak"})}),jsxRuntimeExports.jsx("div",{className:"cta-button",children:jsxRuntimeExports.jsx("a",{href:"https://drive.google.com/file/d/1rJz_sODrLDV9r8N9x5bvYyeduQOEyB-k/view",target:"_blank",children:jsxRuntimeExports.jsx("div",{className:"menu-item nav-link",children:"Resume"})})})]})})})};function ownKeys(tt,_e){var nt=Object.keys(tt);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(tt);_e&&(rt=rt.filter(function(it){return Object.getOwnPropertyDescriptor(tt,it).enumerable})),nt.push.apply(nt,rt)}return nt}function _objectSpread2(tt){for(var _e=1;_e<arguments.length;_e++){var nt=arguments[_e]!=null?arguments[_e]:{};_e%2?ownKeys(Object(nt),!0).forEach(function(rt){_defineProperty(tt,rt,nt[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(nt)):ownKeys(Object(nt)).forEach(function(rt){Object.defineProperty(tt,rt,Object.getOwnPropertyDescriptor(nt,rt))})}return tt}function asyncGeneratorStep(tt,_e,nt,rt,it,st,at){try{var ot=tt[st](at),lt=ot.value}catch(ct){return void nt(ct)}ot.done?_e(lt):Promise.resolve(lt).then(rt,it)}function _asyncToGenerator(tt){return function(){var _e=this,nt=arguments;return new Promise(function(rt,it){var st=tt.apply(_e,nt);function at(lt){asyncGeneratorStep(st,rt,it,at,ot,"next",lt)}function ot(lt){asyncGeneratorStep(st,rt,it,at,ot,"throw",lt)}at(void 0)})}}function _defineProperty(tt,_e,nt){return _e in tt?Object.defineProperty(tt,_e,{value:nt,enumerable:!0,configurable:!0,writable:!0}):tt[_e]=nt,tt}function _taggedTemplateLiteral(tt,_e){return _e||(_e=tt.slice(0)),Object.freeze(Object.defineProperties(tt,{raw:{value:Object.freeze(_e)}}))}function __decorate(tt,_e,nt,rt){var it,st=arguments.length,at=st<3?_e:rt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")at=Reflect.decorate(tt,_e,nt,rt);else for(var ot=tt.length-1;ot>=0;ot--)(it=tt[ot])&&(at=(st<3?it(at):st>3?it(_e,nt,at):it(_e,nt))||at);return st>3&&at&&Object.defineProperty(_e,nt,at),at}var t$3=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,e$8=Symbol(),n$5=new Map;class s$3{constructor(_e,nt){if(this._$cssResult$=!0,nt!==e$8)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=_e}get styleSheet(){var _e=n$5.get(this.cssText);return t$3&&_e===void 0&&(n$5.set(this.cssText,_e=new CSSStyleSheet),_e.replaceSync(this.cssText)),_e}toString(){return this.cssText}}var o$5=tt=>new s$3(typeof tt=="string"?tt:tt+"",e$8),r$3=function(tt){for(var _e=arguments.length,nt=new Array(_e>1?_e-1:0),rt=1;rt<_e;rt++)nt[rt-1]=arguments[rt];var it=tt.length===1?tt[0]:nt.reduce((st,at,ot)=>st+(lt=>{if(lt._$cssResult$===!0)return lt.cssText;if(typeof lt=="number")return lt;throw Error("Value passed to 'css' function must be a 'css' function result: "+lt+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(at)+tt[ot+1],tt[0]);return new s$3(it,e$8)},i$3=(tt,_e)=>{t$3?tt.adoptedStyleSheets=_e.map(nt=>nt instanceof CSSStyleSheet?nt:nt.styleSheet):_e.forEach(nt=>{var rt=document.createElement("style"),it=window.litNonce;it!==void 0&&rt.setAttribute("nonce",it),rt.textContent=nt.cssText,tt.appendChild(rt)})},S$1=t$3?tt=>tt:tt=>tt instanceof CSSStyleSheet?(_e=>{var nt="";for(var rt of _e.cssRules)nt+=rt.cssText;return o$5(nt)})(tt):tt,s$2,e$7=window.trustedTypes,r$2=e$7?e$7.emptyScript:"",h$2=window.reactiveElementPolyfillSupport,o$4={toAttribute(tt,_e){switch(_e){case Boolean:tt=tt?r$2:null;break;case Object:case Array:tt=tt==null?tt:JSON.stringify(tt)}return tt},fromAttribute(tt,_e){var nt=tt;switch(_e){case Boolean:nt=tt!==null;break;case Number:nt=tt===null?null:Number(tt);break;case Object:case Array:try{nt=JSON.parse(tt)}catch{nt=null}}return nt}},n$4=(tt,_e)=>_e!==tt&&(_e==_e||tt==tt),l$3={attribute:!0,type:String,converter:o$4,reflect:!1,hasChanged:n$4},t$2;class a$1 extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(_e){var nt;(nt=this.l)!==null&&nt!==void 0||(this.l=[]),this.l.push(_e)}static get observedAttributes(){this.finalize();var _e=[];return this.elementProperties.forEach((nt,rt)=>{var it=this._$Eh(rt,nt);it!==void 0&&(this._$Eu.set(it,rt),_e.push(it))}),_e}static createProperty(_e){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l$3;if(nt.state&&(nt.attribute=!1),this.finalize(),this.elementProperties.set(_e,nt),!nt.noAccessor&&!this.prototype.hasOwnProperty(_e)){var rt=typeof _e=="symbol"?Symbol():"__"+_e,it=this.getPropertyDescriptor(_e,rt,nt);it!==void 0&&Object.defineProperty(this.prototype,_e,it)}}static getPropertyDescriptor(_e,nt,rt){return{get(){return this[nt]},set(it){var st=this[_e];this[nt]=it,this.requestUpdate(_e,st,rt)},configurable:!0,enumerable:!0}}static getPropertyOptions(_e){return this.elementProperties.get(_e)||l$3}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;var _e=Object.getPrototypeOf(this);if(_e.finalize(),this.elementProperties=new Map(_e.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){var nt=this.properties,rt=[...Object.getOwnPropertyNames(nt),...Object.getOwnPropertySymbols(nt)];for(var it of rt)this.createProperty(it,nt[it])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(_e){var nt=[];if(Array.isArray(_e)){var rt=new Set(_e.flat(1/0).reverse());for(var it of rt)nt.unshift(S$1(it))}else _e!==void 0&&nt.push(S$1(_e));return nt}static _$Eh(_e,nt){var rt=nt.attribute;return rt===!1?void 0:typeof rt=="string"?rt:typeof _e=="string"?_e.toLowerCase():void 0}o(){var _e;this._$Ep=new Promise(nt=>this.enableUpdating=nt),this._$AL=new Map,this._$Em(),this.requestUpdate(),(_e=this.constructor.l)===null||_e===void 0||_e.forEach(nt=>nt(this))}addController(_e){var nt,rt;((nt=this._$Eg)!==null&&nt!==void 0?nt:this._$Eg=[]).push(_e),this.renderRoot!==void 0&&this.isConnected&&((rt=_e.hostConnected)===null||rt===void 0||rt.call(_e))}removeController(_e){var nt;(nt=this._$Eg)===null||nt===void 0||nt.splice(this._$Eg.indexOf(_e)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach((_e,nt)=>{this.hasOwnProperty(nt)&&(this._$Et.set(nt,this[nt]),delete this[nt])})}createRenderRoot(){var _e,nt=(_e=this.shadowRoot)!==null&&_e!==void 0?_e:this.attachShadow(this.constructor.shadowRootOptions);return i$3(nt,this.constructor.elementStyles),nt}connectedCallback(){var _e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(_e=this._$Eg)===null||_e===void 0||_e.forEach(nt=>{var rt;return(rt=nt.hostConnected)===null||rt===void 0?void 0:rt.call(nt)})}enableUpdating(_e){}disconnectedCallback(){var _e;(_e=this._$Eg)===null||_e===void 0||_e.forEach(nt=>{var rt;return(rt=nt.hostDisconnected)===null||rt===void 0?void 0:rt.call(nt)})}attributeChangedCallback(_e,nt,rt){this._$AK(_e,rt)}_$ES(_e,nt){var rt,it,st=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l$3,at=this.constructor._$Eh(_e,st);if(at!==void 0&&st.reflect===!0){var ot=((it=(rt=st.converter)===null||rt===void 0?void 0:rt.toAttribute)!==null&&it!==void 0?it:o$4.toAttribute)(nt,st.type);this._$Ei=_e,ot==null?this.removeAttribute(at):this.setAttribute(at,ot),this._$Ei=null}}_$AK(_e,nt){var rt,it,st,at=this.constructor,ot=at._$Eu.get(_e);if(ot!==void 0&&this._$Ei!==ot){var lt=at.getPropertyOptions(ot),ct=lt.converter,ut=(st=(it=(rt=ct)===null||rt===void 0?void 0:rt.fromAttribute)!==null&&it!==void 0?it:typeof ct=="function"?ct:null)!==null&&st!==void 0?st:o$4.fromAttribute;this._$Ei=ot,this[ot]=ut(nt,lt.type),this._$Ei=null}}requestUpdate(_e,nt,rt){var it=!0;_e!==void 0&&(((rt=rt||this.constructor.getPropertyOptions(_e)).hasChanged||n$4)(this[_e],nt)?(this._$AL.has(_e)||this._$AL.set(_e,nt),rt.reflect===!0&&this._$Ei!==_e&&(this._$E_===void 0&&(this._$E_=new Map),this._$E_.set(_e,rt))):it=!1),!this.isUpdatePending&&it&&(this._$Ep=this._$EC())}_$EC(){var _e=this;return _asyncToGenerator(function*(){_e.isUpdatePending=!0;try{yield _e._$Ep}catch(rt){Promise.reject(rt)}var nt=_e.scheduleUpdate();return nt!=null&&(yield nt),!_e.isUpdatePending})()}scheduleUpdate(){return this.performUpdate()}performUpdate(){var _e;if(this.isUpdatePending){this.hasUpdated,this._$Et&&(this._$Et.forEach((it,st)=>this[st]=it),this._$Et=void 0);var nt=!1,rt=this._$AL;try{(nt=this.shouldUpdate(rt))?(this.willUpdate(rt),(_e=this._$Eg)===null||_e===void 0||_e.forEach(it=>{var st;return(st=it.hostUpdate)===null||st===void 0?void 0:st.call(it)}),this.update(rt)):this._$EU()}catch(it){throw nt=!1,this._$EU(),it}nt&&this._$AE(rt)}}willUpdate(_e){}_$AE(_e){var nt;(nt=this._$Eg)===null||nt===void 0||nt.forEach(rt=>{var it;return(it=rt.hostUpdated)===null||it===void 0?void 0:it.call(rt)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(_e)),this.updated(_e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(_e){return!0}update(_e){this._$E_!==void 0&&(this._$E_.forEach((nt,rt)=>this._$ES(rt,this[rt],nt)),this._$E_=void 0),this._$EU()}updated(_e){}firstUpdated(_e){}}a$1.finalized=!0,a$1.elementProperties=new Map,a$1.elementStyles=[],a$1.shadowRootOptions={mode:"open"},h$2==null||h$2({ReactiveElement:a$1}),((s$2=globalThis.reactiveElementVersions)!==null&&s$2!==void 0?s$2:globalThis.reactiveElementVersions=[]).push("1.2.1");var i$2$1=globalThis.trustedTypes,s$1=i$2$1?i$2$1.createPolicy("lit-html",{createHTML:tt=>tt}):void 0,e$6="lit$".concat((Math.random()+"").slice(9),"$"),o$3="?"+e$6,n$3="<".concat(o$3,">"),l$2=document,h$1=function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return l$2.createComment(tt)},r$1=tt=>tt===null||typeof tt!="object"&&typeof tt!="function",d$1=Array.isArray,u$1=tt=>{var _e;return d$1(tt)||typeof((_e=tt)===null||_e===void 0?void 0:_e[Symbol.iterator])=="function"},c$1=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v$1=/-->/g,a$2=/>/g,f$1=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,_=/'/g,m$1=/"/g,g$2=/^(?:script|style|textarea)$/i,p$1=tt=>function(_e){for(var nt=arguments.length,rt=new Array(nt>1?nt-1:0),it=1;it<nt;it++)rt[it-1]=arguments[it];return{_$litType$:tt,strings:_e,values:rt}},$$1=p$1(1),b$1=Symbol.for("lit-noChange"),w$1=Symbol.for("lit-nothing"),T=new WeakMap,x$2=(tt,_e,nt)=>{var rt,it,st=(rt=nt==null?void 0:nt.renderBefore)!==null&&rt!==void 0?rt:_e,at=st._$litPart$;if(at===void 0){var ot=(it=nt==null?void 0:nt.renderBefore)!==null&&it!==void 0?it:null;st._$litPart$=at=new N(_e.insertBefore(h$1(),ot),ot,void 0,nt??{})}return at._$AI(tt),at},A=l$2.createTreeWalker(l$2,129,null,!1),C=(tt,_e)=>{for(var nt,rt=tt.length-1,it=[],st=_e===2?"<svg>":"",at=c$1,ot=0;ot<rt;ot++){for(var lt=tt[ot],ct=void 0,ut=void 0,ft=-1,ht=0;ht<lt.length&&(at.lastIndex=ht,(ut=at.exec(lt))!==null);)ht=at.lastIndex,at===c$1?ut[1]==="!--"?at=v$1:ut[1]!==void 0?at=a$2:ut[2]!==void 0?(g$2.test(ut[2])&&(nt=RegExp("</"+ut[2],"g")),at=f$1):ut[3]!==void 0&&(at=f$1):at===f$1?ut[0]===">"?(at=nt??c$1,ft=-1):ut[1]===void 0?ft=-2:(ft=at.lastIndex-ut[2].length,ct=ut[1],at=ut[3]===void 0?f$1:ut[3]==='"'?m$1:_):at===m$1||at===_?at=f$1:at===v$1||at===a$2?at=c$1:(at=f$1,nt=void 0);var pt=at===f$1&&tt[ot+1].startsWith("/>")?" ":"";st+=at===c$1?lt+n$3:ft>=0?(it.push(ct),lt.slice(0,ft)+"$lit$"+lt.slice(ft)+e$6+pt):lt+e$6+(ft===-2?(it.push(void 0),ot):pt)}var dt=st+(tt[rt]||"<?>")+(_e===2?"</svg>":"");if(!Array.isArray(tt)||!tt.hasOwnProperty("raw"))throw Error("invalid template strings array");return[s$1!==void 0?s$1.createHTML(dt):dt,it]};let E$2=class $m{constructor(_e,nt){var rt,{strings:it,_$litType$:st}=_e;this.parts=[];var at=0,ot=0,lt=it.length-1,ct=this.parts,[ut,ft]=C(it,st);if(this.el=$m.createElement(ut,nt),A.currentNode=this.el.content,st===2){var ht=this.el.content,pt=ht.firstChild;pt.remove(),ht.append(...pt.childNodes)}for(;(rt=A.nextNode())!==null&&ct.length<lt;){if(rt.nodeType===1){if(rt.hasAttributes()){var dt=[];for(var gt of rt.getAttributeNames())if(gt.endsWith("$lit$")||gt.startsWith(e$6)){var vt=ft[ot++];if(dt.push(gt),vt!==void 0){var mt=rt.getAttribute(vt.toLowerCase()+"$lit$").split(e$6),xt=/([.?@])?(.*)/.exec(vt);ct.push({type:1,index:at,name:xt[2],strings:mt,ctor:xt[1]==="."?M$1:xt[1]==="?"?H:xt[1]==="@"?I$2:S$2})}else ct.push({type:6,index:at})}for(var St of dt)rt.removeAttribute(St)}if(g$2.test(rt.tagName)){var Et=rt.textContent.split(e$6),bt=Et.length-1;if(bt>0){rt.textContent=i$2$1?i$2$1.emptyScript:"";for(var Tt=0;Tt<bt;Tt++)rt.append(Et[Tt],h$1()),A.nextNode(),ct.push({type:2,index:++at});rt.append(Et[bt],h$1())}}}else if(rt.nodeType===8)if(rt.data===o$3)ct.push({type:2,index:at});else for(var At=-1;(At=rt.data.indexOf(e$6,At+1))!==-1;)ct.push({type:7,index:at}),At+=e$6.length-1;at++}}static createElement(_e,nt){var rt=l$2.createElement("template");return rt.innerHTML=_e,rt}};function P$1(tt,_e){var nt,rt,it,st,at=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tt,ot=arguments.length>3?arguments[3]:void 0;if(_e===b$1)return _e;var lt=ot!==void 0?(nt=at._$Cl)===null||nt===void 0?void 0:nt[ot]:at._$Cu,ct=r$1(_e)?void 0:_e._$litDirective$;return(lt==null?void 0:lt.constructor)!==ct&&((rt=lt==null?void 0:lt._$AO)===null||rt===void 0||rt.call(lt,!1),ct===void 0?lt=void 0:(lt=new ct(tt))._$AT(tt,at,ot),ot!==void 0?((it=(st=at)._$Cl)!==null&&it!==void 0?it:st._$Cl=[])[ot]=lt:at._$Cu=lt),lt!==void 0&&(_e=P$1(tt,lt._$AS(tt,_e.values),lt,ot)),_e}class V{constructor(_e,nt){this.v=[],this._$AN=void 0,this._$AD=_e,this._$AM=nt}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(_e){var nt,{el:{content:rt},parts:it}=this._$AD,st=((nt=_e==null?void 0:_e.creationScope)!==null&&nt!==void 0?nt:l$2).importNode(rt,!0);A.currentNode=st;for(var at=A.nextNode(),ot=0,lt=0,ct=it[0];ct!==void 0;){if(ot===ct.index){var ut=void 0;ct.type===2?ut=new N(at,at.nextSibling,this,_e):ct.type===1?ut=new ct.ctor(at,ct.name,ct.strings,this,_e):ct.type===6&&(ut=new L$1(at,this,_e)),this.v.push(ut),ct=it[++lt]}ot!==(ct==null?void 0:ct.index)&&(at=A.nextNode(),ot++)}return st}m(_e){var nt=0;for(var rt of this.v)rt!==void 0&&(rt.strings!==void 0?(rt._$AI(_e,rt,nt),nt+=rt.strings.length-2):rt._$AI(_e[nt])),nt++}}class N{constructor(_e,nt,rt,it){var st;this.type=2,this._$AH=w$1,this._$AN=void 0,this._$AA=_e,this._$AB=nt,this._$AM=rt,this.options=it,this._$Cg=(st=it==null?void 0:it.isConnected)===null||st===void 0||st}get _$AU(){var _e,nt;return(nt=(_e=this._$AM)===null||_e===void 0?void 0:_e._$AU)!==null&&nt!==void 0?nt:this._$Cg}get parentNode(){var _e=this._$AA.parentNode,nt=this._$AM;return nt!==void 0&&_e.nodeType===11&&(_e=nt.parentNode),_e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(_e){_e=P$1(this,_e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this),r$1(_e)?_e===w$1||_e==null||_e===""?(this._$AH!==w$1&&this._$AR(),this._$AH=w$1):_e!==this._$AH&&_e!==b$1&&this.$(_e):_e._$litType$!==void 0?this.T(_e):_e.nodeType!==void 0?this.S(_e):u$1(_e)?this.A(_e):this.$(_e)}M(_e){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._$AB;return this._$AA.parentNode.insertBefore(_e,nt)}S(_e){this._$AH!==_e&&(this._$AR(),this._$AH=this.M(_e))}$(_e){this._$AH!==w$1&&r$1(this._$AH)?this._$AA.nextSibling.data=_e:this.S(l$2.createTextNode(_e)),this._$AH=_e}T(_e){var nt,{values:rt,_$litType$:it}=_e,st=typeof it=="number"?this._$AC(_e):(it.el===void 0&&(it.el=E$2.createElement(it.h,this.options)),it);if(((nt=this._$AH)===null||nt===void 0?void 0:nt._$AD)===st)this._$AH.m(rt);else{var at=new V(st,this),ot=at.p(this.options);at.m(rt),this.S(ot),this._$AH=at}}_$AC(_e){var nt=T.get(_e.strings);return nt===void 0&&T.set(_e.strings,nt=new E$2(_e)),nt}A(_e){d$1(this._$AH)||(this._$AH=[],this._$AR());var nt,rt=this._$AH,it=0;for(var st of _e)it===rt.length?rt.push(nt=new N(this.M(h$1()),this.M(h$1()),this,this.options)):nt=rt[it],nt._$AI(st),it++;it<rt.length&&(this._$AR(nt&&nt._$AB.nextSibling,it),rt.length=it)}_$AR(){var _e,nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._$AA.nextSibling,rt=arguments.length>1?arguments[1]:void 0;for((_e=this._$AP)===null||_e===void 0||_e.call(this,!1,!0,rt);nt&&nt!==this._$AB;){var it=nt.nextSibling;nt.remove(),nt=it}}setConnected(_e){var nt;this._$AM===void 0&&(this._$Cg=_e,(nt=this._$AP)===null||nt===void 0||nt.call(this,_e))}}let S$2=class{constructor(_e,nt,rt,it,st){this.type=1,this._$AH=w$1,this._$AN=void 0,this.element=_e,this.name=nt,this._$AM=it,this.options=st,rt.length>2||rt[0]!==""||rt[1]!==""?(this._$AH=Array(rt.length-1).fill(new String),this.strings=rt):this._$AH=w$1}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(_e){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,rt=arguments.length>2?arguments[2]:void 0,it=arguments.length>3?arguments[3]:void 0,st=this.strings,at=!1;if(st===void 0)_e=P$1(this,_e,nt,0),(at=!r$1(_e)||_e!==this._$AH&&_e!==b$1)&&(this._$AH=_e);else{var ot,lt,ct=_e;for(_e=st[0],ot=0;ot<st.length-1;ot++)(lt=P$1(this,ct[rt+ot],nt,ot))===b$1&&(lt=this._$AH[ot]),at||(at=!r$1(lt)||lt!==this._$AH[ot]),lt===w$1?_e=w$1:_e!==w$1&&(_e+=(lt??"")+st[ot+1]),this._$AH[ot]=lt}at&&!it&&this.k(_e)}k(_e){_e===w$1?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,_e??"")}},M$1=class extends S$2{constructor(){super(...arguments),this.type=3}k(_e){this.element[this.name]=_e===w$1?void 0:_e}};var k$2=i$2$1?i$2$1.emptyScript:"";class H extends S$2{constructor(){super(...arguments),this.type=4}k(_e){_e&&_e!==w$1?this.element.setAttribute(this.name,k$2):this.element.removeAttribute(this.name)}}let I$2=class extends S$2{constructor(_e,nt,rt,it,st){super(_e,nt,rt,it,st),this.type=5}_$AI(_e){var nt;if((_e=(nt=P$1(this,_e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,0))!==null&&nt!==void 0?nt:w$1)!==b$1){var rt=this._$AH,it=_e===w$1&&rt!==w$1||_e.capture!==rt.capture||_e.once!==rt.once||_e.passive!==rt.passive,st=_e!==w$1&&(rt===w$1||it);it&&this.element.removeEventListener(this.name,this,rt),st&&this.element.addEventListener(this.name,this,_e),this._$AH=_e}}handleEvent(_e){var nt,rt;typeof this._$AH=="function"?this._$AH.call((rt=(nt=this.options)===null||nt===void 0?void 0:nt.host)!==null&&rt!==void 0?rt:this.element,_e):this._$AH.handleEvent(_e)}},L$1=class{constructor(_e,nt,rt){this.element=_e,this.type=6,this._$AN=void 0,this._$AM=nt,this.options=rt}get _$AU(){return this._$AM._$AU}_$AI(_e){P$1(this,_e)}};var z=window.litHtmlPolyfillSupport,l$1,o$2;z==null||z(E$2,N),((t$2=globalThis.litHtmlVersions)!==null&&t$2!==void 0?t$2:globalThis.litHtmlVersions=[]).push("2.1.2");let s$4=class extends a$1{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var _e,nt,rt=super.createRenderRoot();return(_e=(nt=this.renderOptions).renderBefore)!==null&&_e!==void 0||(nt.renderBefore=rt.firstChild),rt}update(_e){var nt=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(_e),this._$Dt=x$2(nt,this.renderRoot,this.renderOptions)}connectedCallback(){var _e;super.connectedCallback(),(_e=this._$Dt)===null||_e===void 0||_e.setConnected(!0)}disconnectedCallback(){var _e;super.disconnectedCallback(),(_e=this._$Dt)===null||_e===void 0||_e.setConnected(!1)}render(){return b$1}};s$4.finalized=!0,s$4._$litElement$=!0,(l$1=globalThis.litElementHydrateSupport)===null||l$1===void 0||l$1.call(globalThis,{LitElement:s$4});var n$2=globalThis.litElementPolyfillSupport;n$2==null||n$2({LitElement:s$4});((o$2=globalThis.litElementVersions)!==null&&o$2!==void 0?o$2:globalThis.litElementVersions=[]).push("3.1.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var n$1=tt=>_e=>typeof _e=="function"?((nt,rt)=>(window.customElements.define(nt,rt),rt))(tt,_e):((nt,rt)=>{var{kind:it,elements:st}=rt;return{kind:it,elements:st,finisher(at){window.customElements.define(nt,at)}}})(tt,_e),i$1$1=(tt,_e)=>_e.kind==="method"&&_e.descriptor&&!("value"in _e.descriptor)?_objectSpread2(_objectSpread2({},_e),{},{finisher(nt){nt.createProperty(_e.key,tt)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:_e.key,initializer(){typeof _e.initializer=="function"&&(this[_e.key]=_e.initializer.call(this))},finisher(nt){nt.createProperty(_e.key,tt)}};function e$5(tt){return(_e,nt)=>nt!==void 0?((rt,it,st)=>{it.constructor.createProperty(st,rt)})(tt,_e,nt):i$1$1(tt,_e)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var o$1=tt=>{var{finisher:_e,descriptor:nt}=tt;return(rt,it)=>{var st;if(it===void 0){var at=(st=rt.originalKey)!==null&&st!==void 0?st:rt.key,ot=nt!=null?{kind:"method",placement:"prototype",key:at,descriptor:nt(rt.key)}:_objectSpread2(_objectSpread2({},rt),{},{key:at});return _e!=null&&(ot.finisher=function(ct){_e(ct,at)}),ot}var lt=rt.constructor;nt!==void 0&&Object.defineProperty(rt,it,nt(it)),_e==null||_e(lt,it)}},n$6;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function i$4(tt,_e){return o$1({descriptor:nt=>{var rt={get(){var it,st;return(st=(it=this.renderRoot)===null||it===void 0?void 0:it.querySelector(tt))!==null&&st!==void 0?st:null},enumerable:!0,configurable:!0};return rt}})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */((n$6=window.HTMLSlotElement)===null||n$6===void 0?void 0:n$6.prototype.assignedElements)!=null;var lottie$1$1={exports:{}};(function(module,exports){var factory;typeof navigator<"u"&&(factory=function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(tt){_useWebWorker=!!tt},getWebWorker=function(){return _useWebWorker},setLocationHref=function(tt){locationHref=tt},getLocationHref=function(){return locationHref};function createTag(tt){return document.createElement(tt)}function extendPrototype(tt,_e){var nt,rt,it=tt.length;for(nt=0;nt<it;nt+=1)for(var st in rt=tt[nt].prototype)Object.prototype.hasOwnProperty.call(rt,st)&&(_e.prototype[st]=rt[st])}function getDescriptor(tt,_e){return Object.getOwnPropertyDescriptor(tt,_e)}function createProxyFunction(tt){function _e(){}return _e.prototype=tt,_e}var audioControllerFactory=function(){function tt(_e){this.audios=[],this.audioFactory=_e,this._volume=1,this._isMuted=!1}return tt.prototype={addAudio:function(_e){this.audios.push(_e)},pause:function(){var _e,nt=this.audios.length;for(_e=0;_e<nt;_e+=1)this.audios[_e].pause()},resume:function(){var _e,nt=this.audios.length;for(_e=0;_e<nt;_e+=1)this.audios[_e].resume()},setRate:function(_e){var nt,rt=this.audios.length;for(nt=0;nt<rt;nt+=1)this.audios[nt].setRate(_e)},createAudio:function(_e){return this.audioFactory?this.audioFactory(_e):window.Howl?new window.Howl({src:[_e]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(_e){this.audioFactory=_e},setVolume:function(_e){this._volume=_e,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var _e,nt=this.audios.length;for(_e=0;_e<nt;_e+=1)this.audios[_e].volume(this._volume*(this._isMuted?0:1))}},function(){return new tt}}(),createTypedArray=function(){function tt(_e,nt){var rt,it=0,st=[];switch(_e){case"int16":case"uint8c":rt=1;break;default:rt=1.1}for(it=0;it<nt;it+=1)st.push(rt);return st}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?function(_e,nt){return _e==="float32"?new Float32Array(nt):_e==="int16"?new Int16Array(nt):_e==="uint8c"?new Uint8ClampedArray(nt):tt(_e,nt)}:tt}();function createSizedArray(tt){return Array.apply(null,{length:tt})}function _typeof$6(tt){return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$6(tt)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var tt,_e=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],nt=_e.length;for(tt=0;tt<nt;tt+=1)BMMath[_e[tt]]=Math[_e[tt]]})(),BMMath.random=Math.random,BMMath.abs=function(tt){if(_typeof$6(tt)==="object"&&tt.length){var _e,nt=createSizedArray(tt.length),rt=tt.length;for(_e=0;_e<rt;_e+=1)nt[_e]=Math.abs(tt[_e]);return nt}return Math.abs(tt)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(tt){tt.style.position="absolute",tt.style.top=0,tt.style.left=0,tt.style.display="block",tt.style.transformOrigin="0 0",tt.style.webkitTransformOrigin="0 0",tt.style.backfaceVisibility="visible",tt.style.webkitBackfaceVisibility="visible",tt.style.transformStyle="preserve-3d",tt.style.webkitTransformStyle="preserve-3d",tt.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(tt,_e,nt,rt){this.type=tt,this.currentTime=_e,this.totalTime=nt,this.direction=rt<0?-1:1}function BMCompleteEvent(tt,_e){this.type=tt,this.direction=_e<0?-1:1}function BMCompleteLoopEvent(tt,_e,nt,rt){this.type=tt,this.currentLoop=nt,this.totalLoops=_e,this.direction=rt<0?-1:1}function BMSegmentStartEvent(tt,_e,nt){this.type=tt,this.firstFrame=_e,this.totalFrames=nt}function BMDestroyEvent(tt,_e){this.type=tt,this.target=_e}function BMRenderFrameErrorEvent(tt,_e){this.type="renderFrameError",this.nativeError=tt,this.currentTime=_e}function BMConfigErrorEvent(tt){this.type="configError",this.nativeError=tt}var createElementID=(_count=0,function(){return idPrefix$1+"__lottie_element_"+(_count+=1)}),_count;function HSVtoRGB(tt,_e,nt){var rt,it,st,at,ot,lt,ct,ut;switch(lt=nt*(1-_e),ct=nt*(1-(ot=6*tt-(at=Math.floor(6*tt)))*_e),ut=nt*(1-(1-ot)*_e),at%6){case 0:rt=nt,it=ut,st=lt;break;case 1:rt=ct,it=nt,st=lt;break;case 2:rt=lt,it=nt,st=ut;break;case 3:rt=lt,it=ct,st=nt;break;case 4:rt=ut,it=lt,st=nt;break;case 5:rt=nt,it=lt,st=ct}return[rt,it,st]}function RGBtoHSV(tt,_e,nt){var rt,it=Math.max(tt,_e,nt),st=Math.min(tt,_e,nt),at=it-st,ot=it===0?0:at/it,lt=it/255;switch(it){case st:rt=0;break;case tt:rt=_e-nt+at*(_e<nt?6:0),rt/=6*at;break;case _e:rt=nt-tt+2*at,rt/=6*at;break;case nt:rt=tt-_e+4*at,rt/=6*at}return[rt,ot,lt]}function addSaturationToRGB(tt,_e){var nt=RGBtoHSV(255*tt[0],255*tt[1],255*tt[2]);return nt[1]+=_e,nt[1]>1?nt[1]=1:nt[1]<=0&&(nt[1]=0),HSVtoRGB(nt[0],nt[1],nt[2])}function addBrightnessToRGB(tt,_e){var nt=RGBtoHSV(255*tt[0],255*tt[1],255*tt[2]);return nt[2]+=_e,nt[2]>1?nt[2]=1:nt[2]<0&&(nt[2]=0),HSVtoRGB(nt[0],nt[1],nt[2])}function addHueToRGB(tt,_e){var nt=RGBtoHSV(255*tt[0],255*tt[1],255*tt[2]);return nt[0]+=_e/360,nt[0]>1?nt[0]-=1:nt[0]<0&&(nt[0]+=1),HSVtoRGB(nt[0],nt[1],nt[2])}var rgbToHex=function(){var tt,_e,nt=[];for(tt=0;tt<256;tt+=1)_e=tt.toString(16),nt[tt]=_e.length===1?"0"+_e:_e;return function(rt,it,st){return rt<0&&(rt=0),it<0&&(it=0),st<0&&(st=0),"#"+nt[rt]+nt[it]+nt[st]}}(),setSubframeEnabled=function(tt){subframeEnabled=!!tt},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(tt){expressionsPlugin=tt},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(tt){expressionsInterfaces=tt},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(tt){defaultCurveSegments=tt},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(tt){idPrefix$1=tt};function createNS(tt){return document.createElementNS(svgNS,tt)}function _typeof$5(tt){return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$5(tt)}var dataManager=function(){var tt,_e,nt=1,rt=[],it={onmessage:function(){},postMessage:function(lt){tt({data:lt})}},st={postMessage:function(lt){it.onmessage({data:lt})}};function at(){_e||(_e=function(lt){if(window.Worker&&window.Blob&&getWebWorker()){var ct=new Blob(["var _workerSelf = self; self.onmessage = ",lt.toString()],{type:"text/javascript"}),ut=URL.createObjectURL(ct);return new Worker(ut)}return tt=lt,it}(function(lt){if(st.dataManager||(st.dataManager=function(){function ut(At,Ct){var Pt,It,Lt,Vt,Ut,Ot,zt=At.length;for(It=0;It<zt;It+=1)if("ks"in(Pt=At[It])&&!Pt.completed){if(Pt.completed=!0,Pt.hasMask){var Dt=Pt.masksProperties;for(Vt=Dt.length,Lt=0;Lt<Vt;Lt+=1)if(Dt[Lt].pt.k.i)pt(Dt[Lt].pt.k);else for(Ot=Dt[Lt].pt.k.length,Ut=0;Ut<Ot;Ut+=1)Dt[Lt].pt.k[Ut].s&&pt(Dt[Lt].pt.k[Ut].s[0]),Dt[Lt].pt.k[Ut].e&&pt(Dt[Lt].pt.k[Ut].e[0])}Pt.ty===0?(Pt.layers=ft(Pt.refId,Ct),ut(Pt.layers,Ct)):Pt.ty===4?ht(Pt.shapes):Pt.ty===5&&bt(Pt)}}function ft(At,Ct){var Pt=function(It,Lt){for(var Vt=0,Ut=Lt.length;Vt<Ut;){if(Lt[Vt].id===It)return Lt[Vt];Vt+=1}return null}(At,Ct);return Pt?Pt.layers.__used?JSON.parse(JSON.stringify(Pt.layers)):(Pt.layers.__used=!0,Pt.layers):null}function ht(At){var Ct,Pt,It;for(Ct=At.length-1;Ct>=0;Ct-=1)if(At[Ct].ty==="sh")if(At[Ct].ks.k.i)pt(At[Ct].ks.k);else for(It=At[Ct].ks.k.length,Pt=0;Pt<It;Pt+=1)At[Ct].ks.k[Pt].s&&pt(At[Ct].ks.k[Pt].s[0]),At[Ct].ks.k[Pt].e&&pt(At[Ct].ks.k[Pt].e[0]);else At[Ct].ty==="gr"&&ht(At[Ct].it)}function pt(At){var Ct,Pt=At.i.length;for(Ct=0;Ct<Pt;Ct+=1)At.i[Ct][0]+=At.v[Ct][0],At.i[Ct][1]+=At.v[Ct][1],At.o[Ct][0]+=At.v[Ct][0],At.o[Ct][1]+=At.v[Ct][1]}function dt(At,Ct){var Pt=Ct?Ct.split("."):[100,100,100];return At[0]>Pt[0]||!(Pt[0]>At[0])&&(At[1]>Pt[1]||!(Pt[1]>At[1])&&(At[2]>Pt[2]||!(Pt[2]>At[2])&&null))}var gt,vt=function(){var At=[4,4,14];function Ct(Pt){var It,Lt,Vt,Ut=Pt.length;for(It=0;It<Ut;It+=1)Pt[It].ty===5&&(Vt=void 0,Vt=(Lt=Pt[It]).t.d,Lt.t.d={k:[{s:Vt,t:0}]})}return function(Pt){if(dt(At,Pt.v)&&(Ct(Pt.layers),Pt.assets)){var It,Lt=Pt.assets.length;for(It=0;It<Lt;It+=1)Pt.assets[It].layers&&Ct(Pt.assets[It].layers)}}}(),mt=(gt=[4,7,99],function(At){if(At.chars&&!dt(gt,At.v)){var Ct,Pt=At.chars.length;for(Ct=0;Ct<Pt;Ct+=1){var It=At.chars[Ct];It.data&&It.data.shapes&&(ht(It.data.shapes),It.data.ip=0,It.data.op=99999,It.data.st=0,It.data.sr=1,It.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},At.chars[Ct].t||(It.data.shapes.push({ty:"no"}),It.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}),xt=function(){var At=[5,7,15];function Ct(Pt){var It,Lt,Vt=Pt.length;for(It=0;It<Vt;It+=1)Pt[It].ty===5&&(Lt=void 0,typeof(Lt=Pt[It].t.p).a=="number"&&(Lt.a={a:0,k:Lt.a}),typeof Lt.p=="number"&&(Lt.p={a:0,k:Lt.p}),typeof Lt.r=="number"&&(Lt.r={a:0,k:Lt.r}))}return function(Pt){if(dt(At,Pt.v)&&(Ct(Pt.layers),Pt.assets)){var It,Lt=Pt.assets.length;for(It=0;It<Lt;It+=1)Pt.assets[It].layers&&Ct(Pt.assets[It].layers)}}}(),St=function(){var At=[4,1,9];function Ct(It){var Lt,Vt,Ut,Ot=It.length;for(Lt=0;Lt<Ot;Lt+=1)if(It[Lt].ty==="gr")Ct(It[Lt].it);else if(It[Lt].ty==="fl"||It[Lt].ty==="st")if(It[Lt].c.k&&It[Lt].c.k[0].i)for(Ut=It[Lt].c.k.length,Vt=0;Vt<Ut;Vt+=1)It[Lt].c.k[Vt].s&&(It[Lt].c.k[Vt].s[0]/=255,It[Lt].c.k[Vt].s[1]/=255,It[Lt].c.k[Vt].s[2]/=255,It[Lt].c.k[Vt].s[3]/=255),It[Lt].c.k[Vt].e&&(It[Lt].c.k[Vt].e[0]/=255,It[Lt].c.k[Vt].e[1]/=255,It[Lt].c.k[Vt].e[2]/=255,It[Lt].c.k[Vt].e[3]/=255);else It[Lt].c.k[0]/=255,It[Lt].c.k[1]/=255,It[Lt].c.k[2]/=255,It[Lt].c.k[3]/=255}function Pt(It){var Lt,Vt=It.length;for(Lt=0;Lt<Vt;Lt+=1)It[Lt].ty===4&&Ct(It[Lt].shapes)}return function(It){if(dt(At,It.v)&&(Pt(It.layers),It.assets)){var Lt,Vt=It.assets.length;for(Lt=0;Lt<Vt;Lt+=1)It.assets[Lt].layers&&Pt(It.assets[Lt].layers)}}}(),Et=function(){var At=[4,4,18];function Ct(It){var Lt,Vt,Ut;for(Lt=It.length-1;Lt>=0;Lt-=1)if(It[Lt].ty==="sh")if(It[Lt].ks.k.i)It[Lt].ks.k.c=It[Lt].closed;else for(Ut=It[Lt].ks.k.length,Vt=0;Vt<Ut;Vt+=1)It[Lt].ks.k[Vt].s&&(It[Lt].ks.k[Vt].s[0].c=It[Lt].closed),It[Lt].ks.k[Vt].e&&(It[Lt].ks.k[Vt].e[0].c=It[Lt].closed);else It[Lt].ty==="gr"&&Ct(It[Lt].it)}function Pt(It){var Lt,Vt,Ut,Ot,zt,Dt,$t=It.length;for(Vt=0;Vt<$t;Vt+=1){if((Lt=It[Vt]).hasMask){var Mt=Lt.masksProperties;for(Ot=Mt.length,Ut=0;Ut<Ot;Ut+=1)if(Mt[Ut].pt.k.i)Mt[Ut].pt.k.c=Mt[Ut].cl;else for(Dt=Mt[Ut].pt.k.length,zt=0;zt<Dt;zt+=1)Mt[Ut].pt.k[zt].s&&(Mt[Ut].pt.k[zt].s[0].c=Mt[Ut].cl),Mt[Ut].pt.k[zt].e&&(Mt[Ut].pt.k[zt].e[0].c=Mt[Ut].cl)}Lt.ty===4&&Ct(Lt.shapes)}}return function(It){if(dt(At,It.v)&&(Pt(It.layers),It.assets)){var Lt,Vt=It.assets.length;for(Lt=0;Lt<Vt;Lt+=1)It.assets[Lt].layers&&Pt(It.assets[Lt].layers)}}}();function bt(At){At.t.a.length===0&&At.t.p}var Tt={completeData:function(At){At.__complete||(St(At),vt(At),mt(At),xt(At),Et(At),ut(At.layers,At.assets),function(Ct,Pt){if(Ct){var It=0,Lt=Ct.length;for(It=0;It<Lt;It+=1)Ct[It].t===1&&(Ct[It].data.layers=ft(Ct[It].data.refId,Pt),ut(Ct[It].data.layers,Pt))}}(At.chars,At.assets),At.__complete=!0)}};return Tt.checkColors=St,Tt.checkChars=mt,Tt.checkPathProperties=xt,Tt.checkShapes=Et,Tt.completeLayers=ut,Tt}()),st.assetLoader||(st.assetLoader=function(){function ut(ft){var ht=ft.getResponseHeader("content-type");return ht&&ft.responseType==="json"&&ht.indexOf("json")!==-1||ft.response&&_typeof$5(ft.response)==="object"?ft.response:ft.response&&typeof ft.response=="string"?JSON.parse(ft.response):ft.responseText?JSON.parse(ft.responseText):null}return{load:function(ft,ht,pt,dt){var gt,vt=new XMLHttpRequest;try{vt.responseType="json"}catch{}vt.onreadystatechange=function(){if(vt.readyState===4)if(vt.status===200)gt=ut(vt),pt(gt);else try{gt=ut(vt),pt(gt)}catch(mt){dt&&dt(mt)}};try{vt.open(["G","E","T"].join(""),ft,!0)}catch{vt.open(["G","E","T"].join(""),ht+"/"+ft,!0)}vt.send()}}}()),lt.data.type==="loadAnimation")st.assetLoader.load(lt.data.path,lt.data.fullPath,function(ut){st.dataManager.completeData(ut),st.postMessage({id:lt.data.id,payload:ut,status:"success"})},function(){st.postMessage({id:lt.data.id,status:"error"})});else if(lt.data.type==="complete"){var ct=lt.data.animation;st.dataManager.completeData(ct),st.postMessage({id:lt.data.id,payload:ct,status:"success"})}else lt.data.type==="loadData"&&st.assetLoader.load(lt.data.path,lt.data.fullPath,function(ut){st.postMessage({id:lt.data.id,payload:ut,status:"success"})},function(){st.postMessage({id:lt.data.id,status:"error"})})}),_e.onmessage=function(lt){var ct=lt.data,ut=ct.id,ft=rt[ut];rt[ut]=null,ct.status==="success"?ft.onComplete(ct.payload):ft.onError&&ft.onError()})}function ot(lt,ct){var ut="processId_"+(nt+=1);return rt[ut]={onComplete:lt,onError:ct},ut}return{loadAnimation:function(lt,ct,ut){at();var ft=ot(ct,ut);_e.postMessage({type:"loadAnimation",path:lt,fullPath:window.location.origin+window.location.pathname,id:ft})},loadData:function(lt,ct,ut){at();var ft=ot(ct,ut);_e.postMessage({type:"loadData",path:lt,fullPath:window.location.origin+window.location.pathname,id:ft})},completeAnimation:function(lt,ct,ut){at();var ft=ot(ct,ut);_e.postMessage({type:"complete",animation:lt,id:ft})}}}(),ImagePreloader=function(){var tt=function(){var ot=createTag("canvas");ot.width=1,ot.height=1;var lt=ot.getContext("2d");return lt.fillStyle="rgba(0,0,0,0)",lt.fillRect(0,0,1,1),ot}();function _e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function nt(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function rt(ot,lt,ct){var ut="";if(ot.e)ut=ot.p;else if(lt){var ft=ot.p;ft.indexOf("images/")!==-1&&(ft=ft.split("/")[1]),ut=lt+ft}else ut=ct,ut+=ot.u?ot.u:"",ut+=ot.p;return ut}function it(ot){var lt=0,ct=setInterval((function(){(ot.getBBox().width||lt>500)&&(this._imageLoaded(),clearInterval(ct)),lt+=1}).bind(this),50)}function st(ot){var lt={assetData:ot},ct=rt(ot,this.assetsPath,this.path);return dataManager.loadData(ct,(function(ut){lt.img=ut,this._footageLoaded()}).bind(this),(function(){lt.img={},this._footageLoaded()}).bind(this)),lt}function at(){this._imageLoaded=_e.bind(this),this._footageLoaded=nt.bind(this),this.testImageLoaded=it.bind(this),this.createFootageData=st.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return at.prototype={loadAssets:function(ot,lt){var ct;this.imagesLoadedCb=lt;var ut=ot.length;for(ct=0;ct<ut;ct+=1)ot[ct].layers||(ot[ct].t&&ot[ct].t!=="seq"?ot[ct].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(ot[ct]))):(this.totalImages+=1,this.images.push(this._createImageData(ot[ct]))))},setAssetsPath:function(ot){this.assetsPath=ot||""},setPath:function(ot){this.path=ot||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(ot){for(var lt=0,ct=this.images.length;lt<ct;){if(this.images[lt].assetData===ot)return this.images[lt].img;lt+=1}return null},createImgData:function(ot){var lt=rt(ot,this.assetsPath,this.path),ct=createTag("img");ct.crossOrigin="anonymous",ct.addEventListener("load",this._imageLoaded,!1),ct.addEventListener("error",(function(){ut.img=tt,this._imageLoaded()}).bind(this),!1),ct.src=lt;var ut={img:ct,assetData:ot};return ut},createImageData:function(ot){var lt=rt(ot,this.assetsPath,this.path),ct=createNS("image");isSafari?this.testImageLoaded(ct):ct.addEventListener("load",this._imageLoaded,!1),ct.addEventListener("error",(function(){ut.img=tt,this._imageLoaded()}).bind(this),!1),ct.setAttributeNS("http://www.w3.org/1999/xlink","href",lt),this._elementHelper.append?this._elementHelper.append(ct):this._elementHelper.appendChild(ct);var ut={img:ct,assetData:ot};return ut},imageLoaded:_e,footageLoaded:nt,setCacheType:function(ot,lt){ot==="svg"?(this._elementHelper=lt,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},at}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(tt,_e){if(this._cbs[tt])for(var nt=this._cbs[tt],rt=0;rt<nt.length;rt+=1)nt[rt](_e)},addEventListener:function(tt,_e){return this._cbs[tt]||(this._cbs[tt]=[]),this._cbs[tt].push(_e),(function(){this.removeEventListener(tt,_e)}).bind(this)},removeEventListener:function(tt,_e){if(_e){if(this._cbs[tt]){for(var nt=0,rt=this._cbs[tt].length;nt<rt;)this._cbs[tt][nt]===_e&&(this._cbs[tt].splice(nt,1),nt-=1,rt-=1),nt+=1;this._cbs[tt].length||(this._cbs[tt]=null)}}else this._cbs[tt]=null}};var markerParser=function(){function tt(_e){for(var nt,rt=_e.split(`\r
`),it={},st=0,at=0;at<rt.length;at+=1)(nt=rt[at].split(":")).length===2&&(it[nt[0]]=nt[1].trim(),st+=1);if(st===0)throw new Error;return it}return function(_e){for(var nt=[],rt=0;rt<_e.length;rt+=1){var it=_e[rt],st={time:it.tm,duration:it.dr};try{st.payload=JSON.parse(_e[rt].cm)}catch{try{st.payload=tt(_e[rt].cm)}catch{st.payload={name:_e[rt].cm}}}nt.push(st)}return nt}}(),ProjectInterface=function(){function tt(_e){this.compositions.push(_e)}return function(){function _e(nt){for(var rt=0,it=this.compositions.length;rt<it;){if(this.compositions[rt].data&&this.compositions[rt].data.nm===nt)return this.compositions[rt].prepareFrame&&this.compositions[rt].data.xt&&this.compositions[rt].prepareFrame(this.currentFrame),this.compositions[rt].compInterface;rt+=1}return null}return _e.compositions=[],_e.currentFrame=0,_e.registerComposition=tt,_e}}(),renderers={},registerRenderer=function(tt,_e){renderers[tt]=_e};function getRenderer(tt){return renderers[tt]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var tt in renderers)if(renderers[tt])return tt;return""}function _typeof$4(tt){return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$4(tt)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(tt){(tt.wrapper||tt.container)&&(this.wrapper=tt.wrapper||tt.container);var _e="svg";tt.animType?_e=tt.animType:tt.renderer&&(_e=tt.renderer);var nt=getRenderer(_e);this.renderer=new nt(this,tt.rendererSettings),this.imagePreloader.setCacheType(_e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=_e,tt.loop===""||tt.loop===null||tt.loop===void 0||tt.loop===!0?this.loop=!0:tt.loop===!1?this.loop=!1:this.loop=parseInt(tt.loop,10),this.autoplay=!("autoplay"in tt)||tt.autoplay,this.name=tt.name?tt.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(tt,"autoloadSegments")||tt.autoloadSegments,this.assetsPath=tt.assetsPath,this.initialSegment=tt.initialSegment,tt.audioFactory&&this.audioController.setAudioFactory(tt.audioFactory),tt.animationData?this.setupAnimation(tt.animationData):tt.path&&(tt.path.lastIndexOf("\\")!==-1?this.path=tt.path.substr(0,tt.path.lastIndexOf("\\")+1):this.path=tt.path.substr(0,tt.path.lastIndexOf("/")+1),this.fileName=tt.path.substr(tt.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(tt.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(tt){dataManager.completeAnimation(tt,this.configAnimation)},AnimationItem.prototype.setData=function(tt,_e){_e&&_typeof$4(_e)!=="object"&&(_e=JSON.parse(_e));var nt={wrapper:tt,animationData:_e},rt=tt.attributes;nt.path=rt.getNamedItem("data-animation-path")?rt.getNamedItem("data-animation-path").value:rt.getNamedItem("data-bm-path")?rt.getNamedItem("data-bm-path").value:rt.getNamedItem("bm-path")?rt.getNamedItem("bm-path").value:"",nt.animType=rt.getNamedItem("data-anim-type")?rt.getNamedItem("data-anim-type").value:rt.getNamedItem("data-bm-type")?rt.getNamedItem("data-bm-type").value:rt.getNamedItem("bm-type")?rt.getNamedItem("bm-type").value:rt.getNamedItem("data-bm-renderer")?rt.getNamedItem("data-bm-renderer").value:rt.getNamedItem("bm-renderer")?rt.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var it=rt.getNamedItem("data-anim-loop")?rt.getNamedItem("data-anim-loop").value:rt.getNamedItem("data-bm-loop")?rt.getNamedItem("data-bm-loop").value:rt.getNamedItem("bm-loop")?rt.getNamedItem("bm-loop").value:"";it==="false"?nt.loop=!1:it==="true"?nt.loop=!0:it!==""&&(nt.loop=parseInt(it,10));var st=rt.getNamedItem("data-anim-autoplay")?rt.getNamedItem("data-anim-autoplay").value:rt.getNamedItem("data-bm-autoplay")?rt.getNamedItem("data-bm-autoplay").value:!rt.getNamedItem("bm-autoplay")||rt.getNamedItem("bm-autoplay").value;nt.autoplay=st!=="false",nt.name=rt.getNamedItem("data-name")?rt.getNamedItem("data-name").value:rt.getNamedItem("data-bm-name")?rt.getNamedItem("data-bm-name").value:rt.getNamedItem("bm-name")?rt.getNamedItem("bm-name").value:"",(rt.getNamedItem("data-anim-prerender")?rt.getNamedItem("data-anim-prerender").value:rt.getNamedItem("data-bm-prerender")?rt.getNamedItem("data-bm-prerender").value:rt.getNamedItem("bm-prerender")?rt.getNamedItem("bm-prerender").value:"")==="false"&&(nt.prerender=!1),nt.path?this.setParams(nt):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(tt){tt.op>this.animationData.op&&(this.animationData.op=tt.op,this.totalFrames=Math.floor(tt.op-this.animationData.ip));var _e,nt,rt=this.animationData.layers,it=rt.length,st=tt.layers,at=st.length;for(nt=0;nt<at;nt+=1)for(_e=0;_e<it;){if(rt[_e].id===st[nt].id){rt[_e]=st[nt];break}_e+=1}if((tt.chars||tt.fonts)&&(this.renderer.globalData.fontManager.addChars(tt.chars),this.renderer.globalData.fontManager.addFonts(tt.fonts,this.renderer.globalData.defs)),tt.assets)for(it=tt.assets.length,_e=0;_e<it;_e+=1)this.animationData.assets.push(tt.assets[_e]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(tt){this.animationData=tt;var _e=getExpressionsPlugin();_e&&_e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var tt=this.animationData.segments;if(!tt||tt.length===0||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var _e=tt.shift();this.timeCompleted=_e.time*this.frameRate;var nt=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(nt,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(tt){if(this.renderer)try{this.animationData=tt,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(tt),tt.assets||(tt.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(tt.assets),this.markers=markerParser(tt.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(_e){this.triggerConfigError(_e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var tt=getExpressionsPlugin();tt&&tt.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(tt,_e){var nt=typeof tt=="number"?tt:void 0,rt=typeof _e=="number"?_e:void 0;this.renderer.updateContainerSize(nt,rt)},AnimationItem.prototype.setSubframe=function(tt){this.isSubframeEnabled=!!tt},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(this.isLoaded!==!1&&this.renderer)try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(tt){this.triggerRenderFrameError(tt)}},AnimationItem.prototype.play=function(tt){tt&&this.name!==tt||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(tt){tt&&this.name!==tt||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(tt){tt&&this.name!==tt||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(tt){tt&&this.name!==tt||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(tt){for(var _e,nt=0;nt<this.markers.length;nt+=1)if((_e=this.markers[nt]).payload&&_e.payload.name===tt)return _e;return null},AnimationItem.prototype.goToAndStop=function(tt,_e,nt){if(!nt||this.name===nt){var rt=Number(tt);if(isNaN(rt)){var it=this.getMarkerData(tt);it&&this.goToAndStop(it.time,!0)}else _e?this.setCurrentRawFrameValue(tt):this.setCurrentRawFrameValue(tt*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(tt,_e,nt){if(!nt||this.name===nt){var rt=Number(tt);if(isNaN(rt)){var it=this.getMarkerData(tt);it&&(it.duration?this.playSegments([it.time,it.time+it.duration],!0):this.goToAndStop(it.time,!0))}else this.goToAndStop(rt,_e,nt);this.play()}},AnimationItem.prototype.advanceTime=function(tt){if(this.isPaused!==!0&&this.isLoaded!==!1){var _e=this.currentRawFrame+tt*this.frameModifier,nt=!1;_e>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?_e>=this.totalFrames?(this.playCount+=1,this.checkSegments(_e%this.totalFrames)||(this.setCurrentRawFrameValue(_e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(_e):this.checkSegments(_e>this.totalFrames?_e%this.totalFrames:0)||(nt=!0,_e=this.totalFrames-1):_e<0?this.checkSegments(_e%this.totalFrames)||(!this.loop||this.playCount--<=0&&this.loop!==!0?(nt=!0,_e=0):(this.setCurrentRawFrameValue(this.totalFrames+_e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(_e),nt&&(this.setCurrentRawFrameValue(_e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(tt,_e){this.playCount=0,tt[1]<tt[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=tt[0]-tt[1],this.timeCompleted=this.totalFrames,this.firstFrame=tt[1],this.setCurrentRawFrameValue(this.totalFrames-.001-_e)):tt[1]>tt[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=tt[1]-tt[0],this.timeCompleted=this.totalFrames,this.firstFrame=tt[0],this.setCurrentRawFrameValue(.001+_e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(tt,_e){var nt=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<tt?nt=tt:this.currentRawFrame+this.firstFrame>_e&&(nt=_e-tt)),this.firstFrame=tt,this.totalFrames=_e-tt,this.timeCompleted=this.totalFrames,nt!==-1&&this.goToAndStop(nt,!0)},AnimationItem.prototype.playSegments=function(tt,_e){if(_e&&(this.segments.length=0),_typeof$4(tt[0])==="object"){var nt,rt=tt.length;for(nt=0;nt<rt;nt+=1)this.segments.push(tt[nt])}else this.segments.push(tt);this.segments.length&&_e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(tt){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),tt&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(tt){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),tt),!0)},AnimationItem.prototype.destroy=function(tt){tt&&this.name!==tt||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(tt){this.currentRawFrame=tt,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(tt){this.playSpeed=tt,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(tt){this.playDirection=tt<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(tt){this.loop=tt},AnimationItem.prototype.setVolume=function(tt,_e){_e&&this.name!==_e||this.audioController.setVolume(tt)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(tt){tt&&this.name!==tt||this.audioController.mute()},AnimationItem.prototype.unmute=function(tt){tt&&this.name!==tt||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(tt){var _e="";if(tt.e)_e=tt.p;else if(this.assetsPath){var nt=tt.p;nt.indexOf("images/")!==-1&&(nt=nt.split("/")[1]),_e=this.assetsPath+nt}else _e=this.path,_e+=tt.u?tt.u:"",_e+=tt.p;return _e},AnimationItem.prototype.getAssetData=function(tt){for(var _e=0,nt=this.assets.length;_e<nt;){if(tt===this.assets[_e].id)return this.assets[_e];_e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(tt){return tt?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(tt,_e,nt){try{this.renderer.getElementByPath(tt).updateDocumentData(_e,nt)}catch{}},AnimationItem.prototype.trigger=function(tt){if(this._cbs&&this._cbs[tt])switch(tt){case"enterFrame":this.triggerEvent(tt,new BMEnterFrameEvent(tt,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(tt,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(tt,new BMCompleteLoopEvent(tt,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(tt,new BMCompleteEvent(tt,this.frameMult));break;case"segmentStart":this.triggerEvent(tt,new BMSegmentStartEvent(tt,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(tt,new BMDestroyEvent(tt,this));break;default:this.triggerEvent(tt)}tt==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(tt,this.currentFrame,this.totalFrames,this.frameMult)),tt==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(tt,this.loop,this.playCount,this.frameMult)),tt==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(tt,this.frameMult)),tt==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(tt,this.firstFrame,this.totalFrames)),tt==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(tt,this))},AnimationItem.prototype.triggerRenderFrameError=function(tt){var _e=new BMRenderFrameErrorEvent(tt,this.currentFrame);this.triggerEvent("error",_e),this.onError&&this.onError.call(this,_e)},AnimationItem.prototype.triggerConfigError=function(tt){var _e=new BMConfigErrorEvent(tt,this.currentFrame);this.triggerEvent("error",_e),this.onError&&this.onError.call(this,_e)};var animationManager=function(){var tt={},_e=[],nt=0,rt=0,it=0,st=!0,at=!1;function ot(gt){for(var vt=0,mt=gt.target;vt<rt;)_e[vt].animation===mt&&(_e.splice(vt,1),vt-=1,rt-=1,mt.isPaused||ut()),vt+=1}function lt(gt,vt){if(!gt)return null;for(var mt=0;mt<rt;){if(_e[mt].elem===gt&&_e[mt].elem!==null)return _e[mt].animation;mt+=1}var xt=new AnimationItem;return ft(xt,gt),xt.setData(gt,vt),xt}function ct(){it+=1,dt()}function ut(){it-=1}function ft(gt,vt){gt.addEventListener("destroy",ot),gt.addEventListener("_active",ct),gt.addEventListener("_idle",ut),_e.push({elem:vt,animation:gt}),rt+=1}function ht(gt){var vt,mt=gt-nt;for(vt=0;vt<rt;vt+=1)_e[vt].animation.advanceTime(mt);nt=gt,it&&!at?window.requestAnimationFrame(ht):st=!0}function pt(gt){nt=gt,window.requestAnimationFrame(ht)}function dt(){!at&&it&&st&&(window.requestAnimationFrame(pt),st=!1)}return tt.registerAnimation=lt,tt.loadAnimation=function(gt){var vt=new AnimationItem;return ft(vt,null),vt.setParams(gt),vt},tt.setSpeed=function(gt,vt){var mt;for(mt=0;mt<rt;mt+=1)_e[mt].animation.setSpeed(gt,vt)},tt.setDirection=function(gt,vt){var mt;for(mt=0;mt<rt;mt+=1)_e[mt].animation.setDirection(gt,vt)},tt.play=function(gt){var vt;for(vt=0;vt<rt;vt+=1)_e[vt].animation.play(gt)},tt.pause=function(gt){var vt;for(vt=0;vt<rt;vt+=1)_e[vt].animation.pause(gt)},tt.stop=function(gt){var vt;for(vt=0;vt<rt;vt+=1)_e[vt].animation.stop(gt)},tt.togglePause=function(gt){var vt;for(vt=0;vt<rt;vt+=1)_e[vt].animation.togglePause(gt)},tt.searchAnimations=function(gt,vt,mt){var xt,St=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Et=St.length;for(xt=0;xt<Et;xt+=1)mt&&St[xt].setAttribute("data-bm-type",mt),lt(St[xt],gt);if(vt&&Et===0){mt||(mt="svg");var bt=document.getElementsByTagName("body")[0];bt.innerText="";var Tt=createTag("div");Tt.style.width="100%",Tt.style.height="100%",Tt.setAttribute("data-bm-type",mt),bt.appendChild(Tt),lt(Tt,gt)}},tt.resize=function(){var gt;for(gt=0;gt<rt;gt+=1)_e[gt].animation.resize()},tt.goToAndStop=function(gt,vt,mt){var xt;for(xt=0;xt<rt;xt+=1)_e[xt].animation.goToAndStop(gt,vt,mt)},tt.destroy=function(gt){var vt;for(vt=rt-1;vt>=0;vt-=1)_e[vt].animation.destroy(gt)},tt.freeze=function(){at=!0},tt.unfreeze=function(){at=!1,dt()},tt.setVolume=function(gt,vt){var mt;for(mt=0;mt<rt;mt+=1)_e[mt].animation.setVolume(gt,vt)},tt.mute=function(gt){var vt;for(vt=0;vt<rt;vt+=1)_e[vt].animation.mute(gt)},tt.unmute=function(gt){var vt;for(vt=0;vt<rt;vt+=1)_e[vt].animation.unmute(gt)},tt.getRegisteredAnimations=function(){var gt,vt=_e.length,mt=[];for(gt=0;gt<vt;gt+=1)mt.push(_e[gt].animation);return mt},tt}(),BezierFactory=function(){var tt={getBezierEasing:function(ut,ft,ht,pt,dt){var gt=dt||("bez_"+ut+"_"+ft+"_"+ht+"_"+pt).replace(/\./g,"p");if(_e[gt])return _e[gt];var vt=new ct([ut,ft,ht,pt]);return _e[gt]=vt,vt}},_e={},nt=.1,rt=typeof Float32Array=="function";function it(ut,ft){return 1-3*ft+3*ut}function st(ut,ft){return 3*ft-6*ut}function at(ut){return 3*ut}function ot(ut,ft,ht){return((it(ft,ht)*ut+st(ft,ht))*ut+at(ft))*ut}function lt(ut,ft,ht){return 3*it(ft,ht)*ut*ut+2*st(ft,ht)*ut+at(ft)}function ct(ut){this._p=ut,this._mSampleValues=rt?new Float32Array(11):new Array(11),this._precomputed=!1,this.get=this.get.bind(this)}return ct.prototype={get:function(ut){var ft=this._p[0],ht=this._p[1],pt=this._p[2],dt=this._p[3];return this._precomputed||this._precompute(),ft===ht&&pt===dt?ut:ut===0?0:ut===1?1:ot(this._getTForX(ut),ht,dt)},_precompute:function(){var ut=this._p[0],ft=this._p[1],ht=this._p[2],pt=this._p[3];this._precomputed=!0,ut===ft&&ht===pt||this._calcSampleValues()},_calcSampleValues:function(){for(var ut=this._p[0],ft=this._p[2],ht=0;ht<11;++ht)this._mSampleValues[ht]=ot(ht*nt,ut,ft)},_getTForX:function(ut){for(var ft=this._p[0],ht=this._p[2],pt=this._mSampleValues,dt=0,gt=1;gt!==10&&pt[gt]<=ut;++gt)dt+=nt;var vt=dt+(ut-pt[--gt])/(pt[gt+1]-pt[gt])*nt,mt=lt(vt,ft,ht);return mt>=.001?function(xt,St,Et,bt){for(var Tt=0;Tt<4;++Tt){var At=lt(St,Et,bt);if(At===0)return St;St-=(ot(St,Et,bt)-xt)/At}return St}(ut,vt,ft,ht):mt===0?vt:function(xt,St,Et,bt,Tt){var At,Ct,Pt=0;do(At=ot(Ct=St+(Et-St)/2,bt,Tt)-xt)>0?Et=Ct:St=Ct;while(Math.abs(At)>1e-7&&++Pt<10);return Ct}(ut,dt,dt+nt,ft,ht)}},tt}(),pooling={double:function(tt){return tt.concat(createSizedArray(tt.length))}},poolFactory=function(tt,_e,nt){var rt=0,it=tt,st=createSizedArray(it);return{newElement:function(){return rt?st[rt-=1]:_e()},release:function(at){rt===it&&(st=pooling.double(st),it*=2),nt&&nt(at),st[rt]=at,rt+=1}}},bezierLengthPool=poolFactory(8,function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}),segmentsLengthPool=poolFactory(8,function(){return{lengths:[],totalLength:0}},function(tt){var _e,nt=tt.lengths.length;for(_e=0;_e<nt;_e+=1)bezierLengthPool.release(tt.lengths[_e]);tt.lengths.length=0});function bezFunction(){var tt=Math;function _e(ct,ut,ft,ht,pt,dt){var gt=ct*ht+ut*pt+ft*dt-pt*ht-dt*ct-ft*ut;return gt>-.001&&gt<.001}var nt=function(ct,ut,ft,ht){var pt,dt,gt,vt,mt,xt,St=getDefaultCurveSegments(),Et=0,bt=[],Tt=[],At=bezierLengthPool.newElement();for(gt=ft.length,pt=0;pt<St;pt+=1){for(mt=pt/(St-1),xt=0,dt=0;dt<gt;dt+=1)vt=bmPow(1-mt,3)*ct[dt]+3*bmPow(1-mt,2)*mt*ft[dt]+3*(1-mt)*bmPow(mt,2)*ht[dt]+bmPow(mt,3)*ut[dt],bt[dt]=vt,Tt[dt]!==null&&(xt+=bmPow(bt[dt]-Tt[dt],2)),Tt[dt]=bt[dt];xt&&(Et+=xt=bmSqrt(xt)),At.percents[pt]=mt,At.lengths[pt]=Et}return At.addedLength=Et,At};function rt(ct){this.segmentLength=0,this.points=new Array(ct)}function it(ct,ut){this.partialLength=ct,this.point=ut}var st,at=(st={},function(ct,ut,ft,ht){var pt=(ct[0]+"_"+ct[1]+"_"+ut[0]+"_"+ut[1]+"_"+ft[0]+"_"+ft[1]+"_"+ht[0]+"_"+ht[1]).replace(/\./g,"p");if(!st[pt]){var dt,gt,vt,mt,xt,St,Et,bt=getDefaultCurveSegments(),Tt=0,At=null;ct.length===2&&(ct[0]!==ut[0]||ct[1]!==ut[1])&&_e(ct[0],ct[1],ut[0],ut[1],ct[0]+ft[0],ct[1]+ft[1])&&_e(ct[0],ct[1],ut[0],ut[1],ut[0]+ht[0],ut[1]+ht[1])&&(bt=2);var Ct=new rt(bt);for(vt=ft.length,dt=0;dt<bt;dt+=1){for(Et=createSizedArray(vt),xt=dt/(bt-1),St=0,gt=0;gt<vt;gt+=1)mt=bmPow(1-xt,3)*ct[gt]+3*bmPow(1-xt,2)*xt*(ct[gt]+ft[gt])+3*(1-xt)*bmPow(xt,2)*(ut[gt]+ht[gt])+bmPow(xt,3)*ut[gt],Et[gt]=mt,At!==null&&(St+=bmPow(Et[gt]-At[gt],2));Tt+=St=bmSqrt(St),Ct.points[dt]=new it(St,Et),At=Et}Ct.segmentLength=Tt,st[pt]=Ct}return st[pt]});function ot(ct,ut){var ft=ut.percents,ht=ut.lengths,pt=ft.length,dt=bmFloor((pt-1)*ct),gt=ct*ut.addedLength,vt=0;if(dt===pt-1||dt===0||gt===ht[dt])return ft[dt];for(var mt=ht[dt]>gt?-1:1,xt=!0;xt;)if(ht[dt]<=gt&&ht[dt+1]>gt?(vt=(gt-ht[dt])/(ht[dt+1]-ht[dt]),xt=!1):dt+=mt,dt<0||dt>=pt-1){if(dt===pt-1)return ft[dt];xt=!1}return ft[dt]+(ft[dt+1]-ft[dt])*vt}var lt=createTypedArray("float32",8);return{getSegmentsLength:function(ct){var ut,ft=segmentsLengthPool.newElement(),ht=ct.c,pt=ct.v,dt=ct.o,gt=ct.i,vt=ct._length,mt=ft.lengths,xt=0;for(ut=0;ut<vt-1;ut+=1)mt[ut]=nt(pt[ut],pt[ut+1],dt[ut],gt[ut+1]),xt+=mt[ut].addedLength;return ht&&vt&&(mt[ut]=nt(pt[ut],pt[0],dt[ut],gt[0]),xt+=mt[ut].addedLength),ft.totalLength=xt,ft},getNewSegment:function(ct,ut,ft,ht,pt,dt,gt){pt<0?pt=0:pt>1&&(pt=1);var vt,mt=ot(pt,gt),xt=ot(dt=dt>1?1:dt,gt),St=ct.length,Et=1-mt,bt=1-xt,Tt=Et*Et*Et,At=mt*Et*Et*3,Ct=mt*mt*Et*3,Pt=mt*mt*mt,It=Et*Et*bt,Lt=mt*Et*bt+Et*mt*bt+Et*Et*xt,Vt=mt*mt*bt+Et*mt*xt+mt*Et*xt,Ut=mt*mt*xt,Ot=Et*bt*bt,zt=mt*bt*bt+Et*xt*bt+Et*bt*xt,Dt=mt*xt*bt+Et*xt*xt+mt*bt*xt,$t=mt*xt*xt,Mt=bt*bt*bt,Rt=xt*bt*bt+bt*xt*bt+bt*bt*xt,Nt=xt*xt*bt+bt*xt*xt+xt*bt*xt,Ft=xt*xt*xt;for(vt=0;vt<St;vt+=1)lt[4*vt]=tt.round(1e3*(Tt*ct[vt]+At*ft[vt]+Ct*ht[vt]+Pt*ut[vt]))/1e3,lt[4*vt+1]=tt.round(1e3*(It*ct[vt]+Lt*ft[vt]+Vt*ht[vt]+Ut*ut[vt]))/1e3,lt[4*vt+2]=tt.round(1e3*(Ot*ct[vt]+zt*ft[vt]+Dt*ht[vt]+$t*ut[vt]))/1e3,lt[4*vt+3]=tt.round(1e3*(Mt*ct[vt]+Rt*ft[vt]+Nt*ht[vt]+Ft*ut[vt]))/1e3;return lt},getPointInSegment:function(ct,ut,ft,ht,pt,dt){var gt=ot(pt,dt),vt=1-gt;return[tt.round(1e3*(vt*vt*vt*ct[0]+(gt*vt*vt+vt*gt*vt+vt*vt*gt)*ft[0]+(gt*gt*vt+vt*gt*gt+gt*vt*gt)*ht[0]+gt*gt*gt*ut[0]))/1e3,tt.round(1e3*(vt*vt*vt*ct[1]+(gt*vt*vt+vt*gt*vt+vt*vt*gt)*ft[1]+(gt*gt*vt+vt*gt*gt+gt*vt*gt)*ht[1]+gt*gt*gt*ut[1]))/1e3]},buildBezierData:at,pointOnLine2D:_e,pointOnLine3D:function(ct,ut,ft,ht,pt,dt,gt,vt,mt){if(ft===0&&dt===0&&mt===0)return _e(ct,ut,ht,pt,gt,vt);var xt,St=tt.sqrt(tt.pow(ht-ct,2)+tt.pow(pt-ut,2)+tt.pow(dt-ft,2)),Et=tt.sqrt(tt.pow(gt-ct,2)+tt.pow(vt-ut,2)+tt.pow(mt-ft,2)),bt=tt.sqrt(tt.pow(gt-ht,2)+tt.pow(vt-pt,2)+tt.pow(mt-dt,2));return(xt=St>Et?St>bt?St-Et-bt:bt-Et-St:bt>Et?bt-Et-St:Et-St-bt)>-1e-4&&xt<1e-4}}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(tt,_e){var nt,rt=this.offsetTime;this.propType==="multidimensional"&&(nt=createTypedArray("float32",this.pv.length));for(var it,st,at,ot,lt,ct,ut,ft,ht,pt=_e.lastIndex,dt=pt,gt=this.keyframes.length-1,vt=!0;vt;){if(it=this.keyframes[dt],st=this.keyframes[dt+1],dt===gt-1&&tt>=st.t-rt){it.h&&(it=st),pt=0;break}if(st.t-rt>tt){pt=dt;break}dt<gt-1?dt+=1:(pt=0,vt=!1)}at=this.keyframesMetadata[dt]||{};var mt,xt=st.t-rt,St=it.t-rt;if(it.to){at.bezierData||(at.bezierData=bez.buildBezierData(it.s,st.s||it.e,it.to,it.ti));var Et=at.bezierData;if(tt>=xt||tt<St){var bt=tt>=xt?Et.points.length-1:0;for(lt=Et.points[bt].point.length,ot=0;ot<lt;ot+=1)nt[ot]=Et.points[bt].point[ot]}else{at.__fnct?ht=at.__fnct:(ht=BezierFactory.getBezierEasing(it.o.x,it.o.y,it.i.x,it.i.y,it.n).get,at.__fnct=ht),ct=ht((tt-St)/(xt-St));var Tt,At=Et.segmentLength*ct,Ct=_e.lastFrame<tt&&_e._lastKeyframeIndex===dt?_e._lastAddedLength:0;for(ft=_e.lastFrame<tt&&_e._lastKeyframeIndex===dt?_e._lastPoint:0,vt=!0,ut=Et.points.length;vt;){if(Ct+=Et.points[ft].partialLength,At===0||ct===0||ft===Et.points.length-1){for(lt=Et.points[ft].point.length,ot=0;ot<lt;ot+=1)nt[ot]=Et.points[ft].point[ot];break}if(At>=Ct&&At<Ct+Et.points[ft+1].partialLength){for(Tt=(At-Ct)/Et.points[ft+1].partialLength,lt=Et.points[ft].point.length,ot=0;ot<lt;ot+=1)nt[ot]=Et.points[ft].point[ot]+(Et.points[ft+1].point[ot]-Et.points[ft].point[ot])*Tt;break}ft<ut-1?ft+=1:vt=!1}_e._lastPoint=ft,_e._lastAddedLength=Ct-Et.points[ft].partialLength,_e._lastKeyframeIndex=dt}}else{var Pt,It,Lt,Vt,Ut;if(gt=it.s.length,mt=st.s||it.e,this.sh&&it.h!==1)tt>=xt?(nt[0]=mt[0],nt[1]=mt[1],nt[2]=mt[2]):tt<=St?(nt[0]=it.s[0],nt[1]=it.s[1],nt[2]=it.s[2]):quaternionToEuler(nt,slerp(createQuaternion(it.s),createQuaternion(mt),(tt-St)/(xt-St)));else for(dt=0;dt<gt;dt+=1)it.h!==1&&(tt>=xt?ct=1:tt<St?ct=0:(it.o.x.constructor===Array?(at.__fnct||(at.__fnct=[]),at.__fnct[dt]?ht=at.__fnct[dt]:(Pt=it.o.x[dt]===void 0?it.o.x[0]:it.o.x[dt],It=it.o.y[dt]===void 0?it.o.y[0]:it.o.y[dt],Lt=it.i.x[dt]===void 0?it.i.x[0]:it.i.x[dt],Vt=it.i.y[dt]===void 0?it.i.y[0]:it.i.y[dt],ht=BezierFactory.getBezierEasing(Pt,It,Lt,Vt).get,at.__fnct[dt]=ht)):at.__fnct?ht=at.__fnct:(Pt=it.o.x,It=it.o.y,Lt=it.i.x,Vt=it.i.y,ht=BezierFactory.getBezierEasing(Pt,It,Lt,Vt).get,it.keyframeMetadata=ht),ct=ht((tt-St)/(xt-St)))),mt=st.s||it.e,Ut=it.h===1?it.s[dt]:it.s[dt]+(mt[dt]-it.s[dt])*ct,this.propType==="multidimensional"?nt[dt]=Ut:nt=Ut}return _e.lastIndex=pt,nt}function slerp(tt,_e,nt){var rt,it,st,at,ot,lt=[],ct=tt[0],ut=tt[1],ft=tt[2],ht=tt[3],pt=_e[0],dt=_e[1],gt=_e[2],vt=_e[3];return(it=ct*pt+ut*dt+ft*gt+ht*vt)<0&&(it=-it,pt=-pt,dt=-dt,gt=-gt,vt=-vt),1-it>1e-6?(rt=Math.acos(it),st=Math.sin(rt),at=Math.sin((1-nt)*rt)/st,ot=Math.sin(nt*rt)/st):(at=1-nt,ot=nt),lt[0]=at*ct+ot*pt,lt[1]=at*ut+ot*dt,lt[2]=at*ft+ot*gt,lt[3]=at*ht+ot*vt,lt}function quaternionToEuler(tt,_e){var nt=_e[0],rt=_e[1],it=_e[2],st=_e[3],at=Math.atan2(2*rt*st-2*nt*it,1-2*rt*rt-2*it*it),ot=Math.asin(2*nt*rt+2*it*st),lt=Math.atan2(2*nt*st-2*rt*it,1-2*nt*nt-2*it*it);tt[0]=at/degToRads,tt[1]=ot/degToRads,tt[2]=lt/degToRads}function createQuaternion(tt){var _e=tt[0]*degToRads,nt=tt[1]*degToRads,rt=tt[2]*degToRads,it=Math.cos(_e/2),st=Math.cos(nt/2),at=Math.cos(rt/2),ot=Math.sin(_e/2),lt=Math.sin(nt/2),ct=Math.sin(rt/2);return[ot*lt*at+it*st*ct,ot*st*at+it*lt*ct,it*lt*at-ot*st*ct,it*st*at-ot*lt*ct]}function getValueAtCurrentTime(){var tt=this.comp.renderedFrame-this.offsetTime,_e=this.keyframes[0].t-this.offsetTime,nt=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(tt===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=nt&&tt>=nt||this._caching.lastFrame<_e&&tt<_e))){this._caching.lastFrame>=tt&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var rt=this.interpolateValue(tt,this._caching);this.pv=rt}return this._caching.lastFrame=tt,this.pv}function setVValue(tt){var _e;if(this.propType==="unidimensional")_e=tt*this.mult,mathAbs(this.v-_e)>1e-5&&(this.v=_e,this._mdf=!0);else for(var nt=0,rt=this.v.length;nt<rt;)_e=tt[nt]*this.mult,mathAbs(this.v[nt]-_e)>1e-5&&(this.v[nt]=_e,this._mdf=!0),nt+=1}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var tt;this.lock=!0,this._mdf=this._isFirstFrame;var _e=this.effectsSequence.length,nt=this.kf?this.pv:this.data.k;for(tt=0;tt<_e;tt+=1)nt=this.effectsSequence[tt](nt);this.setVValue(nt),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(tt){this.effectsSequence.push(tt),this.container.addDynamicProperty(this)}function ValueProperty(tt,_e,nt,rt){this.propType="unidimensional",this.mult=nt||1,this.data=_e,this.v=nt?_e.k*nt:_e.k,this.pv=_e.k,this._mdf=!1,this.elem=tt,this.container=rt,this.comp=tt.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(tt,_e,nt,rt){var it;this.propType="multidimensional",this.mult=nt||1,this.data=_e,this._mdf=!1,this.elem=tt,this.container=rt,this.comp=tt.comp,this.k=!1,this.kf=!1,this.frameId=-1;var st=_e.k.length;for(this.v=createTypedArray("float32",st),this.pv=createTypedArray("float32",st),this.vel=createTypedArray("float32",st),it=0;it<st;it+=1)this.v[it]=_e.k[it]*this.mult,this.pv[it]=_e.k[it];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(tt,_e,nt,rt){this.propType="unidimensional",this.keyframes=_e.k,this.keyframesMetadata=[],this.offsetTime=tt.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=_e,this.mult=nt||1,this.elem=tt,this.container=rt,this.comp=tt.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(tt,_e,nt,rt){var it;this.propType="multidimensional";var st,at,ot,lt,ct=_e.k.length;for(it=0;it<ct-1;it+=1)_e.k[it].to&&_e.k[it].s&&_e.k[it+1]&&_e.k[it+1].s&&(st=_e.k[it].s,at=_e.k[it+1].s,ot=_e.k[it].to,lt=_e.k[it].ti,(st.length===2&&(st[0]!==at[0]||st[1]!==at[1])&&bez.pointOnLine2D(st[0],st[1],at[0],at[1],st[0]+ot[0],st[1]+ot[1])&&bez.pointOnLine2D(st[0],st[1],at[0],at[1],at[0]+lt[0],at[1]+lt[1])||st.length===3&&(st[0]!==at[0]||st[1]!==at[1]||st[2]!==at[2])&&bez.pointOnLine3D(st[0],st[1],st[2],at[0],at[1],at[2],st[0]+ot[0],st[1]+ot[1],st[2]+ot[2])&&bez.pointOnLine3D(st[0],st[1],st[2],at[0],at[1],at[2],at[0]+lt[0],at[1]+lt[1],at[2]+lt[2]))&&(_e.k[it].to=null,_e.k[it].ti=null),st[0]===at[0]&&st[1]===at[1]&&ot[0]===0&&ot[1]===0&&lt[0]===0&&lt[1]===0&&(st.length===2||st[2]===at[2]&&ot[2]===0&&lt[2]===0)&&(_e.k[it].to=null,_e.k[it].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=_e,this.keyframes=_e.k,this.keyframesMetadata=[],this.offsetTime=tt.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=nt||1,this.elem=tt,this.container=rt,this.comp=tt.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var ut=_e.k[0].s.length;for(this.v=createTypedArray("float32",ut),this.pv=createTypedArray("float32",ut),it=0;it<ut;it+=1)this.v[it]=initFrame,this.pv[it]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",ut)},this.addEffect=addEffect}var PropertyFactory=(ob={getProp:function(tt,_e,nt,rt,it){var st;if(_e.sid&&(_e=tt.globalData.slotManager.getProp(_e)),_e.k.length)if(typeof _e.k[0]=="number")st=new MultiDimensionalProperty(tt,_e,rt,it);else switch(nt){case 0:st=new KeyframedValueProperty(tt,_e,rt,it);break;case 1:st=new KeyframedMultidimensionalProperty(tt,_e,rt,it)}else st=new ValueProperty(tt,_e,rt,it);return st.effectsSequence.length&&it.addDynamicProperty(st),st}},ob),ob;function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(tt){this.dynamicProperties.indexOf(tt)===-1&&(this.dynamicProperties.push(tt),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){var tt;this._mdf=!1;var _e=this.dynamicProperties.length;for(tt=0;tt<_e;tt+=1)this.dynamicProperties[tt].getValue(),this.dynamicProperties[tt]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(tt){this.container=tt,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,function(){return createTypedArray("float32",2)});function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(tt,_e){this.c=tt,this.setLength(_e);for(var nt=0;nt<_e;)this.v[nt]=pointPool.newElement(),this.o[nt]=pointPool.newElement(),this.i[nt]=pointPool.newElement(),nt+=1},ShapePath.prototype.setLength=function(tt){for(;this._maxLength<tt;)this.doubleArrayLength();this._length=tt},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(tt,_e,nt,rt,it){var st;switch(this._length=Math.max(this._length,rt+1),this._length>=this._maxLength&&this.doubleArrayLength(),nt){case"v":st=this.v;break;case"i":st=this.i;break;case"o":st=this.o;break;default:st=[]}(!st[rt]||st[rt]&&!it)&&(st[rt]=pointPool.newElement()),st[rt][0]=tt,st[rt][1]=_e},ShapePath.prototype.setTripleAt=function(tt,_e,nt,rt,it,st,at,ot){this.setXYAt(tt,_e,"v",at,ot),this.setXYAt(nt,rt,"o",at,ot),this.setXYAt(it,st,"i",at,ot)},ShapePath.prototype.reverse=function(){var tt=new ShapePath;tt.setPathData(this.c,this._length);var _e=this.v,nt=this.o,rt=this.i,it=0;this.c&&(tt.setTripleAt(_e[0][0],_e[0][1],rt[0][0],rt[0][1],nt[0][0],nt[0][1],0,!1),it=1);var st,at=this._length-1,ot=this._length;for(st=it;st<ot;st+=1)tt.setTripleAt(_e[at][0],_e[at][1],rt[at][0],rt[at][1],nt[at][0],nt[at][1],st,!1),at-=1;return tt},ShapePath.prototype.length=function(){return this._length};var shapePool=(factory=poolFactory(4,function(){return new ShapePath},function(tt){var _e,nt=tt._length;for(_e=0;_e<nt;_e+=1)pointPool.release(tt.v[_e]),pointPool.release(tt.i[_e]),pointPool.release(tt.o[_e]),tt.v[_e]=null,tt.i[_e]=null,tt.o[_e]=null;tt._length=0,tt.c=!1}),factory.clone=function(tt){var _e,nt=factory.newElement(),rt=tt._length===void 0?tt.v.length:tt._length;for(nt.setLength(rt),nt.c=tt.c,_e=0;_e<rt;_e+=1)nt.setTripleAt(tt.v[_e][0],tt.v[_e][1],tt.o[_e][0],tt.o[_e][1],tt.i[_e][0],tt.i[_e][1],_e);return nt},factory),factory;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(tt){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=tt,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var tt;for(tt=0;tt<this._length;tt+=1)shapePool.release(this.shapes[tt]);this._length=0};var shapeCollectionPool=function(){var tt={newShapeCollection:function(){return _e?rt[_e-=1]:new ShapeCollection},release:function(it){var st,at=it._length;for(st=0;st<at;st+=1)shapePool.release(it.shapes[st]);it._length=0,_e===nt&&(rt=pooling.double(rt),nt*=2),rt[_e]=it,_e+=1}},_e=0,nt=4,rt=createSizedArray(nt);return tt}(),ShapePropertyFactory=function(){var tt=-999999;function _e(pt,dt,gt){var vt,mt,xt,St,Et,bt,Tt,At,Ct,Pt=gt.lastIndex,It=this.keyframes;if(pt<It[0].t-this.offsetTime)vt=It[0].s[0],xt=!0,Pt=0;else if(pt>=It[It.length-1].t-this.offsetTime)vt=It[It.length-1].s?It[It.length-1].s[0]:It[It.length-2].e[0],xt=!0;else{for(var Lt,Vt,Ut,Ot=Pt,zt=It.length-1,Dt=!0;Dt&&(Lt=It[Ot],!((Vt=It[Ot+1]).t-this.offsetTime>pt));)Ot<zt-1?Ot+=1:Dt=!1;if(Ut=this.keyframesMetadata[Ot]||{},Pt=Ot,!(xt=Lt.h===1)){if(pt>=Vt.t-this.offsetTime)At=1;else if(pt<Lt.t-this.offsetTime)At=0;else{var $t;Ut.__fnct?$t=Ut.__fnct:($t=BezierFactory.getBezierEasing(Lt.o.x,Lt.o.y,Lt.i.x,Lt.i.y).get,Ut.__fnct=$t),At=$t((pt-(Lt.t-this.offsetTime))/(Vt.t-this.offsetTime-(Lt.t-this.offsetTime)))}mt=Vt.s?Vt.s[0]:Lt.e[0]}vt=Lt.s[0]}for(bt=dt._length,Tt=vt.i[0].length,gt.lastIndex=Pt,St=0;St<bt;St+=1)for(Et=0;Et<Tt;Et+=1)Ct=xt?vt.i[St][Et]:vt.i[St][Et]+(mt.i[St][Et]-vt.i[St][Et])*At,dt.i[St][Et]=Ct,Ct=xt?vt.o[St][Et]:vt.o[St][Et]+(mt.o[St][Et]-vt.o[St][Et])*At,dt.o[St][Et]=Ct,Ct=xt?vt.v[St][Et]:vt.v[St][Et]+(mt.v[St][Et]-vt.v[St][Et])*At,dt.v[St][Et]=Ct}function nt(){var pt=this.comp.renderedFrame-this.offsetTime,dt=this.keyframes[0].t-this.offsetTime,gt=this.keyframes[this.keyframes.length-1].t-this.offsetTime,vt=this._caching.lastFrame;return vt!==tt&&(vt<dt&&pt<dt||vt>gt&&pt>gt)||(this._caching.lastIndex=vt<pt?this._caching.lastIndex:0,this.interpolateShape(pt,this.pv,this._caching)),this._caching.lastFrame=pt,this.pv}function rt(){this.paths=this.localShapeCollection}function it(pt){(function(dt,gt){if(dt._length!==gt._length||dt.c!==gt.c)return!1;var vt,mt=dt._length;for(vt=0;vt<mt;vt+=1)if(dt.v[vt][0]!==gt.v[vt][0]||dt.v[vt][1]!==gt.v[vt][1]||dt.o[vt][0]!==gt.o[vt][0]||dt.o[vt][1]!==gt.o[vt][1]||dt.i[vt][0]!==gt.i[vt][0]||dt.i[vt][1]!==gt.i[vt][1])return!1;return!0})(this.v,pt)||(this.v=shapePool.clone(pt),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function st(){if(this.elem.globalData.frameId!==this.frameId)if(this.effectsSequence.length)if(this.lock)this.setVValue(this.pv);else{var pt,dt;this.lock=!0,this._mdf=!1,pt=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var gt=this.effectsSequence.length;for(dt=0;dt<gt;dt+=1)pt=this.effectsSequence[dt](pt);this.setVValue(pt),this.lock=!1,this.frameId=this.elem.globalData.frameId}else this._mdf=!1}function at(pt,dt,gt){this.propType="shape",this.comp=pt.comp,this.container=pt,this.elem=pt,this.data=dt,this.k=!1,this.kf=!1,this._mdf=!1;var vt=gt===3?dt.pt.k:dt.ks.k;this.v=shapePool.clone(vt),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=rt,this.effectsSequence=[]}function ot(pt){this.effectsSequence.push(pt),this.container.addDynamicProperty(this)}function lt(pt,dt,gt){this.propType="shape",this.comp=pt.comp,this.elem=pt,this.container=pt,this.offsetTime=pt.data.st,this.keyframes=gt===3?dt.pt.k:dt.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var vt=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,vt),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=tt,this.reset=rt,this._caching={lastFrame:tt,lastIndex:0},this.effectsSequence=[nt.bind(this)]}at.prototype.interpolateShape=_e,at.prototype.getValue=st,at.prototype.setVValue=it,at.prototype.addEffect=ot,lt.prototype.getValue=st,lt.prototype.interpolateShape=_e,lt.prototype.setVValue=it,lt.prototype.addEffect=ot;var ct=function(){var pt=roundCorner;function dt(gt,vt){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=vt.d,this.elem=gt,this.comp=gt.comp,this.frameId=-1,this.initDynamicPropertyContainer(gt),this.p=PropertyFactory.getProp(gt,vt.p,1,0,this),this.s=PropertyFactory.getProp(gt,vt.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return dt.prototype={reset:rt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var gt=this.p.v[0],vt=this.p.v[1],mt=this.s.v[0]/2,xt=this.s.v[1]/2,St=this.d!==3,Et=this.v;Et.v[0][0]=gt,Et.v[0][1]=vt-xt,Et.v[1][0]=St?gt+mt:gt-mt,Et.v[1][1]=vt,Et.v[2][0]=gt,Et.v[2][1]=vt+xt,Et.v[3][0]=St?gt-mt:gt+mt,Et.v[3][1]=vt,Et.i[0][0]=St?gt-mt*pt:gt+mt*pt,Et.i[0][1]=vt-xt,Et.i[1][0]=St?gt+mt:gt-mt,Et.i[1][1]=vt-xt*pt,Et.i[2][0]=St?gt+mt*pt:gt-mt*pt,Et.i[2][1]=vt+xt,Et.i[3][0]=St?gt-mt:gt+mt,Et.i[3][1]=vt+xt*pt,Et.o[0][0]=St?gt+mt*pt:gt-mt*pt,Et.o[0][1]=vt-xt,Et.o[1][0]=St?gt+mt:gt-mt,Et.o[1][1]=vt+xt*pt,Et.o[2][0]=St?gt-mt*pt:gt+mt*pt,Et.o[2][1]=vt+xt,Et.o[3][0]=St?gt-mt:gt+mt,Et.o[3][1]=vt-xt*pt}},extendPrototype([DynamicPropertyContainer],dt),dt}(),ut=function(){function pt(dt,gt){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=dt,this.comp=dt.comp,this.data=gt,this.frameId=-1,this.d=gt.d,this.initDynamicPropertyContainer(dt),gt.sy===1?(this.ir=PropertyFactory.getProp(dt,gt.ir,0,0,this),this.is=PropertyFactory.getProp(dt,gt.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(dt,gt.pt,0,0,this),this.p=PropertyFactory.getProp(dt,gt.p,1,0,this),this.r=PropertyFactory.getProp(dt,gt.r,0,degToRads,this),this.or=PropertyFactory.getProp(dt,gt.or,0,0,this),this.os=PropertyFactory.getProp(dt,gt.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return pt.prototype={reset:rt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var dt,gt,vt,mt,xt=2*Math.floor(this.pt.v),St=2*Math.PI/xt,Et=!0,bt=this.or.v,Tt=this.ir.v,At=this.os.v,Ct=this.is.v,Pt=2*Math.PI*bt/(2*xt),It=2*Math.PI*Tt/(2*xt),Lt=-Math.PI/2;Lt+=this.r.v;var Vt=this.data.d===3?-1:1;for(this.v._length=0,dt=0;dt<xt;dt+=1){vt=Et?At:Ct,mt=Et?Pt:It;var Ut=(gt=Et?bt:Tt)*Math.cos(Lt),Ot=gt*Math.sin(Lt),zt=Ut===0&&Ot===0?0:Ot/Math.sqrt(Ut*Ut+Ot*Ot),Dt=Ut===0&&Ot===0?0:-Ut/Math.sqrt(Ut*Ut+Ot*Ot);Ut+=+this.p.v[0],Ot+=+this.p.v[1],this.v.setTripleAt(Ut,Ot,Ut-zt*mt*vt*Vt,Ot-Dt*mt*vt*Vt,Ut+zt*mt*vt*Vt,Ot+Dt*mt*vt*Vt,dt,!0),Et=!Et,Lt+=St*Vt}},convertPolygonToPath:function(){var dt,gt=Math.floor(this.pt.v),vt=2*Math.PI/gt,mt=this.or.v,xt=this.os.v,St=2*Math.PI*mt/(4*gt),Et=.5*-Math.PI,bt=this.data.d===3?-1:1;for(Et+=this.r.v,this.v._length=0,dt=0;dt<gt;dt+=1){var Tt=mt*Math.cos(Et),At=mt*Math.sin(Et),Ct=Tt===0&&At===0?0:At/Math.sqrt(Tt*Tt+At*At),Pt=Tt===0&&At===0?0:-Tt/Math.sqrt(Tt*Tt+At*At);Tt+=+this.p.v[0],At+=+this.p.v[1],this.v.setTripleAt(Tt,At,Tt-Ct*St*xt*bt,At-Pt*St*xt*bt,Tt+Ct*St*xt*bt,At+Pt*St*xt*bt,dt,!0),Et+=vt*bt}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],pt),pt}(),ft=function(){function pt(dt,gt){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=dt,this.comp=dt.comp,this.frameId=-1,this.d=gt.d,this.initDynamicPropertyContainer(dt),this.p=PropertyFactory.getProp(dt,gt.p,1,0,this),this.s=PropertyFactory.getProp(dt,gt.s,1,0,this),this.r=PropertyFactory.getProp(dt,gt.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return pt.prototype={convertRectToPath:function(){var dt=this.p.v[0],gt=this.p.v[1],vt=this.s.v[0]/2,mt=this.s.v[1]/2,xt=bmMin(vt,mt,this.r.v),St=xt*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(dt+vt,gt-mt+xt,dt+vt,gt-mt+xt,dt+vt,gt-mt+St,0,!0),this.v.setTripleAt(dt+vt,gt+mt-xt,dt+vt,gt+mt-St,dt+vt,gt+mt-xt,1,!0),xt!==0?(this.v.setTripleAt(dt+vt-xt,gt+mt,dt+vt-xt,gt+mt,dt+vt-St,gt+mt,2,!0),this.v.setTripleAt(dt-vt+xt,gt+mt,dt-vt+St,gt+mt,dt-vt+xt,gt+mt,3,!0),this.v.setTripleAt(dt-vt,gt+mt-xt,dt-vt,gt+mt-xt,dt-vt,gt+mt-St,4,!0),this.v.setTripleAt(dt-vt,gt-mt+xt,dt-vt,gt-mt+St,dt-vt,gt-mt+xt,5,!0),this.v.setTripleAt(dt-vt+xt,gt-mt,dt-vt+xt,gt-mt,dt-vt+St,gt-mt,6,!0),this.v.setTripleAt(dt+vt-xt,gt-mt,dt+vt-St,gt-mt,dt+vt-xt,gt-mt,7,!0)):(this.v.setTripleAt(dt-vt,gt+mt,dt-vt+St,gt+mt,dt-vt,gt+mt,2),this.v.setTripleAt(dt-vt,gt-mt,dt-vt,gt-mt+St,dt-vt,gt-mt,3))):(this.v.setTripleAt(dt+vt,gt-mt+xt,dt+vt,gt-mt+St,dt+vt,gt-mt+xt,0,!0),xt!==0?(this.v.setTripleAt(dt+vt-xt,gt-mt,dt+vt-xt,gt-mt,dt+vt-St,gt-mt,1,!0),this.v.setTripleAt(dt-vt+xt,gt-mt,dt-vt+St,gt-mt,dt-vt+xt,gt-mt,2,!0),this.v.setTripleAt(dt-vt,gt-mt+xt,dt-vt,gt-mt+xt,dt-vt,gt-mt+St,3,!0),this.v.setTripleAt(dt-vt,gt+mt-xt,dt-vt,gt+mt-St,dt-vt,gt+mt-xt,4,!0),this.v.setTripleAt(dt-vt+xt,gt+mt,dt-vt+xt,gt+mt,dt-vt+St,gt+mt,5,!0),this.v.setTripleAt(dt+vt-xt,gt+mt,dt+vt-St,gt+mt,dt+vt-xt,gt+mt,6,!0),this.v.setTripleAt(dt+vt,gt+mt-xt,dt+vt,gt+mt-xt,dt+vt,gt+mt-St,7,!0)):(this.v.setTripleAt(dt-vt,gt-mt,dt-vt+St,gt-mt,dt-vt,gt-mt,1,!0),this.v.setTripleAt(dt-vt,gt+mt,dt-vt,gt+mt-St,dt-vt,gt+mt,2,!0),this.v.setTripleAt(dt+vt,gt+mt,dt+vt-St,gt+mt,dt+vt,gt+mt,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:rt},extendPrototype([DynamicPropertyContainer],pt),pt}(),ht={getShapeProp:function(pt,dt,gt){var vt;return gt===3||gt===4?vt=(gt===3?dt.pt:dt.ks).k.length?new lt(pt,dt,gt):new at(pt,dt,gt):gt===5?vt=new ft(pt,dt):gt===6?vt=new ct(pt,dt):gt===7&&(vt=new ut(pt,dt)),vt.k&&pt.addDynamicProperty(vt),vt},getConstructorFunction:function(){return at},getKeyframedConstructorFunction:function(){return lt}};return ht}(),Matrix=function(){var tt=Math.cos,_e=Math.sin,nt=Math.tan,rt=Math.round;function it(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function st(Mt){if(Mt===0)return this;var Rt=tt(Mt),Nt=_e(Mt);return this._t(Rt,-Nt,0,0,Nt,Rt,0,0,0,0,1,0,0,0,0,1)}function at(Mt){if(Mt===0)return this;var Rt=tt(Mt),Nt=_e(Mt);return this._t(1,0,0,0,0,Rt,-Nt,0,0,Nt,Rt,0,0,0,0,1)}function ot(Mt){if(Mt===0)return this;var Rt=tt(Mt),Nt=_e(Mt);return this._t(Rt,0,Nt,0,0,1,0,0,-Nt,0,Rt,0,0,0,0,1)}function lt(Mt){if(Mt===0)return this;var Rt=tt(Mt),Nt=_e(Mt);return this._t(Rt,-Nt,0,0,Nt,Rt,0,0,0,0,1,0,0,0,0,1)}function ct(Mt,Rt){return this._t(1,Rt,Mt,1,0,0)}function ut(Mt,Rt){return this.shear(nt(Mt),nt(Rt))}function ft(Mt,Rt){var Nt=tt(Rt),Ft=_e(Rt);return this._t(Nt,Ft,0,0,-Ft,Nt,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,nt(Mt),1,0,0,0,0,1,0,0,0,0,1)._t(Nt,-Ft,0,0,Ft,Nt,0,0,0,0,1,0,0,0,0,1)}function ht(Mt,Rt,Nt){return Nt||Nt===0||(Nt=1),Mt===1&&Rt===1&&Nt===1?this:this._t(Mt,0,0,0,0,Rt,0,0,0,0,Nt,0,0,0,0,1)}function pt(Mt,Rt,Nt,Ft,qt,Qt,Kt,Zt,tn,en,un,Cn,Rn,Mn,ln,gn){return this.props[0]=Mt,this.props[1]=Rt,this.props[2]=Nt,this.props[3]=Ft,this.props[4]=qt,this.props[5]=Qt,this.props[6]=Kt,this.props[7]=Zt,this.props[8]=tn,this.props[9]=en,this.props[10]=un,this.props[11]=Cn,this.props[12]=Rn,this.props[13]=Mn,this.props[14]=ln,this.props[15]=gn,this}function dt(Mt,Rt,Nt){return Nt=Nt||0,Mt!==0||Rt!==0||Nt!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Mt,Rt,Nt,1):this}function gt(Mt,Rt,Nt,Ft,qt,Qt,Kt,Zt,tn,en,un,Cn,Rn,Mn,ln,gn){var Yt=this.props;if(Mt===1&&Rt===0&&Nt===0&&Ft===0&&qt===0&&Qt===1&&Kt===0&&Zt===0&&tn===0&&en===0&&un===1&&Cn===0)return Yt[12]=Yt[12]*Mt+Yt[15]*Rn,Yt[13]=Yt[13]*Qt+Yt[15]*Mn,Yt[14]=Yt[14]*un+Yt[15]*ln,Yt[15]*=gn,this._identityCalculated=!1,this;var Fn=Yt[0],wn=Yt[1],Vn=Yt[2],xn=Yt[3],Bn=Yt[4],Tn=Yt[5],Wt=Yt[6],Ht=Yt[7],an=Yt[8],dn=Yt[9],mn=Yt[10],En=Yt[11],Dn=Yt[12],kn=Yt[13],Nn=Yt[14],tr=Yt[15];return Yt[0]=Fn*Mt+wn*qt+Vn*tn+xn*Rn,Yt[1]=Fn*Rt+wn*Qt+Vn*en+xn*Mn,Yt[2]=Fn*Nt+wn*Kt+Vn*un+xn*ln,Yt[3]=Fn*Ft+wn*Zt+Vn*Cn+xn*gn,Yt[4]=Bn*Mt+Tn*qt+Wt*tn+Ht*Rn,Yt[5]=Bn*Rt+Tn*Qt+Wt*en+Ht*Mn,Yt[6]=Bn*Nt+Tn*Kt+Wt*un+Ht*ln,Yt[7]=Bn*Ft+Tn*Zt+Wt*Cn+Ht*gn,Yt[8]=an*Mt+dn*qt+mn*tn+En*Rn,Yt[9]=an*Rt+dn*Qt+mn*en+En*Mn,Yt[10]=an*Nt+dn*Kt+mn*un+En*ln,Yt[11]=an*Ft+dn*Zt+mn*Cn+En*gn,Yt[12]=Dn*Mt+kn*qt+Nn*tn+tr*Rn,Yt[13]=Dn*Rt+kn*Qt+Nn*en+tr*Mn,Yt[14]=Dn*Nt+kn*Kt+Nn*un+tr*ln,Yt[15]=Dn*Ft+kn*Zt+Nn*Cn+tr*gn,this._identityCalculated=!1,this}function vt(Mt){var Rt=Mt.props;return this.transform(Rt[0],Rt[1],Rt[2],Rt[3],Rt[4],Rt[5],Rt[6],Rt[7],Rt[8],Rt[9],Rt[10],Rt[11],Rt[12],Rt[13],Rt[14],Rt[15])}function mt(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function xt(Mt){for(var Rt=0;Rt<16;){if(Mt.props[Rt]!==this.props[Rt])return!1;Rt+=1}return!0}function St(Mt){var Rt;for(Rt=0;Rt<16;Rt+=1)Mt.props[Rt]=this.props[Rt];return Mt}function Et(Mt){var Rt;for(Rt=0;Rt<16;Rt+=1)this.props[Rt]=Mt[Rt]}function bt(Mt,Rt,Nt){return{x:Mt*this.props[0]+Rt*this.props[4]+Nt*this.props[8]+this.props[12],y:Mt*this.props[1]+Rt*this.props[5]+Nt*this.props[9]+this.props[13],z:Mt*this.props[2]+Rt*this.props[6]+Nt*this.props[10]+this.props[14]}}function Tt(Mt,Rt,Nt){return Mt*this.props[0]+Rt*this.props[4]+Nt*this.props[8]+this.props[12]}function At(Mt,Rt,Nt){return Mt*this.props[1]+Rt*this.props[5]+Nt*this.props[9]+this.props[13]}function Ct(Mt,Rt,Nt){return Mt*this.props[2]+Rt*this.props[6]+Nt*this.props[10]+this.props[14]}function Pt(){var Mt=this.props[0]*this.props[5]-this.props[1]*this.props[4],Rt=this.props[5]/Mt,Nt=-this.props[1]/Mt,Ft=-this.props[4]/Mt,qt=this.props[0]/Mt,Qt=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Mt,Kt=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Mt,Zt=new Matrix;return Zt.props[0]=Rt,Zt.props[1]=Nt,Zt.props[4]=Ft,Zt.props[5]=qt,Zt.props[12]=Qt,Zt.props[13]=Kt,Zt}function It(Mt){return this.getInverseMatrix().applyToPointArray(Mt[0],Mt[1],Mt[2]||0)}function Lt(Mt){var Rt,Nt=Mt.length,Ft=[];for(Rt=0;Rt<Nt;Rt+=1)Ft[Rt]=It(Mt[Rt]);return Ft}function Vt(Mt,Rt,Nt){var Ft=createTypedArray("float32",6);if(this.isIdentity())Ft[0]=Mt[0],Ft[1]=Mt[1],Ft[2]=Rt[0],Ft[3]=Rt[1],Ft[4]=Nt[0],Ft[5]=Nt[1];else{var qt=this.props[0],Qt=this.props[1],Kt=this.props[4],Zt=this.props[5],tn=this.props[12],en=this.props[13];Ft[0]=Mt[0]*qt+Mt[1]*Kt+tn,Ft[1]=Mt[0]*Qt+Mt[1]*Zt+en,Ft[2]=Rt[0]*qt+Rt[1]*Kt+tn,Ft[3]=Rt[0]*Qt+Rt[1]*Zt+en,Ft[4]=Nt[0]*qt+Nt[1]*Kt+tn,Ft[5]=Nt[0]*Qt+Nt[1]*Zt+en}return Ft}function Ut(Mt,Rt,Nt){return this.isIdentity()?[Mt,Rt,Nt]:[Mt*this.props[0]+Rt*this.props[4]+Nt*this.props[8]+this.props[12],Mt*this.props[1]+Rt*this.props[5]+Nt*this.props[9]+this.props[13],Mt*this.props[2]+Rt*this.props[6]+Nt*this.props[10]+this.props[14]]}function Ot(Mt,Rt){if(this.isIdentity())return Mt+","+Rt;var Nt=this.props;return Math.round(100*(Mt*Nt[0]+Rt*Nt[4]+Nt[12]))/100+","+Math.round(100*(Mt*Nt[1]+Rt*Nt[5]+Nt[13]))/100}function zt(){for(var Mt=0,Rt=this.props,Nt="matrix3d(";Mt<16;)Nt+=rt(1e4*Rt[Mt])/1e4,Nt+=Mt===15?")":",",Mt+=1;return Nt}function Dt(Mt){return Mt<1e-6&&Mt>0||Mt>-1e-6&&Mt<0?rt(1e4*Mt)/1e4:Mt}function $t(){var Mt=this.props;return"matrix("+Dt(Mt[0])+","+Dt(Mt[1])+","+Dt(Mt[4])+","+Dt(Mt[5])+","+Dt(Mt[12])+","+Dt(Mt[13])+")"}return function(){this.reset=it,this.rotate=st,this.rotateX=at,this.rotateY=ot,this.rotateZ=lt,this.skew=ut,this.skewFromAxis=ft,this.shear=ct,this.scale=ht,this.setTransform=pt,this.translate=dt,this.transform=gt,this.multiply=vt,this.applyToPoint=bt,this.applyToX=Tt,this.applyToY=At,this.applyToZ=Ct,this.applyToPointArray=Ut,this.applyToTriplePoints=Vt,this.applyToPointStringified=Ot,this.toCSS=zt,this.to2dCSS=$t,this.clone=St,this.cloneFromProps=Et,this.equals=xt,this.inversePoints=Lt,this.inversePoint=It,this.getInverseMatrix=Pt,this._t=this.transform,this.isIdentity=mt,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(tt){return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$3(tt)}var lottie={};function setLocation(tt){setLocationHref(tt)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(tt){setSubframeEnabled(tt)}function setPrefix(tt){setIdPrefix(tt)}function loadAnimation(tt){return animationManager.loadAnimation(tt)}function setQuality(tt){if(typeof tt=="string")switch(tt){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(tt)&&tt>1&&setDefaultCurveSegments(tt)}function inBrowser(){return typeof navigator<"u"}function installPlugin(tt,_e){tt==="expressions"&&setExpressionsPlugin(_e)}function getFactory(tt){switch(tt){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(tt){for(var _e=queryString.split("&"),nt=0;nt<_e.length;nt+=1){var rt=_e[nt].split("=");if(decodeURIComponent(rt[0])==tt)return decodeURIComponent(rt[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(tt){}var ShapeModifiers=function(){var tt={},_e={};return tt.registerModifier=function(nt,rt){_e[nt]||(_e[nt]=rt)},tt.getModifier=function(nt,rt,it){return new _e[nt](rt,it)},tt}();function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(tt){if(!this.closed){tt.sh.container.addDynamicProperty(tt.sh);var _e={shape:tt.sh,data:tt,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(_e),this.addShapeToModifier(_e),this._isAnimated&&tt.setAsAnimated()}},ShapeModifier.prototype.init=function(tt,_e){this.shapes=[],this.elem=tt,this.initDynamicPropertyContainer(tt),this.initModifierProperties(tt,_e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(tt,_e){this.s=PropertyFactory.getProp(tt,_e.s,0,.01,this),this.e=PropertyFactory.getProp(tt,_e.e,0,.01,this),this.o=PropertyFactory.getProp(tt,_e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=_e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(tt){tt.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(tt,_e,nt,rt,it){var st=[];_e<=1?st.push({s:tt,e:_e}):tt>=1?st.push({s:tt-1,e:_e-1}):(st.push({s:tt,e:1}),st.push({s:0,e:_e-1}));var at,ot,lt=[],ct=st.length;for(at=0;at<ct;at+=1){var ut,ft;(ot=st[at]).e*it<rt||ot.s*it>rt+nt||(ut=ot.s*it<=rt?0:(ot.s*it-rt)/nt,ft=ot.e*it>=rt+nt?1:(ot.e*it-rt)/nt,lt.push([ut,ft]))}return lt.length||lt.push([0,0]),lt},TrimModifier.prototype.releasePathsData=function(tt){var _e,nt=tt.length;for(_e=0;_e<nt;_e+=1)segmentsLengthPool.release(tt[_e]);return tt.length=0,tt},TrimModifier.prototype.processShapes=function(tt){var _e,nt,rt,it;if(this._mdf||tt){var st=this.o.v%360/360;if(st<0&&(st+=1),(_e=this.s.v>1?1+st:this.s.v<0?0+st:this.s.v+st)>(nt=this.e.v>1?1+st:this.e.v<0?0+st:this.e.v+st)){var at=_e;_e=nt,nt=at}_e=1e-4*Math.round(1e4*_e),nt=1e-4*Math.round(1e4*nt),this.sValue=_e,this.eValue=nt}else _e=this.sValue,nt=this.eValue;var ot,lt,ct,ut,ft,ht=this.shapes.length,pt=0;if(nt===_e)for(it=0;it<ht;it+=1)this.shapes[it].localShapeCollection.releaseShapes(),this.shapes[it].shape._mdf=!0,this.shapes[it].shape.paths=this.shapes[it].localShapeCollection,this._mdf&&(this.shapes[it].pathsData.length=0);else if(nt===1&&_e===0||nt===0&&_e===1){if(this._mdf)for(it=0;it<ht;it+=1)this.shapes[it].pathsData.length=0,this.shapes[it].shape._mdf=!0}else{var dt,gt,vt=[];for(it=0;it<ht;it+=1)if((dt=this.shapes[it]).shape._mdf||this._mdf||tt||this.m===2){if(lt=(rt=dt.shape.paths)._length,ft=0,!dt.shape._mdf&&dt.pathsData.length)ft=dt.totalShapeLength;else{for(ct=this.releasePathsData(dt.pathsData),ot=0;ot<lt;ot+=1)ut=bez.getSegmentsLength(rt.shapes[ot]),ct.push(ut),ft+=ut.totalLength;dt.totalShapeLength=ft,dt.pathsData=ct}pt+=ft,dt.shape._mdf=!0}else dt.shape.paths=dt.localShapeCollection;var mt,xt=_e,St=nt,Et=0;for(it=ht-1;it>=0;it-=1)if((dt=this.shapes[it]).shape._mdf){for((gt=dt.localShapeCollection).releaseShapes(),this.m===2&&ht>1?(mt=this.calculateShapeEdges(_e,nt,dt.totalShapeLength,Et,pt),Et+=dt.totalShapeLength):mt=[[xt,St]],lt=mt.length,ot=0;ot<lt;ot+=1){xt=mt[ot][0],St=mt[ot][1],vt.length=0,St<=1?vt.push({s:dt.totalShapeLength*xt,e:dt.totalShapeLength*St}):xt>=1?vt.push({s:dt.totalShapeLength*(xt-1),e:dt.totalShapeLength*(St-1)}):(vt.push({s:dt.totalShapeLength*xt,e:dt.totalShapeLength}),vt.push({s:0,e:dt.totalShapeLength*(St-1)}));var bt=this.addShapes(dt,vt[0]);if(vt[0].s!==vt[0].e){if(vt.length>1)if(dt.shape.paths.shapes[dt.shape.paths._length-1].c){var Tt=bt.pop();this.addPaths(bt,gt),bt=this.addShapes(dt,vt[1],Tt)}else this.addPaths(bt,gt),bt=this.addShapes(dt,vt[1]);this.addPaths(bt,gt)}}dt.shape.paths=gt}}},TrimModifier.prototype.addPaths=function(tt,_e){var nt,rt=tt.length;for(nt=0;nt<rt;nt+=1)_e.addShape(tt[nt])},TrimModifier.prototype.addSegment=function(tt,_e,nt,rt,it,st,at){it.setXYAt(_e[0],_e[1],"o",st),it.setXYAt(nt[0],nt[1],"i",st+1),at&&it.setXYAt(tt[0],tt[1],"v",st),it.setXYAt(rt[0],rt[1],"v",st+1)},TrimModifier.prototype.addSegmentFromArray=function(tt,_e,nt,rt){_e.setXYAt(tt[1],tt[5],"o",nt),_e.setXYAt(tt[2],tt[6],"i",nt+1),rt&&_e.setXYAt(tt[0],tt[4],"v",nt),_e.setXYAt(tt[3],tt[7],"v",nt+1)},TrimModifier.prototype.addShapes=function(tt,_e,nt){var rt,it,st,at,ot,lt,ct,ut,ft=tt.pathsData,ht=tt.shape.paths.shapes,pt=tt.shape.paths._length,dt=0,gt=[],vt=!0;for(nt?(ot=nt._length,ut=nt._length):(nt=shapePool.newElement(),ot=0,ut=0),gt.push(nt),rt=0;rt<pt;rt+=1){for(lt=ft[rt].lengths,nt.c=ht[rt].c,st=ht[rt].c?lt.length:lt.length+1,it=1;it<st;it+=1)if(dt+(at=lt[it-1]).addedLength<_e.s)dt+=at.addedLength,nt.c=!1;else{if(dt>_e.e){nt.c=!1;break}_e.s<=dt&&_e.e>=dt+at.addedLength?(this.addSegment(ht[rt].v[it-1],ht[rt].o[it-1],ht[rt].i[it],ht[rt].v[it],nt,ot,vt),vt=!1):(ct=bez.getNewSegment(ht[rt].v[it-1],ht[rt].v[it],ht[rt].o[it-1],ht[rt].i[it],(_e.s-dt)/at.addedLength,(_e.e-dt)/at.addedLength,lt[it-1]),this.addSegmentFromArray(ct,nt,ot,vt),vt=!1,nt.c=!1),dt+=at.addedLength,ot+=1}if(ht[rt].c&&lt.length){if(at=lt[it-1],dt<=_e.e){var mt=lt[it-1].addedLength;_e.s<=dt&&_e.e>=dt+mt?(this.addSegment(ht[rt].v[it-1],ht[rt].o[it-1],ht[rt].i[0],ht[rt].v[0],nt,ot,vt),vt=!1):(ct=bez.getNewSegment(ht[rt].v[it-1],ht[rt].v[0],ht[rt].o[it-1],ht[rt].i[0],(_e.s-dt)/mt,(_e.e-dt)/mt,lt[it-1]),this.addSegmentFromArray(ct,nt,ot,vt),vt=!1,nt.c=!1)}else nt.c=!1;dt+=at.addedLength,ot+=1}if(nt._length&&(nt.setXYAt(nt.v[ut][0],nt.v[ut][1],"i",ut),nt.setXYAt(nt.v[nt._length-1][0],nt.v[nt._length-1][1],"o",nt._length-1)),dt>_e.e)break;rt<pt-1&&(nt=shapePool.newElement(),vt=!0,gt.push(nt),ot=0)}return gt},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(tt,_e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(tt,_e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(tt,_e){var nt=_e/100,rt=[0,0],it=tt._length,st=0;for(st=0;st<it;st+=1)rt[0]+=tt.v[st][0],rt[1]+=tt.v[st][1];rt[0]/=it,rt[1]/=it;var at,ot,lt,ct,ut,ft,ht=shapePool.newElement();for(ht.c=tt.c,st=0;st<it;st+=1)at=tt.v[st][0]+(rt[0]-tt.v[st][0])*nt,ot=tt.v[st][1]+(rt[1]-tt.v[st][1])*nt,lt=tt.o[st][0]+(rt[0]-tt.o[st][0])*-nt,ct=tt.o[st][1]+(rt[1]-tt.o[st][1])*-nt,ut=tt.i[st][0]+(rt[0]-tt.i[st][0])*-nt,ft=tt.i[st][1]+(rt[1]-tt.i[st][1])*-nt,ht.setTripleAt(at,ot,lt,ct,ut,ft,st);return ht},PuckerAndBloatModifier.prototype.processShapes=function(tt){var _e,nt,rt,it,st,at,ot=this.shapes.length,lt=this.amount.v;if(lt!==0)for(nt=0;nt<ot;nt+=1){if(at=(st=this.shapes[nt]).localShapeCollection,st.shape._mdf||this._mdf||tt)for(at.releaseShapes(),st.shape._mdf=!0,_e=st.shape.paths.shapes,it=st.shape.paths._length,rt=0;rt<it;rt+=1)at.addShape(this.processPath(_e[rt],lt));st.shape.paths=st.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var tt=[0,0];function _e(nt,rt,it){if(this.elem=nt,this.frameId=-1,this.propType="transform",this.data=rt,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(it||nt),rt.p&&rt.p.s?(this.px=PropertyFactory.getProp(nt,rt.p.x,0,0,this),this.py=PropertyFactory.getProp(nt,rt.p.y,0,0,this),rt.p.z&&(this.pz=PropertyFactory.getProp(nt,rt.p.z,0,0,this))):this.p=PropertyFactory.getProp(nt,rt.p||{k:[0,0,0]},1,0,this),rt.rx){if(this.rx=PropertyFactory.getProp(nt,rt.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(nt,rt.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(nt,rt.rz,0,degToRads,this),rt.or.k[0].ti){var st,at=rt.or.k.length;for(st=0;st<at;st+=1)rt.or.k[st].to=null,rt.or.k[st].ti=null}this.or=PropertyFactory.getProp(nt,rt.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(nt,rt.r||{k:0},0,degToRads,this);rt.sk&&(this.sk=PropertyFactory.getProp(nt,rt.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(nt,rt.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(nt,rt.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(nt,rt.s||{k:[100,100,100]},1,.01,this),rt.o?this.o=PropertyFactory.getProp(nt,rt.o,0,.01,nt):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return _e.prototype={applyToMatrix:function(nt){var rt=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||rt,this.a&&nt.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&nt.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&nt.skewFromAxis(-this.sk.v,this.sa.v),this.r?nt.rotate(-this.r.v):nt.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?nt.translate(this.px.v,this.py.v,-this.pz.v):nt.translate(this.px.v,this.py.v,0):nt.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(nt){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||nt){var rt;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var it,st;if(rt=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(it=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/rt,0),st=this.p.getValueAtTime(this.p.keyframes[0].t/rt,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(it=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/rt,0),st=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/rt,0)):(it=this.p.pv,st=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/rt,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){it=[],st=[];var at=this.px,ot=this.py;at._caching.lastFrame+at.offsetTime<=at.keyframes[0].t?(it[0]=at.getValueAtTime((at.keyframes[0].t+.01)/rt,0),it[1]=ot.getValueAtTime((ot.keyframes[0].t+.01)/rt,0),st[0]=at.getValueAtTime(at.keyframes[0].t/rt,0),st[1]=ot.getValueAtTime(ot.keyframes[0].t/rt,0)):at._caching.lastFrame+at.offsetTime>=at.keyframes[at.keyframes.length-1].t?(it[0]=at.getValueAtTime(at.keyframes[at.keyframes.length-1].t/rt,0),it[1]=ot.getValueAtTime(ot.keyframes[ot.keyframes.length-1].t/rt,0),st[0]=at.getValueAtTime((at.keyframes[at.keyframes.length-1].t-.01)/rt,0),st[1]=ot.getValueAtTime((ot.keyframes[ot.keyframes.length-1].t-.01)/rt,0)):(it=[at.pv,ot.pv],st[0]=at.getValueAtTime((at._caching.lastFrame+at.offsetTime-.01)/rt,at.offsetTime),st[1]=ot.getValueAtTime((ot._caching.lastFrame+ot.offsetTime-.01)/rt,ot.offsetTime))}else it=st=tt;this.v.rotate(-Math.atan2(it[1]-st[1],it[0]-st[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):this.rz.effectsSequence.length||this.ry.effectsSequence.length||this.rx.effectsSequence.length||this.or.effectsSequence.length||(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],_e),_e.prototype.addDynamicProperty=function(nt){this._addDynamicProperty(nt),this.elem.addDynamicProperty(nt),this._isDirty=!0},_e.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(nt,rt,it){return new _e(nt,rt,it)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(tt,_e){return 1e5*Math.abs(tt-_e)<=Math.min(Math.abs(tt),Math.abs(_e))}function floatZero(tt){return Math.abs(tt)<=1e-5}function lerp(tt,_e,nt){return tt*(1-nt)+_e*nt}function lerpPoint(tt,_e,nt){return[lerp(tt[0],_e[0],nt),lerp(tt[1],_e[1],nt)]}function quadRoots(tt,_e,nt){if(tt===0)return[];var rt=_e*_e-4*tt*nt;if(rt<0)return[];var it=-_e/(2*tt);if(rt===0)return[it];var st=Math.sqrt(rt)/(2*tt);return[it-st,it+st]}function polynomialCoefficients(tt,_e,nt,rt){return[3*_e-tt-3*nt+rt,3*tt-6*_e+3*nt,-3*tt+3*_e,tt]}function singlePoint(tt){return new PolynomialBezier(tt,tt,tt,tt,!1)}function PolynomialBezier(tt,_e,nt,rt,it){it&&pointEqual(tt,_e)&&(_e=lerpPoint(tt,rt,1/3)),it&&pointEqual(nt,rt)&&(nt=lerpPoint(tt,rt,2/3));var st=polynomialCoefficients(tt[0],_e[0],nt[0],rt[0]),at=polynomialCoefficients(tt[1],_e[1],nt[1],rt[1]);this.a=[st[0],at[0]],this.b=[st[1],at[1]],this.c=[st[2],at[2]],this.d=[st[3],at[3]],this.points=[tt,_e,nt,rt]}function extrema(tt,_e){var nt=tt.points[0][_e],rt=tt.points[tt.points.length-1][_e];if(nt>rt){var it=rt;rt=nt,nt=it}for(var st=quadRoots(3*tt.a[_e],2*tt.b[_e],tt.c[_e]),at=0;at<st.length;at+=1)if(st[at]>0&&st[at]<1){var ot=tt.point(st[at])[_e];ot<nt?nt=ot:ot>rt&&(rt=ot)}return{min:nt,max:rt}}function intersectData(tt,_e,nt){var rt=tt.boundingBox();return{cx:rt.cx,cy:rt.cy,width:rt.width,height:rt.height,bez:tt,t:(_e+nt)/2,t1:_e,t2:nt}}function splitData(tt){var _e=tt.bez.split(.5);return[intersectData(_e[0],tt.t1,tt.t),intersectData(_e[1],tt.t,tt.t2)]}function boxIntersect(tt,_e){return 2*Math.abs(tt.cx-_e.cx)<tt.width+_e.width&&2*Math.abs(tt.cy-_e.cy)<tt.height+_e.height}function intersectsImpl(tt,_e,nt,rt,it,st){if(boxIntersect(tt,_e))if(nt>=st||tt.width<=rt&&tt.height<=rt&&_e.width<=rt&&_e.height<=rt)it.push([tt.t,_e.t]);else{var at=splitData(tt),ot=splitData(_e);intersectsImpl(at[0],ot[0],nt+1,rt,it,st),intersectsImpl(at[0],ot[1],nt+1,rt,it,st),intersectsImpl(at[1],ot[0],nt+1,rt,it,st),intersectsImpl(at[1],ot[1],nt+1,rt,it,st)}}function crossProduct(tt,_e){return[tt[1]*_e[2]-tt[2]*_e[1],tt[2]*_e[0]-tt[0]*_e[2],tt[0]*_e[1]-tt[1]*_e[0]]}function lineIntersection(tt,_e,nt,rt){var it=[tt[0],tt[1],1],st=[_e[0],_e[1],1],at=[nt[0],nt[1],1],ot=[rt[0],rt[1],1],lt=crossProduct(crossProduct(it,st),crossProduct(at,ot));return floatZero(lt[2])?null:[lt[0]/lt[2],lt[1]/lt[2]]}function polarOffset(tt,_e,nt){return[tt[0]+Math.cos(_e)*nt,tt[1]-Math.sin(_e)*nt]}function pointDistance(tt,_e){return Math.hypot(tt[0]-_e[0],tt[1]-_e[1])}function pointEqual(tt,_e){return floatEqual(tt[0],_e[0])&&floatEqual(tt[1],_e[1])}function ZigZagModifier(){}function setPoint(tt,_e,nt,rt,it,st,at){var ot=nt-Math.PI/2,lt=nt+Math.PI/2,ct=_e[0]+Math.cos(nt)*rt*it,ut=_e[1]-Math.sin(nt)*rt*it;tt.setTripleAt(ct,ut,ct+Math.cos(ot)*st,ut-Math.sin(ot)*st,ct+Math.cos(lt)*at,ut-Math.sin(lt)*at,tt.length())}function getPerpendicularVector(tt,_e){var nt=[_e[0]-tt[0],_e[1]-tt[1]],rt=.5*-Math.PI;return[Math.cos(rt)*nt[0]-Math.sin(rt)*nt[1],Math.sin(rt)*nt[0]+Math.cos(rt)*nt[1]]}function getProjectingAngle(tt,_e){var nt=_e===0?tt.length()-1:_e-1,rt=(_e+1)%tt.length(),it=getPerpendicularVector(tt.v[nt],tt.v[rt]);return Math.atan2(0,1)-Math.atan2(it[1],it[0])}function zigZagCorner(tt,_e,nt,rt,it,st,at){var ot=getProjectingAngle(_e,nt),lt=_e.v[nt%_e._length],ct=_e.v[nt===0?_e._length-1:nt-1],ut=_e.v[(nt+1)%_e._length],ft=st===2?Math.sqrt(Math.pow(lt[0]-ct[0],2)+Math.pow(lt[1]-ct[1],2)):0,ht=st===2?Math.sqrt(Math.pow(lt[0]-ut[0],2)+Math.pow(lt[1]-ut[1],2)):0;setPoint(tt,_e.v[nt%_e._length],ot,at,rt,ht/(2*(it+1)),ft/(2*(it+1)))}function zigZagSegment(tt,_e,nt,rt,it,st){for(var at=0;at<rt;at+=1){var ot=(at+1)/(rt+1),lt=it===2?Math.sqrt(Math.pow(_e.points[3][0]-_e.points[0][0],2)+Math.pow(_e.points[3][1]-_e.points[0][1],2)):0,ct=_e.normalAngle(ot);setPoint(tt,_e.point(ot),ct,st,nt,lt/(2*(rt+1)),lt/(2*(rt+1))),st=-st}return st}function linearOffset(tt,_e,nt){var rt=Math.atan2(_e[0]-tt[0],_e[1]-tt[1]);return[polarOffset(tt,rt,nt),polarOffset(_e,rt,nt)]}function offsetSegment(tt,_e){var nt,rt,it,st,at,ot,lt;nt=(lt=linearOffset(tt.points[0],tt.points[1],_e))[0],rt=lt[1],it=(lt=linearOffset(tt.points[1],tt.points[2],_e))[0],st=lt[1],at=(lt=linearOffset(tt.points[2],tt.points[3],_e))[0],ot=lt[1];var ct=lineIntersection(nt,rt,it,st);ct===null&&(ct=rt);var ut=lineIntersection(at,ot,it,st);return ut===null&&(ut=at),new PolynomialBezier(nt,ct,ut,ot)}function joinLines(tt,_e,nt,rt,it){var st=_e.points[3],at=nt.points[0];if(rt===3||pointEqual(st,at))return st;if(rt===2){var ot=-_e.tangentAngle(1),lt=-nt.tangentAngle(0)+Math.PI,ct=lineIntersection(st,polarOffset(st,ot+Math.PI/2,100),at,polarOffset(at,ot+Math.PI/2,100)),ut=ct?pointDistance(ct,st):pointDistance(st,at)/2,ft=polarOffset(st,ot,2*ut*roundCorner);return tt.setXYAt(ft[0],ft[1],"o",tt.length()-1),ft=polarOffset(at,lt,2*ut*roundCorner),tt.setTripleAt(at[0],at[1],at[0],at[1],ft[0],ft[1],tt.length()),at}var ht=lineIntersection(pointEqual(st,_e.points[2])?_e.points[0]:_e.points[2],st,at,pointEqual(at,nt.points[1])?nt.points[3]:nt.points[1]);return ht&&pointDistance(ht,st)<it?(tt.setTripleAt(ht[0],ht[1],ht[0],ht[1],ht[0],ht[1],tt.length()),ht):st}function getIntersection(tt,_e){var nt=tt.intersections(_e);return nt.length&&floatEqual(nt[0][0],1)&&nt.shift(),nt.length?nt[0]:null}function pruneSegmentIntersection(tt,_e){var nt=tt.slice(),rt=_e.slice(),it=getIntersection(tt[tt.length-1],_e[0]);return it&&(nt[tt.length-1]=tt[tt.length-1].split(it[0])[0],rt[0]=_e[0].split(it[1])[1]),tt.length>1&&_e.length>1&&(it=getIntersection(tt[0],_e[_e.length-1]))?[[tt[0].split(it[0])[0]],[_e[_e.length-1].split(it[1])[1]]]:[nt,rt]}function pruneIntersections(tt){for(var _e,nt=1;nt<tt.length;nt+=1)_e=pruneSegmentIntersection(tt[nt-1],tt[nt]),tt[nt-1]=_e[0],tt[nt]=_e[1];return tt.length>1&&(_e=pruneSegmentIntersection(tt[tt.length-1],tt[0]),tt[tt.length-1]=_e[0],tt[0]=_e[1]),tt}function offsetSegmentSplit(tt,_e){var nt,rt,it,st,at=tt.inflectionPoints();if(at.length===0)return[offsetSegment(tt,_e)];if(at.length===1||floatEqual(at[1],1))return nt=(it=tt.split(at[0]))[0],rt=it[1],[offsetSegment(nt,_e),offsetSegment(rt,_e)];nt=(it=tt.split(at[0]))[0];var ot=(at[1]-at[0])/(1-at[0]);return st=(it=it[1].split(ot))[0],rt=it[1],[offsetSegment(nt,_e),offsetSegment(st,_e),offsetSegment(rt,_e)]}function OffsetPathModifier(){}function getFontProperties(tt){for(var _e=tt.fStyle?tt.fStyle.split(" "):[],nt="normal",rt="normal",it=_e.length,st=0;st<it;st+=1)switch(_e[st].toLowerCase()){case"italic":rt="italic";break;case"bold":nt="700";break;case"black":nt="900";break;case"medium":nt="500";break;case"regular":case"normal":nt="400";break;case"light":case"thin":nt="200"}return{style:rt,weight:tt.fWeight||nt}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(tt,_e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(tt,_e.c,0,null,this),this.o=PropertyFactory.getProp(tt,_e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(tt,_e.tr,this),this.so=PropertyFactory.getProp(tt,_e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(tt,_e.tr.eo,0,.01,this),this.data=_e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(tt,_e,nt,rt,it,st){var at=st?-1:1,ot=rt.s.v[0]+(1-rt.s.v[0])*(1-it),lt=rt.s.v[1]+(1-rt.s.v[1])*(1-it);tt.translate(rt.p.v[0]*at*it,rt.p.v[1]*at*it,rt.p.v[2]),_e.translate(-rt.a.v[0],-rt.a.v[1],rt.a.v[2]),_e.rotate(-rt.r.v*at*it),_e.translate(rt.a.v[0],rt.a.v[1],rt.a.v[2]),nt.translate(-rt.a.v[0],-rt.a.v[1],rt.a.v[2]),nt.scale(st?1/ot:ot,st?1/lt:lt),nt.translate(rt.a.v[0],rt.a.v[1],rt.a.v[2])},RepeaterModifier.prototype.init=function(tt,_e,nt,rt){for(this.elem=tt,this.arr=_e,this.pos=nt,this.elemsData=rt,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(tt),this.initModifierProperties(tt,_e[nt]);nt>0;)nt-=1,this._elements.unshift(_e[nt]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(tt){var _e,nt=tt.length;for(_e=0;_e<nt;_e+=1)tt[_e]._processed=!1,tt[_e].ty==="gr"&&this.resetElements(tt[_e].it)},RepeaterModifier.prototype.cloneElements=function(tt){var _e=JSON.parse(JSON.stringify(tt));return this.resetElements(_e),_e},RepeaterModifier.prototype.changeGroupRender=function(tt,_e){var nt,rt=tt.length;for(nt=0;nt<rt;nt+=1)tt[nt]._render=_e,tt[nt].ty==="gr"&&this.changeGroupRender(tt[nt].it,_e)},RepeaterModifier.prototype.processShapes=function(tt){var _e,nt,rt,it,st,at=!1;if(this._mdf||tt){var ot,lt=Math.ceil(this.c.v);if(this._groups.length<lt){for(;this._groups.length<lt;){var ct={it:this.cloneElements(this._elements),ty:"gr"};ct.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,ct),this._groups.splice(0,0,ct),this._currentCopies+=1}this.elem.reloadShapes(),at=!0}for(st=0,rt=0;rt<=this._groups.length-1;rt+=1){if(ot=st<lt,this._groups[rt]._render=ot,this.changeGroupRender(this._groups[rt].it,ot),!ot){var ut=this.elemsData[rt].it,ft=ut[ut.length-1];ft.transform.op.v!==0?(ft.transform.op._mdf=!0,ft.transform.op.v=0):ft.transform.op._mdf=!1}st+=1}this._currentCopies=lt;var ht=this.o.v,pt=ht%1,dt=ht>0?Math.floor(ht):Math.ceil(ht),gt=this.pMatrix.props,vt=this.rMatrix.props,mt=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var xt,St,Et=0;if(ht>0){for(;Et<dt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Et+=1;pt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,pt,!1),Et+=pt)}else if(ht<0){for(;Et>dt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Et-=1;pt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-pt,!0),Et-=pt)}for(rt=this.data.m===1?0:this._currentCopies-1,it=this.data.m===1?1:-1,st=this._currentCopies;st;){if(St=(nt=(_e=this.elemsData[rt].it)[_e.length-1].transform.mProps.v.props).length,_e[_e.length-1].transform.mProps._mdf=!0,_e[_e.length-1].transform.op._mdf=!0,_e[_e.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(rt/(this._currentCopies-1)),Et!==0){for((rt!==0&&it===1||rt!==this._currentCopies-1&&it===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(vt[0],vt[1],vt[2],vt[3],vt[4],vt[5],vt[6],vt[7],vt[8],vt[9],vt[10],vt[11],vt[12],vt[13],vt[14],vt[15]),this.matrix.transform(mt[0],mt[1],mt[2],mt[3],mt[4],mt[5],mt[6],mt[7],mt[8],mt[9],mt[10],mt[11],mt[12],mt[13],mt[14],mt[15]),this.matrix.transform(gt[0],gt[1],gt[2],gt[3],gt[4],gt[5],gt[6],gt[7],gt[8],gt[9],gt[10],gt[11],gt[12],gt[13],gt[14],gt[15]),xt=0;xt<St;xt+=1)nt[xt]=this.matrix.props[xt];this.matrix.reset()}else for(this.matrix.reset(),xt=0;xt<St;xt+=1)nt[xt]=this.matrix.props[xt];Et+=1,st-=1,rt+=it}}else for(st=this._currentCopies,rt=0,it=1;st;)nt=(_e=this.elemsData[rt].it)[_e.length-1].transform.mProps.v.props,_e[_e.length-1].transform.mProps._mdf=!1,_e[_e.length-1].transform.op._mdf=!1,st-=1,rt+=it;return at},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(tt,_e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(tt,_e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(tt,_e){var nt,rt=shapePool.newElement();rt.c=tt.c;var it,st,at,ot,lt,ct,ut,ft,ht,pt,dt,gt,vt=tt._length,mt=0;for(nt=0;nt<vt;nt+=1)it=tt.v[nt],at=tt.o[nt],st=tt.i[nt],it[0]===at[0]&&it[1]===at[1]&&it[0]===st[0]&&it[1]===st[1]?nt!==0&&nt!==vt-1||tt.c?(ot=nt===0?tt.v[vt-1]:tt.v[nt-1],ct=(lt=Math.sqrt(Math.pow(it[0]-ot[0],2)+Math.pow(it[1]-ot[1],2)))?Math.min(lt/2,_e)/lt:0,ut=dt=it[0]+(ot[0]-it[0])*ct,ft=gt=it[1]-(it[1]-ot[1])*ct,ht=ut-(ut-it[0])*roundCorner,pt=ft-(ft-it[1])*roundCorner,rt.setTripleAt(ut,ft,ht,pt,dt,gt,mt),mt+=1,ot=nt===vt-1?tt.v[0]:tt.v[nt+1],ct=(lt=Math.sqrt(Math.pow(it[0]-ot[0],2)+Math.pow(it[1]-ot[1],2)))?Math.min(lt/2,_e)/lt:0,ut=ht=it[0]+(ot[0]-it[0])*ct,ft=pt=it[1]+(ot[1]-it[1])*ct,dt=ut-(ut-it[0])*roundCorner,gt=ft-(ft-it[1])*roundCorner,rt.setTripleAt(ut,ft,ht,pt,dt,gt,mt),mt+=1):(rt.setTripleAt(it[0],it[1],at[0],at[1],st[0],st[1],mt),mt+=1):(rt.setTripleAt(tt.v[nt][0],tt.v[nt][1],tt.o[nt][0],tt.o[nt][1],tt.i[nt][0],tt.i[nt][1],mt),mt+=1);return rt},RoundCornersModifier.prototype.processShapes=function(tt){var _e,nt,rt,it,st,at,ot=this.shapes.length,lt=this.rd.v;if(lt!==0)for(nt=0;nt<ot;nt+=1){if(at=(st=this.shapes[nt]).localShapeCollection,st.shape._mdf||this._mdf||tt)for(at.releaseShapes(),st.shape._mdf=!0,_e=st.shape.paths.shapes,it=st.shape.paths._length,rt=0;rt<it;rt+=1)at.addShape(this.processPath(_e[rt],lt));st.shape.paths=st.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(tt){return[((this.a[0]*tt+this.b[0])*tt+this.c[0])*tt+this.d[0],((this.a[1]*tt+this.b[1])*tt+this.c[1])*tt+this.d[1]]},PolynomialBezier.prototype.derivative=function(tt){return[(3*tt*this.a[0]+2*this.b[0])*tt+this.c[0],(3*tt*this.a[1]+2*this.b[1])*tt+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(tt){var _e=this.derivative(tt);return Math.atan2(_e[1],_e[0])},PolynomialBezier.prototype.normalAngle=function(tt){var _e=this.derivative(tt);return Math.atan2(_e[0],_e[1])},PolynomialBezier.prototype.inflectionPoints=function(){var tt=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(tt))return[];var _e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/tt,nt=_e*_e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/tt;if(nt<0)return[];var rt=Math.sqrt(nt);return floatZero(rt)?rt>0&&rt<1?[_e]:[]:[_e-rt,_e+rt].filter(function(it){return it>0&&it<1})},PolynomialBezier.prototype.split=function(tt){if(tt<=0)return[singlePoint(this.points[0]),this];if(tt>=1)return[this,singlePoint(this.points[this.points.length-1])];var _e=lerpPoint(this.points[0],this.points[1],tt),nt=lerpPoint(this.points[1],this.points[2],tt),rt=lerpPoint(this.points[2],this.points[3],tt),it=lerpPoint(_e,nt,tt),st=lerpPoint(nt,rt,tt),at=lerpPoint(it,st,tt);return[new PolynomialBezier(this.points[0],_e,it,at,!0),new PolynomialBezier(at,st,rt,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var tt=this.bounds();return{left:tt.x.min,right:tt.x.max,top:tt.y.min,bottom:tt.y.max,width:tt.x.max-tt.x.min,height:tt.y.max-tt.y.min,cx:(tt.x.max+tt.x.min)/2,cy:(tt.y.max+tt.y.min)/2}},PolynomialBezier.prototype.intersections=function(tt,_e,nt){_e===void 0&&(_e=2),nt===void 0&&(nt=7);var rt=[];return intersectsImpl(intersectData(this,0,1),intersectData(tt,0,1),0,_e,rt,nt),rt},PolynomialBezier.shapeSegment=function(tt,_e){var nt=(_e+1)%tt.length();return new PolynomialBezier(tt.v[_e],tt.o[_e],tt.i[nt],tt.v[nt],!0)},PolynomialBezier.shapeSegmentInverted=function(tt,_e){var nt=(_e+1)%tt.length();return new PolynomialBezier(tt.v[nt],tt.i[nt],tt.o[_e],tt.v[_e],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(tt,_e){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(tt,_e.s,0,null,this),this.frequency=PropertyFactory.getProp(tt,_e.r,0,null,this),this.pointsType=PropertyFactory.getProp(tt,_e.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0},ZigZagModifier.prototype.processPath=function(tt,_e,nt,rt){var it=tt._length,st=shapePool.newElement();if(st.c=tt.c,tt.c||(it-=1),it===0)return st;var at=-1,ot=PolynomialBezier.shapeSegment(tt,0);zigZagCorner(st,tt,0,_e,nt,rt,at);for(var lt=0;lt<it;lt+=1)at=zigZagSegment(st,ot,_e,nt,rt,-at),ot=lt!==it-1||tt.c?PolynomialBezier.shapeSegment(tt,(lt+1)%it):null,zigZagCorner(st,tt,lt+1,_e,nt,rt,at);return st},ZigZagModifier.prototype.processShapes=function(tt){var _e,nt,rt,it,st,at,ot=this.shapes.length,lt=this.amplitude.v,ct=Math.max(0,Math.round(this.frequency.v)),ut=this.pointsType.v;if(lt!==0)for(nt=0;nt<ot;nt+=1){if(at=(st=this.shapes[nt]).localShapeCollection,st.shape._mdf||this._mdf||tt)for(at.releaseShapes(),st.shape._mdf=!0,_e=st.shape.paths.shapes,it=st.shape.paths._length,rt=0;rt<it;rt+=1)at.addShape(this.processPath(_e[rt],lt,ct,ut));st.shape.paths=st.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(tt,_e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(tt,_e.a,0,null,this),this.miterLimit=PropertyFactory.getProp(tt,_e.ml,0,null,this),this.lineJoin=_e.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(tt,_e,nt,rt){var it=shapePool.newElement();it.c=tt.c;var st,at,ot,lt=tt.length();tt.c||(lt-=1);var ct=[];for(st=0;st<lt;st+=1)ot=PolynomialBezier.shapeSegment(tt,st),ct.push(offsetSegmentSplit(ot,_e));if(!tt.c)for(st=lt-1;st>=0;st-=1)ot=PolynomialBezier.shapeSegmentInverted(tt,st),ct.push(offsetSegmentSplit(ot,_e));ct=pruneIntersections(ct);var ut=null,ft=null;for(st=0;st<ct.length;st+=1){var ht=ct[st];for(ft&&(ut=joinLines(it,ft,ht[0],nt,rt)),ft=ht[ht.length-1],at=0;at<ht.length;at+=1)ot=ht[at],ut&&pointEqual(ot.points[0],ut)?it.setXYAt(ot.points[1][0],ot.points[1][1],"o",it.length()-1):it.setTripleAt(ot.points[0][0],ot.points[0][1],ot.points[1][0],ot.points[1][1],ot.points[0][0],ot.points[0][1],it.length()),it.setTripleAt(ot.points[3][0],ot.points[3][1],ot.points[3][0],ot.points[3][1],ot.points[2][0],ot.points[2][1],it.length()),ut=ot.points[3]}return ct.length&&joinLines(it,ft,ct[0][0],nt,rt),it},OffsetPathModifier.prototype.processShapes=function(tt){var _e,nt,rt,it,st,at,ot=this.shapes.length,lt=this.amount.v,ct=this.miterLimit.v,ut=this.lineJoin;if(lt!==0)for(nt=0;nt<ot;nt+=1){if(at=(st=this.shapes[nt]).localShapeCollection,st.shape._mdf||this._mdf||tt)for(at.releaseShapes(),st.shape._mdf=!0,_e=st.shape.paths.shapes,it=st.shape.paths._length,rt=0;rt<it;rt+=1)at.addShape(this.processPath(_e[rt],lt,ut,ct));st.shape.paths=st.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var tt={w:0,size:0,shapes:[],data:{shapes:[]}},_e=[];_e=_e.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var nt=127988,rt=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function it(ut,ft){var ht=createTag("span");ht.setAttribute("aria-hidden",!0),ht.style.fontFamily=ft;var pt=createTag("span");pt.innerText="giItT1WQy@!-/#",ht.style.position="absolute",ht.style.left="-10000px",ht.style.top="-10000px",ht.style.fontSize="300px",ht.style.fontVariant="normal",ht.style.fontStyle="normal",ht.style.fontWeight="normal",ht.style.letterSpacing="0",ht.appendChild(pt),document.body.appendChild(ht);var dt=pt.offsetWidth;return pt.style.fontFamily=function(gt){var vt,mt=gt.split(","),xt=mt.length,St=[];for(vt=0;vt<xt;vt+=1)mt[vt]!=="sans-serif"&&mt[vt]!=="monospace"&&St.push(mt[vt]);return St.join(",")}(ut)+", "+ft,{node:pt,w:dt,parent:ht}}function st(ut,ft){var ht,pt=document.body&&ft?"svg":"canvas",dt=getFontProperties(ut);if(pt==="svg"){var gt=createNS("text");gt.style.fontSize="100px",gt.setAttribute("font-family",ut.fFamily),gt.setAttribute("font-style",dt.style),gt.setAttribute("font-weight",dt.weight),gt.textContent="1",ut.fClass?(gt.style.fontFamily="inherit",gt.setAttribute("class",ut.fClass)):gt.style.fontFamily=ut.fFamily,ft.appendChild(gt),ht=gt}else{var vt=new OffscreenCanvas(500,500).getContext("2d");vt.font=dt.style+" "+dt.weight+" 100px "+ut.fFamily,ht=vt}return{measureText:function(mt){return pt==="svg"?(ht.textContent=mt,ht.getComputedTextLength()):ht.measureText(mt).width}}}function at(ut){var ft=0,ht=ut.charCodeAt(0);if(ht>=55296&&ht<=56319){var pt=ut.charCodeAt(1);pt>=56320&&pt<=57343&&(ft=1024*(ht-55296)+pt-56320+65536)}return ft}function ot(ut){var ft=at(ut);return ft>=127462&&ft<=127487}var lt=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};lt.isModifier=function(ut,ft){var ht=ut.toString(16)+ft.toString(16);return rt.indexOf(ht)!==-1},lt.isZeroWidthJoiner=function(ut){return ut===8205},lt.isFlagEmoji=function(ut){return ot(ut.substr(0,2))&&ot(ut.substr(2,2))},lt.isRegionalCode=ot,lt.isCombinedCharacter=function(ut){return _e.indexOf(ut)!==-1},lt.isRegionalFlag=function(ut,ft){var ht=at(ut.substr(ft,2));if(ht!==nt)return!1;var pt=0;for(ft+=2;pt<5;){if((ht=at(ut.substr(ft,2)))<917601||ht>917626)return!1;pt+=1,ft+=2}return at(ut.substr(ft,2))===917631},lt.isVariationSelector=function(ut){return ut===65039},lt.BLACK_FLAG_CODE_POINT=nt;var ct={addChars:function(ut){if(ut){var ft;this.chars||(this.chars=[]);var ht,pt,dt=ut.length,gt=this.chars.length;for(ft=0;ft<dt;ft+=1){for(ht=0,pt=!1;ht<gt;)this.chars[ht].style===ut[ft].style&&this.chars[ht].fFamily===ut[ft].fFamily&&this.chars[ht].ch===ut[ft].ch&&(pt=!0),ht+=1;pt||(this.chars.push(ut[ft]),gt+=1)}}},addFonts:function(ut,ft){if(ut){if(this.chars)return this.isLoaded=!0,void(this.fonts=ut.list);if(!document.body)return this.isLoaded=!0,ut.list.forEach(function(Tt){Tt.helper=st(Tt),Tt.cache={}}),void(this.fonts=ut.list);var ht,pt=ut.list,dt=pt.length,gt=dt;for(ht=0;ht<dt;ht+=1){var vt,mt,xt=!0;if(pt[ht].loaded=!1,pt[ht].monoCase=it(pt[ht].fFamily,"monospace"),pt[ht].sansCase=it(pt[ht].fFamily,"sans-serif"),pt[ht].fPath){if(pt[ht].fOrigin==="p"||pt[ht].origin===3){if((vt=document.querySelectorAll('style[f-forigin="p"][f-family="'+pt[ht].fFamily+'"], style[f-origin="3"][f-family="'+pt[ht].fFamily+'"]')).length>0&&(xt=!1),xt){var St=createTag("style");St.setAttribute("f-forigin",pt[ht].fOrigin),St.setAttribute("f-origin",pt[ht].origin),St.setAttribute("f-family",pt[ht].fFamily),St.type="text/css",St.innerText="@font-face {font-family: "+pt[ht].fFamily+"; font-style: normal; src: url('"+pt[ht].fPath+"');}",ft.appendChild(St)}}else if(pt[ht].fOrigin==="g"||pt[ht].origin===1){for(vt=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),mt=0;mt<vt.length;mt+=1)vt[mt].href.indexOf(pt[ht].fPath)!==-1&&(xt=!1);if(xt){var Et=createTag("link");Et.setAttribute("f-forigin",pt[ht].fOrigin),Et.setAttribute("f-origin",pt[ht].origin),Et.type="text/css",Et.rel="stylesheet",Et.href=pt[ht].fPath,document.body.appendChild(Et)}}else if(pt[ht].fOrigin==="t"||pt[ht].origin===2){for(vt=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),mt=0;mt<vt.length;mt+=1)pt[ht].fPath===vt[mt].src&&(xt=!1);if(xt){var bt=createTag("link");bt.setAttribute("f-forigin",pt[ht].fOrigin),bt.setAttribute("f-origin",pt[ht].origin),bt.setAttribute("rel","stylesheet"),bt.setAttribute("href",pt[ht].fPath),ft.appendChild(bt)}}}else pt[ht].loaded=!0,gt-=1;pt[ht].helper=st(pt[ht],ft),pt[ht].cache={},this.fonts.push(pt[ht])}gt===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(ut,ft,ht){for(var pt=0,dt=this.chars.length;pt<dt;){if(this.chars[pt].ch===ut&&this.chars[pt].style===ft&&this.chars[pt].fFamily===ht)return this.chars[pt];pt+=1}return(typeof ut=="string"&&ut.charCodeAt(0)!==13||!ut)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",ut,ft,ht)),tt},getFontByName:function(ut){for(var ft=0,ht=this.fonts.length;ft<ht;){if(this.fonts[ft].fName===ut)return this.fonts[ft];ft+=1}return this.fonts[0]},measureText:function(ut,ft,ht){var pt=this.getFontByName(ft),dt=ut;if(!pt.cache[dt]){var gt=pt.helper;if(ut===" "){var vt=gt.measureText("|"+ut+"|"),mt=gt.measureText("||");pt.cache[dt]=(vt-mt)/100}else pt.cache[dt]=gt.measureText(ut)/100}return pt.cache[dt]*ht},checkLoadedFonts:function(){var ut,ft,ht,pt=this.fonts.length,dt=pt;for(ut=0;ut<pt;ut+=1)this.fonts[ut].loaded?dt-=1:this.fonts[ut].fOrigin==="n"||this.fonts[ut].origin===0?this.fonts[ut].loaded=!0:(ft=this.fonts[ut].monoCase.node,ht=this.fonts[ut].monoCase.w,ft.offsetWidth!==ht?(dt-=1,this.fonts[ut].loaded=!0):(ft=this.fonts[ut].sansCase.node,ht=this.fonts[ut].sansCase.w,ft.offsetWidth!==ht&&(dt-=1,this.fonts[ut].loaded=!0)),this.fonts[ut].loaded&&(this.fonts[ut].sansCase.parent.parentNode.removeChild(this.fonts[ut].sansCase.parent),this.fonts[ut].monoCase.parent.parentNode.removeChild(this.fonts[ut].monoCase.parent)));dt!==0&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}};return lt.prototype=ct,lt}();function SlotManager(tt){this.animationData=tt}function slotFactory(tt){return new SlotManager(tt)}function RenderableElement(){}SlotManager.prototype.getProp=function(tt){return this.animationData.slots&&this.animationData.slots[tt.sid]?Object.assign(tt,this.animationData.slots[tt.sid].p):tt},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(tt){this.renderableComponents.indexOf(tt)===-1&&this.renderableComponents.push(tt)},removeRenderableComponent:function(tt){this.renderableComponents.indexOf(tt)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(tt),1)},prepareRenderableFrame:function(tt){this.checkLayerLimits(tt)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(tt){this.data.ip-this.data.st<=tt&&this.data.op-this.data.st>tt?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var tt,_e=this.renderableComponents.length;for(tt=0;tt<_e;tt+=1)this.renderableComponents[tt].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(blendModeEnums={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"},function(tt){return blendModeEnums[tt]||""}),blendModeEnums;function SliderEffect(tt,_e,nt){this.p=PropertyFactory.getProp(_e,tt.v,0,0,nt)}function AngleEffect(tt,_e,nt){this.p=PropertyFactory.getProp(_e,tt.v,0,0,nt)}function ColorEffect(tt,_e,nt){this.p=PropertyFactory.getProp(_e,tt.v,1,0,nt)}function PointEffect(tt,_e,nt){this.p=PropertyFactory.getProp(_e,tt.v,1,0,nt)}function LayerIndexEffect(tt,_e,nt){this.p=PropertyFactory.getProp(_e,tt.v,0,0,nt)}function MaskIndexEffect(tt,_e,nt){this.p=PropertyFactory.getProp(_e,tt.v,0,0,nt)}function CheckboxEffect(tt,_e,nt){this.p=PropertyFactory.getProp(_e,tt.v,0,0,nt)}function NoValueEffect(){this.p={}}function EffectsManager(tt,_e){var nt,rt=tt.ef||[];this.effectElements=[];var it,st=rt.length;for(nt=0;nt<st;nt+=1)it=new GroupEffect(rt[nt],_e),this.effectElements.push(it)}function GroupEffect(tt,_e){this.init(tt,_e)}function BaseElement(){}function FrameElement(){}function FootageElement(tt,_e,nt){this.initFrame(),this.initRenderable(),this.assetData=_e.getAssetData(tt.refId),this.footageData=_e.imageLoader.getAsset(this.assetData),this.initBaseData(tt,_e,nt)}function AudioElement(tt,_e,nt){this.initFrame(),this.initRenderable(),this.assetData=_e.getAssetData(tt.refId),this.initBaseData(tt,_e,nt),this._isPlaying=!1,this._canPlay=!1;var rt=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(rt),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=tt.tm?PropertyFactory.getProp(this,tt.tm,0,_e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,tt.au&&tt.au.lv?tt.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(tt,_e){var nt;this.data=tt,this.effectElements=[],this.initDynamicPropertyContainer(_e);var rt,it=this.data.ef.length,st=this.data.ef;for(nt=0;nt<it;nt+=1){switch(rt=null,st[nt].ty){case 0:rt=new SliderEffect(st[nt],_e,this);break;case 1:rt=new AngleEffect(st[nt],_e,this);break;case 2:rt=new ColorEffect(st[nt],_e,this);break;case 3:rt=new PointEffect(st[nt],_e,this);break;case 4:case 7:rt=new CheckboxEffect(st[nt],_e,this);break;case 10:rt=new LayerIndexEffect(st[nt],_e,this);break;case 11:rt=new MaskIndexEffect(st[nt],_e,this);break;case 5:rt=new EffectsManager(st[nt],_e);break;default:rt=new NoValueEffect(st[nt])}rt&&this.effectElements.push(rt)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var tt=0,_e=this.data.masksProperties.length;tt<_e;){if(this.data.masksProperties[tt].mode!=="n"&&this.data.masksProperties[tt].cl!==!1)return!0;tt+=1}return!1},initExpressions:function(){var tt=getExpressionInterfaces();if(tt){var _e=tt("layer"),nt=tt("effects"),rt=tt("shape"),it=tt("text"),st=tt("comp");this.layerInterface=_e(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var at=nt.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(at),this.data.ty===0||this.data.xt?this.compInterface=st(this):this.data.ty===4?(this.layerInterface.shapeInterface=rt(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=it(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var tt=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=tt},initBaseData:function(tt,_e,nt){this.globalData=_e,this.comp=nt,this.data=tt,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(tt,_e){var nt,rt=this.dynamicProperties.length;for(nt=0;nt<rt;nt+=1)(_e||this._isParent&&this.dynamicProperties[nt].propType==="transform")&&(this.dynamicProperties[nt].getValue(),this.dynamicProperties[nt]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(tt){this.dynamicProperties.indexOf(tt)===-1&&this.dynamicProperties.push(tt)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var tt=getExpressionInterfaces();if(tt){var _e=tt("footage");this.layerInterface=_e(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(tt){if(this.prepareRenderableFrame(tt,!0),this.prepareProperties(tt,!0),this.tm._placeholder)this._currentTime=tt/this.data.sr;else{var _e=this.tm.v;this._currentTime=_e}this._volume=this.lv.v[0];var nt=this._volume*this._volumeMultiplier;this._previousVolume!==nt&&(this._previousVolume=nt,this.audio.volume(nt))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(tt){this.audio.rate(tt)},AudioElement.prototype.volume=function(tt){this._volumeMultiplier=tt,this._previousVolume=tt*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(tt){var _e,nt,rt=this.layers.length;for(this.completeLayers=!0,_e=rt-1;_e>=0;_e-=1)this.elements[_e]||(nt=this.layers[_e]).ip-nt.st<=tt-this.layers[_e].st&&nt.op-nt.st>tt-this.layers[_e].st&&this.buildItem(_e),this.completeLayers=!!this.elements[_e]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(tt){switch(tt.ty){case 2:return this.createImage(tt);case 0:return this.createComp(tt);case 1:return this.createSolid(tt);case 3:default:return this.createNull(tt);case 4:return this.createShape(tt);case 5:return this.createText(tt);case 6:return this.createAudio(tt);case 13:return this.createCamera(tt);case 15:return this.createFootage(tt)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(tt){return new AudioElement(tt,this.globalData,this)},BaseRenderer.prototype.createFootage=function(tt){return new FootageElement(tt,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var tt,_e=this.layers.length;for(tt=0;tt<_e;tt+=1)this.buildItem(tt);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(tt){var _e;this.completeLayers=!1;var nt,rt=tt.length,it=this.layers.length;for(_e=0;_e<rt;_e+=1)for(nt=0;nt<it;){if(this.layers[nt].id===tt[_e].id){this.layers[nt]=tt[_e];break}nt+=1}},BaseRenderer.prototype.setProjectInterface=function(tt){this.globalData.projectInterface=tt},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(tt,_e,nt){for(var rt=this.elements,it=this.layers,st=0,at=it.length;st<at;)it[st].ind==_e&&(rt[st]&&rt[st]!==!0?(nt.push(rt[st]),rt[st].setAsParent(),it[st].parent!==void 0?this.buildElementParenting(tt,it[st].parent,nt):tt.setHierarchy(nt)):(this.buildItem(st),this.addPendingElement(tt))),st+=1},BaseRenderer.prototype.addPendingElement=function(tt){this.pendingElements.push(tt)},BaseRenderer.prototype.searchExtraCompositions=function(tt){var _e,nt=tt.length;for(_e=0;_e<nt;_e+=1)if(tt[_e].xt){var rt=this.createComp(tt[_e]);rt.initExpressions(),this.globalData.projectInterface.registerComposition(rt)}},BaseRenderer.prototype.getElementById=function(tt){var _e,nt=this.elements.length;for(_e=0;_e<nt;_e+=1)if(this.elements[_e].data.ind===tt)return this.elements[_e];return null},BaseRenderer.prototype.getElementByPath=function(tt){var _e,nt=tt.shift();if(typeof nt=="number")_e=this.elements[nt];else{var rt,it=this.elements.length;for(rt=0;rt<it;rt+=1)if(this.elements[rt].data.nm===nt){_e=this.elements[rt];break}}return tt.length===0?_e:_e.getElementByPath(tt)},BaseRenderer.prototype.setupGlobalData=function(tt,_e){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(tt),this.globalData.fontManager.addChars(tt.chars),this.globalData.fontManager.addFonts(tt.fonts,_e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=tt.fr,this.globalData.nm=tt.nm,this.globalData.compSize={w:tt.w,h:tt.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}function MaskElement(tt,_e,nt){this.data=tt,this.element=_e,this.globalData=nt,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var rt,it,st=this.globalData.defs,at=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(at),this.solidPath="";var ot,lt,ct,ut,ft,ht,pt=this.masksProperties,dt=0,gt=[],vt=createElementID(),mt="clipPath",xt="clip-path";for(rt=0;rt<at;rt+=1)if((pt[rt].mode!=="a"&&pt[rt].mode!=="n"||pt[rt].inv||pt[rt].o.k!==100||pt[rt].o.x)&&(mt="mask",xt="mask"),pt[rt].mode!=="s"&&pt[rt].mode!=="i"||dt!==0?ct=null:((ct=createNS("rect")).setAttribute("fill","#ffffff"),ct.setAttribute("width",this.element.comp.data.w||0),ct.setAttribute("height",this.element.comp.data.h||0),gt.push(ct)),it=createNS("path"),pt[rt].mode==="n")this.viewData[rt]={op:PropertyFactory.getProp(this.element,pt[rt].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,pt[rt],3),elem:it,lastPath:""},st.appendChild(it);else{var St;if(dt+=1,it.setAttribute("fill",pt[rt].mode==="s"?"#000000":"#ffffff"),it.setAttribute("clip-rule","nonzero"),pt[rt].x.k!==0?(mt="mask",xt="mask",ht=PropertyFactory.getProp(this.element,pt[rt].x,0,null,this.element),St=createElementID(),(ut=createNS("filter")).setAttribute("id",St),(ft=createNS("feMorphology")).setAttribute("operator","erode"),ft.setAttribute("in","SourceGraphic"),ft.setAttribute("radius","0"),ut.appendChild(ft),st.appendChild(ut),it.setAttribute("stroke",pt[rt].mode==="s"?"#000000":"#ffffff")):(ft=null,ht=null),this.storedData[rt]={elem:it,x:ht,expan:ft,lastPath:"",lastOperator:"",filterId:St,lastRadius:0},pt[rt].mode==="i"){lt=gt.length;var Et=createNS("g");for(ot=0;ot<lt;ot+=1)Et.appendChild(gt[ot]);var bt=createNS("mask");bt.setAttribute("mask-type","alpha"),bt.setAttribute("id",vt+"_"+dt),bt.appendChild(it),st.appendChild(bt),Et.setAttribute("mask","url("+getLocationHref()+"#"+vt+"_"+dt+")"),gt.length=0,gt.push(Et)}else gt.push(it);pt[rt].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[rt]={elem:it,lastPath:"",op:PropertyFactory.getProp(this.element,pt[rt].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,pt[rt],3),invRect:ct},this.viewData[rt].prop.k||this.drawPath(pt[rt],this.viewData[rt].prop.v,this.viewData[rt])}for(this.maskElement=createNS(mt),at=gt.length,rt=0;rt<at;rt+=1)this.maskElement.appendChild(gt[rt]);dt>0&&(this.maskElement.setAttribute("id",vt),this.element.maskedElement.setAttribute(xt,"url("+getLocationHref()+"#"+vt+")"),st.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}TransformElement.prototype={initTransform:function(){var tt=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:tt,localMat:tt,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var tt,_e=this.finalTransform.mat,nt=0,rt=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;nt<rt;){if(this.hierarchy[nt].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}nt+=1}if(this.finalTransform._matMdf)for(tt=this.finalTransform.mProp.v.props,_e.cloneFromProps(tt),nt=0;nt<rt;nt+=1)_e.multiply(this.hierarchy[nt].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var tt=0,_e=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;tt<_e;)this.localTransforms[tt]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[tt]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),tt+=1;if(this.finalTransform._localMatMdf){var nt=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(nt),tt=1;tt<_e;tt+=1){var rt=this.localTransforms[tt].matrix;nt.multiply(rt)}nt.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var it=this.finalTransform.localOpacity;for(tt=0;tt<_e;tt+=1)it*=.01*this.localTransforms[tt].opacity;this.finalTransform.localOpacity=it}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var tt=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(tt.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var _e=0,nt=tt.length;for(_e=0;_e<nt;_e+=1)this.localTransforms.push(tt[_e])}}},globalToLocal:function(tt){var _e=[];_e.push(this.finalTransform);for(var nt,rt=!0,it=this.comp;rt;)it.finalTransform?(it.data.hasMask&&_e.splice(0,0,it.finalTransform),it=it.comp):rt=!1;var st,at=_e.length;for(nt=0;nt<at;nt+=1)st=_e[nt].mat.applyToPointArray(0,0,0),tt=[tt[0]-st[0],tt[1]-st[1],0];return tt},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(tt){return this.viewData[tt].prop},MaskElement.prototype.renderFrame=function(tt){var _e,nt=this.element.finalTransform.mat,rt=this.masksProperties.length;for(_e=0;_e<rt;_e+=1)if((this.viewData[_e].prop._mdf||tt)&&this.drawPath(this.masksProperties[_e],this.viewData[_e].prop.v,this.viewData[_e]),(this.viewData[_e].op._mdf||tt)&&this.viewData[_e].elem.setAttribute("fill-opacity",this.viewData[_e].op.v),this.masksProperties[_e].mode!=="n"&&(this.viewData[_e].invRect&&(this.element.finalTransform.mProp._mdf||tt)&&this.viewData[_e].invRect.setAttribute("transform",nt.getInverseMatrix().to2dCSS()),this.storedData[_e].x&&(this.storedData[_e].x._mdf||tt))){var it=this.storedData[_e].expan;this.storedData[_e].x.v<0?(this.storedData[_e].lastOperator!=="erode"&&(this.storedData[_e].lastOperator="erode",this.storedData[_e].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[_e].filterId+")")),it.setAttribute("radius",-this.storedData[_e].x.v)):(this.storedData[_e].lastOperator!=="dilate"&&(this.storedData[_e].lastOperator="dilate",this.storedData[_e].elem.setAttribute("filter",null)),this.storedData[_e].elem.setAttribute("stroke-width",2*this.storedData[_e].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var tt="M0,0 ";return tt+=" h"+this.globalData.compSize.w,tt+=" v"+this.globalData.compSize.h,tt+=" h-"+this.globalData.compSize.w,tt+=" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(tt,_e,nt){var rt,it,st=" M"+_e.v[0][0]+","+_e.v[0][1];for(it=_e._length,rt=1;rt<it;rt+=1)st+=" C"+_e.o[rt-1][0]+","+_e.o[rt-1][1]+" "+_e.i[rt][0]+","+_e.i[rt][1]+" "+_e.v[rt][0]+","+_e.v[rt][1];if(_e.c&&it>1&&(st+=" C"+_e.o[rt-1][0]+","+_e.o[rt-1][1]+" "+_e.i[0][0]+","+_e.i[0][1]+" "+_e.v[0][0]+","+_e.v[0][1]),nt.lastPath!==st){var at="";nt.elem&&(_e.c&&(at=tt.inv?this.solidPath+st:st),nt.elem.setAttribute("d",at)),nt.lastPath=st}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var tt={createFilter:function(_e,nt){var rt=createNS("filter");return rt.setAttribute("id",_e),nt!==!0&&(rt.setAttribute("filterUnits","objectBoundingBox"),rt.setAttribute("x","0%"),rt.setAttribute("y","0%"),rt.setAttribute("width","100%"),rt.setAttribute("height","100%")),rt},createAlphaToLuminanceFilter:function(){var _e=createNS("feColorMatrix");return _e.setAttribute("type","matrix"),_e.setAttribute("color-interpolation-filters","sRGB"),_e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),_e}};return tt}(),featureSupport=function(){var tt={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(tt.maskType=!1),/firefox/i.test(navigator.userAgent)&&(tt.svgLumaHidden=!1),tt}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(tt){var _e,nt,rt="SourceGraphic",it=tt.data.ef?tt.data.ef.length:0,st=createElementID(),at=filtersFactory.createFilter(st,!0),ot=0;for(this.filters=[],_e=0;_e<it;_e+=1){nt=null;var lt=tt.data.ef[_e].ty;registeredEffects$1[lt]&&(nt=new registeredEffects$1[lt].effect(at,tt.effectsManager.effectElements[_e],tt,idPrefix+ot,rt),rt=idPrefix+ot,registeredEffects$1[lt].countsAsEffect&&(ot+=1)),nt&&this.filters.push(nt)}ot&&(tt.globalData.defs.appendChild(at),tt.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+st+")")),this.filters.length&&tt.addRenderableComponent(this)}function registerEffect$1(tt,_e,nt){registeredEffects$1[tt]={effect:_e,countsAsEffect:nt}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(tt,_e,nt){this.assetData=_e.getAssetData(tt.refId),this.assetData&&this.assetData.sid&&(this.assetData=_e.slotManager.getProp(this.assetData)),this.initElement(tt,_e,nt),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(tt,_e){this.elem=tt,this.pos=_e}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(tt){var _e,nt=this.filters.length;for(_e=0;_e<nt;_e+=1)this.filters[_e].renderFrame(tt)},SVGEffects.prototype.getEffects=function(tt){var _e,nt=this.filters.length,rt=[];for(_e=0;_e<nt;_e+=1)this.filters[_e].type===tt&&rt.push(this.filters[_e]);return rt},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var tt=null;if(this.data.td){this.matteMasks={};var _e=createNS("g");_e.setAttribute("id",this.layerId),_e.appendChild(this.layerElement),tt=_e,this.globalData.defs.appendChild(_e)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),tt=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var nt=createNS("clipPath"),rt=createNS("path");rt.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var it=createElementID();if(nt.setAttribute("id",it),nt.appendChild(rt),this.globalData.defs.appendChild(nt),this.checkMasks()){var st=createNS("g");st.setAttribute("clip-path","url("+getLocationHref()+"#"+it+")"),st.appendChild(this.layerElement),this.transformedElement=st,tt?tt.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+it+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(tt){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[tt]){var _e,nt,rt,it,st=this.layerId+"_"+tt;if(tt===1||tt===3){var at=createNS("mask");at.setAttribute("id",st),at.setAttribute("mask-type",tt===3?"luminance":"alpha"),(rt=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),at.appendChild(rt),this.globalData.defs.appendChild(at),featureSupport.maskType||tt!==1||(at.setAttribute("mask-type","luminance"),_e=createElementID(),nt=filtersFactory.createFilter(_e),this.globalData.defs.appendChild(nt),nt.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(it=createNS("g")).appendChild(rt),at.appendChild(it),it.setAttribute("filter","url("+getLocationHref()+"#"+_e+")"))}else if(tt===2){var ot=createNS("mask");ot.setAttribute("id",st),ot.setAttribute("mask-type","alpha");var lt=createNS("g");ot.appendChild(lt),_e=createElementID(),nt=filtersFactory.createFilter(_e);var ct=createNS("feComponentTransfer");ct.setAttribute("in","SourceGraphic"),nt.appendChild(ct);var ut=createNS("feFuncA");ut.setAttribute("type","table"),ut.setAttribute("tableValues","1.0 0.0"),ct.appendChild(ut),this.globalData.defs.appendChild(nt);var ft=createNS("rect");ft.setAttribute("width",this.comp.data.w),ft.setAttribute("height",this.comp.data.h),ft.setAttribute("x","0"),ft.setAttribute("y","0"),ft.setAttribute("fill","#ffffff"),ft.setAttribute("opacity","0"),lt.setAttribute("filter","url("+getLocationHref()+"#"+_e+")"),lt.appendChild(ft),(rt=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),lt.appendChild(rt),featureSupport.maskType||(ot.setAttribute("mask-type","luminance"),nt.appendChild(filtersFactory.createAlphaToLuminanceFilter()),it=createNS("g"),lt.appendChild(ft),it.appendChild(this.layerElement),lt.appendChild(it)),this.globalData.defs.appendChild(ot)}this.matteMasks[tt]=st}return this.matteMasks[tt]},setMatte:function(tt){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+tt+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(tt){this.hierarchy=tt},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(tt,_e,nt){this.initFrame(),this.initBaseData(tt,_e,nt),this.initTransform(tt,_e,nt),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(tt){this._mdf=!1,this.prepareRenderableFrame(tt),this.prepareProperties(tt,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var tt=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",tt),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(tt){var _e,nt=this.shapeModifiers.length;for(_e=0;_e<nt;_e+=1)this.shapeModifiers[_e].addShape(tt)},isShapeInAnimatedModifiers:function(tt){for(var _e=this.shapeModifiers.length;0<_e;)if(this.shapeModifiers[0].isAnimatedWithShape(tt))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var tt,_e=this.shapes.length;for(tt=0;tt<_e;tt+=1)this.shapes[tt].sh.reset();for(tt=(_e=this.shapeModifiers.length)-1;tt>=0&&!this.shapeModifiers[tt].processShapes(this._isFirstFrame);tt-=1);}},searchProcessedElement:function(tt){for(var _e=this.processedElements,nt=0,rt=_e.length;nt<rt;){if(_e[nt].elem===tt)return _e[nt].pos;nt+=1}return 0},addProcessedElement:function(tt,_e){for(var nt=this.processedElements,rt=nt.length;rt;)if(nt[rt-=1].elem===tt)return void(nt[rt].pos=_e);nt.push(new ProcessedElement(tt,_e))},prepareFrame:function(tt){this.prepareRenderableFrame(tt),this.prepareProperties(tt,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(tt,_e,nt){this.caches=[],this.styles=[],this.transformers=tt,this.lStr="",this.sh=nt,this.lvl=_e,this._isAnimated=!!nt.k;for(var rt=0,it=tt.length;rt<it;){if(tt[rt].mProps.dynamicProperties.length){this._isAnimated=!0;break}rt+=1}}function SVGStyleData(tt,_e){this.data=tt,this.type=tt.ty,this.d="",this.lvl=_e,this._mdf=!1,this.closed=tt.hd===!0,this.pElem=createNS("path"),this.msElem=null}function DashProperty(tt,_e,nt,rt){var it;this.elem=tt,this.frameId=-1,this.dataProps=createSizedArray(_e.length),this.renderer=nt,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",_e.length?_e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(rt);var st,at=_e.length||0;for(it=0;it<at;it+=1)st=PropertyFactory.getProp(tt,_e[it].v,0,0,this),this.k=st.k||this.k,this.dataProps[it]={n:_e[it].n,p:st};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(tt,_e,nt){this.initDynamicPropertyContainer(tt),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(tt,_e.o,0,.01,this),this.w=PropertyFactory.getProp(tt,_e.w,0,null,this),this.d=new DashProperty(tt,_e.d||{},"svg",this),this.c=PropertyFactory.getProp(tt,_e.c,1,255,this),this.style=nt,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(tt,_e,nt){this.initDynamicPropertyContainer(tt),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(tt,_e.o,0,.01,this),this.c=PropertyFactory.getProp(tt,_e.c,1,255,this),this.style=nt}function SVGNoStyleData(tt,_e,nt){this.initDynamicPropertyContainer(tt),this.getValue=this.iterateDynamicProperties,this.style=nt}function GradientProperty(tt,_e,nt){this.data=_e,this.c=createTypedArray("uint8c",4*_e.p);var rt=_e.k.k[0].s?_e.k.k[0].s.length-4*_e.p:_e.k.k.length-4*_e.p;this.o=createTypedArray("float32",rt),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=rt,this.initDynamicPropertyContainer(nt),this.prop=PropertyFactory.getProp(tt,_e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(tt,_e,nt){this.initDynamicPropertyContainer(tt),this.getValue=this.iterateDynamicProperties,this.initGradientData(tt,_e,nt)}function SVGGradientStrokeStyleData(tt,_e,nt){this.initDynamicPropertyContainer(tt),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(tt,_e.w,0,null,this),this.d=new DashProperty(tt,_e.d||{},"svg",this),this.initGradientData(tt,_e,nt),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(tt,_e,nt){this.transform={mProps:tt,op:_e,container:nt},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(tt){if((this.elem.globalData.frameId!==this.frameId||tt)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||tt,this._mdf)){var _e=0,nt=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),_e=0;_e<nt;_e+=1)this.dataProps[_e].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[_e].p.v:this.dashArray[_e]=this.dataProps[_e].p.v:this.dashoffset[0]=this.dataProps[_e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(tt,_e){for(var nt=0,rt=this.o.length/2;nt<rt;){if(Math.abs(tt[4*nt]-tt[4*_e+2*nt])>.01)return!1;nt+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var tt=0,_e=this.data.k.k.length;tt<_e;){if(!this.comparePoints(this.data.k.k[tt].s,this.data.p))return!1;tt+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(tt){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||tt){var _e,nt,rt,it=4*this.data.p;for(_e=0;_e<it;_e+=1)nt=_e%4==0?100:255,rt=Math.round(this.prop.v[_e]*nt),this.c[_e]!==rt&&(this.c[_e]=rt,this._cmdf=!tt);if(this.o.length)for(it=this.prop.v.length,_e=4*this.data.p;_e<it;_e+=1)nt=_e%2==0?100:1,rt=_e%2==0?Math.round(100*this.prop.v[_e]):this.prop.v[_e],this.o[_e-4*this.data.p]!==rt&&(this.o[_e-4*this.data.p]=rt,this._omdf=!tt);this._mdf=!tt}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(tt,_e,nt){this.o=PropertyFactory.getProp(tt,_e.o,0,.01,this),this.s=PropertyFactory.getProp(tt,_e.s,1,null,this),this.e=PropertyFactory.getProp(tt,_e.e,1,null,this),this.h=PropertyFactory.getProp(tt,_e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(tt,_e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(tt,_e.g,this),this.style=nt,this.stops=[],this.setGradientData(nt.pElem,_e),this.setGradientOpacity(_e,nt),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(tt,_e){var nt=createElementID(),rt=createNS(_e.t===1?"linearGradient":"radialGradient");rt.setAttribute("id",nt),rt.setAttribute("spreadMethod","pad"),rt.setAttribute("gradientUnits","userSpaceOnUse");var it,st,at,ot=[];for(at=4*_e.g.p,st=0;st<at;st+=4)it=createNS("stop"),rt.appendChild(it),ot.push(it);tt.setAttribute(_e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+nt+")"),this.gf=rt,this.cst=ot},SVGGradientFillStyleData.prototype.setGradientOpacity=function(tt,_e){if(this.g._hasOpacity&&!this.g._collapsable){var nt,rt,it,st=createNS("mask"),at=createNS("path");st.appendChild(at);var ot=createElementID(),lt=createElementID();st.setAttribute("id",lt);var ct=createNS(tt.t===1?"linearGradient":"radialGradient");ct.setAttribute("id",ot),ct.setAttribute("spreadMethod","pad"),ct.setAttribute("gradientUnits","userSpaceOnUse"),it=tt.g.k.k[0].s?tt.g.k.k[0].s.length:tt.g.k.k.length;var ut=this.stops;for(rt=4*tt.g.p;rt<it;rt+=2)(nt=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),ct.appendChild(nt),ut.push(nt);at.setAttribute(tt.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+ot+")"),tt.ty==="gs"&&(at.setAttribute("stroke-linecap",lineCapEnum[tt.lc||2]),at.setAttribute("stroke-linejoin",lineJoinEnum[tt.lj||2]),tt.lj===1&&at.setAttribute("stroke-miterlimit",tt.ml)),this.of=ct,this.ms=st,this.ost=ut,this.maskId=lt,_e.msElem=at}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(tt,_e,nt,rt){if(_e===0)return"";var it,st=tt.o,at=tt.i,ot=tt.v,lt=" M"+rt.applyToPointStringified(ot[0][0],ot[0][1]);for(it=1;it<_e;it+=1)lt+=" C"+rt.applyToPointStringified(st[it-1][0],st[it-1][1])+" "+rt.applyToPointStringified(at[it][0],at[it][1])+" "+rt.applyToPointStringified(ot[it][0],ot[it][1]);return nt&&_e&&(lt+=" C"+rt.applyToPointStringified(st[it-1][0],st[it-1][1])+" "+rt.applyToPointStringified(at[0][0],at[0][1])+" "+rt.applyToPointStringified(ot[0][0],ot[0][1]),lt+="z"),lt},SVGElementsRenderer=function(){var tt=new Matrix,_e=new Matrix;function nt(ct,ut,ft){(ft||ut.transform.op._mdf)&&ut.transform.container.setAttribute("opacity",ut.transform.op.v),(ft||ut.transform.mProps._mdf)&&ut.transform.container.setAttribute("transform",ut.transform.mProps.v.to2dCSS())}function rt(){}function it(ct,ut,ft){var ht,pt,dt,gt,vt,mt,xt,St,Et,bt,Tt=ut.styles.length,At=ut.lvl;for(mt=0;mt<Tt;mt+=1){if(gt=ut.sh._mdf||ft,ut.styles[mt].lvl<At){for(St=_e.reset(),Et=At-ut.styles[mt].lvl,bt=ut.transformers.length-1;!gt&&Et>0;)gt=ut.transformers[bt].mProps._mdf||gt,Et-=1,bt-=1;if(gt)for(Et=At-ut.styles[mt].lvl,bt=ut.transformers.length-1;Et>0;)St.multiply(ut.transformers[bt].mProps.v),Et-=1,bt-=1}else St=tt;if(pt=(xt=ut.sh.paths)._length,gt){for(dt="",ht=0;ht<pt;ht+=1)(vt=xt.shapes[ht])&&vt._length&&(dt+=buildShapeString(vt,vt._length,vt.c,St));ut.caches[mt]=dt}else dt=ut.caches[mt];ut.styles[mt].d+=ct.hd===!0?"":dt,ut.styles[mt]._mdf=gt||ut.styles[mt]._mdf}}function st(ct,ut,ft){var ht=ut.style;(ut.c._mdf||ft)&&ht.pElem.setAttribute("fill","rgb("+bmFloor(ut.c.v[0])+","+bmFloor(ut.c.v[1])+","+bmFloor(ut.c.v[2])+")"),(ut.o._mdf||ft)&&ht.pElem.setAttribute("fill-opacity",ut.o.v)}function at(ct,ut,ft){ot(ct,ut,ft),lt(0,ut,ft)}function ot(ct,ut,ft){var ht,pt,dt,gt,vt,mt=ut.gf,xt=ut.g._hasOpacity,St=ut.s.v,Et=ut.e.v;if(ut.o._mdf||ft){var bt=ct.ty==="gf"?"fill-opacity":"stroke-opacity";ut.style.pElem.setAttribute(bt,ut.o.v)}if(ut.s._mdf||ft){var Tt=ct.t===1?"x1":"cx",At=Tt==="x1"?"y1":"cy";mt.setAttribute(Tt,St[0]),mt.setAttribute(At,St[1]),xt&&!ut.g._collapsable&&(ut.of.setAttribute(Tt,St[0]),ut.of.setAttribute(At,St[1]))}if(ut.g._cmdf||ft){ht=ut.cst;var Ct=ut.g.c;for(dt=ht.length,pt=0;pt<dt;pt+=1)(gt=ht[pt]).setAttribute("offset",Ct[4*pt]+"%"),gt.setAttribute("stop-color","rgb("+Ct[4*pt+1]+","+Ct[4*pt+2]+","+Ct[4*pt+3]+")")}if(xt&&(ut.g._omdf||ft)){var Pt=ut.g.o;for(dt=(ht=ut.g._collapsable?ut.cst:ut.ost).length,pt=0;pt<dt;pt+=1)gt=ht[pt],ut.g._collapsable||gt.setAttribute("offset",Pt[2*pt]+"%"),gt.setAttribute("stop-opacity",Pt[2*pt+1])}if(ct.t===1)(ut.e._mdf||ft)&&(mt.setAttribute("x2",Et[0]),mt.setAttribute("y2",Et[1]),xt&&!ut.g._collapsable&&(ut.of.setAttribute("x2",Et[0]),ut.of.setAttribute("y2",Et[1])));else if((ut.s._mdf||ut.e._mdf||ft)&&(vt=Math.sqrt(Math.pow(St[0]-Et[0],2)+Math.pow(St[1]-Et[1],2)),mt.setAttribute("r",vt),xt&&!ut.g._collapsable&&ut.of.setAttribute("r",vt)),ut.e._mdf||ut.h._mdf||ut.a._mdf||ft){vt||(vt=Math.sqrt(Math.pow(St[0]-Et[0],2)+Math.pow(St[1]-Et[1],2)));var It=Math.atan2(Et[1]-St[1],Et[0]-St[0]),Lt=ut.h.v;Lt>=1?Lt=.99:Lt<=-1&&(Lt=-.99);var Vt=vt*Lt,Ut=Math.cos(It+ut.a.v)*Vt+St[0],Ot=Math.sin(It+ut.a.v)*Vt+St[1];mt.setAttribute("fx",Ut),mt.setAttribute("fy",Ot),xt&&!ut.g._collapsable&&(ut.of.setAttribute("fx",Ut),ut.of.setAttribute("fy",Ot))}}function lt(ct,ut,ft){var ht=ut.style,pt=ut.d;pt&&(pt._mdf||ft)&&pt.dashStr&&(ht.pElem.setAttribute("stroke-dasharray",pt.dashStr),ht.pElem.setAttribute("stroke-dashoffset",pt.dashoffset[0])),ut.c&&(ut.c._mdf||ft)&&ht.pElem.setAttribute("stroke","rgb("+bmFloor(ut.c.v[0])+","+bmFloor(ut.c.v[1])+","+bmFloor(ut.c.v[2])+")"),(ut.o._mdf||ft)&&ht.pElem.setAttribute("stroke-opacity",ut.o.v),(ut.w._mdf||ft)&&(ht.pElem.setAttribute("stroke-width",ut.w.v),ht.msElem&&ht.msElem.setAttribute("stroke-width",ut.w.v))}return{createRenderFunction:function(ct){switch(ct.ty){case"fl":return st;case"gf":return ot;case"gs":return at;case"st":return lt;case"sh":case"el":case"rc":case"sr":return it;case"tr":return nt;case"no":return rt;default:return null}}}}();function SVGShapeElement(tt,_e,nt){this.shapes=[],this.shapesData=tt.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(tt,_e,nt),this.prevViewData=[]}function LetterProps(tt,_e,nt,rt,it,st){this.o=tt,this.sw=_e,this.sc=nt,this.fc=rt,this.m=it,this.p=st,this._mdf={o:!0,sw:!!_e,sc:!!nt,fc:!!rt,m:!0,p:!0}}function TextProperty(tt,_e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,_e.d&&_e.d.sid&&(_e.d=tt.globalData.slotManager.getProp(_e.d)),this.data=_e,this.elem=tt,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var tt,_e,nt,rt,it=this.shapes.length,st=this.stylesList.length,at=[],ot=!1;for(nt=0;nt<st;nt+=1){for(rt=this.stylesList[nt],ot=!1,at.length=0,tt=0;tt<it;tt+=1)(_e=this.shapes[tt]).styles.indexOf(rt)!==-1&&(at.push(_e),ot=_e._isAnimated||ot);at.length>1&&ot&&this.setShapesAsAnimated(at)}},SVGShapeElement.prototype.setShapesAsAnimated=function(tt){var _e,nt=tt.length;for(_e=0;_e<nt;_e+=1)tt[_e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(tt,_e){var nt,rt=new SVGStyleData(tt,_e),it=rt.pElem;return tt.ty==="st"?nt=new SVGStrokeStyleData(this,tt,rt):tt.ty==="fl"?nt=new SVGFillStyleData(this,tt,rt):tt.ty==="gf"||tt.ty==="gs"?(nt=new(tt.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,tt,rt),this.globalData.defs.appendChild(nt.gf),nt.maskId&&(this.globalData.defs.appendChild(nt.ms),this.globalData.defs.appendChild(nt.of),it.setAttribute("mask","url("+getLocationHref()+"#"+nt.maskId+")"))):tt.ty==="no"&&(nt=new SVGNoStyleData(this,tt,rt)),tt.ty!=="st"&&tt.ty!=="gs"||(it.setAttribute("stroke-linecap",lineCapEnum[tt.lc||2]),it.setAttribute("stroke-linejoin",lineJoinEnum[tt.lj||2]),it.setAttribute("fill-opacity","0"),tt.lj===1&&it.setAttribute("stroke-miterlimit",tt.ml)),tt.r===2&&it.setAttribute("fill-rule","evenodd"),tt.ln&&it.setAttribute("id",tt.ln),tt.cl&&it.setAttribute("class",tt.cl),tt.bm&&(it.style["mix-blend-mode"]=getBlendMode(tt.bm)),this.stylesList.push(rt),this.addToAnimatedContents(tt,nt),nt},SVGShapeElement.prototype.createGroupElement=function(tt){var _e=new ShapeGroupData;return tt.ln&&_e.gr.setAttribute("id",tt.ln),tt.cl&&_e.gr.setAttribute("class",tt.cl),tt.bm&&(_e.gr.style["mix-blend-mode"]=getBlendMode(tt.bm)),_e},SVGShapeElement.prototype.createTransformElement=function(tt,_e){var nt=TransformPropertyFactory.getTransformProperty(this,tt,this),rt=new SVGTransformData(nt,nt.o,_e);return this.addToAnimatedContents(tt,rt),rt},SVGShapeElement.prototype.createShapeElement=function(tt,_e,nt){var rt=4;tt.ty==="rc"?rt=5:tt.ty==="el"?rt=6:tt.ty==="sr"&&(rt=7);var it=new SVGShapeData(_e,nt,ShapePropertyFactory.getShapeProp(this,tt,rt,this));return this.shapes.push(it),this.addShapeToModifiers(it),this.addToAnimatedContents(tt,it),it},SVGShapeElement.prototype.addToAnimatedContents=function(tt,_e){for(var nt=0,rt=this.animatedContents.length;nt<rt;){if(this.animatedContents[nt].element===_e)return;nt+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(tt),element:_e,data:tt})},SVGShapeElement.prototype.setElementStyles=function(tt){var _e,nt=tt.styles,rt=this.stylesList.length;for(_e=0;_e<rt;_e+=1)this.stylesList[_e].closed||nt.push(this.stylesList[_e])},SVGShapeElement.prototype.reloadShapes=function(){var tt;this._isFirstFrame=!0;var _e=this.itemsData.length;for(tt=0;tt<_e;tt+=1)this.prevViewData[tt]=this.itemsData[tt];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),_e=this.dynamicProperties.length,tt=0;tt<_e;tt+=1)this.dynamicProperties[tt].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(tt,_e,nt,rt,it,st,at){var ot,lt,ct,ut,ft,ht,pt=[].concat(st),dt=tt.length-1,gt=[],vt=[];for(ot=dt;ot>=0;ot-=1){if((ht=this.searchProcessedElement(tt[ot]))?_e[ot]=nt[ht-1]:tt[ot]._render=at,tt[ot].ty==="fl"||tt[ot].ty==="st"||tt[ot].ty==="gf"||tt[ot].ty==="gs"||tt[ot].ty==="no")ht?_e[ot].style.closed=!1:_e[ot]=this.createStyleElement(tt[ot],it),tt[ot]._render&&_e[ot].style.pElem.parentNode!==rt&&rt.appendChild(_e[ot].style.pElem),gt.push(_e[ot].style);else if(tt[ot].ty==="gr"){if(ht)for(ct=_e[ot].it.length,lt=0;lt<ct;lt+=1)_e[ot].prevViewData[lt]=_e[ot].it[lt];else _e[ot]=this.createGroupElement(tt[ot]);this.searchShapes(tt[ot].it,_e[ot].it,_e[ot].prevViewData,_e[ot].gr,it+1,pt,at),tt[ot]._render&&_e[ot].gr.parentNode!==rt&&rt.appendChild(_e[ot].gr)}else tt[ot].ty==="tr"?(ht||(_e[ot]=this.createTransformElement(tt[ot],rt)),ut=_e[ot].transform,pt.push(ut)):tt[ot].ty==="sh"||tt[ot].ty==="rc"||tt[ot].ty==="el"||tt[ot].ty==="sr"?(ht||(_e[ot]=this.createShapeElement(tt[ot],pt,it)),this.setElementStyles(_e[ot])):tt[ot].ty==="tm"||tt[ot].ty==="rd"||tt[ot].ty==="ms"||tt[ot].ty==="pb"||tt[ot].ty==="zz"||tt[ot].ty==="op"?(ht?(ft=_e[ot]).closed=!1:((ft=ShapeModifiers.getModifier(tt[ot].ty)).init(this,tt[ot]),_e[ot]=ft,this.shapeModifiers.push(ft)),vt.push(ft)):tt[ot].ty==="rp"&&(ht?(ft=_e[ot]).closed=!0:(ft=ShapeModifiers.getModifier(tt[ot].ty),_e[ot]=ft,ft.init(this,tt,ot,_e),this.shapeModifiers.push(ft),at=!1),vt.push(ft));this.addProcessedElement(tt[ot],ot+1)}for(dt=gt.length,ot=0;ot<dt;ot+=1)gt[ot].closed=!0;for(dt=vt.length,ot=0;ot<dt;ot+=1)vt[ot].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){var tt;this.renderModifiers();var _e=this.stylesList.length;for(tt=0;tt<_e;tt+=1)this.stylesList[tt].reset();for(this.renderShape(),tt=0;tt<_e;tt+=1)(this.stylesList[tt]._mdf||this._isFirstFrame)&&(this.stylesList[tt].msElem&&(this.stylesList[tt].msElem.setAttribute("d",this.stylesList[tt].d),this.stylesList[tt].d="M0 0"+this.stylesList[tt].d),this.stylesList[tt].pElem.setAttribute("d",this.stylesList[tt].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var tt,_e,nt=this.animatedContents.length;for(tt=0;tt<nt;tt+=1)_e=this.animatedContents[tt],(this._isFirstFrame||_e.element._isAnimated)&&_e.data!==!0&&_e.fn(_e.data,_e.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(tt,_e,nt,rt,it,st){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var at=!1;return this.o!==tt&&(this.o=tt,this._mdf.o=!0,at=!0),this.sw!==_e&&(this.sw=_e,this._mdf.sw=!0,at=!0),this.sc!==nt&&(this.sc=nt,this._mdf.sc=!0,at=!0),this.fc!==rt&&(this.fc=rt,this._mdf.fc=!0,at=!0),this.m!==it&&(this.m=it,this._mdf.m=!0,at=!0),!st.length||this.p[0]===st[0]&&this.p[1]===st[1]&&this.p[4]===st[4]&&this.p[5]===st[5]&&this.p[12]===st[12]&&this.p[13]===st[13]||(this.p=st,this._mdf.p=!0,at=!0),at},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(tt,_e){for(var nt in _e)Object.prototype.hasOwnProperty.call(_e,nt)&&(tt[nt]=_e[nt]);return tt},TextProperty.prototype.setCurrentData=function(tt){tt.__complete||this.completeTextData(tt),this.currentData=tt,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(tt){this.effectsSequence.push(tt),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(tt){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||tt){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var _e=this.currentData,nt=this.keysIndex;if(this.lock)this.setCurrentData(this.currentData);else{var rt;this.lock=!0,this._mdf=!1;var it=this.effectsSequence.length,st=tt||this.data.d.k[this.keysIndex].s;for(rt=0;rt<it;rt+=1)st=nt!==this.keysIndex?this.effectsSequence[rt](st,st.t):this.effectsSequence[rt](this.currentData,st.t);_e!==st&&this.setCurrentData(st),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}}},TextProperty.prototype.getKeyframeValue=function(){for(var tt=this.data.d.k,_e=this.elem.comp.renderedFrame,nt=0,rt=tt.length;nt<=rt-1&&!(nt===rt-1||tt[nt+1].t>_e);)nt+=1;return this.keysIndex!==nt&&(this.keysIndex=nt),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(tt){for(var _e,nt,rt=[],it=0,st=tt.length,at=!1,ot=!1,lt="";it<st;)at=ot,ot=!1,_e=tt.charCodeAt(it),lt=tt.charAt(it),FontManager.isCombinedCharacter(_e)?at=!0:_e>=55296&&_e<=56319?FontManager.isRegionalFlag(tt,it)?lt=tt.substr(it,14):(nt=tt.charCodeAt(it+1))>=56320&&nt<=57343&&(FontManager.isModifier(_e,nt)?(lt=tt.substr(it,2),at=!0):lt=FontManager.isFlagEmoji(tt.substr(it,4))?tt.substr(it,4):tt.substr(it,2)):_e>56319?(nt=tt.charCodeAt(it+1),FontManager.isVariationSelector(_e)&&(at=!0)):FontManager.isZeroWidthJoiner(_e)&&(at=!0,ot=!0),at?(rt[rt.length-1]+=lt,at=!1):rt.push(lt),it+=lt.length;return rt},TextProperty.prototype.completeTextData=function(tt){tt.__complete=!0;var _e,nt,rt,it,st,at,ot,lt=this.elem.globalData.fontManager,ct=this.data,ut=[],ft=0,ht=ct.m.g,pt=0,dt=0,gt=0,vt=[],mt=0,xt=0,St=lt.getFontByName(tt.f),Et=0,bt=getFontProperties(St);tt.fWeight=bt.weight,tt.fStyle=bt.style,tt.finalSize=tt.s,tt.finalText=this.buildFinalText(tt.t),nt=tt.finalText.length,tt.finalLineHeight=tt.lh;var Tt,At=tt.tr/1e3*tt.finalSize;if(tt.sz)for(var Ct,Pt,It=!0,Lt=tt.sz[0],Vt=tt.sz[1];It;){Ct=0,mt=0,nt=(Pt=this.buildFinalText(tt.t)).length,At=tt.tr/1e3*tt.finalSize;var Ut=-1;for(_e=0;_e<nt;_e+=1)Tt=Pt[_e].charCodeAt(0),rt=!1,Pt[_e]===" "?Ut=_e:Tt!==13&&Tt!==3||(mt=0,rt=!0,Ct+=tt.finalLineHeight||1.2*tt.finalSize),lt.chars?(ot=lt.getCharData(Pt[_e],St.fStyle,St.fFamily),Et=rt?0:ot.w*tt.finalSize/100):Et=lt.measureText(Pt[_e],tt.f,tt.finalSize),mt+Et>Lt&&Pt[_e]!==" "?(Ut===-1?nt+=1:_e=Ut,Ct+=tt.finalLineHeight||1.2*tt.finalSize,Pt.splice(_e,Ut===_e?1:0,"\r"),Ut=-1,mt=0):(mt+=Et,mt+=At);Ct+=St.ascent*tt.finalSize/100,this.canResize&&tt.finalSize>this.minimumFontSize&&Vt<Ct?(tt.finalSize-=1,tt.finalLineHeight=tt.finalSize*tt.lh/tt.s):(tt.finalText=Pt,nt=tt.finalText.length,It=!1)}mt=-At,Et=0;var Ot,zt=0;for(_e=0;_e<nt;_e+=1)if(rt=!1,(Tt=(Ot=tt.finalText[_e]).charCodeAt(0))===13||Tt===3?(zt=0,vt.push(mt),xt=mt>xt?mt:xt,mt=-2*At,it="",rt=!0,gt+=1):it=Ot,lt.chars?(ot=lt.getCharData(Ot,St.fStyle,lt.getFontByName(tt.f).fFamily),Et=rt?0:ot.w*tt.finalSize/100):Et=lt.measureText(it,tt.f,tt.finalSize),Ot===" "?zt+=Et+At:(mt+=Et+At+zt,zt=0),ut.push({l:Et,an:Et,add:pt,n:rt,anIndexes:[],val:it,line:gt,animatorJustifyOffset:0}),ht==2){if(pt+=Et,it===""||it===" "||_e===nt-1){for(it!==""&&it!==" "||(pt-=Et);dt<=_e;)ut[dt].an=pt,ut[dt].ind=ft,ut[dt].extra=Et,dt+=1;ft+=1,pt=0}}else if(ht==3){if(pt+=Et,it===""||_e===nt-1){for(it===""&&(pt-=Et);dt<=_e;)ut[dt].an=pt,ut[dt].ind=ft,ut[dt].extra=Et,dt+=1;pt=0,ft+=1}}else ut[ft].ind=ft,ut[ft].extra=0,ft+=1;if(tt.l=ut,xt=mt>xt?mt:xt,vt.push(mt),tt.sz)tt.boxWidth=tt.sz[0],tt.justifyOffset=0;else switch(tt.boxWidth=xt,tt.j){case 1:tt.justifyOffset=-tt.boxWidth;break;case 2:tt.justifyOffset=-tt.boxWidth/2;break;default:tt.justifyOffset=0}tt.lineWidths=vt;var Dt,$t,Mt,Rt,Nt=ct.a;at=Nt.length;var Ft=[];for(st=0;st<at;st+=1){for((Dt=Nt[st]).a.sc&&(tt.strokeColorAnim=!0),Dt.a.sw&&(tt.strokeWidthAnim=!0),(Dt.a.fc||Dt.a.fh||Dt.a.fs||Dt.a.fb)&&(tt.fillColorAnim=!0),Rt=0,Mt=Dt.s.b,_e=0;_e<nt;_e+=1)($t=ut[_e]).anIndexes[st]=Rt,(Mt==1&&$t.val!==""||Mt==2&&$t.val!==""&&$t.val!==" "||Mt==3&&($t.n||$t.val==" "||_e==nt-1)||Mt==4&&($t.n||_e==nt-1))&&(Dt.s.rn===1&&Ft.push(Rt),Rt+=1);ct.a[st].s.totalChars=Rt;var qt,Qt=-1;if(Dt.s.rn===1)for(_e=0;_e<nt;_e+=1)Qt!=($t=ut[_e]).anIndexes[st]&&(Qt=$t.anIndexes[st],qt=Ft.splice(Math.floor(Math.random()*Ft.length),1)[0]),$t.anIndexes[st]=qt}tt.yOffset=tt.finalLineHeight||1.2*tt.finalSize,tt.ls=tt.ls||0,tt.ascent=St.ascent*tt.finalSize/100},TextProperty.prototype.updateDocumentData=function(tt,_e){_e=_e===void 0?this.keysIndex:_e;var nt=this.copyData({},this.data.d.k[_e].s);nt=this.copyData(nt,tt),this.data.d.k[_e].s=nt,this.recalculate(_e),this.setCurrentData(nt),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(tt){var _e=this.data.d.k[tt].s;_e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(_e)},TextProperty.prototype.canResizeFont=function(tt){this.canResize=tt,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(tt){this.minimumFontSize=Math.floor(tt)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var tt=Math.max,_e=Math.min,nt=Math.floor;function rt(it,st){this._currentTextLength=-1,this.k=!1,this.data=st,this.elem=it,this.comp=it.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(it),this.s=PropertyFactory.getProp(it,st.s||{k:0},0,0,this),this.e="e"in st?PropertyFactory.getProp(it,st.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(it,st.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(it,st.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(it,st.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(it,st.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(it,st.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return rt.prototype={getMult:function(it){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var st=0,at=0,ot=1,lt=1;this.ne.v>0?st=this.ne.v/100:at=-this.ne.v/100,this.xe.v>0?ot=1-this.xe.v/100:lt=1+this.xe.v/100;var ct=BezierFactory.getBezierEasing(st,at,ot,lt).get,ut=0,ft=this.finalS,ht=this.finalE,pt=this.data.sh;if(pt===2)ut=ct(ut=ht===ft?it>=ht?1:0:tt(0,_e(.5/(ht-ft)+(it-ft)/(ht-ft),1)));else if(pt===3)ut=ct(ut=ht===ft?it>=ht?0:1:1-tt(0,_e(.5/(ht-ft)+(it-ft)/(ht-ft),1)));else if(pt===4)ht===ft?ut=0:(ut=tt(0,_e(.5/(ht-ft)+(it-ft)/(ht-ft),1)))<.5?ut*=2:ut=1-2*(ut-.5),ut=ct(ut);else if(pt===5){if(ht===ft)ut=0;else{var dt=ht-ft,gt=-dt/2+(it=_e(tt(0,it+.5-ft),ht-ft)),vt=dt/2;ut=Math.sqrt(1-gt*gt/(vt*vt))}ut=ct(ut)}else pt===6?(ht===ft?ut=0:(it=_e(tt(0,it+.5-ft),ht-ft),ut=(1+Math.cos(Math.PI+2*Math.PI*it/(ht-ft)))/2),ut=ct(ut)):(it>=nt(ft)&&(ut=tt(0,_e(it-ft<0?_e(ht,1)-(ft-it):ht-it,1))),ut=ct(ut));if(this.sm.v!==100){var mt=.01*this.sm.v;mt===0&&(mt=1e-8);var xt=.5-.5*mt;ut<xt?ut=0:(ut=(ut-xt)/mt)>1&&(ut=1)}return ut*this.a.v},getValue:function(it){this.iterateDynamicProperties(),this._mdf=it||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,it&&this.data.r===2&&(this.e.v=this._currentTextLength);var st=this.data.r===2?1:100/this.data.totalChars,at=this.o.v/st,ot=this.s.v/st+at,lt=this.e.v/st+at;if(ot>lt){var ct=ot;ot=lt,lt=ct}this.finalS=ot,this.finalE=lt}},extendPrototype([DynamicPropertyContainer],rt),{getTextSelectorProp:function(it,st,at){return new rt(it,st)}}}();function TextAnimatorDataProperty(tt,_e,nt){var rt={propType:!1},it=PropertyFactory.getProp,st=_e.a;this.a={r:st.r?it(tt,st.r,0,degToRads,nt):rt,rx:st.rx?it(tt,st.rx,0,degToRads,nt):rt,ry:st.ry?it(tt,st.ry,0,degToRads,nt):rt,sk:st.sk?it(tt,st.sk,0,degToRads,nt):rt,sa:st.sa?it(tt,st.sa,0,degToRads,nt):rt,s:st.s?it(tt,st.s,1,.01,nt):rt,a:st.a?it(tt,st.a,1,0,nt):rt,o:st.o?it(tt,st.o,0,.01,nt):rt,p:st.p?it(tt,st.p,1,0,nt):rt,sw:st.sw?it(tt,st.sw,0,0,nt):rt,sc:st.sc?it(tt,st.sc,1,0,nt):rt,fc:st.fc?it(tt,st.fc,1,0,nt):rt,fh:st.fh?it(tt,st.fh,0,0,nt):rt,fs:st.fs?it(tt,st.fs,0,.01,nt):rt,fb:st.fb?it(tt,st.fb,0,.01,nt):rt,t:st.t?it(tt,st.t,0,0,nt):rt},this.s=TextSelectorProp.getTextSelectorProp(tt,_e.s,nt),this.s.t=_e.s.t}function TextAnimatorProperty(tt,_e,nt){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=tt,this._renderType=_e,this._elem=nt,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(nt)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var tt,_e,nt=this._textData.a.length,rt=PropertyFactory.getProp;for(tt=0;tt<nt;tt+=1)_e=this._textData.a[tt],this._animatorsData[tt]=new TextAnimatorDataProperty(this._elem,_e,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:rt(this._elem,this._textData.p.a,0,0,this),f:rt(this._elem,this._textData.p.f,0,0,this),l:rt(this._elem,this._textData.p.l,0,0,this),r:rt(this._elem,this._textData.p.r,0,0,this),p:rt(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=rt(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(tt,_e){if(this.lettersChangedFlag=_e,this._mdf||this._isFirstFrame||_e||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var nt,rt,it,st,at,ot,lt,ct,ut,ft,ht,pt,dt,gt,vt,mt,xt,St,Et,bt=this._moreOptions.alignment.v,Tt=this._animatorsData,At=this._textData,Ct=this.mHelper,Pt=this._renderType,It=this.renderedLetters.length,Lt=tt.l;if(this._hasMaskedPath){if(Et=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Vt,Ut=Et.v;for(this._pathData.r.v&&(Ut=Ut.reverse()),at={tLength:0,segments:[]},st=Ut._length-1,mt=0,it=0;it<st;it+=1)Vt=bez.buildBezierData(Ut.v[it],Ut.v[it+1],[Ut.o[it][0]-Ut.v[it][0],Ut.o[it][1]-Ut.v[it][1]],[Ut.i[it+1][0]-Ut.v[it+1][0],Ut.i[it+1][1]-Ut.v[it+1][1]]),at.tLength+=Vt.segmentLength,at.segments.push(Vt),mt+=Vt.segmentLength;it=st,Et.v.c&&(Vt=bez.buildBezierData(Ut.v[it],Ut.v[0],[Ut.o[it][0]-Ut.v[it][0],Ut.o[it][1]-Ut.v[it][1]],[Ut.i[0][0]-Ut.v[0][0],Ut.i[0][1]-Ut.v[0][1]]),at.tLength+=Vt.segmentLength,at.segments.push(Vt),mt+=Vt.segmentLength),this._pathData.pi=at}if(at=this._pathData.pi,ot=this._pathData.f.v,ht=0,ft=1,ct=0,ut=!0,gt=at.segments,ot<0&&Et.v.c)for(at.tLength<Math.abs(ot)&&(ot=-Math.abs(ot)%at.tLength),ft=(dt=gt[ht=gt.length-1].points).length-1;ot<0;)ot+=dt[ft].partialLength,(ft-=1)<0&&(ft=(dt=gt[ht-=1].points).length-1);pt=(dt=gt[ht].points)[ft-1],vt=(lt=dt[ft]).partialLength}st=Lt.length,nt=0,rt=0;var Ot,zt,Dt,$t,Mt,Rt=1.2*tt.finalSize*.714,Nt=!0;Dt=Tt.length;var Ft,qt,Qt,Kt,Zt,tn,en,un,Cn,Rn,Mn,ln,gn=-1,Yt=ot,Fn=ht,wn=ft,Vn=-1,xn="",Bn=this.defaultPropsArray;if(tt.j===2||tt.j===1){var Tn=0,Wt=0,Ht=tt.j===2?-.5:-1,an=0,dn=!0;for(it=0;it<st;it+=1)if(Lt[it].n){for(Tn&&(Tn+=Wt);an<it;)Lt[an].animatorJustifyOffset=Tn,an+=1;Tn=0,dn=!0}else{for(zt=0;zt<Dt;zt+=1)(Ot=Tt[zt].a).t.propType&&(dn&&tt.j===2&&(Wt+=Ot.t.v*Ht),(Mt=Tt[zt].s.getMult(Lt[it].anIndexes[zt],At.a[zt].s.totalChars)).length?Tn+=Ot.t.v*Mt[0]*Ht:Tn+=Ot.t.v*Mt*Ht);dn=!1}for(Tn&&(Tn+=Wt);an<it;)Lt[an].animatorJustifyOffset=Tn,an+=1}for(it=0;it<st;it+=1){if(Ct.reset(),Kt=1,Lt[it].n)nt=0,rt+=tt.yOffset,rt+=Nt?1:0,ot=Yt,Nt=!1,this._hasMaskedPath&&(ft=wn,pt=(dt=gt[ht=Fn].points)[ft-1],vt=(lt=dt[ft]).partialLength,ct=0),xn="",Mn="",Cn="",ln="",Bn=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Vn!==Lt[it].line){switch(tt.j){case 1:ot+=mt-tt.lineWidths[Lt[it].line];break;case 2:ot+=(mt-tt.lineWidths[Lt[it].line])/2}Vn=Lt[it].line}gn!==Lt[it].ind&&(Lt[gn]&&(ot+=Lt[gn].extra),ot+=Lt[it].an/2,gn=Lt[it].ind),ot+=bt[0]*Lt[it].an*.005;var mn=0;for(zt=0;zt<Dt;zt+=1)(Ot=Tt[zt].a).p.propType&&((Mt=Tt[zt].s.getMult(Lt[it].anIndexes[zt],At.a[zt].s.totalChars)).length?mn+=Ot.p.v[0]*Mt[0]:mn+=Ot.p.v[0]*Mt),Ot.a.propType&&((Mt=Tt[zt].s.getMult(Lt[it].anIndexes[zt],At.a[zt].s.totalChars)).length?mn+=Ot.a.v[0]*Mt[0]:mn+=Ot.a.v[0]*Mt);for(ut=!0,this._pathData.a.v&&(ot=.5*Lt[0].an+(mt-this._pathData.f.v-.5*Lt[0].an-.5*Lt[Lt.length-1].an)*gn/(st-1),ot+=this._pathData.f.v);ut;)ct+vt>=ot+mn||!dt?(xt=(ot+mn-ct)/lt.partialLength,qt=pt.point[0]+(lt.point[0]-pt.point[0])*xt,Qt=pt.point[1]+(lt.point[1]-pt.point[1])*xt,Ct.translate(-bt[0]*Lt[it].an*.005,-bt[1]*Rt*.01),ut=!1):dt&&(ct+=lt.partialLength,(ft+=1)>=dt.length&&(ft=0,gt[ht+=1]?dt=gt[ht].points:Et.v.c?(ft=0,dt=gt[ht=0].points):(ct-=lt.partialLength,dt=null)),dt&&(pt=lt,vt=(lt=dt[ft]).partialLength));Ft=Lt[it].an/2-Lt[it].add,Ct.translate(-Ft,0,0)}else Ft=Lt[it].an/2-Lt[it].add,Ct.translate(-Ft,0,0),Ct.translate(-bt[0]*Lt[it].an*.005,-bt[1]*Rt*.01,0);for(zt=0;zt<Dt;zt+=1)(Ot=Tt[zt].a).t.propType&&(Mt=Tt[zt].s.getMult(Lt[it].anIndexes[zt],At.a[zt].s.totalChars),nt===0&&tt.j===0||(this._hasMaskedPath?Mt.length?ot+=Ot.t.v*Mt[0]:ot+=Ot.t.v*Mt:Mt.length?nt+=Ot.t.v*Mt[0]:nt+=Ot.t.v*Mt));for(tt.strokeWidthAnim&&(tn=tt.sw||0),tt.strokeColorAnim&&(Zt=tt.sc?[tt.sc[0],tt.sc[1],tt.sc[2]]:[0,0,0]),tt.fillColorAnim&&tt.fc&&(en=[tt.fc[0],tt.fc[1],tt.fc[2]]),zt=0;zt<Dt;zt+=1)(Ot=Tt[zt].a).a.propType&&((Mt=Tt[zt].s.getMult(Lt[it].anIndexes[zt],At.a[zt].s.totalChars)).length?Ct.translate(-Ot.a.v[0]*Mt[0],-Ot.a.v[1]*Mt[1],Ot.a.v[2]*Mt[2]):Ct.translate(-Ot.a.v[0]*Mt,-Ot.a.v[1]*Mt,Ot.a.v[2]*Mt));for(zt=0;zt<Dt;zt+=1)(Ot=Tt[zt].a).s.propType&&((Mt=Tt[zt].s.getMult(Lt[it].anIndexes[zt],At.a[zt].s.totalChars)).length?Ct.scale(1+(Ot.s.v[0]-1)*Mt[0],1+(Ot.s.v[1]-1)*Mt[1],1):Ct.scale(1+(Ot.s.v[0]-1)*Mt,1+(Ot.s.v[1]-1)*Mt,1));for(zt=0;zt<Dt;zt+=1){if(Ot=Tt[zt].a,Mt=Tt[zt].s.getMult(Lt[it].anIndexes[zt],At.a[zt].s.totalChars),Ot.sk.propType&&(Mt.length?Ct.skewFromAxis(-Ot.sk.v*Mt[0],Ot.sa.v*Mt[1]):Ct.skewFromAxis(-Ot.sk.v*Mt,Ot.sa.v*Mt)),Ot.r.propType&&(Mt.length?Ct.rotateZ(-Ot.r.v*Mt[2]):Ct.rotateZ(-Ot.r.v*Mt)),Ot.ry.propType&&(Mt.length?Ct.rotateY(Ot.ry.v*Mt[1]):Ct.rotateY(Ot.ry.v*Mt)),Ot.rx.propType&&(Mt.length?Ct.rotateX(Ot.rx.v*Mt[0]):Ct.rotateX(Ot.rx.v*Mt)),Ot.o.propType&&(Mt.length?Kt+=(Ot.o.v*Mt[0]-Kt)*Mt[0]:Kt+=(Ot.o.v*Mt-Kt)*Mt),tt.strokeWidthAnim&&Ot.sw.propType&&(Mt.length?tn+=Ot.sw.v*Mt[0]:tn+=Ot.sw.v*Mt),tt.strokeColorAnim&&Ot.sc.propType)for(un=0;un<3;un+=1)Mt.length?Zt[un]+=(Ot.sc.v[un]-Zt[un])*Mt[0]:Zt[un]+=(Ot.sc.v[un]-Zt[un])*Mt;if(tt.fillColorAnim&&tt.fc){if(Ot.fc.propType)for(un=0;un<3;un+=1)Mt.length?en[un]+=(Ot.fc.v[un]-en[un])*Mt[0]:en[un]+=(Ot.fc.v[un]-en[un])*Mt;Ot.fh.propType&&(en=Mt.length?addHueToRGB(en,Ot.fh.v*Mt[0]):addHueToRGB(en,Ot.fh.v*Mt)),Ot.fs.propType&&(en=Mt.length?addSaturationToRGB(en,Ot.fs.v*Mt[0]):addSaturationToRGB(en,Ot.fs.v*Mt)),Ot.fb.propType&&(en=Mt.length?addBrightnessToRGB(en,Ot.fb.v*Mt[0]):addBrightnessToRGB(en,Ot.fb.v*Mt))}}for(zt=0;zt<Dt;zt+=1)(Ot=Tt[zt].a).p.propType&&(Mt=Tt[zt].s.getMult(Lt[it].anIndexes[zt],At.a[zt].s.totalChars),this._hasMaskedPath?Mt.length?Ct.translate(0,Ot.p.v[1]*Mt[0],-Ot.p.v[2]*Mt[1]):Ct.translate(0,Ot.p.v[1]*Mt,-Ot.p.v[2]*Mt):Mt.length?Ct.translate(Ot.p.v[0]*Mt[0],Ot.p.v[1]*Mt[1],-Ot.p.v[2]*Mt[2]):Ct.translate(Ot.p.v[0]*Mt,Ot.p.v[1]*Mt,-Ot.p.v[2]*Mt));if(tt.strokeWidthAnim&&(Cn=tn<0?0:tn),tt.strokeColorAnim&&(Rn="rgb("+Math.round(255*Zt[0])+","+Math.round(255*Zt[1])+","+Math.round(255*Zt[2])+")"),tt.fillColorAnim&&tt.fc&&(Mn="rgb("+Math.round(255*en[0])+","+Math.round(255*en[1])+","+Math.round(255*en[2])+")"),this._hasMaskedPath){if(Ct.translate(0,-tt.ls),Ct.translate(0,bt[1]*Rt*.01+rt,0),this._pathData.p.v){St=(lt.point[1]-pt.point[1])/(lt.point[0]-pt.point[0]);var En=180*Math.atan(St)/Math.PI;lt.point[0]<pt.point[0]&&(En+=180),Ct.rotate(-En*Math.PI/180)}Ct.translate(qt,Qt,0),ot-=bt[0]*Lt[it].an*.005,Lt[it+1]&&gn!==Lt[it+1].ind&&(ot+=Lt[it].an/2,ot+=.001*tt.tr*tt.finalSize)}else{switch(Ct.translate(nt,rt,0),tt.ps&&Ct.translate(tt.ps[0],tt.ps[1]+tt.ascent,0),tt.j){case 1:Ct.translate(Lt[it].animatorJustifyOffset+tt.justifyOffset+(tt.boxWidth-tt.lineWidths[Lt[it].line]),0,0);break;case 2:Ct.translate(Lt[it].animatorJustifyOffset+tt.justifyOffset+(tt.boxWidth-tt.lineWidths[Lt[it].line])/2,0,0)}Ct.translate(0,-tt.ls),Ct.translate(Ft,0,0),Ct.translate(bt[0]*Lt[it].an*.005,bt[1]*Rt*.01,0),nt+=Lt[it].l+.001*tt.tr*tt.finalSize}Pt==="html"?xn=Ct.toCSS():Pt==="svg"?xn=Ct.to2dCSS():Bn=[Ct.props[0],Ct.props[1],Ct.props[2],Ct.props[3],Ct.props[4],Ct.props[5],Ct.props[6],Ct.props[7],Ct.props[8],Ct.props[9],Ct.props[10],Ct.props[11],Ct.props[12],Ct.props[13],Ct.props[14],Ct.props[15]],ln=Kt}It<=it?($t=new LetterProps(ln,Cn,Rn,Mn,xn,Bn),this.renderedLetters.push($t),It+=1,this.lettersChangedFlag=!0):($t=this.renderedLetters[it],this.lettersChangedFlag=$t.update(ln,Cn,Rn,Mn,xn,Bn)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(tt,_e,nt){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(tt,_e,nt),this.textProperty=new TextProperty(this,tt.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(tt.t,this.renderType,this),this.initTransform(tt,_e,nt),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(tt){this._mdf=!1,this.prepareRenderableFrame(tt),this.prepareProperties(tt,this.isInRange)},ITextElement.prototype.createPathShape=function(tt,_e){var nt,rt,it=_e.length,st="";for(nt=0;nt<it;nt+=1)_e[nt].ty==="sh"&&(rt=_e[nt].ks.k,st+=buildShapeString(rt,rt.i.length,!0,tt));return st},ITextElement.prototype.updateDocumentData=function(tt,_e){this.textProperty.updateDocumentData(tt,_e)},ITextElement.prototype.canResizeFont=function(tt){this.textProperty.canResizeFont(tt)},ITextElement.prototype.setMinimumFontSize=function(tt){this.textProperty.setMinimumFontSize(tt)},ITextElement.prototype.applyTextPropertiesToMatrix=function(tt,_e,nt,rt,it){switch(tt.ps&&_e.translate(tt.ps[0],tt.ps[1]+tt.ascent,0),_e.translate(0,-tt.ls,0),tt.j){case 1:_e.translate(tt.justifyOffset+(tt.boxWidth-tt.lineWidths[nt]),0,0);break;case 2:_e.translate(tt.justifyOffset+(tt.boxWidth-tt.lineWidths[nt])/2,0,0)}_e.translate(rt,it,0)},ITextElement.prototype.buildColor=function(tt){return"rgb("+Math.round(255*tt[0])+","+Math.round(255*tt[1])+","+Math.round(255*tt[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(tt,_e,nt){this.textSpans=[],this.renderType="svg",this.initElement(tt,_e,nt)}function ISolidElement(tt,_e,nt){this.initElement(tt,_e,nt)}function NullElement(tt,_e,nt){this.initFrame(),this.initBaseData(tt,_e,nt),this.initFrame(),this.initTransform(tt,_e,nt),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(tt,_e,nt){this.layers=tt.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(tt,_e,nt),this.tm=tt.tm?PropertyFactory.getProp(this,tt.tm,0,_e.frameRate,this):{_placeholder:!0}}function SVGRenderer(tt,_e){this.animationItem=tt,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var nt="";if(_e&&_e.title){var rt=createNS("title"),it=createElementID();rt.setAttribute("id",it),rt.textContent=_e.title,this.svgElement.appendChild(rt),nt+=it}if(_e&&_e.description){var st=createNS("desc"),at=createElementID();st.setAttribute("id",at),st.textContent=_e.description,this.svgElement.appendChild(st),nt+=" "+at}nt&&this.svgElement.setAttribute("aria-labelledby",nt);var ot=createNS("defs");this.svgElement.appendChild(ot);var lt=createNS("g");this.svgElement.appendChild(lt),this.layerElement=lt,this.renderConfig={preserveAspectRatio:_e&&_e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:_e&&_e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:_e&&_e.contentVisibility||"visible",progressiveLoad:_e&&_e.progressiveLoad||!1,hideOnTransparent:!(_e&&_e.hideOnTransparent===!1),viewBoxOnly:_e&&_e.viewBoxOnly||!1,viewBoxSize:_e&&_e.viewBoxSize||!1,className:_e&&_e.className||"",id:_e&&_e.id||"",focusable:_e&&_e.focusable,filterSize:{width:_e&&_e.filterSize&&_e.filterSize.width||"100%",height:_e&&_e.filterSize&&_e.filterSize.height||"100%",x:_e&&_e.filterSize&&_e.filterSize.x||"0%",y:_e&&_e.filterSize&&_e.filterSize.y||"0%"},width:_e&&_e.width,height:_e&&_e.height,runExpressions:!_e||_e.runExpressions===void 0||_e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:ot,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(tt){for(var _e=0,nt=tt.length,rt=[],it="";_e<nt;)tt[_e]==="\r"||tt[_e]===""?(rt.push(it),it=""):it+=tt[_e],_e+=1;return rt.push(it),rt},SVGTextLottieElement.prototype.buildShapeData=function(tt,_e){if(tt.shapes&&tt.shapes.length){var nt=tt.shapes[0];if(nt.it){var rt=nt.it[nt.it.length-1];rt.s&&(rt.s.k[0]=_e,rt.s.k[1]=_e)}}return tt},SVGTextLottieElement.prototype.buildNewText=function(){var tt,_e;this.addDynamicProperty(this);var nt=this.textProperty.currentData;this.renderedLetters=createSizedArray(nt?nt.l.length:0),nt.fc?this.layerElement.setAttribute("fill",this.buildColor(nt.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),nt.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(nt.sc)),this.layerElement.setAttribute("stroke-width",nt.sw)),this.layerElement.setAttribute("font-size",nt.finalSize);var rt=this.globalData.fontManager.getFontByName(nt.f);if(rt.fClass)this.layerElement.setAttribute("class",rt.fClass);else{this.layerElement.setAttribute("font-family",rt.fFamily);var it=nt.fWeight,st=nt.fStyle;this.layerElement.setAttribute("font-style",st),this.layerElement.setAttribute("font-weight",it)}this.layerElement.setAttribute("aria-label",nt.t);var at,ot=nt.l||[],lt=!!this.globalData.fontManager.chars;_e=ot.length;var ct=this.mHelper,ut=this.data.singleShape,ft=0,ht=0,pt=!0,dt=.001*nt.tr*nt.finalSize;if(!ut||lt||nt.sz){var gt,vt=this.textSpans.length;for(tt=0;tt<_e;tt+=1){if(this.textSpans[tt]||(this.textSpans[tt]={span:null,childSpan:null,glyph:null}),!lt||!ut||tt===0){if(at=vt>tt?this.textSpans[tt].span:createNS(lt?"g":"text"),vt<=tt){if(at.setAttribute("stroke-linecap","butt"),at.setAttribute("stroke-linejoin","round"),at.setAttribute("stroke-miterlimit","4"),this.textSpans[tt].span=at,lt){var mt=createNS("g");at.appendChild(mt),this.textSpans[tt].childSpan=mt}this.textSpans[tt].span=at,this.layerElement.appendChild(at)}at.style.display="inherit"}if(ct.reset(),ut&&(ot[tt].n&&(ft=-dt,ht+=nt.yOffset,ht+=pt?1:0,pt=!1),this.applyTextPropertiesToMatrix(nt,ct,ot[tt].line,ft,ht),ft+=ot[tt].l||0,ft+=dt),lt){var xt;if((gt=this.globalData.fontManager.getCharData(nt.finalText[tt],rt.fStyle,this.globalData.fontManager.getFontByName(nt.f).fFamily)).t===1)xt=new SVGCompElement(gt.data,this.globalData,this);else{var St=emptyShapeData;gt.data&&gt.data.shapes&&(St=this.buildShapeData(gt.data,nt.finalSize)),xt=new SVGShapeElement(St,this.globalData,this)}if(this.textSpans[tt].glyph){var Et=this.textSpans[tt].glyph;this.textSpans[tt].childSpan.removeChild(Et.layerElement),Et.destroy()}this.textSpans[tt].glyph=xt,xt._debug=!0,xt.prepareFrame(0),xt.renderFrame(),this.textSpans[tt].childSpan.appendChild(xt.layerElement),gt.t===1&&this.textSpans[tt].childSpan.setAttribute("transform","scale("+nt.finalSize/100+","+nt.finalSize/100+")")}else ut&&at.setAttribute("transform","translate("+ct.props[12]+","+ct.props[13]+")"),at.textContent=ot[tt].val,at.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}ut&&at&&at.setAttribute("d","")}else{var bt=this.textContainer,Tt="start";switch(nt.j){case 1:Tt="end";break;case 2:Tt="middle";break;default:Tt="start"}bt.setAttribute("text-anchor",Tt),bt.setAttribute("letter-spacing",dt);var At=this.buildTextContents(nt.finalText);for(_e=At.length,ht=nt.ps?nt.ps[1]+nt.ascent:0,tt=0;tt<_e;tt+=1)(at=this.textSpans[tt].span||createNS("tspan")).textContent=At[tt],at.setAttribute("x",0),at.setAttribute("y",ht),at.style.display="inherit",bt.appendChild(at),this.textSpans[tt]||(this.textSpans[tt]={span:null,glyph:null}),this.textSpans[tt].span=at,ht+=nt.finalLineHeight;this.layerElement.appendChild(bt)}for(;tt<this.textSpans.length;)this.textSpans[tt].span.style.display="none",tt+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var tt=this.layerElement.getBBox();this.bbox={top:tt.y,left:tt.x,width:tt.width,height:tt.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var tt,_e,nt=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,tt=0;tt<nt;tt+=1)(_e=this.textSpans[tt].glyph)&&(_e.prepareFrame(this.comp.renderedFrame-this.data.st),_e._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){var tt,_e;this._sizeChanged=!0;var nt,rt,it,st=this.textAnimator.renderedLetters,at=this.textProperty.currentData.l;for(_e=at.length,tt=0;tt<_e;tt+=1)at[tt].n||(nt=st[tt],rt=this.textSpans[tt].span,(it=this.textSpans[tt].glyph)&&it.renderFrame(),nt._mdf.m&&rt.setAttribute("transform",nt.m),nt._mdf.o&&rt.setAttribute("opacity",nt.o),nt._mdf.sw&&rt.setAttribute("stroke-width",nt.sw),nt._mdf.sc&&rt.setAttribute("stroke",nt.sc),nt._mdf.fc&&rt.setAttribute("fill",nt.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var tt=createNS("rect");tt.setAttribute("width",this.data.sw),tt.setAttribute("height",this.data.sh),tt.setAttribute("fill",this.data.sc),this.layerElement.appendChild(tt)},NullElement.prototype.prepareFrame=function(tt){this.prepareProperties(tt,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(tt){return new NullElement(tt,this.globalData,this)},SVGRendererBase.prototype.createShape=function(tt){return new SVGShapeElement(tt,this.globalData,this)},SVGRendererBase.prototype.createText=function(tt){return new SVGTextLottieElement(tt,this.globalData,this)},SVGRendererBase.prototype.createImage=function(tt){return new IImageElement(tt,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(tt){return new ISolidElement(tt,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(tt){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+tt.w+" "+tt.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",tt.w),this.svgElement.setAttribute("height",tt.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var _e=this.globalData.defs;this.setupGlobalData(tt,_e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=tt;var nt=createNS("clipPath"),rt=createNS("rect");rt.setAttribute("width",tt.w),rt.setAttribute("height",tt.h),rt.setAttribute("x",0),rt.setAttribute("y",0);var it=createElementID();nt.setAttribute("id",it),nt.appendChild(rt),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+it+")"),_e.appendChild(nt),this.layers=tt.layers,this.elements=createSizedArray(tt.layers.length)},SVGRendererBase.prototype.destroy=function(){var tt;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var _e=this.layers?this.layers.length:0;for(tt=0;tt<_e;tt+=1)this.elements[tt]&&this.elements[tt].destroy&&this.elements[tt].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(tt){var _e=0,nt=this.layers.length;for(_e=0;_e<nt;_e+=1)if(this.layers[_e].ind===tt)return _e;return-1},SVGRendererBase.prototype.buildItem=function(tt){var _e=this.elements;if(!_e[tt]&&this.layers[tt].ty!==99){_e[tt]=!0;var nt=this.createItem(this.layers[tt]);if(_e[tt]=nt,getExpressionsPlugin()&&(this.layers[tt].ty===0&&this.globalData.projectInterface.registerComposition(nt),nt.initExpressions()),this.appendElementInPos(nt,tt),this.layers[tt].tt){var rt="tp"in this.layers[tt]?this.findIndexByInd(this.layers[tt].tp):tt-1;if(rt===-1)return;if(this.elements[rt]&&this.elements[rt]!==!0){var it=_e[rt].getMatte(this.layers[tt].tt);nt.setMatte(it)}else this.buildItem(rt),this.addPendingElement(nt)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var tt=this.pendingElements.pop();if(tt.checkParenting(),tt.data.tt)for(var _e=0,nt=this.elements.length;_e<nt;){if(this.elements[_e]===tt){var rt="tp"in tt.data?this.findIndexByInd(tt.data.tp):_e-1,it=this.elements[rt].getMatte(this.layers[_e].tt);tt.setMatte(it);break}_e+=1}}},SVGRendererBase.prototype.renderFrame=function(tt){if(this.renderedFrame!==tt&&!this.destroyed){var _e;tt===null?tt=this.renderedFrame:this.renderedFrame=tt,this.globalData.frameNum=tt,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=tt,this.globalData._mdf=!1;var nt=this.layers.length;for(this.completeLayers||this.checkLayers(tt),_e=nt-1;_e>=0;_e-=1)(this.completeLayers||this.elements[_e])&&this.elements[_e].prepareFrame(tt-this.layers[_e].st);if(this.globalData._mdf)for(_e=0;_e<nt;_e+=1)(this.completeLayers||this.elements[_e])&&this.elements[_e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(tt,_e){var nt=tt.getBaseElement();if(nt){for(var rt,it=0;it<_e;)this.elements[it]&&this.elements[it]!==!0&&this.elements[it].getBaseElement()&&(rt=this.elements[it].getBaseElement()),it+=1;rt?this.layerElement.insertBefore(nt,rt):this.layerElement.appendChild(nt)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(tt,_e,nt){this.initFrame(),this.initBaseData(tt,_e,nt),this.initTransform(tt,_e,nt),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),!this.data.xt&&_e.progressiveLoad||this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(tt){if(this._mdf=!1,this.prepareRenderableFrame(tt),this.prepareProperties(tt,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=tt/this.data.sr;else{var _e=this.tm.v;_e===this.data.op&&(_e=this.data.op-1),this.renderedFrame=_e}var nt,rt=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),nt=rt-1;nt>=0;nt-=1)(this.completeLayers||this.elements[nt])&&(this.elements[nt].prepareFrame(this.renderedFrame-this.layers[nt].st),this.elements[nt]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var tt,_e=this.layers.length;for(tt=0;tt<_e;tt+=1)(this.completeLayers||this.elements[tt])&&this.elements[tt].renderFrame()},ICompElement.prototype.setElements=function(tt){this.elements=tt},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var tt,_e=this.layers.length;for(tt=0;tt<_e;tt+=1)this.elements[tt]&&this.elements[tt].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(tt){return new SVGCompElement(tt,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(tt){return new SVGCompElement(tt,this.globalData,this)},ShapeTransformManager.prototype={addTransformSequence:function(tt){var _e,nt=tt.length,rt="_";for(_e=0;_e<nt;_e+=1)rt+=tt[_e].transform.key+"_";var it=this.sequences[rt];return it||(it={transforms:[].concat(tt),finalTransform:new Matrix,_mdf:!1},this.sequences[rt]=it,this.sequenceList.push(it)),it},processSequence:function(tt,_e){for(var nt=0,rt=tt.transforms.length,it=_e;nt<rt&&!_e;){if(tt.transforms[nt].transform.mProps._mdf){it=!0;break}nt+=1}if(it)for(tt.finalTransform.reset(),nt=rt-1;nt>=0;nt-=1)tt.finalTransform.multiply(tt.transforms[nt].transform.mProps.v);tt._mdf=it},processSequences:function(tt){var _e,nt=this.sequenceList.length;for(_e=0;_e<nt;_e+=1)this.processSequence(this.sequenceList[_e],tt)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var tt="__lottie_element_luma_buffer",_e=null,nt=null,rt=null;function it(){var st,at,ot;_e||(st=createNS("svg"),at=createNS("filter"),ot=createNS("feColorMatrix"),at.setAttribute("id",tt),ot.setAttribute("type","matrix"),ot.setAttribute("color-interpolation-filters","sRGB"),ot.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),at.appendChild(ot),st.appendChild(at),st.setAttribute("id",tt+"_svg"),featureSupport.svgLumaHidden&&(st.style.display="none"),rt=st,document.body.appendChild(rt),_e=createTag("canvas"),(nt=_e.getContext("2d")).filter="url(#"+tt+")",nt.fillStyle="rgba(0,0,0,0)",nt.fillRect(0,0,1,1))}return{load:it,get:function(st){return _e||it(),_e.width=st.width,_e.height=st.height,nt.filter="url(#"+tt+")",_e}}};function createCanvas(tt,_e){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(tt,_e);var nt=createTag("canvas");return nt.width=tt,nt.height=_e,nt}var assetLoader={loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas},registeredEffects={};function CVEffects(tt){var _e,nt,rt=tt.data.ef?tt.data.ef.length:0;for(this.filters=[],_e=0;_e<rt;_e+=1){nt=null;var it=tt.data.ef[_e].ty;registeredEffects[it]&&(nt=new registeredEffects[it].effect(tt.effectsManager.effectElements[_e],tt)),nt&&this.filters.push(nt)}this.filters.length&&tt.addRenderableComponent(this)}function registerEffect(tt,_e){registeredEffects[tt]={effect:_e}}function CVMaskElement(tt,_e){var nt;this.data=tt,this.element=_e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var rt=this.masksProperties.length,it=!1;for(nt=0;nt<rt;nt+=1)this.masksProperties[nt].mode!=="n"&&(it=!0),this.viewData[nt]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[nt],3);this.hasMasks=it,it&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(tt){var _e,nt=this.filters.length;for(_e=0;_e<nt;_e+=1)this.filters[_e].renderFrame(tt)},CVEffects.prototype.getEffects=function(tt){var _e,nt=this.filters.length,rt=[];for(_e=0;_e<nt;_e+=1)this.filters[_e].type===tt&&rt.push(this.filters[_e]);return rt},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var tt,_e,nt,rt,it=this.element.finalTransform.mat,st=this.element.canvasContext,at=this.masksProperties.length;for(st.beginPath(),tt=0;tt<at;tt+=1)if(this.masksProperties[tt].mode!=="n"){var ot;this.masksProperties[tt].inv&&(st.moveTo(0,0),st.lineTo(this.element.globalData.compSize.w,0),st.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),st.lineTo(0,this.element.globalData.compSize.h),st.lineTo(0,0)),rt=this.viewData[tt].v,_e=it.applyToPointArray(rt.v[0][0],rt.v[0][1],0),st.moveTo(_e[0],_e[1]);var lt=rt._length;for(ot=1;ot<lt;ot+=1)nt=it.applyToTriplePoints(rt.o[ot-1],rt.i[ot],rt.v[ot]),st.bezierCurveTo(nt[0],nt[1],nt[2],nt[3],nt[4],nt[5]);nt=it.applyToTriplePoints(rt.o[ot-1],rt.i[0],rt.v[0]),st.bezierCurveTo(nt[0],nt[1],nt[2],nt[3],nt[4],nt[5])}this.element.globalData.renderer.save(!0),st.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(tt,_e,nt,rt){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var it,st=4;_e.ty==="rc"?st=5:_e.ty==="el"?st=6:_e.ty==="sr"&&(st=7),this.sh=ShapePropertyFactory.getShapeProp(tt,_e,st,tt);var at,ot=nt.length;for(it=0;it<ot;it+=1)nt[it].closed||(at={transforms:rt.addTransformSequence(nt[it].transforms),trNodes:[]},this.styledShapes.push(at),nt[it].elements.push(at))}function CVShapeElement(tt,_e,nt){this.shapes=[],this.shapesData=tt.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(tt,_e,nt)}function CVTextElement(tt,_e,nt){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(tt,_e,nt)}function CVImageElement(tt,_e,nt){this.assetData=_e.getAssetData(tt.refId),this.img=_e.imageLoader.getAsset(this.assetData),this.initElement(tt,_e,nt)}function CVSolidElement(tt,_e,nt){this.initElement(tt,_e,nt)}function CanvasRendererBase(){}function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){var tt;for(this.stack=[],this.cArrPos=0,this.cTr=new Matrix,tt=0;tt<15;tt+=1){var _e=new CanvasContext;this.stack[tt]=_e}this._length=15,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}function CVCompElement(tt,_e,nt){this.completeLayers=!1,this.layers=tt.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(tt,_e,nt),this.tm=tt.tm?PropertyFactory.getProp(this,tt.tm,0,_e.frameRate,this):{_placeholder:!0}}function CanvasRenderer(tt,_e){this.animationItem=tt,this.renderConfig={clearCanvas:!_e||_e.clearCanvas===void 0||_e.clearCanvas,context:_e&&_e.context||null,progressiveLoad:_e&&_e.progressiveLoad||!1,preserveAspectRatio:_e&&_e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:_e&&_e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:_e&&_e.contentVisibility||"visible",className:_e&&_e.className||"",id:_e&&_e.id||"",runExpressions:!_e||_e.runExpressions===void 0||_e.runExpressions},this.renderConfig.dpr=_e&&_e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=_e&&_e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}function HBaseElement(){}function HSolidElement(tt,_e,nt){this.initElement(tt,_e,nt)}function HShapeElement(tt,_e,nt){this.shapes=[],this.shapesData=tt.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(tt,_e,nt),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(tt,_e,nt){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(tt,_e,nt)}function HCameraElement(tt,_e,nt){this.initFrame(),this.initBaseData(tt,_e,nt),this.initHierarchy();var rt=PropertyFactory.getProp;if(this.pe=rt(this,tt.pe,0,0,this),tt.ks.p.s?(this.px=rt(this,tt.ks.p.x,1,0,this),this.py=rt(this,tt.ks.p.y,1,0,this),this.pz=rt(this,tt.ks.p.z,1,0,this)):this.p=rt(this,tt.ks.p,1,0,this),tt.ks.a&&(this.a=rt(this,tt.ks.a,1,0,this)),tt.ks.or.k.length&&tt.ks.or.k[0].to){var it,st=tt.ks.or.k.length;for(it=0;it<st;it+=1)tt.ks.or.k[it].to=null,tt.ks.or.k[it].ti=null}this.or=rt(this,tt.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=rt(this,tt.ks.rx,0,degToRads,this),this.ry=rt(this,tt.ks.ry,0,degToRads,this),this.rz=rt(this,tt.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(tt,_e,nt){this.assetData=_e.getAssetData(tt.refId),this.initElement(tt,_e,nt)}function HybridRendererBase(tt,_e){this.animationItem=tt,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:_e&&_e.className||"",imagePreserveAspectRatio:_e&&_e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(_e&&_e.hideOnTransparent===!1),filterSize:{width:_e&&_e.filterSize&&_e.filterSize.width||"400%",height:_e&&_e.filterSize&&_e.filterSize.height||"400%",x:_e&&_e.filterSize&&_e.filterSize.x||"-100%",y:_e&&_e.filterSize&&_e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(tt,_e,nt){this.layers=tt.layers,this.supports3d=!tt.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(tt,_e,nt),this.tm=tt.tm?PropertyFactory.getProp(this,tt.tm,0,_e.frameRate,this):{_placeholder:!0}}function HybridRenderer(tt,_e){this.animationItem=tt,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:_e&&_e.className||"",imagePreserveAspectRatio:_e&&_e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(_e&&_e.hideOnTransparent===!1),filterSize:{width:_e&&_e.filterSize&&_e.filterSize.width||"400%",height:_e&&_e.filterSize&&_e.filterSize.height||"400%",x:_e&&_e.filterSize&&_e.filterSize.x||"-100%",y:_e&&_e.filterSize&&_e.filterSize.y||"-100%"},runExpressions:!_e||_e.runExpressions===void 0||_e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var tt=this.globalData.canvasContext,_e=assetLoader.createCanvas(tt.canvas.width,tt.canvas.height);this.buffers.push(_e);var nt=assetLoader.createCanvas(tt.canvas.width,tt.canvas.height);this.buffers.push(nt),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var tt=this.globalData;if(tt.blendMode!==this.data.bm){tt.blendMode=this.data.bm;var _e=getBlendMode(this.data.bm);tt.canvasContext.globalCompositeOperation=_e}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){this.hidden||this.isInRange&&!this.isTransparent||(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(tt){tt.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var tt=this.buffers[0].getContext("2d");this.clearCanvas(tt),tt.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var tt=this.buffers[1],_e=tt.getContext("2d");if(this.clearCanvas(_e),_e.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var nt=assetLoader.getLumaCanvas(this.canvasContext.canvas);nt.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(nt,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(tt,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(tt){if(!this.hidden&&!this.data.hd&&(this.data.td!==1||tt)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var _e=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(_e),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(_e),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(tt,_e){var nt={data:tt,type:tt.ty,preTransforms:this.transformsManager.addTransformSequence(_e),transforms:[],elements:[],closed:tt.hd===!0},rt={};if(tt.ty==="fl"||tt.ty==="st"?(rt.c=PropertyFactory.getProp(this,tt.c,1,255,this),rt.c.k||(nt.co="rgb("+bmFloor(rt.c.v[0])+","+bmFloor(rt.c.v[1])+","+bmFloor(rt.c.v[2])+")")):tt.ty!=="gf"&&tt.ty!=="gs"||(rt.s=PropertyFactory.getProp(this,tt.s,1,null,this),rt.e=PropertyFactory.getProp(this,tt.e,1,null,this),rt.h=PropertyFactory.getProp(this,tt.h||{k:0},0,.01,this),rt.a=PropertyFactory.getProp(this,tt.a||{k:0},0,degToRads,this),rt.g=new GradientProperty(this,tt.g,this)),rt.o=PropertyFactory.getProp(this,tt.o,0,.01,this),tt.ty==="st"||tt.ty==="gs"){if(nt.lc=lineCapEnum[tt.lc||2],nt.lj=lineJoinEnum[tt.lj||2],tt.lj==1&&(nt.ml=tt.ml),rt.w=PropertyFactory.getProp(this,tt.w,0,null,this),rt.w.k||(nt.wi=rt.w.v),tt.d){var it=new DashProperty(this,tt.d,"canvas",this);rt.d=it,rt.d.k||(nt.da=rt.d.dashArray,nt.do=rt.d.dashoffset[0])}}else nt.r=tt.r===2?"evenodd":"nonzero";return this.stylesList.push(nt),rt.style=nt,rt},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(tt){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,tt.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,tt,this)}}},CVShapeElement.prototype.createShapeElement=function(tt){var _e=new CVShapeData(this,tt,this.stylesList,this.transformsManager);return this.shapes.push(_e),this.addShapeToModifiers(_e),_e},CVShapeElement.prototype.reloadShapes=function(){var tt;this._isFirstFrame=!0;var _e=this.itemsData.length;for(tt=0;tt<_e;tt+=1)this.prevViewData[tt]=this.itemsData[tt];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),_e=this.dynamicProperties.length,tt=0;tt<_e;tt+=1)this.dynamicProperties[tt].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(tt){var _e,nt=this.stylesList.length;for(_e=0;_e<nt;_e+=1)this.stylesList[_e].closed||this.stylesList[_e].transforms.push(tt)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var tt,_e=this.stylesList.length;for(tt=0;tt<_e;tt+=1)this.stylesList[tt].closed||this.stylesList[tt].transforms.pop()},CVShapeElement.prototype.closeStyles=function(tt){var _e,nt=tt.length;for(_e=0;_e<nt;_e+=1)tt[_e].closed=!0},CVShapeElement.prototype.searchShapes=function(tt,_e,nt,rt,it){var st,at,ot,lt,ct,ut,ft=tt.length-1,ht=[],pt=[],dt=[].concat(it);for(st=ft;st>=0;st-=1){if((lt=this.searchProcessedElement(tt[st]))?_e[st]=nt[lt-1]:tt[st]._shouldRender=rt,tt[st].ty==="fl"||tt[st].ty==="st"||tt[st].ty==="gf"||tt[st].ty==="gs")lt?_e[st].style.closed=!1:_e[st]=this.createStyleElement(tt[st],dt),ht.push(_e[st].style);else if(tt[st].ty==="gr"){if(lt)for(ot=_e[st].it.length,at=0;at<ot;at+=1)_e[st].prevViewData[at]=_e[st].it[at];else _e[st]=this.createGroupElement(tt[st]);this.searchShapes(tt[st].it,_e[st].it,_e[st].prevViewData,rt,dt)}else tt[st].ty==="tr"?(lt||(ut=this.createTransformElement(tt[st]),_e[st]=ut),dt.push(_e[st]),this.addTransformToStyleList(_e[st])):tt[st].ty==="sh"||tt[st].ty==="rc"||tt[st].ty==="el"||tt[st].ty==="sr"?lt||(_e[st]=this.createShapeElement(tt[st])):tt[st].ty==="tm"||tt[st].ty==="rd"||tt[st].ty==="pb"||tt[st].ty==="zz"||tt[st].ty==="op"?(lt?(ct=_e[st]).closed=!1:((ct=ShapeModifiers.getModifier(tt[st].ty)).init(this,tt[st]),_e[st]=ct,this.shapeModifiers.push(ct)),pt.push(ct)):tt[st].ty==="rp"&&(lt?(ct=_e[st]).closed=!0:(ct=ShapeModifiers.getModifier(tt[st].ty),_e[st]=ct,ct.init(this,tt,st,_e),this.shapeModifiers.push(ct),rt=!1),pt.push(ct));this.addProcessedElement(tt[st],st+1)}for(this.removeTransformFromStyleList(),this.closeStyles(ht),ft=pt.length,st=0;st<ft;st+=1)pt[st].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(tt,_e){(tt._opMdf||_e.op._mdf||this._isFirstFrame)&&(_e.opacity=tt.opacity,_e.opacity*=_e.op.v,_e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var tt,_e,nt,rt,it,st,at,ot,lt,ct=this.stylesList.length,ut=this.globalData.renderer,ft=this.globalData.canvasContext;for(tt=0;tt<ct;tt+=1)if(((ot=(lt=this.stylesList[tt]).type)!=="st"&&ot!=="gs"||lt.wi!==0)&&lt.data._shouldRender&&lt.coOp!==0&&this.globalData.currentGlobalAlpha!==0){for(ut.save(),st=lt.elements,ot==="st"||ot==="gs"?(ut.ctxStrokeStyle(ot==="st"?lt.co:lt.grd),ut.ctxLineWidth(lt.wi),ut.ctxLineCap(lt.lc),ut.ctxLineJoin(lt.lj),ut.ctxMiterLimit(lt.ml||0)):ut.ctxFillStyle(ot==="fl"?lt.co:lt.grd),ut.ctxOpacity(lt.coOp),ot!=="st"&&ot!=="gs"&&ft.beginPath(),ut.ctxTransform(lt.preTransforms.finalTransform.props),nt=st.length,_e=0;_e<nt;_e+=1){for(ot!=="st"&&ot!=="gs"||(ft.beginPath(),lt.da&&(ft.setLineDash(lt.da),ft.lineDashOffset=lt.do)),it=(at=st[_e].trNodes).length,rt=0;rt<it;rt+=1)at[rt].t==="m"?ft.moveTo(at[rt].p[0],at[rt].p[1]):at[rt].t==="c"?ft.bezierCurveTo(at[rt].pts[0],at[rt].pts[1],at[rt].pts[2],at[rt].pts[3],at[rt].pts[4],at[rt].pts[5]):ft.closePath();ot!=="st"&&ot!=="gs"||(ut.ctxStroke(),lt.da&&ft.setLineDash(this.dashResetter))}ot!=="st"&&ot!=="gs"&&this.globalData.renderer.ctxFill(lt.r),ut.restore()}},CVShapeElement.prototype.renderShape=function(tt,_e,nt,rt){var it,st;for(st=tt,it=_e.length-1;it>=0;it-=1)_e[it].ty==="tr"?(st=nt[it].transform,this.renderShapeTransform(tt,st)):_e[it].ty==="sh"||_e[it].ty==="el"||_e[it].ty==="rc"||_e[it].ty==="sr"?this.renderPath(_e[it],nt[it]):_e[it].ty==="fl"?this.renderFill(_e[it],nt[it],st):_e[it].ty==="st"?this.renderStroke(_e[it],nt[it],st):_e[it].ty==="gf"||_e[it].ty==="gs"?this.renderGradientFill(_e[it],nt[it],st):_e[it].ty==="gr"?this.renderShape(st,_e[it].it,nt[it].it):_e[it].ty;rt&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(tt,_e){if(this._isFirstFrame||_e._mdf||tt.transforms._mdf){var nt,rt,it,st=tt.trNodes,at=_e.paths,ot=at._length;st.length=0;var lt=tt.transforms.finalTransform;for(it=0;it<ot;it+=1){var ct=at.shapes[it];if(ct&&ct.v){for(rt=ct._length,nt=1;nt<rt;nt+=1)nt===1&&st.push({t:"m",p:lt.applyToPointArray(ct.v[0][0],ct.v[0][1],0)}),st.push({t:"c",pts:lt.applyToTriplePoints(ct.o[nt-1],ct.i[nt],ct.v[nt])});rt===1&&st.push({t:"m",p:lt.applyToPointArray(ct.v[0][0],ct.v[0][1],0)}),ct.c&&rt&&(st.push({t:"c",pts:lt.applyToTriplePoints(ct.o[nt-1],ct.i[0],ct.v[0])}),st.push({t:"z"}))}}tt.trNodes=st}},CVShapeElement.prototype.renderPath=function(tt,_e){if(tt.hd!==!0&&tt._shouldRender){var nt,rt=_e.styledShapes.length;for(nt=0;nt<rt;nt+=1)this.renderStyledShape(_e.styledShapes[nt],_e.sh)}},CVShapeElement.prototype.renderFill=function(tt,_e,nt){var rt=_e.style;(_e.c._mdf||this._isFirstFrame)&&(rt.co="rgb("+bmFloor(_e.c.v[0])+","+bmFloor(_e.c.v[1])+","+bmFloor(_e.c.v[2])+")"),(_e.o._mdf||nt._opMdf||this._isFirstFrame)&&(rt.coOp=_e.o.v*nt.opacity)},CVShapeElement.prototype.renderGradientFill=function(tt,_e,nt){var rt,it=_e.style;if(!it.grd||_e.g._mdf||_e.s._mdf||_e.e._mdf||tt.t!==1&&(_e.h._mdf||_e.a._mdf)){var st,at=this.globalData.canvasContext,ot=_e.s.v,lt=_e.e.v;if(tt.t===1)rt=at.createLinearGradient(ot[0],ot[1],lt[0],lt[1]);else{var ct=Math.sqrt(Math.pow(ot[0]-lt[0],2)+Math.pow(ot[1]-lt[1],2)),ut=Math.atan2(lt[1]-ot[1],lt[0]-ot[0]),ft=_e.h.v;ft>=1?ft=.99:ft<=-1&&(ft=-.99);var ht=ct*ft,pt=Math.cos(ut+_e.a.v)*ht+ot[0],dt=Math.sin(ut+_e.a.v)*ht+ot[1];rt=at.createRadialGradient(pt,dt,0,ot[0],ot[1],ct)}var gt=tt.g.p,vt=_e.g.c,mt=1;for(st=0;st<gt;st+=1)_e.g._hasOpacity&&_e.g._collapsable&&(mt=_e.g.o[2*st+1]),rt.addColorStop(vt[4*st]/100,"rgba("+vt[4*st+1]+","+vt[4*st+2]+","+vt[4*st+3]+","+mt+")");it.grd=rt}it.coOp=_e.o.v*nt.opacity},CVShapeElement.prototype.renderStroke=function(tt,_e,nt){var rt=_e.style,it=_e.d;it&&(it._mdf||this._isFirstFrame)&&(rt.da=it.dashArray,rt.do=it.dashoffset[0]),(_e.c._mdf||this._isFirstFrame)&&(rt.co="rgb("+bmFloor(_e.c.v[0])+","+bmFloor(_e.c.v[1])+","+bmFloor(_e.c.v[2])+")"),(_e.o._mdf||nt._opMdf||this._isFirstFrame)&&(rt.coOp=_e.o.v*nt.opacity),(_e.w._mdf||this._isFirstFrame)&&(rt.wi=_e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var tt=this.textProperty.currentData;this.renderedLetters=createSizedArray(tt.l?tt.l.length:0);var _e=!1;tt.fc?(_e=!0,this.values.fill=this.buildColor(tt.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=_e;var nt=!1;tt.sc&&(nt=!0,this.values.stroke=this.buildColor(tt.sc),this.values.sWidth=tt.sw);var rt,it,st,at,ot,lt,ct,ut,ft,ht,pt,dt,gt=this.globalData.fontManager.getFontByName(tt.f),vt=tt.l,mt=this.mHelper;this.stroke=nt,this.values.fValue=tt.finalSize+"px "+this.globalData.fontManager.getFontByName(tt.f).fFamily,it=tt.finalText.length;var xt=this.data.singleShape,St=.001*tt.tr*tt.finalSize,Et=0,bt=0,Tt=!0,At=0;for(rt=0;rt<it;rt+=1){at=(st=this.globalData.fontManager.getCharData(tt.finalText[rt],gt.fStyle,this.globalData.fontManager.getFontByName(tt.f).fFamily))&&st.data||{},mt.reset(),xt&&vt[rt].n&&(Et=-St,bt+=tt.yOffset,bt+=Tt?1:0,Tt=!1),ft=(ct=at.shapes?at.shapes[0].it:[]).length,mt.scale(tt.finalSize/100,tt.finalSize/100),xt&&this.applyTextPropertiesToMatrix(tt,mt,vt[rt].line,Et,bt),pt=createSizedArray(ft-1);var Ct=0;for(ut=0;ut<ft;ut+=1)if(ct[ut].ty==="sh"){for(lt=ct[ut].ks.k.i.length,ht=ct[ut].ks.k,dt=[],ot=1;ot<lt;ot+=1)ot===1&&dt.push(mt.applyToX(ht.v[0][0],ht.v[0][1],0),mt.applyToY(ht.v[0][0],ht.v[0][1],0)),dt.push(mt.applyToX(ht.o[ot-1][0],ht.o[ot-1][1],0),mt.applyToY(ht.o[ot-1][0],ht.o[ot-1][1],0),mt.applyToX(ht.i[ot][0],ht.i[ot][1],0),mt.applyToY(ht.i[ot][0],ht.i[ot][1],0),mt.applyToX(ht.v[ot][0],ht.v[ot][1],0),mt.applyToY(ht.v[ot][0],ht.v[ot][1],0));dt.push(mt.applyToX(ht.o[ot-1][0],ht.o[ot-1][1],0),mt.applyToY(ht.o[ot-1][0],ht.o[ot-1][1],0),mt.applyToX(ht.i[0][0],ht.i[0][1],0),mt.applyToY(ht.i[0][0],ht.i[0][1],0),mt.applyToX(ht.v[0][0],ht.v[0][1],0),mt.applyToY(ht.v[0][0],ht.v[0][1],0)),pt[Ct]=dt,Ct+=1}xt&&(Et+=vt[rt].l,Et+=St),this.textSpans[At]?this.textSpans[At].elem=pt:this.textSpans[At]={elem:pt},At+=1}},CVTextElement.prototype.renderInnerContent=function(){var tt,_e,nt,rt,it,st;this.validateText(),this.canvasContext.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var at,ot=this.textAnimator.renderedLetters,lt=this.textProperty.currentData.l;_e=lt.length;var ct,ut,ft=null,ht=null,pt=null,dt=this.globalData.renderer;for(tt=0;tt<_e;tt+=1)if(!lt[tt].n){if((at=ot[tt])&&(dt.save(),dt.ctxTransform(at.p),dt.ctxOpacity(at.o)),this.fill){for(at&&at.fc?ft!==at.fc&&(dt.ctxFillStyle(at.fc),ft=at.fc):ft!==this.values.fill&&(ft=this.values.fill,dt.ctxFillStyle(this.values.fill)),rt=(ct=this.textSpans[tt].elem).length,this.globalData.canvasContext.beginPath(),nt=0;nt<rt;nt+=1)for(st=(ut=ct[nt]).length,this.globalData.canvasContext.moveTo(ut[0],ut[1]),it=2;it<st;it+=6)this.globalData.canvasContext.bezierCurveTo(ut[it],ut[it+1],ut[it+2],ut[it+3],ut[it+4],ut[it+5]);this.globalData.canvasContext.closePath(),dt.ctxFill()}if(this.stroke){for(at&&at.sw?pt!==at.sw&&(pt=at.sw,dt.ctxLineWidth(at.sw)):pt!==this.values.sWidth&&(pt=this.values.sWidth,dt.ctxLineWidth(this.values.sWidth)),at&&at.sc?ht!==at.sc&&(ht=at.sc,dt.ctxStrokeStyle(at.sc)):ht!==this.values.stroke&&(ht=this.values.stroke,dt.ctxStrokeStyle(this.values.stroke)),rt=(ct=this.textSpans[tt].elem).length,this.globalData.canvasContext.beginPath(),nt=0;nt<rt;nt+=1)for(st=(ut=ct[nt]).length,this.globalData.canvasContext.moveTo(ut[0],ut[1]),it=2;it<st;it+=6)this.globalData.canvasContext.bezierCurveTo(ut[it],ut[it+1],ut[it+2],ut[it+3],ut[it+4],ut[it+5]);this.globalData.canvasContext.closePath(),dt.ctxStroke()}at&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var tt=createTag("canvas");tt.width=this.assetData.w,tt.height=this.assetData.h;var _e,nt,rt=tt.getContext("2d"),it=this.img.width,st=this.img.height,at=it/st,ot=this.assetData.w/this.assetData.h,lt=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;at>ot&&lt==="xMidYMid slice"||at<ot&&lt!=="xMidYMid slice"?_e=(nt=st)*ot:nt=(_e=it)/ot,rt.drawImage(this.img,(it-_e)/2,(st-nt)/2,_e,nt,0,0,this.assetData.w,this.assetData.h),this.img=tt}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(tt){return new CVShapeElement(tt,this.globalData,this)},CanvasRendererBase.prototype.createText=function(tt){return new CVTextElement(tt,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(tt){return new CVImageElement(tt,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(tt){return new CVSolidElement(tt,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(tt){tt[0]===1&&tt[1]===0&&tt[4]===0&&tt[5]===1&&tt[12]===0&&tt[13]===0||this.canvasContext.transform(tt[0],tt[1],tt[4],tt[5],tt[12],tt[13])},CanvasRendererBase.prototype.ctxOpacity=function(tt){this.canvasContext.globalAlpha*=tt<0?0:tt},CanvasRendererBase.prototype.ctxFillStyle=function(tt){this.canvasContext.fillStyle=tt},CanvasRendererBase.prototype.ctxStrokeStyle=function(tt){this.canvasContext.strokeStyle=tt},CanvasRendererBase.prototype.ctxLineWidth=function(tt){this.canvasContext.lineWidth=tt},CanvasRendererBase.prototype.ctxLineCap=function(tt){this.canvasContext.lineCap=tt},CanvasRendererBase.prototype.ctxLineJoin=function(tt){this.canvasContext.lineJoin=tt},CanvasRendererBase.prototype.ctxMiterLimit=function(tt){this.canvasContext.miterLimit=tt},CanvasRendererBase.prototype.ctxFill=function(tt){this.canvasContext.fill(tt)},CanvasRendererBase.prototype.ctxFillRect=function(tt,_e,nt,rt){this.canvasContext.fillRect(tt,_e,nt,rt)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(tt){this.renderConfig.clearCanvas?(tt&&(this.globalData.blendMode="source-over"),this.contextData.restore(tt)):this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(tt){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var _e=this.animationItem.container.style;_e.width="100%",_e.height="100%";var nt="0px 0px 0px";_e.transformOrigin=nt,_e.mozTransformOrigin=nt,_e.webkitTransformOrigin=nt,_e["-webkit-transform"]=nt,_e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=tt,this.layers=tt.layers,this.transformCanvas={w:tt.w,h:tt.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(tt,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(tt.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(tt,_e){var nt,rt,it,st;if(this.reset(),tt?(nt=tt,rt=_e,this.canvasContext.canvas.width=nt,this.canvasContext.canvas.height=rt):(this.animationItem.wrapper&&this.animationItem.container?(nt=this.animationItem.wrapper.offsetWidth,rt=this.animationItem.wrapper.offsetHeight):(nt=this.canvasContext.canvas.width,rt=this.canvasContext.canvas.height),this.canvasContext.canvas.width=nt*this.renderConfig.dpr,this.canvasContext.canvas.height=rt*this.renderConfig.dpr),this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var at=this.renderConfig.preserveAspectRatio.split(" "),ot=at[1]||"meet",lt=at[0]||"xMidYMid",ct=lt.substr(0,4),ut=lt.substr(4);it=nt/rt,(st=this.transformCanvas.w/this.transformCanvas.h)>it&&ot==="meet"||st<it&&ot==="slice"?(this.transformCanvas.sx=nt/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=nt/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=rt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=rt/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx=ct==="xMid"&&(st<it&&ot==="meet"||st>it&&ot==="slice")?(nt-this.transformCanvas.w*(rt/this.transformCanvas.h))/2*this.renderConfig.dpr:ct==="xMax"&&(st<it&&ot==="meet"||st>it&&ot==="slice")?(nt-this.transformCanvas.w*(rt/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty=ut==="YMid"&&(st>it&&ot==="meet"||st<it&&ot==="slice")?(rt-this.transformCanvas.h*(nt/this.transformCanvas.w))/2*this.renderConfig.dpr:ut==="YMax"&&(st>it&&ot==="meet"||st<it&&ot==="slice")?(rt-this.transformCanvas.h*(nt/this.transformCanvas.w))*this.renderConfig.dpr:0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=nt/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=rt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var tt;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),tt=(this.layers?this.layers.length:0)-1;tt>=0;tt-=1)this.elements[tt]&&this.elements[tt].destroy&&this.elements[tt].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(tt,_e){if((this.renderedFrame!==tt||this.renderConfig.clearCanvas!==!0||_e)&&!this.destroyed&&tt!==-1){var nt;this.renderedFrame=tt,this.globalData.frameNum=tt-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||_e,this.globalData.projectInterface.currentFrame=tt;var rt=this.layers.length;for(this.completeLayers||this.checkLayers(tt),nt=rt-1;nt>=0;nt-=1)(this.completeLayers||this.elements[nt])&&this.elements[nt].prepareFrame(tt-this.layers[nt].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),nt=rt-1;nt>=0;nt-=1)(this.completeLayers||this.elements[nt])&&this.elements[nt].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(tt){var _e=this.elements;if(!_e[tt]&&this.layers[tt].ty!==99){var nt=this.createItem(this.layers[tt],this,this.globalData);_e[tt]=nt,nt.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},CVContextData.prototype.duplicate=function(){var tt=2*this._length,_e=0;for(_e=this._length;_e<tt;_e+=1)this.stack[_e]=new CanvasContext;this._length=tt},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(tt){this.cArrPos-=1;var _e,nt=this.stack[this.cArrPos],rt=nt.transform,it=this.cTr.props;for(_e=0;_e<16;_e+=1)it[_e]=rt[_e];if(tt){this.nativeContext.restore();var st=this.stack[this.cArrPos+1];this.appliedFillStyle=st.fillStyle,this.appliedStrokeStyle=st.strokeStyle,this.appliedLineWidth=st.lineWidth,this.appliedLineCap=st.lineCap,this.appliedLineJoin=st.lineJoin,this.appliedMiterLimit=st.miterLimit}this.nativeContext.setTransform(rt[0],rt[1],rt[4],rt[5],rt[12],rt[13]),(tt||nt.opacity!==-1&&this.currentOpacity!==nt.opacity)&&(this.nativeContext.globalAlpha=nt.opacity,this.currentOpacity=nt.opacity),this.currentFillStyle=nt.fillStyle,this.currentStrokeStyle=nt.strokeStyle,this.currentLineWidth=nt.lineWidth,this.currentLineCap=nt.lineCap,this.currentLineJoin=nt.lineJoin,this.currentMiterLimit=nt.miterLimit},CVContextData.prototype.save=function(tt){tt&&this.nativeContext.save();var _e=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var nt,rt=this.stack[this.cArrPos];for(nt=0;nt<16;nt+=1)rt.transform[nt]=_e[nt];this.cArrPos+=1;var it=this.stack[this.cArrPos];it.opacity=rt.opacity,it.fillStyle=rt.fillStyle,it.strokeStyle=rt.strokeStyle,it.lineWidth=rt.lineWidth,it.lineCap=rt.lineCap,it.lineJoin=rt.lineJoin,it.miterLimit=rt.miterLimit},CVContextData.prototype.setOpacity=function(tt){this.stack[this.cArrPos].opacity=tt},CVContextData.prototype.setContext=function(tt){this.nativeContext=tt},CVContextData.prototype.fillStyle=function(tt){this.stack[this.cArrPos].fillStyle!==tt&&(this.currentFillStyle=tt,this.stack[this.cArrPos].fillStyle=tt)},CVContextData.prototype.strokeStyle=function(tt){this.stack[this.cArrPos].strokeStyle!==tt&&(this.currentStrokeStyle=tt,this.stack[this.cArrPos].strokeStyle=tt)},CVContextData.prototype.lineWidth=function(tt){this.stack[this.cArrPos].lineWidth!==tt&&(this.currentLineWidth=tt,this.stack[this.cArrPos].lineWidth=tt)},CVContextData.prototype.lineCap=function(tt){this.stack[this.cArrPos].lineCap!==tt&&(this.currentLineCap=tt,this.stack[this.cArrPos].lineCap=tt)},CVContextData.prototype.lineJoin=function(tt){this.stack[this.cArrPos].lineJoin!==tt&&(this.currentLineJoin=tt,this.stack[this.cArrPos].lineJoin=tt)},CVContextData.prototype.miterLimit=function(tt){this.stack[this.cArrPos].miterLimit!==tt&&(this.currentMiterLimit=tt,this.stack[this.cArrPos].miterLimit=tt)},CVContextData.prototype.transform=function(tt){this.transformMat.cloneFromProps(tt);var _e=this.cTr;this.transformMat.multiply(_e),_e.cloneFromProps(this.transformMat.props);var nt=_e.props;this.nativeContext.setTransform(nt[0],nt[1],nt[4],nt[5],nt[12],nt[13])},CVContextData.prototype.opacity=function(tt){var _e=this.stack[this.cArrPos].opacity;_e*=tt<0?0:tt,this.stack[this.cArrPos].opacity!==_e&&(this.currentOpacity!==tt&&(this.nativeContext.globalAlpha=tt,this.currentOpacity=tt),this.stack[this.cArrPos].opacity=_e)},CVContextData.prototype.fill=function(tt){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(tt)},CVContextData.prototype.fillRect=function(tt,_e,nt,rt){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(tt,_e,nt,rt)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var tt,_e=this.canvasContext;for(_e.beginPath(),_e.moveTo(0,0),_e.lineTo(this.data.w,0),_e.lineTo(this.data.w,this.data.h),_e.lineTo(0,this.data.h),_e.lineTo(0,0),_e.clip(),tt=this.layers.length-1;tt>=0;tt-=1)(this.completeLayers||this.elements[tt])&&this.elements[tt].renderFrame()},CVCompElement.prototype.destroy=function(){var tt;for(tt=this.layers.length-1;tt>=0;tt-=1)this.elements[tt]&&this.elements[tt].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(tt){return new CVCompElement(tt,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(tt){return new CVCompElement(tt,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var tt=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var _e=this.finalTransform.mat.toCSS();tt.transform=_e,tt.webkitTransform=_e}this.finalTransform._opMdf&&(tt.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var tt;this.data.hasMask?((tt=createNS("rect")).setAttribute("width",this.data.sw),tt.setAttribute("height",this.data.sh),tt.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((tt=createTag("div")).style.width=this.data.sw+"px",tt.style.height=this.data.sh+"px",tt.style.backgroundColor=this.data.sc),this.layerElement.appendChild(tt)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var tt;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),tt=this.svgElement;else{tt=createNS("svg");var _e=this.comp.data?this.comp.data:this.globalData.compSize;tt.setAttribute("width",_e.w),tt.setAttribute("height",_e.h),tt.appendChild(this.shapesContainer),this.layerElement.appendChild(tt)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=tt},HShapeElement.prototype.getTransformedPoint=function(tt,_e){var nt,rt=tt.length;for(nt=0;nt<rt;nt+=1)_e=tt[nt].mProps.v.applyToPointArray(_e[0],_e[1],0);return _e},HShapeElement.prototype.calculateShapeBoundingBox=function(tt,_e){var nt,rt,it,st,at,ot=tt.sh.v,lt=tt.transformers,ct=ot._length;if(!(ct<=1)){for(nt=0;nt<ct-1;nt+=1)rt=this.getTransformedPoint(lt,ot.v[nt]),it=this.getTransformedPoint(lt,ot.o[nt]),st=this.getTransformedPoint(lt,ot.i[nt+1]),at=this.getTransformedPoint(lt,ot.v[nt+1]),this.checkBounds(rt,it,st,at,_e);ot.c&&(rt=this.getTransformedPoint(lt,ot.v[nt]),it=this.getTransformedPoint(lt,ot.o[nt]),st=this.getTransformedPoint(lt,ot.i[0]),at=this.getTransformedPoint(lt,ot.v[0]),this.checkBounds(rt,it,st,at,_e))}},HShapeElement.prototype.checkBounds=function(tt,_e,nt,rt,it){this.getBoundsOfCurve(tt,_e,nt,rt);var st=this.shapeBoundingBox;it.x=bmMin(st.left,it.x),it.xMax=bmMax(st.right,it.xMax),it.y=bmMin(st.top,it.y),it.yMax=bmMax(st.bottom,it.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(tt,_e,nt,rt){for(var it,st,at,ot,lt,ct,ut,ft=[[tt[0],rt[0]],[tt[1],rt[1]]],ht=0;ht<2;++ht)st=6*tt[ht]-12*_e[ht]+6*nt[ht],it=-3*tt[ht]+9*_e[ht]-9*nt[ht]+3*rt[ht],at=3*_e[ht]-3*tt[ht],st|=0,at|=0,(it|=0)==0&&st===0||(it===0?(ot=-at/st)>0&&ot<1&&ft[ht].push(this.calculateF(ot,tt,_e,nt,rt,ht)):(lt=st*st-4*at*it)>=0&&((ct=(-st+bmSqrt(lt))/(2*it))>0&&ct<1&&ft[ht].push(this.calculateF(ct,tt,_e,nt,rt,ht)),(ut=(-st-bmSqrt(lt))/(2*it))>0&&ut<1&&ft[ht].push(this.calculateF(ut,tt,_e,nt,rt,ht))));this.shapeBoundingBox.left=bmMin.apply(null,ft[0]),this.shapeBoundingBox.top=bmMin.apply(null,ft[1]),this.shapeBoundingBox.right=bmMax.apply(null,ft[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,ft[1])},HShapeElement.prototype.calculateF=function(tt,_e,nt,rt,it,st){return bmPow(1-tt,3)*_e[st]+3*bmPow(1-tt,2)*tt*nt[st]+3*(1-tt)*bmPow(tt,2)*rt[st]+bmPow(tt,3)*it[st]},HShapeElement.prototype.calculateBoundingBox=function(tt,_e){var nt,rt=tt.length;for(nt=0;nt<rt;nt+=1)tt[nt]&&tt[nt].sh?this.calculateShapeBoundingBox(tt[nt],_e):tt[nt]&&tt[nt].it?this.calculateBoundingBox(tt[nt].it,_e):tt[nt]&&tt[nt].style&&tt[nt].w&&this.expandStrokeBoundingBox(tt[nt].w,_e)},HShapeElement.prototype.expandStrokeBoundingBox=function(tt,_e){var nt=0;if(tt.keyframes){for(var rt=0;rt<tt.keyframes.length;rt+=1){var it=tt.keyframes[rt].s;it>nt&&(nt=it)}nt*=tt.mult}else nt=tt.v*tt.mult;_e.x-=nt,_e.xMax+=nt,_e.y-=nt,_e.yMax+=nt},HShapeElement.prototype.currentBoxContains=function(tt){return this.currentBBox.x<=tt.x&&this.currentBBox.y<=tt.y&&this.currentBBox.width+this.currentBBox.x>=tt.x+tt.width&&this.currentBBox.height+this.currentBBox.y>=tt.y+tt.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var tt=this.tempBoundingBox,_e=999999;if(tt.x=_e,tt.xMax=-_e,tt.y=_e,tt.yMax=-_e,this.calculateBoundingBox(this.itemsData,tt),tt.width=tt.xMax<tt.x?0:tt.xMax-tt.x,tt.height=tt.yMax<tt.y?0:tt.yMax-tt.y,this.currentBoxContains(tt))return;var nt=!1;if(this.currentBBox.w!==tt.width&&(this.currentBBox.w=tt.width,this.shapeCont.setAttribute("width",tt.width),nt=!0),this.currentBBox.h!==tt.height&&(this.currentBBox.h=tt.height,this.shapeCont.setAttribute("height",tt.height),nt=!0),nt||this.currentBBox.x!==tt.x||this.currentBBox.y!==tt.y){this.currentBBox.w=tt.width,this.currentBBox.h=tt.height,this.currentBBox.x=tt.x,this.currentBBox.y=tt.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var rt=this.shapeCont.style,it="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";rt.transform=it,rt.webkitTransform=it}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var tt=createNS("g");this.maskedElement.appendChild(tt),this.innerElem=tt}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var tt=this.textProperty.currentData;this.renderedLetters=createSizedArray(tt.l?tt.l.length:0);var _e=this.innerElem.style,nt=tt.fc?this.buildColor(tt.fc):"rgba(0,0,0,0)";_e.fill=nt,_e.color=nt,tt.sc&&(_e.stroke=this.buildColor(tt.sc),_e.strokeWidth=tt.sw+"px");var rt,it,st=this.globalData.fontManager.getFontByName(tt.f);if(!this.globalData.fontManager.chars)if(_e.fontSize=tt.finalSize+"px",_e.lineHeight=tt.finalSize+"px",st.fClass)this.innerElem.className=st.fClass;else{_e.fontFamily=st.fFamily;var at=tt.fWeight,ot=tt.fStyle;_e.fontStyle=ot,_e.fontWeight=at}var lt,ct,ut,ft=tt.l;it=ft.length;var ht,pt=this.mHelper,dt="",gt=0;for(rt=0;rt<it;rt+=1){if(this.globalData.fontManager.chars?(this.textPaths[gt]?lt=this.textPaths[gt]:((lt=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),lt.setAttribute("stroke-linejoin",lineJoinEnum[2]),lt.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[gt]?ut=(ct=this.textSpans[gt]).children[0]:((ct=createTag("div")).style.lineHeight=0,(ut=createNS("svg")).appendChild(lt),styleDiv(ct)))):this.isMasked?lt=this.textPaths[gt]?this.textPaths[gt]:createNS("text"):this.textSpans[gt]?(ct=this.textSpans[gt],lt=this.textPaths[gt]):(styleDiv(ct=createTag("span")),styleDiv(lt=createTag("span")),ct.appendChild(lt)),this.globalData.fontManager.chars){var vt,mt=this.globalData.fontManager.getCharData(tt.finalText[rt],st.fStyle,this.globalData.fontManager.getFontByName(tt.f).fFamily);if(vt=mt?mt.data:null,pt.reset(),vt&&vt.shapes&&vt.shapes.length&&(ht=vt.shapes[0].it,pt.scale(tt.finalSize/100,tt.finalSize/100),dt=this.createPathShape(pt,ht),lt.setAttribute("d",dt)),this.isMasked)this.innerElem.appendChild(lt);else{if(this.innerElem.appendChild(ct),vt&&vt.shapes){document.body.appendChild(ut);var xt=ut.getBBox();ut.setAttribute("width",xt.width+2),ut.setAttribute("height",xt.height+2),ut.setAttribute("viewBox",xt.x-1+" "+(xt.y-1)+" "+(xt.width+2)+" "+(xt.height+2));var St=ut.style,Et="translate("+(xt.x-1)+"px,"+(xt.y-1)+"px)";St.transform=Et,St.webkitTransform=Et,ft[rt].yOffset=xt.y-1}else ut.setAttribute("width",1),ut.setAttribute("height",1);ct.appendChild(ut)}}else if(lt.textContent=ft[rt].val,lt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(lt);else{this.innerElem.appendChild(ct);var bt=lt.style,Tt="translate3d(0,"+-tt.finalSize/1.2+"px,0)";bt.transform=Tt,bt.webkitTransform=Tt}this.isMasked?this.textSpans[gt]=lt:this.textSpans[gt]=ct,this.textSpans[gt].style.display="block",this.textPaths[gt]=lt,gt+=1}for(;gt<this.textSpans.length;)this.textSpans[gt].style.display="none",gt+=1},HTextElement.prototype.renderInnerContent=function(){var tt;if(this.validateText(),this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),tt=this.svgElement.style;var _e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";tt.transform=_e,tt.webkitTransform=_e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var nt,rt,it,st,at,ot=0,lt=this.textAnimator.renderedLetters,ct=this.textProperty.currentData.l;for(rt=ct.length,nt=0;nt<rt;nt+=1)ct[nt].n?ot+=1:(st=this.textSpans[nt],at=this.textPaths[nt],it=lt[ot],ot+=1,it._mdf.m&&(this.isMasked?st.setAttribute("transform",it.m):(st.style.webkitTransform=it.m,st.style.transform=it.m)),st.style.opacity=it.o,it.sw&&it._mdf.sw&&at.setAttribute("stroke-width",it.sw),it.sc&&it._mdf.sc&&at.setAttribute("stroke",it.sc),it.fc&&it._mdf.fc&&(at.setAttribute("fill",it.fc),at.style.color=it.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var ut=this.innerElem.getBBox();if(this.currentBBox.w!==ut.width&&(this.currentBBox.w=ut.width,this.svgElement.setAttribute("width",ut.width)),this.currentBBox.h!==ut.height&&(this.currentBBox.h=ut.height,this.svgElement.setAttribute("height",ut.height)),this.currentBBox.w!==ut.width+2||this.currentBBox.h!==ut.height+2||this.currentBBox.x!==ut.x-1||this.currentBBox.y!==ut.y-1){this.currentBBox.w=ut.width+2,this.currentBBox.h=ut.height+2,this.currentBBox.x=ut.x-1,this.currentBBox.y=ut.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),tt=this.svgElement.style;var ft="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";tt.transform=ft,tt.webkitTransform=ft}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var tt,_e,nt,rt,it=this.comp.threeDElements.length;for(tt=0;tt<it;tt+=1)if((_e=this.comp.threeDElements[tt]).type==="3d"){nt=_e.perspectiveElem.style,rt=_e.container.style;var st=this.pe.v+"px",at="0px 0px 0px",ot="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";nt.perspective=st,nt.webkitPerspective=st,rt.transformOrigin=at,rt.mozTransformOrigin=at,rt.webkitTransformOrigin=at,nt.transform=ot,nt.webkitTransform=ot}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var tt,_e,nt=this._isFirstFrame;if(this.hierarchy)for(_e=this.hierarchy.length,tt=0;tt<_e;tt+=1)nt=this.hierarchy[tt].finalTransform.mProp._mdf||nt;if(nt||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(tt=_e=this.hierarchy.length-1;tt>=0;tt-=1){var rt=this.hierarchy[tt].finalTransform.mProp;this.mat.translate(-rt.p.v[0],-rt.p.v[1],rt.p.v[2]),this.mat.rotateX(-rt.or.v[0]).rotateY(-rt.or.v[1]).rotateZ(rt.or.v[2]),this.mat.rotateX(-rt.rx.v).rotateY(-rt.ry.v).rotateZ(rt.rz.v),this.mat.scale(1/rt.s.v[0],1/rt.s.v[1],1/rt.s.v[2]),this.mat.translate(rt.a.v[0],rt.a.v[1],rt.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var it;it=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var st=Math.sqrt(Math.pow(it[0],2)+Math.pow(it[1],2)+Math.pow(it[2],2)),at=[it[0]/st,it[1]/st,it[2]/st],ot=Math.sqrt(at[2]*at[2]+at[0]*at[0]),lt=Math.atan2(at[1],ot),ct=Math.atan2(at[0],-at[2]);this.mat.rotateY(ct).rotateX(-lt)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var ut=!this._prevMat.equals(this.mat);if((ut||this.pe._mdf)&&this.comp.threeDElements){var ft,ht,pt;for(_e=this.comp.threeDElements.length,tt=0;tt<_e;tt+=1)if((ft=this.comp.threeDElements[tt]).type==="3d"){if(ut){var dt=this.mat.toCSS();(pt=ft.container.style).transform=dt,pt.webkitTransform=dt}this.pe._mdf&&((ht=ft.perspectiveElem.style).perspective=this.pe.v+"px",ht.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(tt){this.prepareProperties(tt,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var tt=this.globalData.getAssetsPath(this.assetData),_e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",tt),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(_e),_e.crossOrigin="anonymous",_e.src=tt,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(tt,_e){var nt=tt.getBaseElement();if(nt){var rt=this.layers[_e];if(rt.ddd&&this.supports3d)this.addTo3dContainer(nt,_e);else if(this.threeDElements)this.addTo3dContainer(nt,_e);else{for(var it,st,at=0;at<_e;)this.elements[at]&&this.elements[at]!==!0&&this.elements[at].getBaseElement&&(st=this.elements[at],it=(this.layers[at].ddd?this.getThreeDContainerByPos(at):st.getBaseElement())||it),at+=1;it?rt.ddd&&this.supports3d||this.layerElement.insertBefore(nt,it):rt.ddd&&this.supports3d||this.layerElement.appendChild(nt)}}},HybridRendererBase.prototype.createShape=function(tt){return this.supports3d?new HShapeElement(tt,this.globalData,this):new SVGShapeElement(tt,this.globalData,this)},HybridRendererBase.prototype.createText=function(tt){return this.supports3d?new HTextElement(tt,this.globalData,this):new SVGTextLottieElement(tt,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(tt){return this.camera=new HCameraElement(tt,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(tt){return this.supports3d?new HImageElement(tt,this.globalData,this):new IImageElement(tt,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(tt){return this.supports3d?new HSolidElement(tt,this.globalData,this):new ISolidElement(tt,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(tt){for(var _e=0,nt=this.threeDElements.length;_e<nt;){if(this.threeDElements[_e].startPos<=tt&&this.threeDElements[_e].endPos>=tt)return this.threeDElements[_e].perspectiveElem;_e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(tt,_e){var nt,rt,it=createTag("div");styleDiv(it);var st=createTag("div");if(styleDiv(st),_e==="3d"){(nt=it.style).width=this.globalData.compSize.w+"px",nt.height=this.globalData.compSize.h+"px";var at="50% 50%";nt.webkitTransformOrigin=at,nt.mozTransformOrigin=at,nt.transformOrigin=at;var ot="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(rt=st.style).transform=ot,rt.webkitTransform=ot}it.appendChild(st);var lt={container:st,perspectiveElem:it,startPos:tt,endPos:tt,type:_e};return this.threeDElements.push(lt),lt},HybridRendererBase.prototype.build3dContainers=function(){var tt,_e,nt=this.layers.length,rt="";for(tt=0;tt<nt;tt+=1)this.layers[tt].ddd&&this.layers[tt].ty!==3?(rt!=="3d"&&(rt="3d",_e=this.createThreeDContainer(tt,"3d")),_e.endPos=Math.max(_e.endPos,tt)):(rt!=="2d"&&(rt="2d",_e=this.createThreeDContainer(tt,"2d")),_e.endPos=Math.max(_e.endPos,tt));for(tt=(nt=this.threeDElements.length)-1;tt>=0;tt-=1)this.resizerElem.appendChild(this.threeDElements[tt].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(tt,_e){for(var nt=0,rt=this.threeDElements.length;nt<rt;){if(_e<=this.threeDElements[nt].endPos){for(var it,st=this.threeDElements[nt].startPos;st<_e;)this.elements[st]&&this.elements[st].getBaseElement&&(it=this.elements[st].getBaseElement()),st+=1;it?this.threeDElements[nt].container.insertBefore(tt,it):this.threeDElements[nt].container.appendChild(tt);break}nt+=1}},HybridRendererBase.prototype.configAnimation=function(tt){var _e=createTag("div"),nt=this.animationItem.wrapper,rt=_e.style;rt.width=tt.w+"px",rt.height=tt.h+"px",this.resizerElem=_e,styleDiv(_e),rt.transformStyle="flat",rt.mozTransformStyle="flat",rt.webkitTransformStyle="flat",this.renderConfig.className&&_e.setAttribute("class",this.renderConfig.className),nt.appendChild(_e),rt.overflow="hidden";var it=createNS("svg");it.setAttribute("width","1"),it.setAttribute("height","1"),styleDiv(it),this.resizerElem.appendChild(it);var st=createNS("defs");it.appendChild(st),this.data=tt,this.setupGlobalData(tt,it),this.globalData.defs=st,this.layers=tt.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){var tt;this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var _e=this.layers?this.layers.length:0;for(tt=0;tt<_e;tt+=1)this.elements[tt]&&this.elements[tt].destroy&&this.elements[tt].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var tt,_e,nt,rt,it=this.animationItem.wrapper.offsetWidth,st=this.animationItem.wrapper.offsetHeight,at=it/st;this.globalData.compSize.w/this.globalData.compSize.h>at?(tt=it/this.globalData.compSize.w,_e=it/this.globalData.compSize.w,nt=0,rt=(st-this.globalData.compSize.h*(it/this.globalData.compSize.w))/2):(tt=st/this.globalData.compSize.h,_e=st/this.globalData.compSize.h,nt=(it-this.globalData.compSize.w*(st/this.globalData.compSize.h))/2,rt=0);var ot=this.resizerElem.style;ot.webkitTransform="matrix3d("+tt+",0,0,0,0,"+_e+",0,0,0,0,1,0,"+nt+","+rt+",0,1)",ot.transform=ot.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var tt,_e=this.globalData.compSize.w,nt=this.globalData.compSize.h,rt=this.threeDElements.length;for(tt=0;tt<rt;tt+=1){var it=this.threeDElements[tt].perspectiveElem.style;it.webkitPerspective=Math.sqrt(Math.pow(_e,2)+Math.pow(nt,2))+"px",it.perspective=it.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(tt){var _e,nt=tt.length,rt=createTag("div");for(_e=0;_e<nt;_e+=1)if(tt[_e].xt){var it=this.createComp(tt[_e],rt,this.globalData.comp,null);it.initExpressions(),this.globalData.projectInterface.registerComposition(it)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(tt,_e){for(var nt,rt=0;rt<_e;)this.elements[rt]&&this.elements[rt].getBaseElement&&(nt=this.elements[rt].getBaseElement()),rt+=1;nt?this.layerElement.insertBefore(tt,nt):this.layerElement.appendChild(tt)},HCompElement.prototype.createComp=function(tt){return this.supports3d?new HCompElement(tt,this.globalData,this):new SVGCompElement(tt,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(tt){return this.supports3d?new HCompElement(tt,this.globalData,this):new SVGCompElement(tt,this.globalData,this)};var CompExpressionInterface=function(tt){function _e(nt){for(var rt=0,it=tt.layers.length;rt<it;){if(tt.layers[rt].nm===nt||tt.layers[rt].ind===nt)return tt.elements[rt].layerInterface;rt+=1}return null}return Object.defineProperty(_e,"_name",{value:tt.data.nm}),_e.layer=_e,_e.pixelAspect=1,_e.height=tt.data.h||tt.globalData.compSize.h,_e.width=tt.data.w||tt.globalData.compSize.w,_e.pixelAspect=1,_e.frameDuration=1/tt.globalData.frameRate,_e.displayStartTime=0,_e.numLayers=tt.layers.length,_e};function _typeof$2(tt){return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$2(tt)}function seedRandom(tt,_e){var nt=this,rt=256,it=_e.pow(rt,6),st=_e.pow(2,52),at=2*st,ot=255;function lt(pt){var dt,gt=pt.length,vt=this,mt=0,xt=vt.i=vt.j=0,St=vt.S=[];for(gt||(pt=[gt++]);mt<rt;)St[mt]=mt++;for(mt=0;mt<rt;mt++)St[mt]=St[xt=ot&xt+pt[mt%gt]+(dt=St[mt])],St[xt]=dt;vt.g=function(Et){for(var bt,Tt=0,At=vt.i,Ct=vt.j,Pt=vt.S;Et--;)bt=Pt[At=ot&At+1],Tt=Tt*rt+Pt[ot&(Pt[At]=Pt[Ct=ot&Ct+bt])+(Pt[Ct]=bt)];return vt.i=At,vt.j=Ct,Tt}}function ct(pt,dt){return dt.i=pt.i,dt.j=pt.j,dt.S=pt.S.slice(),dt}function ut(pt,dt){var gt,vt=[],mt=_typeof$2(pt);if(dt&&mt=="object")for(gt in pt)try{vt.push(ut(pt[gt],dt-1))}catch{}return vt.length?vt:mt=="string"?pt:pt+"\0"}function ft(pt,dt){for(var gt,vt=pt+"",mt=0;mt<vt.length;)dt[ot&mt]=ot&(gt^=19*dt[ot&mt])+vt.charCodeAt(mt++);return ht(dt)}function ht(pt){return String.fromCharCode.apply(0,pt)}_e.seedrandom=function(pt,dt,gt){var vt=[],mt=ft(ut((dt=dt===!0?{entropy:!0}:dt||{}).entropy?[pt,ht(tt)]:pt===null?function(){try{var Et=new Uint8Array(rt);return(nt.crypto||nt.msCrypto).getRandomValues(Et),ht(Et)}catch{var bt=nt.navigator,Tt=bt&&bt.plugins;return[+new Date,nt,Tt,nt.screen,ht(tt)]}}():pt,3),vt),xt=new lt(vt),St=function(){for(var Et=xt.g(6),bt=it,Tt=0;Et<st;)Et=(Et+Tt)*rt,bt*=rt,Tt=xt.g(1);for(;Et>=at;)Et/=2,bt/=2,Tt>>>=1;return(Et+Tt)/bt};return St.int32=function(){return 0|xt.g(4)},St.quick=function(){return xt.g(4)/4294967296},St.double=St,ft(ht(xt.S),tt),(dt.pass||gt||function(Et,bt,Tt,At){return At&&(At.S&&ct(At,xt),Et.state=function(){return ct(xt,{})}),Tt?(_e.random=Et,bt):Et})(St,mt,"global"in dt?dt.global:this==_e,dt.state)},ft(_e.random(),tt)}function initialize$2(tt){seedRandom([],tt)}var propTypes={SHAPE:"shape"};function _typeof$1(tt){return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof$1(tt)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(tt){return tt.constructor===Array||tt.constructor===Float32Array}function isNumerable(tt,_e){return tt==="number"||_e instanceof Number||tt==="boolean"||tt==="string"}function $bm_neg(tt){var _e=_typeof$1(tt);if(_e==="number"||tt instanceof Number||_e==="boolean")return-tt;if($bm_isInstanceOfArray(tt)){var nt,rt=tt.length,it=[];for(nt=0;nt<rt;nt+=1)it[nt]=-tt[nt];return it}return tt.propType?tt.v:-tt}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(tt,_e){var nt=_typeof$1(tt),rt=_typeof$1(_e);if(isNumerable(nt,tt)&&isNumerable(rt,_e)||nt==="string"||rt==="string")return tt+_e;if($bm_isInstanceOfArray(tt)&&isNumerable(rt,_e))return(tt=tt.slice(0))[0]+=_e,tt;if(isNumerable(nt,tt)&&$bm_isInstanceOfArray(_e))return(_e=_e.slice(0))[0]=tt+_e[0],_e;if($bm_isInstanceOfArray(tt)&&$bm_isInstanceOfArray(_e)){for(var it=0,st=tt.length,at=_e.length,ot=[];it<st||it<at;)(typeof tt[it]=="number"||tt[it]instanceof Number)&&(typeof _e[it]=="number"||_e[it]instanceof Number)?ot[it]=tt[it]+_e[it]:ot[it]=_e[it]===void 0?tt[it]:tt[it]||_e[it],it+=1;return ot}return 0}var add=sum;function sub(tt,_e){var nt=_typeof$1(tt),rt=_typeof$1(_e);if(isNumerable(nt,tt)&&isNumerable(rt,_e))return nt==="string"&&(tt=parseInt(tt,10)),rt==="string"&&(_e=parseInt(_e,10)),tt-_e;if($bm_isInstanceOfArray(tt)&&isNumerable(rt,_e))return(tt=tt.slice(0))[0]-=_e,tt;if(isNumerable(nt,tt)&&$bm_isInstanceOfArray(_e))return(_e=_e.slice(0))[0]=tt-_e[0],_e;if($bm_isInstanceOfArray(tt)&&$bm_isInstanceOfArray(_e)){for(var it=0,st=tt.length,at=_e.length,ot=[];it<st||it<at;)(typeof tt[it]=="number"||tt[it]instanceof Number)&&(typeof _e[it]=="number"||_e[it]instanceof Number)?ot[it]=tt[it]-_e[it]:ot[it]=_e[it]===void 0?tt[it]:tt[it]||_e[it],it+=1;return ot}return 0}function mul(tt,_e){var nt,rt,it,st=_typeof$1(tt),at=_typeof$1(_e);if(isNumerable(st,tt)&&isNumerable(at,_e))return tt*_e;if($bm_isInstanceOfArray(tt)&&isNumerable(at,_e)){for(it=tt.length,nt=createTypedArray("float32",it),rt=0;rt<it;rt+=1)nt[rt]=tt[rt]*_e;return nt}if(isNumerable(st,tt)&&$bm_isInstanceOfArray(_e)){for(it=_e.length,nt=createTypedArray("float32",it),rt=0;rt<it;rt+=1)nt[rt]=tt*_e[rt];return nt}return 0}function div(tt,_e){var nt,rt,it,st=_typeof$1(tt),at=_typeof$1(_e);if(isNumerable(st,tt)&&isNumerable(at,_e))return tt/_e;if($bm_isInstanceOfArray(tt)&&isNumerable(at,_e)){for(it=tt.length,nt=createTypedArray("float32",it),rt=0;rt<it;rt+=1)nt[rt]=tt[rt]/_e;return nt}if(isNumerable(st,tt)&&$bm_isInstanceOfArray(_e)){for(it=_e.length,nt=createTypedArray("float32",it),rt=0;rt<it;rt+=1)nt[rt]=tt/_e[rt];return nt}return 0}function mod(tt,_e){return typeof tt=="string"&&(tt=parseInt(tt,10)),typeof _e=="string"&&(_e=parseInt(_e,10)),tt%_e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(tt,_e,nt){if(_e>nt){var rt=nt;nt=_e,_e=rt}return Math.min(Math.max(tt,_e),nt)}function radiansToDegrees(tt){return tt/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(tt){return tt*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(tt,_e){if(typeof tt=="number"||tt instanceof Number)return _e=_e||0,Math.abs(tt-_e);var nt;_e||(_e=helperLengthArray);var rt=Math.min(tt.length,_e.length),it=0;for(nt=0;nt<rt;nt+=1)it+=Math.pow(_e[nt]-tt[nt],2);return Math.sqrt(it)}function normalize(tt){return div(tt,length(tt))}function rgbToHsl(tt){var _e,nt,rt=tt[0],it=tt[1],st=tt[2],at=Math.max(rt,it,st),ot=Math.min(rt,it,st),lt=(at+ot)/2;if(at===ot)_e=0,nt=0;else{var ct=at-ot;switch(nt=lt>.5?ct/(2-at-ot):ct/(at+ot),at){case rt:_e=(it-st)/ct+(it<st?6:0);break;case it:_e=(st-rt)/ct+2;break;case st:_e=(rt-it)/ct+4}_e/=6}return[_e,nt,lt,tt[3]]}function hue2rgb(tt,_e,nt){return nt<0&&(nt+=1),nt>1&&(nt-=1),nt<1/6?tt+6*(_e-tt)*nt:nt<.5?_e:nt<2/3?tt+(_e-tt)*(2/3-nt)*6:tt}function hslToRgb(tt){var _e,nt,rt,it=tt[0],st=tt[1],at=tt[2];if(st===0)_e=at,rt=at,nt=at;else{var ot=at<.5?at*(1+st):at+st-at*st,lt=2*at-ot;_e=hue2rgb(lt,ot,it+1/3),nt=hue2rgb(lt,ot,it),rt=hue2rgb(lt,ot,it-1/3)}return[_e,nt,rt,tt[3]]}function linear(tt,_e,nt,rt,it){if(rt!==void 0&&it!==void 0||(rt=_e,it=nt,_e=0,nt=1),nt<_e){var st=nt;nt=_e,_e=st}if(tt<=_e)return rt;if(tt>=nt)return it;var at,ot=nt===_e?0:(tt-_e)/(nt-_e);if(!rt.length)return rt+(it-rt)*ot;var lt=rt.length,ct=createTypedArray("float32",lt);for(at=0;at<lt;at+=1)ct[at]=rt[at]+(it[at]-rt[at])*ot;return ct}function random(tt,_e){if(_e===void 0&&(tt===void 0?(tt=0,_e=1):(_e=tt,tt=void 0)),_e.length){var nt,rt=_e.length;tt||(tt=createTypedArray("float32",rt));var it=createTypedArray("float32",rt),st=BMMath.random();for(nt=0;nt<rt;nt+=1)it[nt]=tt[nt]+st*(_e[nt]-tt[nt]);return it}return tt===void 0&&(tt=0),tt+BMMath.random()*(_e-tt)}function createPath(tt,_e,nt,rt){var it,st=tt.length,at=shapePool.newElement();at.setPathData(!!rt,st);var ot,lt,ct=[0,0];for(it=0;it<st;it+=1)ot=_e&&_e[it]?_e[it]:ct,lt=nt&&nt[it]?nt[it]:ct,at.setTripleAt(tt[it][0],tt[it][1],lt[0]+tt[it][0],lt[1]+tt[it][1],ot[0]+tt[it][0],ot[1]+tt[it][1],it,!0);return at}function initiateExpression(elem,data,property){function noOp(tt){return tt}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function(tt,_e){var nt,rt,it=this.pv.length?this.pv.length:1,st=createTypedArray("float32",it),at=Math.floor(5*time);for(nt=0,rt=0;nt<at;){for(rt=0;rt<it;rt+=1)st[rt]+=-_e+2*_e*BMMath.random();nt+=1}var ot=5*time,lt=ot-Math.floor(ot),ct=createTypedArray("float32",it);if(it>1){for(rt=0;rt<it;rt+=1)ct[rt]=this.pv[rt]+st[rt]+(-_e+2*_e*BMMath.random())*lt;return ct}return this.pv+st[0]+(-_e+2*_e*BMMath.random())*lt}).bind(this);function loopInDuration(tt,_e){return loopIn(tt,_e,!0)}function loopOutDuration(tt,_e){return loopOut(tt,_e,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface),time,velocity,value,text,textIndex,textTotal,selectorValue;function lookAt(tt,_e){var nt=[_e[0]-tt[0],_e[1]-tt[1],_e[2]-tt[2]],rt=Math.atan2(nt[0],Math.sqrt(nt[1]*nt[1]+nt[2]*nt[2]))/degToRads;return[-Math.atan2(nt[1],nt[2])/degToRads,rt,0]}function easeOut(tt,_e,nt,rt,it){return applyEase(easeOutBez,tt,_e,nt,rt,it)}function easeIn(tt,_e,nt,rt,it){return applyEase(easeInBez,tt,_e,nt,rt,it)}function ease(tt,_e,nt,rt,it){return applyEase(easeInOutBez,tt,_e,nt,rt,it)}function applyEase(tt,_e,nt,rt,it,st){it===void 0?(it=nt,st=rt):_e=(_e-nt)/(rt-nt),_e>1?_e=1:_e<0&&(_e=0);var at=tt(_e);if($bm_isInstanceOfArray(it)){var ot,lt=it.length,ct=createTypedArray("float32",lt);for(ot=0;ot<lt;ot+=1)ct[ot]=(st[ot]-it[ot])*at+it[ot];return ct}return(st-it)*at+it}function nearestKey(tt){var _e,nt,rt,it=data.k.length;if(data.k.length&&typeof data.k[0]!="number")if(nt=-1,(tt*=elem.comp.globalData.frameRate)<data.k[0].t)nt=1,rt=data.k[0].t;else{for(_e=0;_e<it-1;_e+=1){if(tt===data.k[_e].t){nt=_e+1,rt=data.k[_e].t;break}if(tt>data.k[_e].t&&tt<data.k[_e+1].t){tt-data.k[_e].t>data.k[_e+1].t-tt?(nt=_e+2,rt=data.k[_e+1].t):(nt=_e+1,rt=data.k[_e].t);break}}nt===-1&&(nt=_e+1,rt=data.k[_e].t)}else nt=0,rt=0;var st={};return st.index=nt,st.time=rt/elem.comp.globalData.frameRate,st}function key(tt){var _e,nt,rt;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+tt);tt-=1,_e={time:data.k[tt].t/elem.comp.globalData.frameRate,value:[]};var it=Object.prototype.hasOwnProperty.call(data.k[tt],"s")?data.k[tt].s:data.k[tt-1].e;for(rt=it.length,nt=0;nt<rt;nt+=1)_e[nt]=it[nt],_e.value[nt]=it[nt];return _e}function framesToTime(tt,_e){return _e||(_e=elem.comp.globalData.frameRate),tt/_e}function timeToFrames(tt,_e){return tt||tt===0||(tt=time),_e||(_e=elem.comp.globalData.frameRate),tt*_e}function seedRandom(tt){BMMath.seedrandom(randSeed+tt)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(tt,_e){return typeof value=="string"?_e===void 0?value.substring(tt):value.substring(tt,_e):""}function substr(tt,_e){return typeof value=="string"?_e===void 0?value.substr(tt):value.substr(tt,_e):""}function posterizeTime(tt){time=tt===0?0:Math.floor(time*tt)/tt,value=valueAtTime(time)}var index=elem.data.ind;!elem.hierarchy||elem.hierarchy.length;var parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(tt){return value=tt,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType!==4||content||(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),!(!elem.hierarchy||!elem.hierarchy.length)&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var tt={initExpressions:function(_e){var nt=0,rt=[];_e.renderer.compInterface=CompExpressionInterface(_e.renderer),_e.renderer.globalData.projectInterface.registerComposition(_e.renderer),_e.renderer.globalData.pushExpression=function(){nt+=1},_e.renderer.globalData.popExpression=function(){(nt-=1)==0&&function(){var it,st=rt.length;for(it=0;it<st;it+=1)rt[it].release();rt.length=0}()},_e.renderer.globalData.registerExpressionProperty=function(it){rt.indexOf(it)===-1&&rt.push(it)}}};return tt.resetFrame=ExpressionManager.resetFrame,tt}(),MaskManagerInterface=function(){function tt(_e,nt){this._mask=_e,this._data=nt}return Object.defineProperty(tt.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(tt.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(_e){var nt,rt=createSizedArray(_e.viewData.length),it=_e.viewData.length;for(nt=0;nt<it;nt+=1)rt[nt]=new tt(_e.viewData[nt],_e.masksProperties[nt]);return function(st){for(nt=0;nt<it;){if(_e.masksProperties[nt].nm===st)return rt[nt];nt+=1}return null}}}(),ExpressionPropertyInterface=function(){var tt={pv:0,v:0,mult:1},_e={pv:[0,0,0],v:[0,0,0],mult:1};function nt(it,st,at){Object.defineProperty(it,"velocity",{get:function(){return st.getVelocityAtTime(st.comp.currentFrame)}}),it.numKeys=st.keyframes?st.keyframes.length:0,it.key=function(ot){if(!it.numKeys)return 0;var lt="";lt="s"in st.keyframes[ot-1]?st.keyframes[ot-1].s:"e"in st.keyframes[ot-2]?st.keyframes[ot-2].e:st.keyframes[ot-2].s;var ct=at==="unidimensional"?new Number(lt):Object.assign({},lt);return ct.time=st.keyframes[ot-1].t/st.elem.comp.globalData.frameRate,ct.value=at==="unidimensional"?lt[0]:lt,ct},it.valueAtTime=st.getValueAtTime,it.speedAtTime=st.getSpeedAtTime,it.velocityAtTime=st.getVelocityAtTime,it.propertyGroup=st.propertyGroup}function rt(){return tt}return function(it){return it?it.propType==="unidimensional"?function(st){st&&"pv"in st||(st=tt);var at=1/st.mult,ot=st.pv*at,lt=new Number(ot);return lt.value=ot,nt(lt,st,"unidimensional"),function(){return st.k&&st.getValue(),ot=st.v*at,lt.value!==ot&&((lt=new Number(ot)).value=ot,nt(lt,st,"unidimensional")),lt}}(it):function(st){st&&"pv"in st||(st=_e);var at=1/st.mult,ot=st.data&&st.data.l||st.pv.length,lt=createTypedArray("float32",ot),ct=createTypedArray("float32",ot);return lt.value=ct,nt(lt,st,"multidimensional"),function(){st.k&&st.getValue();for(var ut=0;ut<ot;ut+=1)ct[ut]=st.v[ut]*at,lt[ut]=ct[ut];return lt}}(it):rt}}(),TransformExpressionInterface=function(tt){function _e(at){switch(at){case"scale":case"Scale":case"ADBE Scale":case 6:return _e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return _e.rotation;case"ADBE Rotate X":return _e.xRotation;case"ADBE Rotate Y":return _e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return _e.position;case"ADBE Position_0":return _e.xPosition;case"ADBE Position_1":return _e.yPosition;case"ADBE Position_2":return _e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return _e.anchorPoint;case"opacity":case"Opacity":case 11:return _e.opacity;default:return null}}var nt,rt,it,st;return Object.defineProperty(_e,"rotation",{get:ExpressionPropertyInterface(tt.r||tt.rz)}),Object.defineProperty(_e,"zRotation",{get:ExpressionPropertyInterface(tt.rz||tt.r)}),Object.defineProperty(_e,"xRotation",{get:ExpressionPropertyInterface(tt.rx)}),Object.defineProperty(_e,"yRotation",{get:ExpressionPropertyInterface(tt.ry)}),Object.defineProperty(_e,"scale",{get:ExpressionPropertyInterface(tt.s)}),tt.p?st=ExpressionPropertyInterface(tt.p):(nt=ExpressionPropertyInterface(tt.px),rt=ExpressionPropertyInterface(tt.py),tt.pz&&(it=ExpressionPropertyInterface(tt.pz))),Object.defineProperty(_e,"position",{get:function(){return tt.p?st():[nt(),rt(),it?it():0]}}),Object.defineProperty(_e,"xPosition",{get:ExpressionPropertyInterface(tt.px)}),Object.defineProperty(_e,"yPosition",{get:ExpressionPropertyInterface(tt.py)}),Object.defineProperty(_e,"zPosition",{get:ExpressionPropertyInterface(tt.pz)}),Object.defineProperty(_e,"anchorPoint",{get:ExpressionPropertyInterface(tt.a)}),Object.defineProperty(_e,"opacity",{get:ExpressionPropertyInterface(tt.o)}),Object.defineProperty(_e,"skew",{get:ExpressionPropertyInterface(tt.sk)}),Object.defineProperty(_e,"skewAxis",{get:ExpressionPropertyInterface(tt.sa)}),Object.defineProperty(_e,"orientation",{get:ExpressionPropertyInterface(tt.or)}),_e},LayerExpressionInterface=function(){function tt(ct){var ut=new Matrix;return ct!==void 0?this._elem.finalTransform.mProp.getValueAtTime(ct).clone(ut):this._elem.finalTransform.mProp.applyToMatrix(ut),ut}function _e(ct,ut){var ft=this.getMatrix(ut);return ft.props[12]=0,ft.props[13]=0,ft.props[14]=0,this.applyPoint(ft,ct)}function nt(ct,ut){var ft=this.getMatrix(ut);return this.applyPoint(ft,ct)}function rt(ct,ut){var ft=this.getMatrix(ut);return ft.props[12]=0,ft.props[13]=0,ft.props[14]=0,this.invertPoint(ft,ct)}function it(ct,ut){var ft=this.getMatrix(ut);return this.invertPoint(ft,ct)}function st(ct,ut){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ft,ht=this._elem.hierarchy.length;for(ft=0;ft<ht;ft+=1)this._elem.hierarchy[ft].finalTransform.mProp.applyToMatrix(ct)}return ct.applyToPointArray(ut[0],ut[1],ut[2]||0)}function at(ct,ut){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ft,ht=this._elem.hierarchy.length;for(ft=0;ft<ht;ft+=1)this._elem.hierarchy[ft].finalTransform.mProp.applyToMatrix(ct)}return ct.inversePoint(ut)}function ot(ct){var ut=new Matrix;if(ut.reset(),this._elem.finalTransform.mProp.applyToMatrix(ut),this._elem.hierarchy&&this._elem.hierarchy.length){var ft,ht=this._elem.hierarchy.length;for(ft=0;ft<ht;ft+=1)this._elem.hierarchy[ft].finalTransform.mProp.applyToMatrix(ut);return ut.inversePoint(ct)}return ut.inversePoint(ct)}function lt(){return[1,1,1,1]}return function(ct){var ut;function ft(pt){switch(pt){case"ADBE Root Vectors Group":case"Contents":case 2:return ft.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return ut;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return ft.effect;case"ADBE Text Properties":return ft.textInterface;default:return null}}ft.getMatrix=tt,ft.invertPoint=at,ft.applyPoint=st,ft.toWorld=nt,ft.toWorldVec=_e,ft.fromWorld=it,ft.fromWorldVec=rt,ft.toComp=nt,ft.fromComp=ot,ft.sampleImage=lt,ft.sourceRectAtTime=ct.sourceRectAtTime.bind(ct),ft._elem=ct;var ht=getDescriptor(ut=TransformExpressionInterface(ct.finalTransform.mProp),"anchorPoint");return Object.defineProperties(ft,{hasParent:{get:function(){return ct.hierarchy.length}},parent:{get:function(){return ct.hierarchy[0].layerInterface}},rotation:getDescriptor(ut,"rotation"),scale:getDescriptor(ut,"scale"),position:getDescriptor(ut,"position"),opacity:getDescriptor(ut,"opacity"),anchorPoint:ht,anchor_point:ht,transform:{get:function(){return ut}},active:{get:function(){return ct.isInRange}}}),ft.startTime=ct.data.st,ft.index=ct.data.ind,ft.source=ct.data.refId,ft.height=ct.data.ty===0?ct.data.h:100,ft.width=ct.data.ty===0?ct.data.w:100,ft.inPoint=ct.data.ip/ct.comp.globalData.frameRate,ft.outPoint=ct.data.op/ct.comp.globalData.frameRate,ft._name=ct.data.nm,ft.registerMaskInterface=function(pt){ft.mask=new MaskManagerInterface(pt,ct)},ft.registerEffectsInterface=function(pt){ft.effect=pt},ft}}(),propertyGroupFactory=function(tt,_e){return function(nt){return(nt=nt===void 0?1:nt)<=0?tt:_e(nt-1)}},PropertyInterface=function(tt,_e){var nt={_name:tt};return function(rt){return(rt=rt===void 0?1:rt)<=0?nt:_e(rt-1)}},EffectsExpressionInterface=function(){var tt={createEffectsInterface:function(rt,it){if(rt.effectsManager){var st,at=[],ot=rt.data.ef,lt=rt.effectsManager.effectElements.length;for(st=0;st<lt;st+=1)at.push(_e(ot[st],rt.effectsManager.effectElements[st],it,rt));var ct=rt.data.ef||[],ut=function(ft){for(st=0,lt=ct.length;st<lt;){if(ft===ct[st].nm||ft===ct[st].mn||ft===ct[st].ix)return at[st];st+=1}return null};return Object.defineProperty(ut,"numProperties",{get:function(){return ct.length}}),ut}return null}};function _e(rt,it,st,at){function ot(ht){for(var pt=rt.ef,dt=0,gt=pt.length;dt<gt;){if(ht===pt[dt].nm||ht===pt[dt].mn||ht===pt[dt].ix)return pt[dt].ty===5?ut[dt]:ut[dt]();dt+=1}throw new Error}var lt,ct=propertyGroupFactory(ot,st),ut=[],ft=rt.ef.length;for(lt=0;lt<ft;lt+=1)rt.ef[lt].ty===5?ut.push(_e(rt.ef[lt],it.effectElements[lt],it.effectElements[lt].propertyGroup,at)):ut.push(nt(it.effectElements[lt],rt.ef[lt].ty,at,ct));return rt.mn==="ADBE Color Control"&&Object.defineProperty(ot,"color",{get:function(){return ut[0]()}}),Object.defineProperties(ot,{numProperties:{get:function(){return rt.np}},_name:{value:rt.nm},propertyGroup:{value:ct}}),ot.enabled=rt.en!==0,ot.active=ot.enabled,ot}function nt(rt,it,st,at){var ot=ExpressionPropertyInterface(rt.p);return rt.p.setGroupProperty&&rt.p.setGroupProperty(PropertyInterface("",at)),function(){return it===10?st.comp.compInterface(rt.p.v):ot()}}return tt}(),ShapePathInterface=function(tt,_e,nt){var rt=_e.sh;function it(at){return at==="Shape"||at==="shape"||at==="Path"||at==="path"||at==="ADBE Vector Shape"||at===2?it.path:null}var st=propertyGroupFactory(it,nt);return rt.setGroupProperty(PropertyInterface("Path",st)),Object.defineProperties(it,{path:{get:function(){return rt.k&&rt.getValue(),rt}},shape:{get:function(){return rt.k&&rt.getValue(),rt}},_name:{value:tt.nm},ix:{value:tt.ix},propertyIndex:{value:tt.ix},mn:{value:tt.mn},propertyGroup:{value:nt}}),it},ShapeExpressionInterface=function(){function tt(ht,pt,dt){var gt,vt=[],mt=ht?ht.length:0;for(gt=0;gt<mt;gt+=1)ht[gt].ty==="gr"?vt.push(_e(ht[gt],pt[gt],dt)):ht[gt].ty==="fl"?vt.push(nt(ht[gt],pt[gt],dt)):ht[gt].ty==="st"?vt.push(it(ht[gt],pt[gt],dt)):ht[gt].ty==="tm"?vt.push(st(ht[gt],pt[gt],dt)):ht[gt].ty==="tr"||(ht[gt].ty==="el"?vt.push(ot(ht[gt],pt[gt],dt)):ht[gt].ty==="sr"?vt.push(lt(ht[gt],pt[gt],dt)):ht[gt].ty==="sh"?vt.push(ShapePathInterface(ht[gt],pt[gt],dt)):ht[gt].ty==="rc"?vt.push(ct(ht[gt],pt[gt],dt)):ht[gt].ty==="rd"?vt.push(ut(ht[gt],pt[gt],dt)):ht[gt].ty==="rp"?vt.push(ft(ht[gt],pt[gt],dt)):ht[gt].ty==="gf"?vt.push(rt(ht[gt],pt[gt],dt)):vt.push((ht[gt],pt[gt],function(){return null})));return vt}function _e(ht,pt,dt){var gt=function(xt){switch(xt){case"ADBE Vectors Group":case"Contents":case 2:return gt.content;default:return gt.transform}};gt.propertyGroup=propertyGroupFactory(gt,dt);var vt=function(xt,St,Et){var bt,Tt=function(Ct){for(var Pt=0,It=bt.length;Pt<It;){if(bt[Pt]._name===Ct||bt[Pt].mn===Ct||bt[Pt].propertyIndex===Ct||bt[Pt].ix===Ct||bt[Pt].ind===Ct)return bt[Pt];Pt+=1}return typeof Ct=="number"?bt[Ct-1]:null};Tt.propertyGroup=propertyGroupFactory(Tt,Et),bt=tt(xt.it,St.it,Tt.propertyGroup),Tt.numProperties=bt.length;var At=at(xt.it[xt.it.length-1],St.it[St.it.length-1],Tt.propertyGroup);return Tt.transform=At,Tt.propertyIndex=xt.cix,Tt._name=xt.nm,Tt}(ht,pt,gt.propertyGroup),mt=at(ht.it[ht.it.length-1],pt.it[pt.it.length-1],gt.propertyGroup);return gt.content=vt,gt.transform=mt,Object.defineProperty(gt,"_name",{get:function(){return ht.nm}}),gt.numProperties=ht.np,gt.propertyIndex=ht.ix,gt.nm=ht.nm,gt.mn=ht.mn,gt}function nt(ht,pt,dt){function gt(vt){return vt==="Color"||vt==="color"?gt.color:vt==="Opacity"||vt==="opacity"?gt.opacity:null}return Object.defineProperties(gt,{color:{get:ExpressionPropertyInterface(pt.c)},opacity:{get:ExpressionPropertyInterface(pt.o)},_name:{value:ht.nm},mn:{value:ht.mn}}),pt.c.setGroupProperty(PropertyInterface("Color",dt)),pt.o.setGroupProperty(PropertyInterface("Opacity",dt)),gt}function rt(ht,pt,dt){function gt(vt){return vt==="Start Point"||vt==="start point"?gt.startPoint:vt==="End Point"||vt==="end point"?gt.endPoint:vt==="Opacity"||vt==="opacity"?gt.opacity:null}return Object.defineProperties(gt,{startPoint:{get:ExpressionPropertyInterface(pt.s)},endPoint:{get:ExpressionPropertyInterface(pt.e)},opacity:{get:ExpressionPropertyInterface(pt.o)},type:{get:function(){return"a"}},_name:{value:ht.nm},mn:{value:ht.mn}}),pt.s.setGroupProperty(PropertyInterface("Start Point",dt)),pt.e.setGroupProperty(PropertyInterface("End Point",dt)),pt.o.setGroupProperty(PropertyInterface("Opacity",dt)),gt}function it(ht,pt,dt){var gt,vt=propertyGroupFactory(bt,dt),mt=propertyGroupFactory(Et,vt);function xt(Tt){Object.defineProperty(Et,ht.d[Tt].nm,{get:ExpressionPropertyInterface(pt.d.dataProps[Tt].p)})}var St=ht.d?ht.d.length:0,Et={};for(gt=0;gt<St;gt+=1)xt(gt),pt.d.dataProps[gt].p.setGroupProperty(mt);function bt(Tt){return Tt==="Color"||Tt==="color"?bt.color:Tt==="Opacity"||Tt==="opacity"?bt.opacity:Tt==="Stroke Width"||Tt==="stroke width"?bt.strokeWidth:null}return Object.defineProperties(bt,{color:{get:ExpressionPropertyInterface(pt.c)},opacity:{get:ExpressionPropertyInterface(pt.o)},strokeWidth:{get:ExpressionPropertyInterface(pt.w)},dash:{get:function(){return Et}},_name:{value:ht.nm},mn:{value:ht.mn}}),pt.c.setGroupProperty(PropertyInterface("Color",vt)),pt.o.setGroupProperty(PropertyInterface("Opacity",vt)),pt.w.setGroupProperty(PropertyInterface("Stroke Width",vt)),bt}function st(ht,pt,dt){function gt(mt){return mt===ht.e.ix||mt==="End"||mt==="end"?gt.end:mt===ht.s.ix?gt.start:mt===ht.o.ix?gt.offset:null}var vt=propertyGroupFactory(gt,dt);return gt.propertyIndex=ht.ix,pt.s.setGroupProperty(PropertyInterface("Start",vt)),pt.e.setGroupProperty(PropertyInterface("End",vt)),pt.o.setGroupProperty(PropertyInterface("Offset",vt)),gt.propertyIndex=ht.ix,gt.propertyGroup=dt,Object.defineProperties(gt,{start:{get:ExpressionPropertyInterface(pt.s)},end:{get:ExpressionPropertyInterface(pt.e)},offset:{get:ExpressionPropertyInterface(pt.o)},_name:{value:ht.nm}}),gt.mn=ht.mn,gt}function at(ht,pt,dt){function gt(mt){return ht.a.ix===mt||mt==="Anchor Point"?gt.anchorPoint:ht.o.ix===mt||mt==="Opacity"?gt.opacity:ht.p.ix===mt||mt==="Position"?gt.position:ht.r.ix===mt||mt==="Rotation"||mt==="ADBE Vector Rotation"?gt.rotation:ht.s.ix===mt||mt==="Scale"?gt.scale:ht.sk&&ht.sk.ix===mt||mt==="Skew"?gt.skew:ht.sa&&ht.sa.ix===mt||mt==="Skew Axis"?gt.skewAxis:null}var vt=propertyGroupFactory(gt,dt);return pt.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",vt)),pt.transform.mProps.p.setGroupProperty(PropertyInterface("Position",vt)),pt.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",vt)),pt.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",vt)),pt.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",vt)),pt.transform.mProps.sk&&(pt.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",vt)),pt.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",vt))),pt.transform.op.setGroupProperty(PropertyInterface("Opacity",vt)),Object.defineProperties(gt,{opacity:{get:ExpressionPropertyInterface(pt.transform.mProps.o)},position:{get:ExpressionPropertyInterface(pt.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(pt.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(pt.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(pt.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(pt.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(pt.transform.mProps.sa)},_name:{value:ht.nm}}),gt.ty="tr",gt.mn=ht.mn,gt.propertyGroup=dt,gt}function ot(ht,pt,dt){function gt(xt){return ht.p.ix===xt?gt.position:ht.s.ix===xt?gt.size:null}var vt=propertyGroupFactory(gt,dt);gt.propertyIndex=ht.ix;var mt=pt.sh.ty==="tm"?pt.sh.prop:pt.sh;return mt.s.setGroupProperty(PropertyInterface("Size",vt)),mt.p.setGroupProperty(PropertyInterface("Position",vt)),Object.defineProperties(gt,{size:{get:ExpressionPropertyInterface(mt.s)},position:{get:ExpressionPropertyInterface(mt.p)},_name:{value:ht.nm}}),gt.mn=ht.mn,gt}function lt(ht,pt,dt){function gt(xt){return ht.p.ix===xt?gt.position:ht.r.ix===xt?gt.rotation:ht.pt.ix===xt?gt.points:ht.or.ix===xt||xt==="ADBE Vector Star Outer Radius"?gt.outerRadius:ht.os.ix===xt?gt.outerRoundness:!ht.ir||ht.ir.ix!==xt&&xt!=="ADBE Vector Star Inner Radius"?ht.is&&ht.is.ix===xt?gt.innerRoundness:null:gt.innerRadius}var vt=propertyGroupFactory(gt,dt),mt=pt.sh.ty==="tm"?pt.sh.prop:pt.sh;return gt.propertyIndex=ht.ix,mt.or.setGroupProperty(PropertyInterface("Outer Radius",vt)),mt.os.setGroupProperty(PropertyInterface("Outer Roundness",vt)),mt.pt.setGroupProperty(PropertyInterface("Points",vt)),mt.p.setGroupProperty(PropertyInterface("Position",vt)),mt.r.setGroupProperty(PropertyInterface("Rotation",vt)),ht.ir&&(mt.ir.setGroupProperty(PropertyInterface("Inner Radius",vt)),mt.is.setGroupProperty(PropertyInterface("Inner Roundness",vt))),Object.defineProperties(gt,{position:{get:ExpressionPropertyInterface(mt.p)},rotation:{get:ExpressionPropertyInterface(mt.r)},points:{get:ExpressionPropertyInterface(mt.pt)},outerRadius:{get:ExpressionPropertyInterface(mt.or)},outerRoundness:{get:ExpressionPropertyInterface(mt.os)},innerRadius:{get:ExpressionPropertyInterface(mt.ir)},innerRoundness:{get:ExpressionPropertyInterface(mt.is)},_name:{value:ht.nm}}),gt.mn=ht.mn,gt}function ct(ht,pt,dt){function gt(xt){return ht.p.ix===xt?gt.position:ht.r.ix===xt?gt.roundness:ht.s.ix===xt||xt==="Size"||xt==="ADBE Vector Rect Size"?gt.size:null}var vt=propertyGroupFactory(gt,dt),mt=pt.sh.ty==="tm"?pt.sh.prop:pt.sh;return gt.propertyIndex=ht.ix,mt.p.setGroupProperty(PropertyInterface("Position",vt)),mt.s.setGroupProperty(PropertyInterface("Size",vt)),mt.r.setGroupProperty(PropertyInterface("Rotation",vt)),Object.defineProperties(gt,{position:{get:ExpressionPropertyInterface(mt.p)},roundness:{get:ExpressionPropertyInterface(mt.r)},size:{get:ExpressionPropertyInterface(mt.s)},_name:{value:ht.nm}}),gt.mn=ht.mn,gt}function ut(ht,pt,dt){function gt(xt){return ht.r.ix===xt||xt==="Round Corners 1"?gt.radius:null}var vt=propertyGroupFactory(gt,dt),mt=pt;return gt.propertyIndex=ht.ix,mt.rd.setGroupProperty(PropertyInterface("Radius",vt)),Object.defineProperties(gt,{radius:{get:ExpressionPropertyInterface(mt.rd)},_name:{value:ht.nm}}),gt.mn=ht.mn,gt}function ft(ht,pt,dt){function gt(xt){return ht.c.ix===xt||xt==="Copies"?gt.copies:ht.o.ix===xt||xt==="Offset"?gt.offset:null}var vt=propertyGroupFactory(gt,dt),mt=pt;return gt.propertyIndex=ht.ix,mt.c.setGroupProperty(PropertyInterface("Copies",vt)),mt.o.setGroupProperty(PropertyInterface("Offset",vt)),Object.defineProperties(gt,{copies:{get:ExpressionPropertyInterface(mt.c)},offset:{get:ExpressionPropertyInterface(mt.o)},_name:{value:ht.nm}}),gt.mn=ht.mn,gt}return function(ht,pt,dt){var gt;function vt(mt){if(typeof mt=="number")return(mt=mt===void 0?1:mt)===0?dt:gt[mt-1];for(var xt=0,St=gt.length;xt<St;){if(gt[xt]._name===mt)return gt[xt];xt+=1}return null}return vt.propertyGroup=propertyGroupFactory(vt,function(){return dt}),gt=tt(ht,pt,vt.propertyGroup),vt.numProperties=gt.length,vt._name="Contents",vt}}(),TextExpressionInterface=function(tt){var _e;function nt(rt){return rt==="ADBE Text Document"?nt.sourceText:null}return Object.defineProperty(nt,"sourceText",{get:function(){tt.textProperty.getValue();var rt=tt.textProperty.currentData.t;return _e&&rt===_e.value||((_e=new String(rt)).value=rt||new String(rt),Object.defineProperty(_e,"style",{get:function(){return{fillColor:tt.textProperty.currentData.fc}}})),_e}}),nt};function _typeof(tt){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},_typeof(tt)}var FootageInterface=(dataInterfaceFactory=function(tt){function _e(nt){return nt==="Outline"?_e.outlineInterface():null}return _e._name="Outline",_e.outlineInterface=function(nt){var rt="",it=nt.getFootageData();function st(at){if(it[at])return rt=at,_typeof(it=it[at])==="object"?st:it;var ot=at.indexOf(rt);if(ot!==-1){var lt=parseInt(at.substr(ot+rt.length),10);return _typeof(it=it[lt])==="object"?st:it}return""}return function(){return rt="",it=nt.getFootageData(),st}}(tt),_e},function(tt){function _e(nt){return nt==="Data"?_e.dataInterface:null}return _e._name="Data",_e.dataInterface=dataInterfaceFactory(tt),_e}),dataInterfaceFactory,interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(tt){return interfaces[tt]||null}var expressionHelpers={searchExpressions:function(tt,_e,nt){_e.x&&(nt.k=!0,nt.x=!0,nt.initiateExpression=ExpressionManager.initiateExpression,nt.effectsSequence.push(nt.initiateExpression(tt,_e,nt).bind(nt)))},getSpeedAtTime:function(tt){var _e=this.getValueAtTime(tt),nt=this.getValueAtTime(tt+-.01),rt=0;if(_e.length){var it;for(it=0;it<_e.length;it+=1)rt+=Math.pow(nt[it]-_e[it],2);rt=100*Math.sqrt(rt)}else rt=0;return rt},getVelocityAtTime:function(tt){if(this.vel!==void 0)return this.vel;var _e,nt,rt=-.001,it=this.getValueAtTime(tt),st=this.getValueAtTime(tt+rt);if(it.length)for(_e=createTypedArray("float32",it.length),nt=0;nt<it.length;nt+=1)_e[nt]=(st[nt]-it[nt])/rt;else _e=(st-it)/rt;return _e},getValueAtTime:function(tt){return tt*=this.elem.globalData.frameRate,(tt-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<tt?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(tt,this._cachingAtTime),this._cachingAtTime.lastFrame=tt),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(tt){this.propertyGroup=tt}};function addPropertyDecorator(){function tt(ft,ht,pt){if(!this.k||!this.keyframes)return this.pv;ft=ft?ft.toLowerCase():"";var dt,gt,vt,mt,xt,St=this.comp.renderedFrame,Et=this.keyframes,bt=Et[Et.length-1].t;if(St<=bt)return this.pv;if(pt?gt=bt-(dt=ht?Math.abs(bt-this.elem.comp.globalData.frameRate*ht):Math.max(0,bt-this.elem.data.ip)):((!ht||ht>Et.length-1)&&(ht=Et.length-1),dt=bt-(gt=Et[Et.length-1-ht].t)),ft==="pingpong"){if(Math.floor((St-gt)/dt)%2!=0)return this.getValueAtTime((dt-(St-gt)%dt+gt)/this.comp.globalData.frameRate,0)}else{if(ft==="offset"){var Tt=this.getValueAtTime(gt/this.comp.globalData.frameRate,0),At=this.getValueAtTime(bt/this.comp.globalData.frameRate,0),Ct=this.getValueAtTime(((St-gt)%dt+gt)/this.comp.globalData.frameRate,0),Pt=Math.floor((St-gt)/dt);if(this.pv.length){for(mt=(xt=new Array(Tt.length)).length,vt=0;vt<mt;vt+=1)xt[vt]=(At[vt]-Tt[vt])*Pt+Ct[vt];return xt}return(At-Tt)*Pt+Ct}if(ft==="continue"){var It=this.getValueAtTime(bt/this.comp.globalData.frameRate,0),Lt=this.getValueAtTime((bt-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(mt=(xt=new Array(It.length)).length,vt=0;vt<mt;vt+=1)xt[vt]=It[vt]+(It[vt]-Lt[vt])*((St-bt)/this.comp.globalData.frameRate)/5e-4;return xt}return It+(St-bt)/.001*(It-Lt)}}return this.getValueAtTime(((St-gt)%dt+gt)/this.comp.globalData.frameRate,0)}function _e(ft,ht,pt){if(!this.k)return this.pv;ft=ft?ft.toLowerCase():"";var dt,gt,vt,mt,xt,St=this.comp.renderedFrame,Et=this.keyframes,bt=Et[0].t;if(St>=bt)return this.pv;if(pt?gt=bt+(dt=ht?Math.abs(this.elem.comp.globalData.frameRate*ht):Math.max(0,this.elem.data.op-bt)):((!ht||ht>Et.length-1)&&(ht=Et.length-1),dt=(gt=Et[ht].t)-bt),ft==="pingpong"){if(Math.floor((bt-St)/dt)%2==0)return this.getValueAtTime(((bt-St)%dt+bt)/this.comp.globalData.frameRate,0)}else{if(ft==="offset"){var Tt=this.getValueAtTime(bt/this.comp.globalData.frameRate,0),At=this.getValueAtTime(gt/this.comp.globalData.frameRate,0),Ct=this.getValueAtTime((dt-(bt-St)%dt+bt)/this.comp.globalData.frameRate,0),Pt=Math.floor((bt-St)/dt)+1;if(this.pv.length){for(mt=(xt=new Array(Tt.length)).length,vt=0;vt<mt;vt+=1)xt[vt]=Ct[vt]-(At[vt]-Tt[vt])*Pt;return xt}return Ct-(At-Tt)*Pt}if(ft==="continue"){var It=this.getValueAtTime(bt/this.comp.globalData.frameRate,0),Lt=this.getValueAtTime((bt+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(mt=(xt=new Array(It.length)).length,vt=0;vt<mt;vt+=1)xt[vt]=It[vt]+(It[vt]-Lt[vt])*(bt-St)/.001;return xt}return It+(It-Lt)*(bt-St)/.001}}return this.getValueAtTime((dt-((bt-St)%dt+bt))/this.comp.globalData.frameRate,0)}function nt(ft,ht){if(!this.k)return this.pv;if(ft=.5*(ft||.4),(ht=Math.floor(ht||5))<=1)return this.pv;var pt,dt,gt=this.comp.renderedFrame/this.comp.globalData.frameRate,vt=gt-ft,mt=ht>1?(gt+ft-vt)/(ht-1):1,xt=0,St=0;for(pt=this.pv.length?createTypedArray("float32",this.pv.length):0;xt<ht;){if(dt=this.getValueAtTime(vt+xt*mt),this.pv.length)for(St=0;St<this.pv.length;St+=1)pt[St]+=dt[St];else pt+=dt;xt+=1}if(this.pv.length)for(St=0;St<this.pv.length;St+=1)pt[St]/=ht;else pt/=ht;return pt}function rt(ft){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var ht=this._transformCachingAtTime.v;if(ht.cloneFromProps(this.pre.props),this.appliedTransformations<1){var pt=this.a.getValueAtTime(ft);ht.translate(-pt[0]*this.a.mult,-pt[1]*this.a.mult,pt[2]*this.a.mult)}if(this.appliedTransformations<2){var dt=this.s.getValueAtTime(ft);ht.scale(dt[0]*this.s.mult,dt[1]*this.s.mult,dt[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var gt=this.sk.getValueAtTime(ft),vt=this.sa.getValueAtTime(ft);ht.skewFromAxis(-gt*this.sk.mult,vt*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var mt=this.r.getValueAtTime(ft);ht.rotate(-mt*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var xt=this.rz.getValueAtTime(ft),St=this.ry.getValueAtTime(ft),Et=this.rx.getValueAtTime(ft),bt=this.or.getValueAtTime(ft);ht.rotateZ(-xt*this.rz.mult).rotateY(St*this.ry.mult).rotateX(Et*this.rx.mult).rotateZ(-bt[2]*this.or.mult).rotateY(bt[1]*this.or.mult).rotateX(bt[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var Tt=this.px.getValueAtTime(ft),At=this.py.getValueAtTime(ft);if(this.data.p.z){var Ct=this.pz.getValueAtTime(ft);ht.translate(Tt*this.px.mult,At*this.py.mult,-Ct*this.pz.mult)}else ht.translate(Tt*this.px.mult,At*this.py.mult,0)}else{var Pt=this.p.getValueAtTime(ft);ht.translate(Pt[0]*this.p.mult,Pt[1]*this.p.mult,-Pt[2]*this.p.mult)}return ht}function it(){return this.v.clone(new Matrix)}var st=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(ft,ht,pt){var dt=st(ft,ht,pt);return dt.dynamicProperties.length?dt.getValueAtTime=rt.bind(dt):dt.getValueAtTime=it.bind(dt),dt.setGroupProperty=expressionHelpers.setGroupProperty,dt};var at=PropertyFactory.getProp;PropertyFactory.getProp=function(ft,ht,pt,dt,gt){var vt=at(ft,ht,pt,dt,gt);vt.kf?vt.getValueAtTime=expressionHelpers.getValueAtTime.bind(vt):vt.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(vt),vt.setGroupProperty=expressionHelpers.setGroupProperty,vt.loopOut=tt,vt.loopIn=_e,vt.smooth=nt,vt.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(vt),vt.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(vt),vt.numKeys=ht.a===1?ht.k.length:0,vt.propertyIndex=ht.ix;var mt=0;return pt!==0&&(mt=createTypedArray("float32",ht.a===1?ht.k[0].s.length:ht.k.length)),vt._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:mt},expressionHelpers.searchExpressions(ft,ht,vt),vt.k&&gt.addDynamicProperty(vt),vt};var ot=ShapePropertyFactory.getConstructorFunction(),lt=ShapePropertyFactory.getKeyframedConstructorFunction();function ct(){}ct.prototype={vertices:function(ft,ht){this.k&&this.getValue();var pt,dt=this.v;ht!==void 0&&(dt=this.getValueAtTime(ht,0));var gt=dt._length,vt=dt[ft],mt=dt.v,xt=createSizedArray(gt);for(pt=0;pt<gt;pt+=1)xt[pt]=ft==="i"||ft==="o"?[vt[pt][0]-mt[pt][0],vt[pt][1]-mt[pt][1]]:[vt[pt][0],vt[pt][1]];return xt},points:function(ft){return this.vertices("v",ft)},inTangents:function(ft){return this.vertices("i",ft)},outTangents:function(ft){return this.vertices("o",ft)},isClosed:function(){return this.v.c},pointOnPath:function(ft,ht){var pt=this.v;ht!==void 0&&(pt=this.getValueAtTime(ht,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(pt));for(var dt,gt=this._segmentsLength,vt=gt.lengths,mt=gt.totalLength*ft,xt=0,St=vt.length,Et=0;xt<St;){if(Et+vt[xt].addedLength>mt){var bt=xt,Tt=pt.c&&xt===St-1?0:xt+1,At=(mt-Et)/vt[xt].addedLength;dt=bez.getPointInSegment(pt.v[bt],pt.v[Tt],pt.o[bt],pt.i[Tt],At,vt[xt]);break}Et+=vt[xt].addedLength,xt+=1}return dt||(dt=pt.c?[pt.v[0][0],pt.v[0][1]]:[pt.v[pt._length-1][0],pt.v[pt._length-1][1]]),dt},vectorOnPath:function(ft,ht,pt){ft==1?ft=this.v.c:ft==0&&(ft=.999);var dt=this.pointOnPath(ft,ht),gt=this.pointOnPath(ft+.001,ht),vt=gt[0]-dt[0],mt=gt[1]-dt[1],xt=Math.sqrt(Math.pow(vt,2)+Math.pow(mt,2));return xt===0?[0,0]:pt==="tangent"?[vt/xt,mt/xt]:[-mt/xt,vt/xt]},tangentOnPath:function(ft,ht){return this.vectorOnPath(ft,ht,"tangent")},normalOnPath:function(ft,ht){return this.vectorOnPath(ft,ht,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([ct],ot),extendPrototype([ct],lt),lt.prototype.getValueAtTime=function(ft){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),ft*=this.elem.globalData.frameRate,(ft-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<ft?this._caching.lastIndex:0,this._cachingAtTime.lastTime=ft,this.interpolateShape(ft,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},lt.prototype.initiateExpression=ExpressionManager.initiateExpression;var ut=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(ft,ht,pt,dt,gt){var vt=ut(ft,ht,pt,dt,gt);return vt.propertyIndex=ht.ix,vt.lock=!1,pt===3?expressionHelpers.searchExpressions(ft,ht.pt,vt):pt===4&&expressionHelpers.searchExpressions(ft,ht.ks,vt),vt.k&&ft.addDynamicProperty(vt),vt}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(tt,_e){var nt=this.calculateExpression(_e);if(tt.t!==nt){var rt={};return this.copyData(rt,tt),rt.t=nt.toString(),rt.__complete=!1,rt}return tt},TextProperty.prototype.searchProperty=function(){var tt=this.searchKeyframes(),_e=this.searchExpressions();return this.kf=tt||_e,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function(tt,_e){var nt,rt,it=createNS("feMerge");for(it.setAttribute("result",tt),rt=0;rt<_e.length;rt+=1)(nt=createNS("feMergeNode")).setAttribute("in",_e[rt]),it.appendChild(nt),it.appendChild(nt);return it}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(tt,_e,nt,rt,it){this.filterManager=_e;var st=createNS("feColorMatrix");st.setAttribute("type","matrix"),st.setAttribute("color-interpolation-filters","linearRGB"),st.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=st,st.setAttribute("result",rt+"_tint_1"),tt.appendChild(st),(st=createNS("feColorMatrix")).setAttribute("type","matrix"),st.setAttribute("color-interpolation-filters","sRGB"),st.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),st.setAttribute("result",rt+"_tint_2"),tt.appendChild(st),this.matrixFilter=st;var at=this.createMergeNode(rt,[it,rt+"_tint_1",rt+"_tint_2"]);tt.appendChild(at)}function SVGFillFilter(tt,_e,nt,rt){this.filterManager=_e;var it=createNS("feColorMatrix");it.setAttribute("type","matrix"),it.setAttribute("color-interpolation-filters","sRGB"),it.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),it.setAttribute("result",rt),tt.appendChild(it),this.matrixFilter=it}function SVGStrokeEffect(tt,_e,nt){this.initialized=!1,this.filterManager=_e,this.elem=nt,this.paths=[]}function SVGTritoneFilter(tt,_e,nt,rt){this.filterManager=_e;var it=createNS("feColorMatrix");it.setAttribute("type","matrix"),it.setAttribute("color-interpolation-filters","linearRGB"),it.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),tt.appendChild(it);var st=createNS("feComponentTransfer");st.setAttribute("color-interpolation-filters","sRGB"),st.setAttribute("result",rt),this.matrixFilter=st;var at=createNS("feFuncR");at.setAttribute("type","table"),st.appendChild(at),this.feFuncR=at;var ot=createNS("feFuncG");ot.setAttribute("type","table"),st.appendChild(ot),this.feFuncG=ot;var lt=createNS("feFuncB");lt.setAttribute("type","table"),st.appendChild(lt),this.feFuncB=lt,tt.appendChild(st)}function SVGProLevelsFilter(tt,_e,nt,rt){this.filterManager=_e;var it=this.filterManager.effectElements,st=createNS("feComponentTransfer");(it[10].p.k||it[10].p.v!==0||it[11].p.k||it[11].p.v!==1||it[12].p.k||it[12].p.v!==1||it[13].p.k||it[13].p.v!==0||it[14].p.k||it[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",st)),(it[17].p.k||it[17].p.v!==0||it[18].p.k||it[18].p.v!==1||it[19].p.k||it[19].p.v!==1||it[20].p.k||it[20].p.v!==0||it[21].p.k||it[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",st)),(it[24].p.k||it[24].p.v!==0||it[25].p.k||it[25].p.v!==1||it[26].p.k||it[26].p.v!==1||it[27].p.k||it[27].p.v!==0||it[28].p.k||it[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",st)),(it[31].p.k||it[31].p.v!==0||it[32].p.k||it[32].p.v!==1||it[33].p.k||it[33].p.v!==1||it[34].p.k||it[34].p.v!==0||it[35].p.k||it[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",st)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(st.setAttribute("color-interpolation-filters","sRGB"),tt.appendChild(st)),(it[3].p.k||it[3].p.v!==0||it[4].p.k||it[4].p.v!==1||it[5].p.k||it[5].p.v!==1||it[6].p.k||it[6].p.v!==0||it[7].p.k||it[7].p.v!==1)&&((st=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),st.setAttribute("result",rt),tt.appendChild(st),this.feFuncRComposed=this.createFeFunc("feFuncR",st),this.feFuncGComposed=this.createFeFunc("feFuncG",st),this.feFuncBComposed=this.createFeFunc("feFuncB",st))}function SVGDropShadowEffect(tt,_e,nt,rt,it){var st=_e.container.globalData.renderConfig.filterSize,at=_e.data.fs||st;tt.setAttribute("x",at.x||st.x),tt.setAttribute("y",at.y||st.y),tt.setAttribute("width",at.width||st.width),tt.setAttribute("height",at.height||st.height),this.filterManager=_e;var ot=createNS("feGaussianBlur");ot.setAttribute("in","SourceAlpha"),ot.setAttribute("result",rt+"_drop_shadow_1"),ot.setAttribute("stdDeviation","0"),this.feGaussianBlur=ot,tt.appendChild(ot);var lt=createNS("feOffset");lt.setAttribute("dx","25"),lt.setAttribute("dy","0"),lt.setAttribute("in",rt+"_drop_shadow_1"),lt.setAttribute("result",rt+"_drop_shadow_2"),this.feOffset=lt,tt.appendChild(lt);var ct=createNS("feFlood");ct.setAttribute("flood-color","#00ff00"),ct.setAttribute("flood-opacity","1"),ct.setAttribute("result",rt+"_drop_shadow_3"),this.feFlood=ct,tt.appendChild(ct);var ut=createNS("feComposite");ut.setAttribute("in",rt+"_drop_shadow_3"),ut.setAttribute("in2",rt+"_drop_shadow_2"),ut.setAttribute("operator","in"),ut.setAttribute("result",rt+"_drop_shadow_4"),tt.appendChild(ut);var ft=this.createMergeNode(rt,[rt+"_drop_shadow_4",it]);tt.appendChild(ft)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(tt){if(tt||this.filterManager._mdf){var _e=this.filterManager.effectElements[0].p.v,nt=this.filterManager.effectElements[1].p.v,rt=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+rt+" 0"),this.matrixFilter.setAttribute("values",nt[0]-_e[0]+" 0 0 0 "+_e[0]+" "+(nt[1]-_e[1])+" 0 0 0 "+_e[1]+" "+(nt[2]-_e[2])+" 0 0 0 "+_e[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(tt){if(tt||this.filterManager._mdf){var _e=this.filterManager.effectElements[2].p.v,nt=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+_e[0]+" 0 0 0 0 "+_e[1]+" 0 0 0 0 "+_e[2]+" 0 0 0 "+nt+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var tt,_e,nt,rt,it=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(this.filterManager.effectElements[1].p.v===1?(rt=this.elem.maskManager.masksProperties.length,nt=0):rt=1+(nt=this.filterManager.effectElements[0].p.v-1),(_e=createNS("g")).setAttribute("fill","none"),_e.setAttribute("stroke-linecap","round"),_e.setAttribute("stroke-dashoffset",1);nt<rt;nt+=1)tt=createNS("path"),_e.appendChild(tt),this.paths.push({p:tt,m:nt});if(this.filterManager.effectElements[10].p.v===3){var st=createNS("mask"),at=createElementID();st.setAttribute("id",at),st.setAttribute("mask-type","alpha"),st.appendChild(_e),this.elem.globalData.defs.appendChild(st);var ot=createNS("g");for(ot.setAttribute("mask","url("+getLocationHref()+"#"+at+")");it[0];)ot.appendChild(it[0]);this.elem.layerElement.appendChild(ot),this.masker=st,_e.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(it=this.elem.layerElement.children||this.elem.layerElement.childNodes;it.length;)this.elem.layerElement.removeChild(it[0]);this.elem.layerElement.appendChild(_e),this.elem.layerElement.removeAttribute("mask"),_e.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=_e},SVGStrokeEffect.prototype.renderFrame=function(tt){var _e;this.initialized||this.initialize();var nt,rt,it=this.paths.length;for(_e=0;_e<it;_e+=1)if(this.paths[_e].m!==-1&&(nt=this.elem.maskManager.viewData[this.paths[_e].m],rt=this.paths[_e].p,(tt||this.filterManager._mdf||nt.prop._mdf)&&rt.setAttribute("d",nt.lastPath),tt||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||nt.prop._mdf)){var st;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var at=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),ot=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),lt=rt.getTotalLength();st="0 0 0 "+lt*at+" ";var ct,ut=lt*(ot-at),ft=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,ht=Math.floor(ut/ft);for(ct=0;ct<ht;ct+=1)st+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";st+="0 "+10*lt+" 0 0"}else st="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;rt.setAttribute("stroke-dasharray",st)}if((tt||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(tt||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(tt||this.filterManager.effectElements[3].p._mdf)){var pt=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*pt[0])+","+bmFloor(255*pt[1])+","+bmFloor(255*pt[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(tt){if(tt||this.filterManager._mdf){var _e=this.filterManager.effectElements[0].p.v,nt=this.filterManager.effectElements[1].p.v,rt=this.filterManager.effectElements[2].p.v,it=rt[0]+" "+nt[0]+" "+_e[0],st=rt[1]+" "+nt[1]+" "+_e[1],at=rt[2]+" "+nt[2]+" "+_e[2];this.feFuncR.setAttribute("tableValues",it),this.feFuncG.setAttribute("tableValues",st),this.feFuncB.setAttribute("tableValues",at)}},SVGProLevelsFilter.prototype.createFeFunc=function(tt,_e){var nt=createNS(tt);return nt.setAttribute("type","table"),_e.appendChild(nt),nt},SVGProLevelsFilter.prototype.getTableValue=function(tt,_e,nt,rt,it){for(var st,at,ot=0,lt=Math.min(tt,_e),ct=Math.max(tt,_e),ut=Array.call(null,{length:256}),ft=0,ht=it-rt,pt=_e-tt;ot<=256;)at=(st=ot/256)<=lt?pt<0?it:rt:st>=ct?pt<0?rt:it:rt+ht*Math.pow((st-tt)/pt,1/nt),ut[ft]=at,ft+=1,ot+=256/255;return ut.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(tt){if(tt||this.filterManager._mdf){var _e,nt=this.filterManager.effectElements;this.feFuncRComposed&&(tt||nt[3].p._mdf||nt[4].p._mdf||nt[5].p._mdf||nt[6].p._mdf||nt[7].p._mdf)&&(_e=this.getTableValue(nt[3].p.v,nt[4].p.v,nt[5].p.v,nt[6].p.v,nt[7].p.v),this.feFuncRComposed.setAttribute("tableValues",_e),this.feFuncGComposed.setAttribute("tableValues",_e),this.feFuncBComposed.setAttribute("tableValues",_e)),this.feFuncR&&(tt||nt[10].p._mdf||nt[11].p._mdf||nt[12].p._mdf||nt[13].p._mdf||nt[14].p._mdf)&&(_e=this.getTableValue(nt[10].p.v,nt[11].p.v,nt[12].p.v,nt[13].p.v,nt[14].p.v),this.feFuncR.setAttribute("tableValues",_e)),this.feFuncG&&(tt||nt[17].p._mdf||nt[18].p._mdf||nt[19].p._mdf||nt[20].p._mdf||nt[21].p._mdf)&&(_e=this.getTableValue(nt[17].p.v,nt[18].p.v,nt[19].p.v,nt[20].p.v,nt[21].p.v),this.feFuncG.setAttribute("tableValues",_e)),this.feFuncB&&(tt||nt[24].p._mdf||nt[25].p._mdf||nt[26].p._mdf||nt[27].p._mdf||nt[28].p._mdf)&&(_e=this.getTableValue(nt[24].p.v,nt[25].p.v,nt[26].p.v,nt[27].p.v,nt[28].p.v),this.feFuncB.setAttribute("tableValues",_e)),this.feFuncA&&(tt||nt[31].p._mdf||nt[32].p._mdf||nt[33].p._mdf||nt[34].p._mdf||nt[35].p._mdf)&&(_e=this.getTableValue(nt[31].p.v,nt[32].p.v,nt[33].p.v,nt[34].p.v,nt[35].p.v),this.feFuncA.setAttribute("tableValues",_e))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(tt){if(tt||this.filterManager._mdf){if((tt||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),tt||this.filterManager.effectElements[0].p._mdf){var _e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*_e[0]),Math.round(255*_e[1]),Math.round(255*_e[2])))}if((tt||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),tt||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var nt=this.filterManager.effectElements[3].p.v,rt=(this.filterManager.effectElements[2].p.v-90)*degToRads,it=nt*Math.cos(rt),st=nt*Math.sin(rt);this.feOffset.setAttribute("dx",it),this.feOffset.setAttribute("dy",st)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(tt,_e,nt){this.initialized=!1,this.filterManager=_e,this.filterElem=tt,this.elem=nt,nt.matteElement=createNS("g"),nt.matteElement.appendChild(nt.layerElement),nt.matteElement.appendChild(nt.transformedElement),nt.baseElement=nt.matteElement}function SVGGaussianBlurEffect(tt,_e,nt,rt){tt.setAttribute("x","-100%"),tt.setAttribute("y","-100%"),tt.setAttribute("width","300%"),tt.setAttribute("height","300%"),this.filterManager=_e;var it=createNS("feGaussianBlur");it.setAttribute("result",rt),tt.appendChild(it),this.feGaussianBlur=it}function TransformEffect(){}function SVGTransformEffect(tt,_e){this.init(_e)}function CVTransformEffect(tt){this.init(tt)}return SVGMatte3Effect.prototype.findSymbol=function(tt){for(var _e=0,nt=_svgMatteSymbols.length;_e<nt;){if(_svgMatteSymbols[_e]===tt)return _svgMatteSymbols[_e];_e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(tt,_e){var nt=tt.layerElement.parentNode;if(nt){for(var rt,it=nt.children,st=0,at=it.length;st<at&&it[st]!==tt.layerElement;)st+=1;st<=at-2&&(rt=it[st+1]);var ot=createNS("use");ot.setAttribute("href","#"+_e),rt?nt.insertBefore(ot,rt):nt.appendChild(ot)}},SVGMatte3Effect.prototype.setElementAsMask=function(tt,_e){if(!this.findSymbol(_e)){var nt=createElementID(),rt=createNS("mask");rt.setAttribute("id",_e.layerId),rt.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(_e);var it=tt.globalData.defs;it.appendChild(rt);var st=createNS("symbol");st.setAttribute("id",nt),this.replaceInParent(_e,nt),st.appendChild(_e.layerElement),it.appendChild(st);var at=createNS("use");at.setAttribute("href","#"+nt),rt.appendChild(at),_e.data.hd=!1,_e.show()}tt.setMatte(_e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var tt=this.filterManager.effectElements[0].p.v,_e=this.elem.comp.elements,nt=0,rt=_e.length;nt<rt;)_e[nt]&&_e[nt].data.ind===tt&&this.setElementAsMask(this.elem,_e[nt]),nt+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(tt){if(tt||this.filterManager._mdf){var _e=.3*this.filterManager.effectElements[0].p.v,nt=this.filterManager.effectElements[1].p.v,rt=nt==3?0:_e,it=nt==2?0:_e;this.feGaussianBlur.setAttribute("stdDeviation",rt+" "+it);var st=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",st)}},TransformEffect.prototype.init=function(tt){this.effectsManager=tt,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(tt){if(this._opMdf=!1,this._mdf=!1,tt||this.effectsManager._mdf){var _e=this.effectsManager.effectElements,nt=_e[0].p.v,rt=_e[1].p.v,it=_e[2].p.v===1,st=_e[3].p.v,at=it?st:_e[4].p.v,ot=_e[5].p.v,lt=_e[6].p.v,ct=_e[7].p.v;this.matrix.reset(),this.matrix.translate(-nt[0],-nt[1],nt[2]),this.matrix.scale(.01*at,.01*st,1),this.matrix.rotate(-ct*degToRads),this.matrix.skewFromAxis(-ot*degToRads,(lt+90)*degToRads),this.matrix.translate(rt[0],rt[1],0),this._mdf=!0,this.opacity!==_e[8].p.v&&(this.opacity=_e[8].p.v,this._opMdf=!0)}},extendPrototype([TransformEffect],SVGTransformEffect),extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie},module.exports=factory())})(lottie$1$1,lottie$1$1.exports);var _templateObject$1,styles$1=r$3(_templateObject$1||(_templateObject$1=_taggedTemplateLiteral([`
  * {
    box-sizing: border-box;
  }

  :host {
    --lottie-player-toolbar-height: 35px;
    --lottie-player-toolbar-background-color: transparent;
    --lottie-player-toolbar-icon-color: #999;
    --lottie-player-toolbar-icon-hover-color: #222;
    --lottie-player-toolbar-icon-active-color: #555;
    --lottie-player-seeker-track-color: #ccc;
    --lottie-player-seeker-thumb-color: rgba(0, 107, 120, 0.8);
    --lottie-player-seeker-display: block;

    display: block;
    width: 100%;
    height: 100%;
  }

  .main {
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 100%;
  }

  .animation {
    width: 100%;
    height: 100%;
    display: flex;
  }
  .animation.controls {
    height: calc(100% - 35px);
  }

  .toolbar {
    display: flex;
    align-items: center;
    justify-items: center;
    background-color: var(--lottie-player-toolbar-background-color);
    margin: 0 5px;
    height: 35px;
  }

  .toolbar button {
    cursor: pointer;
    fill: var(--lottie-player-toolbar-icon-color);
    display: flex;
    background: none;
    border: 0;
    padding: 0;
    outline: none;
    height: 100%;
  }

  .toolbar button:hover {
    fill: var(--lottie-player-toolbar-icon-hover-color);
  }

  .toolbar button.active {
    fill: var(--lottie-player-toolbar-icon-active-color);
  }

  .toolbar button.active:hover {
    fill: var(--lottie-player-toolbar-icon-hover-color);
  }

  .toolbar button:focus {
    outline: 1px dotted var(--lottie-player-toolbar-icon-active-color);
  }

  .toolbar button svg {
  }

  .toolbar button.disabled svg {
    display: none;
  }

  .seeker {
    -webkit-appearance: none;
    width: 95%;
    outline: none;
    background-color: var(--lottie-player-toolbar-background-color);
    display: var(--lottie-player-seeker-display);
  }

  .seeker::-webkit-slider-runnable-track {
    width: 100%;
    height: 5px;
    cursor: pointer;
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-webkit-slider-thumb {
    height: 15px;
    width: 15px;
    border-radius: 50%;
    background: var(--lottie-player-seeker-thumb-color);
    cursor: pointer;
    -webkit-appearance: none;
    margin-top: -5px;
  }
  .seeker:focus::-webkit-slider-runnable-track {
    background: #999;
  }
  .seeker::-moz-range-track {
    width: 100%;
    height: 5px;
    cursor: pointer;
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-moz-range-thumb {
    height: 15px;
    width: 15px;
    border-radius: 50%;
    background: var(--lottie-player-seeker-thumb-color);
    cursor: pointer;
  }
  .seeker::-ms-track {
    width: 100%;
    height: 5px;
    cursor: pointer;
    background: transparent;
    border-color: transparent;
    color: transparent;
  }
  .seeker::-ms-fill-lower {
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-ms-fill-upper {
    background: var(--lottie-player-seeker-track-color);
    border-radius: 3px;
  }
  .seeker::-ms-thumb {
    border: 0;
    height: 15px;
    width: 15px;
    border-radius: 50%;
    background: var(--lottie-player-seeker-thumb-color);
    cursor: pointer;
  }
  .seeker:focus::-ms-fill-lower {
    background: var(--lottie-player-seeker-track-color);
  }
  .seeker:focus::-ms-fill-upper {
    background: var(--lottie-player-seeker-track-color);
  }

  .error {
    display: flex;
    justify-content: center;
    height: 100%;
    align-items: center;
  }
`]))),version$1="2.0.12",dependencies={"@types/pako":"^1.0.1",lit:"^2.1.2","lottie-web":"^5.12.2",pako:"^2.0.4","resize-observer-polyfill":"^1.5.1"},_templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,PlayerState,PlayMode,PlayerEvents;function parseSrc(tt){if(typeof tt=="object")return tt;try{return JSON.parse(tt)}catch{return new URL(tt,window.location.href).toString()}}function isLottie(tt){return["v","ip","op","layers","fr","w","h"].every(_e=>Object.prototype.hasOwnProperty.call(tt,_e))}function fromURL(tt){return _fromURL.apply(this,arguments)}function _fromURL(){return(_fromURL=_asyncToGenerator(function*(tt){if(typeof tt!="string")throw new Error("The url value must be a string");var _e;try{var nt=new URL(tt),rt=yield fetch(nt.toString());_e=yield rt.json()}catch{throw new Error("An error occurred while trying to load the Lottie file from URL")}return _e})).apply(this,arguments)}(function(tt){tt.Destroyed="destroyed",tt.Error="error",tt.Frozen="frozen",tt.Loading="loading",tt.Paused="paused",tt.Playing="playing",tt.Stopped="stopped"})(PlayerState||(PlayerState={})),function(tt){tt.Bounce="bounce",tt.Normal="normal"}(PlayMode||(PlayMode={})),function(tt){tt.Complete="complete",tt.Destroyed="destroyed",tt.Error="error",tt.Frame="frame",tt.Freeze="freeze",tt.Load="load",tt.Loop="loop",tt.Pause="pause",tt.Play="play",tt.Ready="ready",tt.Rendered="rendered",tt.Stop="stop"}(PlayerEvents||(PlayerEvents={}));var LottiePlayer=class extends s$4{constructor(){super(...arguments),this.autoplay=!1,this.background="transparent",this.controls=!1,this.currentState=PlayerState.Loading,this.description="Lottie animation",this.direction=1,this.disableCheck=!1,this.disableShadowDOM=!1,this.hover=!1,this.intermission=1,this.loop=!1,this.mode=PlayMode.Normal,this.preserveAspectRatio="xMidYMid meet",this.renderer="svg",this.speed=1,this._io=void 0,this._counter=1,this._onVisibilityChange=()=>{document.hidden===!0&&this.currentState===PlayerState.Playing?this.freeze():this.currentState===PlayerState.Frozen&&this.play()}}load(tt){var _e=this;return _asyncToGenerator(function*(){var nt={container:_e.container,loop:!1,autoplay:!1,renderer:_e.renderer,rendererSettings:Object.assign({preserveAspectRatio:_e.preserveAspectRatio,clearCanvas:!1,progressiveLoad:!0,hideOnTransparent:!0},_e.viewBoxSize&&{viewBoxSize:_e.viewBoxSize})};try{var rt=parseSrc(tt),it={},st=typeof rt=="string"?"path":"animationData";_e._lottie&&_e._lottie.destroy(),_e.webworkers&&lottie$1$1.exports.useWebWorker(!0),_e._lottie=lottie$1$1.exports.loadAnimation(Object.assign(Object.assign({},nt),{[st]:rt})),_e._attachEventListeners(),_e.disableCheck||(st==="path"?(it=yield fromURL(rt),st="animationData"):it=rt,isLottie(it)||(_e.currentState=PlayerState.Error,_e.dispatchEvent(new CustomEvent(PlayerEvents.Error))))}catch{_e.currentState=PlayerState.Error,_e.dispatchEvent(new CustomEvent(PlayerEvents.Error))}})()}getLottie(){return this._lottie}getVersions(){return{lottieWebVersion:dependencies["lottie-web"],lottiePlayerVersion:version$1}}play(){this._lottie&&(this._lottie.play(),this.currentState=PlayerState.Playing,this.dispatchEvent(new CustomEvent(PlayerEvents.Play)))}pause(){this._lottie&&(this._lottie.pause(),this.currentState=PlayerState.Paused,this.dispatchEvent(new CustomEvent(PlayerEvents.Pause)))}stop(){this._lottie&&(this._counter=1,this._lottie.stop(),this.currentState=PlayerState.Stopped,this.dispatchEvent(new CustomEvent(PlayerEvents.Stop)))}destroy(){this._lottie&&(this._lottie.destroy(),this._lottie=null,this.currentState=PlayerState.Destroyed,this.dispatchEvent(new CustomEvent(PlayerEvents.Destroyed)),this.remove())}seek(tt){if(this._lottie){var _e=/^(\d+)(%?)$/.exec(tt.toString());if(_e){var nt=_e[2]==="%"?this._lottie.totalFrames*Number(_e[1])/100:Number(_e[1]);this.seeker=nt,this.currentState===PlayerState.Playing?this._lottie.goToAndPlay(nt,!0):(this._lottie.goToAndStop(nt,!0),this._lottie.pause())}}}snapshot(){var tt=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];if(this.shadowRoot){var _e=this.shadowRoot.querySelector(".animation svg"),nt=new XMLSerializer().serializeToString(_e);if(tt){var rt=document.createElement("a");rt.href="data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(nt)),rt.download="download_".concat(this.seeker,".svg"),document.body.appendChild(rt),rt.click(),document.body.removeChild(rt)}return nt}}setSpeed(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this._lottie&&this._lottie.setSpeed(tt)}setDirection(tt){this._lottie&&this._lottie.setDirection(tt)}setLooping(tt){this._lottie&&(this.loop=tt,this._lottie.loop=tt)}togglePlay(){return this.currentState===PlayerState.Playing?this.pause():this.play()}toggleLooping(){this.setLooping(!this.loop)}resize(){this._lottie&&this._lottie.resize()}static get styles(){return styles$1}disconnectedCallback(){this.isConnected||(this._io&&(this._io.disconnect(),this._io=void 0),document.removeEventListener("visibilitychange",this._onVisibilityChange),this.destroy())}render(){var tt=this.controls?"main controls":"main",_e=this.controls?"animation controls":"animation";return $$1(_templateObject||(_templateObject=_taggedTemplateLiteral([` <div
      id="animation-container"
      class=`,`
      lang="en"
      aria-label=`,`
      role="img"
    >
      <div
        id="animation"
        class=`,`
        style="background:`,`;"
      >
        `,`
      </div>
      `,`
    </div>`])),tt,this.description,_e,this.background,this.currentState===PlayerState.Error?$$1(_templateObject2||(_templateObject2=_taggedTemplateLiteral(['<div class="error"></div>']))):void 0,this.controls&&!this.disableShadowDOM?this.renderControls():void 0)}createRenderRoot(){return this.disableShadowDOM&&(this.style.display="block"),this.disableShadowDOM?this:super.createRenderRoot()}firstUpdated(){"IntersectionObserver"in window&&(this._io=new IntersectionObserver(tt=>{tt[0].isIntersecting?this.currentState===PlayerState.Frozen&&this.play():this.currentState===PlayerState.Playing&&this.freeze()}),this._io.observe(this.container)),document.hidden!==void 0&&document.addEventListener("visibilitychange",this._onVisibilityChange),this.src&&this.load(this.src),this.dispatchEvent(new CustomEvent(PlayerEvents.Rendered))}renderControls(){var tt=this.currentState===PlayerState.Playing,_e=this.currentState===PlayerState.Paused,nt=this.currentState===PlayerState.Stopped;return $$1(_templateObject3||(_templateObject3=_taggedTemplateLiteral([`
      <div
        id="lottie-controls"
        aria-label="lottie-animation-controls"
        class="toolbar"
      >
        <button
          id="lottie-play-button"
          @click=`,`
          class=`,`
          style="align-items:center;"
          tabindex="0"
          aria-label="play-pause"
        >
          `,`
        </button>
        <button
          id="lottie-stop-button"
          @click=`,`
          class=`,`
          style="align-items:center;"
          tabindex="0"
          aria-label="stop"
        >
          <svg width="24" height="24" aria-hidden="true" focusable="false">
            <path d="M6 6h12v12H6V6z" />
          </svg>
        </button>
        <input
          id="lottie-seeker-input"
          class="seeker"
          type="range"
          min="0"
          step="1"
          max="100"
          .value=`,`
          @input=`,`
          @mousedown=`,`
          @mouseup=`,`
          aria-valuemin="1"
          aria-valuemax="100"
          role="slider"
          aria-valuenow=`,`
          tabindex="0"
          aria-label="lottie-seek-input"
        />
        <button
          id="lottie-loop-toggle"
          @click=`,`
          class=`,`
          style="align-items:center;"
          tabindex="0"
          aria-label="loop-toggle"
        >
          <svg width="24" height="24" aria-hidden="true" focusable="false">
            <path
              d="M17.016 17.016v-4.031h1.969v6h-12v3l-3.984-3.984 3.984-3.984v3h10.031zM6.984 6.984v4.031H5.015v-6h12v-3l3.984 3.984-3.984 3.984v-3H6.984z"
            />
          </svg>
        </button>
      </div>
    `])),this.togglePlay,tt||_e?"active":"",$$1(tt?_templateObject4||(_templateObject4=_taggedTemplateLiteral([`<svg
                width="24"
                height="24"
                aria-hidden="true"
                focusable="false"
              >
                <path
                  d="M14.016 5.016H18v13.969h-3.984V5.016zM6 18.984V5.015h3.984v13.969H6z"
                />
              </svg>`])):_templateObject5||(_templateObject5=_taggedTemplateLiteral([`<svg
                width="24"
                height="24"
                aria-hidden="true"
                focusable="false"
              >
                <path d="M8.016 5.016L18.985 12 8.016 18.984V5.015z" />
              </svg>`]))),this.stop,nt?"active":"",this.seeker,this._handleSeekChange,()=>{this._prevState=this.currentState,this.freeze()},()=>{this._prevState===PlayerState.Playing&&this.play()},this.seeker,this.toggleLooping,this.loop?"active":"")}_handleSeekChange(tt){if(this._lottie&&!isNaN(tt.target.value)){var _e=tt.target.value/100*this._lottie.totalFrames;this.seek(_e)}}_attachEventListeners(){this._lottie.addEventListener("enterFrame",()=>{this.seeker=this._lottie.currentFrame/this._lottie.totalFrames*100,this.dispatchEvent(new CustomEvent(PlayerEvents.Frame,{detail:{frame:this._lottie.currentFrame,seeker:this.seeker}}))}),this._lottie.addEventListener("complete",()=>{if(this.currentState===PlayerState.Playing){if((!this.loop||this.count&&this._counter>=this.count)&&(this.dispatchEvent(new CustomEvent(PlayerEvents.Complete)),this.mode!==PlayMode.Bounce||this._lottie.currentFrame===0))return;this.mode===PlayMode.Bounce?(this.count&&(this._counter+=.5),setTimeout(()=>{this.dispatchEvent(new CustomEvent(PlayerEvents.Loop)),this.currentState===PlayerState.Playing&&(this._lottie.setDirection(-1*this._lottie.playDirection),this._lottie.play())},this.intermission)):(this.count&&(this._counter+=1),window.setTimeout(()=>{this.dispatchEvent(new CustomEvent(PlayerEvents.Loop)),this.currentState===PlayerState.Playing&&(this.direction===-1?(this.seek("99%"),this.play()):(this._lottie.stop(),this._lottie.play()))},this.intermission))}else this.dispatchEvent(new CustomEvent(PlayerEvents.Complete))}),this._lottie.addEventListener("DOMLoaded",()=>{this.setSpeed(this.speed),this.setDirection(this.direction),this.autoplay&&(this.direction===-1&&this.seek("100%"),this.play()),this.dispatchEvent(new CustomEvent(PlayerEvents.Ready))}),this._lottie.addEventListener("data_ready",()=>{this.dispatchEvent(new CustomEvent(PlayerEvents.Load))}),this._lottie.addEventListener("data_failed",()=>{this.currentState=PlayerState.Error,this.dispatchEvent(new CustomEvent(PlayerEvents.Error))}),this.container.addEventListener("mouseenter",()=>{this.hover&&this.currentState!==PlayerState.Playing&&this.play()}),this.container.addEventListener("mouseleave",()=>{this.hover&&this.currentState===PlayerState.Playing&&this.stop()})}freeze(){this._lottie&&(this._lottie.pause(),this.currentState=PlayerState.Frozen,this.dispatchEvent(new CustomEvent(PlayerEvents.Freeze)))}};__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"autoplay",void 0),__decorate([e$5({type:String,reflect:!0})],LottiePlayer.prototype,"background",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"controls",void 0),__decorate([e$5({type:Number})],LottiePlayer.prototype,"count",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"currentState",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"description",void 0),__decorate([e$5({type:Number})],LottiePlayer.prototype,"direction",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"disableCheck",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"disableShadowDOM",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"hover",void 0),__decorate([e$5()],LottiePlayer.prototype,"intermission",void 0),__decorate([e$5({type:Boolean,reflect:!0})],LottiePlayer.prototype,"loop",void 0),__decorate([e$5()],LottiePlayer.prototype,"mode",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"preserveAspectRatio",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"renderer",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"viewBoxSize",void 0),__decorate([e$5()],LottiePlayer.prototype,"seeker",void 0),__decorate([e$5({type:Number})],LottiePlayer.prototype,"speed",void 0),__decorate([e$5({type:String})],LottiePlayer.prototype,"src",void 0),__decorate([e$5({type:Boolean})],LottiePlayer.prototype,"webworkers",void 0),__decorate([i$4(".animation")],LottiePlayer.prototype,"container",void 0),LottiePlayer=__decorate([n$1("lottie-player")],LottiePlayer);const Metric1$1=({className:tt,above:_e,mainmetric:nt,below:rt,color:it="#555555"})=>jsxRuntimeExports.jsxs("div",{className:`metric1_card ${tt||""}`,children:[jsxRuntimeExports.jsx("p",{className:"metric1_above",children:_e}),jsxRuntimeExports.jsx("p",{className:"metric1_main_number",style:{color:it},children:nt}),jsxRuntimeExports.jsx("p",{className:"metric1_below",children:rt})]});function e(tt){return(e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e})(tt)}function t(tt,_e){if(!(tt instanceof _e))throw new TypeError("Cannot call a class as a function")}function n(tt,_e){for(var nt=0;nt<_e.length;nt++){var rt=_e[nt];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(tt,rt.key,rt)}}function i$2(tt,_e,nt){return _e in tt?Object.defineProperty(tt,_e,{value:nt,enumerable:!0,configurable:!0,writable:!0}):tt[_e]=nt,tt}function a(tt,_e){if(tt==null)return{};var nt,rt,it=function(at,ot){if(at==null)return{};var lt,ct,ut={},ft=Object.keys(at);for(ct=0;ct<ft.length;ct++)lt=ft[ct],ot.indexOf(lt)>=0||(ut[lt]=at[lt]);return ut}(tt,_e);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(tt);for(rt=0;rt<st.length;rt++)nt=st[rt],_e.indexOf(nt)>=0||Object.prototype.propertyIsEnumerable.call(tt,nt)&&(it[nt]=tt[nt])}return it}function r(tt,_e){var nt=_e.get(tt);if(!nt)throw new TypeError("attempted to get private field on non-instance");return nt.get?nt.get.call(tt):nt.value}var o={player:"lottie-player"},s="[lottieInteractivity]:",l=function(){function tt(){var rt=this,it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o,st=it.actions,at=it.container,ot=it.mode,lt=it.player,ct=a(it,["actions","container","mode","player"]);if(t(this,tt),c.set(this,{writable:!0,value:function(){if(rt.player){var ht=function(){rt.player.addEventListener("enterFrame",r(rt,E$1)),rt.container.addEventListener("mouseenter",r(rt,g$1)),rt.container.addEventListener("mouseleave",r(rt,w)),rt.container.addEventListener("touchstart",r(rt,g$1),{passive:!0}),rt.container.addEventListener("touchend",r(rt,w),{passive:!0})},pt=function(){rt.container.addEventListener("mouseenter",r(rt,g$1)),rt.container.addEventListener("mouseleave",r(rt,w)),rt.container.addEventListener("touchstart",r(rt,g$1),{passive:!0}),rt.container.addEventListener("touchend",r(rt,w),{passive:!0})};rt.stateHandler.set("loop",function(){rt.actions[rt.interactionIdx].loop?rt.player.loop=parseInt(rt.actions[rt.interactionIdx].loop)-1:rt.player.loop=!0,rt.player.autoplay=!0}),rt.stateHandler.set("autoplay",function(){rt.player.loop=!1,rt.player.autoplay=!0}),rt.stateHandler.set("click",function(){rt.player.loop=!1,rt.player.autoplay=!1,rt.container.addEventListener("click",r(rt,p))}),rt.stateHandler.set("hover",function(){rt.player.loop=!1,rt.player.autoplay=!1,rt.container.addEventListener("mouseenter",r(rt,p)),rt.container.addEventListener("touchstart",r(rt,p),{passive:!0})}),rt.stateHandler.set("hold",pt),rt.stateHandler.set("pauseHold",pt),rt.transitionHandler.set("click",function(){rt.container.addEventListener("click",r(rt,h))}),rt.transitionHandler.set("hover",function(){rt.container.addEventListener("mouseenter",r(rt,h)),rt.container.addEventListener("touchstart",r(rt,h),{passive:!0})}),rt.transitionHandler.set("hold",ht),rt.transitionHandler.set("pauseHold",ht),rt.transitionHandler.set("repeat",function(){rt.player.loop=!0,rt.player.autoplay=!0,rt.player.addEventListener("loopComplete",function dt(){r(rt,f).call(rt,{handler:dt})})}),rt.transitionHandler.set("onComplete",function(){rt.actions[rt.interactionIdx].state==="loop"?rt.player.addEventListener("loopComplete",r(rt,m)):rt.player.addEventListener("complete",r(rt,m))}),rt.transitionHandler.set("seek",function(){rt.player.stop(),rt.player.addEventListener("enterFrame",r(rt,L)),rt.container.addEventListener("mousemove",r(rt,y)),rt.container.addEventListener("touchmove",r(rt,u),{passive:!1}),rt.container.addEventListener("mouseout",r(rt,v))})}}}),p.set(this,{writable:!0,value:function(){var ht=rt.actions[rt.interactionIdx].forceFlag;ht||rt.player.isPaused!==!0?ht&&r(rt,x$1).call(rt,!0):r(rt,x$1).call(rt,!0)}}),d.set(this,{writable:!0,value:function(){rt.clickCounter===0?(rt.player.play(),rt.clickCounter++):(rt.clickCounter++,rt.player.setDirection(-1*rt.player.playDirection),rt.player.play())}}),h.set(this,{writable:!0,value:function(){var ht=rt.actions[rt.interactionIdx].forceFlag,pt=rt.actions[rt.interactionIdx].state,dt=rt.actions[rt.interactionIdx].transition;if(rt.mode==="chain"){if(rt.actions[rt.interactionIdx].count){var gt=parseInt(rt.actions[rt.interactionIdx].count);if(rt.clickCounter<gt-1)return void(rt.clickCounter+=1)}return rt.clickCounter=0,!ht&&dt==="click"&&pt==="click"||dt==="hover"&&pt==="hover"?rt.transitionHandler.get("onComplete").call():rt.nextInteraction(),rt.container.removeEventListener("click",r(rt,h)),void rt.container.removeEventListener("mouseenter",r(rt,h))}ht||rt.player.isPaused!==!0?ht&&rt.player.goToAndPlay(0,!0):rt.player.goToAndPlay(0,!0)}}),y.set(this,{writable:!0,value:function(ht){r(rt,S).call(rt,ht.clientX,ht.clientY)}}),u.set(this,{writable:!0,value:function(ht){ht.cancelable&&ht.preventDefault(),r(rt,S).call(rt,ht.touches[0].clientX,ht.touches[0].clientY)}}),v.set(this,{writable:!0,value:function(){r(rt,S).call(rt,-1,-1)}}),m.set(this,{writable:!0,value:function(){rt.actions[rt.interactionIdx].state==="loop"?rt.player.removeEventListener("loopComplete",r(rt,m)):rt.player.removeEventListener("complete",r(rt,m)),rt.nextInteraction()}}),f.set(this,{writable:!0,value:function(ht){var pt=ht.handler,dt=1;rt.actions[rt.interactionIdx].repeat&&(dt=rt.actions[rt.interactionIdx].repeat),rt.playCounter>=dt-1?(rt.playCounter=0,rt.player.removeEventListener("loopComplete",pt),rt.player.loop=!1,rt.player.autoplay=!1,rt.nextInteraction()):rt.playCounter+=1}}),L.set(this,{writable:!0,value:function(){var ht=rt.actions[rt.interactionIdx].frames;ht&&rt.player.currentFrame>=parseInt(ht[1])-1&&(rt.player.removeEventListener("enterFrame",r(rt,L)),rt.container.removeEventListener("mousemove",r(rt,y)),rt.container.removeEventListener("mouseout",r(rt,v)),setTimeout(rt.nextInteraction,0))}}),E$1.set(this,{writable:!0,value:function(){var ht=rt.actions[rt.interactionIdx].frames;(ht&&rt.player.currentFrame>=ht[1]||rt.player.currentFrame>=rt.player.totalFrames-1)&&(rt.player.removeEventListener("enterFrame",r(rt,E$1)),rt.container.removeEventListener("mouseenter",r(rt,g$1)),rt.container.removeEventListener("mouseleave",r(rt,w)),rt.container.removeEventListener("touchstart",r(rt,g$1),{passive:!0}),rt.container.removeEventListener("touchend",r(rt,w),{passive:!0}),rt.player.pause(),rt.holdStatus=!1,rt.nextInteraction()),rt.player.playDirection===-1&&ht&&rt.player.currentFrame<ht[0]&&rt.player.pause()}}),g$1.set(this,{writable:!0,value:function(){rt.player.playDirection!==-1&&rt.holdStatus!==null&&rt.holdStatus||(rt.player.setDirection(1),rt.player.play(),rt.holdStatus=!0)}}),w.set(this,{writable:!0,value:function(){rt.actions[rt.interactionIdx].transition==="hold"||rt.actions[rt.interactionIdx].state==="hold"||rt.actions[0].type==="hold"?(rt.player.setDirection(-1),rt.player.play()):rt.actions[rt.interactionIdx].transition!=="pauseHold"&&rt.actions[rt.interactionIdx].state!=="pauseHold"&&rt.actions[0].type!=="pauseHold"||rt.player.pause(),rt.holdStatus=!1}}),I$1.set(this,{writable:!0,value:function(){if(rt.container.removeEventListener("click",r(rt,h)),rt.container.removeEventListener("click",r(rt,p)),rt.container.removeEventListener("mouseenter",r(rt,h)),rt.container.removeEventListener("touchstart",r(rt,h)),rt.container.removeEventListener("touchmove",r(rt,u)),rt.container.removeEventListener("mouseenter",r(rt,p)),rt.container.removeEventListener("touchstart",r(rt,p)),rt.container.removeEventListener("mouseenter",r(rt,g$1)),rt.container.removeEventListener("touchstart",r(rt,g$1)),rt.container.removeEventListener("mouseleave",r(rt,w)),rt.container.removeEventListener("mousemove",r(rt,y)),rt.container.removeEventListener("mouseout",r(rt,v)),rt.container.removeEventListener("touchend",r(rt,w)),rt.player)try{rt.player.removeEventListener("loopComplete",r(rt,m)),rt.player.removeEventListener("complete",r(rt,m)),rt.player.removeEventListener("enterFrame",r(rt,L)),rt.player.removeEventListener("enterFrame",r(rt,E$1))}catch{}}}),i$2(this,"jumpToInteraction",function(ht){r(rt,I$1).call(rt),rt.interactionIdx=ht,rt.interactionIdx<0?rt.interactionIdx=0:rt.interactionIdx,rt.nextInteraction(!1)}),i$2(this,"nextInteraction",function(){var ht=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];rt.oldInterctionIdx=rt.interactionIdx,r(rt,I$1).call(rt),rt.player.loop=!1;var pt=rt.actions[rt.interactionIdx].jumpTo;pt?pt>=0&&pt<rt.actions.length?(rt.interactionIdx=pt,r(rt,k$1).call(rt,{ignorePath:!1})):(rt.interactionIdx=0,rt.player.goToAndStop(0,!0),r(rt,k$1).call(rt,{ignorePath:!1})):(ht&&rt.interactionIdx++,rt.interactionIdx>=rt.actions.length?rt.actions[rt.actions.length-1].reset?(rt.interactionIdx=0,rt.player.resetSegments(!0),rt.actions[rt.interactionIdx].frames?rt.player.goToAndStop(rt.actions[rt.interactionIdx].frames,!0):rt.player.goToAndStop(0,!0),r(rt,k$1).call(rt,{ignorePath:!1})):(rt.interactionIdx=rt.actions.length-1,r(rt,k$1).call(rt,{ignorePath:!1})):r(rt,k$1).call(rt,{ignorePath:!1})),rt.container.dispatchEvent(new CustomEvent("transition",{bubbles:!0,composed:!0,detail:{oldIndex:rt.oldInterctionIdx,newIndex:rt.interactionIdx}}))}),x$1.set(this,{writable:!0,value:function(ht){var pt=rt.actions[rt.interactionIdx].frames;if(!pt)return rt.player.resetSegments(!0),void rt.player.goToAndPlay(0,!0);typeof pt=="string"?rt.player.goToAndPlay(pt,ht):rt.player.playSegments(pt,ht)}}),b.set(this,{writable:!0,value:function(){var ht=rt.actions[rt.interactionIdx].path;if(!ht)if(e(rt.enteredPlayer)==="object"&&rt.enteredPlayer.constructor.name==="AnimationItem"){if(ht=rt.enteredPlayer,rt.player===ht)return void r(rt,k$1).call(rt,{ignorePath:!0})}else{var pt=(ht=rt.loadedAnimation).substr(ht.lastIndexOf("/")+1);if(pt=pt.substr(0,pt.lastIndexOf(".json")),rt.player.fileName===pt)return void r(rt,k$1).call(rt,{ignorePath:!0})}var dt=rt.container.getBoundingClientRect(),gt="width: "+dt.width+"px !important; height: "+dt.height+"px !important; background: "+rt.container.style.background;if(rt.container.setAttribute("style",gt),e(rt.enteredPlayer)!=="object"||rt.enteredPlayer.constructor.name!=="AnimationItem"){if(typeof rt.enteredPlayer=="string"){var vt=document.querySelector(rt.enteredPlayer);vt&&vt.nodeName==="LOTTIE-PLAYER"&&(rt.attachedListeners||(vt.addEventListener("ready",function(){rt.container.style.width="",rt.container.style.height=""}),vt.addEventListener("load",function(){rt.player=vt.getLottie(),r(rt,k$1).call(rt,{ignorePath:!0})}),rt.attachedListeners=!0),vt.load(ht))}else rt.enteredPlayer instanceof HTMLElement&&rt.enteredPlayer.nodeName==="LOTTIE-PLAYER"&&(rt.attachedListeners||(rt.enteredPlayer.addEventListener("ready",function(){rt.container.style.width="",rt.container.style.height=""}),rt.enteredPlayer.addEventListener("load",function(){rt.player=rt.enteredPlayer.getLottie(),r(rt,k$1).call(rt,{ignorePath:!0})}),rt.attachedListeners=!0),rt.enteredPlayer.load(ht));if(!rt.player)throw new Error("".concat(s," Specified player is invalid."),rt.enteredPlayer)}else{if(!window.lottie)throw new Error("".concat(s," A Lottie player is required."));rt.stop(),rt.container.innerHTML="",e(ht)==="object"&&ht.constructor.name==="AnimationItem"?rt.player=window.lottie.loadAnimation({loop:!1,autoplay:!1,animationData:ht.animationData,container:rt.container}):rt.player=window.lottie.loadAnimation({loop:!1,autoplay:!1,path:ht,container:rt.container}),rt.player.addEventListener("DOMLoaded",function(){rt.container.style.width="",rt.container.style.height="",r(rt,k$1).call(rt,{ignorePath:!0})})}rt.clickCounter=0,rt.playCounter=0}}),k$1.set(this,{writable:!0,value:function(ht){var pt=ht.ignorePath,dt=rt.actions[rt.interactionIdx].frames,gt=rt.actions[rt.interactionIdx].state,vt=rt.actions[rt.interactionIdx].transition,mt=rt.actions[rt.interactionIdx].path,xt=rt.stateHandler.get(gt),St=rt.transitionHandler.get(vt),Et=rt.actions[rt.interactionIdx].speed?rt.actions[rt.interactionIdx].speed:1,bt=rt.actions[rt.interactionIdx].delay?rt.actions[rt.interactionIdx].delay:0;pt||!(mt||rt.actions[rt.actions.length-1].reset&&rt.interactionIdx===0)?setTimeout(function(){dt&&(rt.player.autoplay=!1,rt.player.resetSegments(!0),rt.player.goToAndStop(dt[0],!0)),xt?xt.call():gt==="none"&&(rt.player.loop=!1,rt.player.autoplay=!1),St&&St.call(),rt.player.autoplay&&(rt.player.resetSegments(!0),r(rt,x$1).call(rt,!0)),rt.player.setSpeed(Et)},bt):r(rt,b).call(rt)}}),S.set(this,{writable:!0,value:function(ht,pt){if(ht!==-1&&pt!==-1){var dt=rt.getContainerCursorPosition(ht,pt);ht=dt.x,pt=dt.y}var gt=rt.actions.find(function(xt){var St=xt.position;if(St){if(Array.isArray(St.x)&&Array.isArray(St.y))return ht>=St.x[0]&&ht<=St.x[1]&&pt>=St.y[0]&&pt<=St.y[1];if(!Number.isNaN(St.x)&&!Number.isNaN(St.y))return ht===St.x&&pt===St.y}return!1});if(gt)if(gt.type==="seek"||gt.transition==="seek"){var vt=(ht-gt.position.x[0])/(gt.position.x[1]-gt.position.x[0]),mt=(pt-gt.position.y[0])/(gt.position.y[1]-gt.position.y[0]);rt.player.playSegments(gt.frames,!0),gt.position.y[0]<0&&gt.position.y[1]>1?rt.player.goToAndStop(Math.floor(vt*rt.player.totalFrames),!0):rt.player.goToAndStop(Math.ceil((vt+mt)/2*rt.player.totalFrames),!0)}else gt.type==="loop"?rt.player.playSegments(gt.frames,!0):gt.type==="play"?(rt.player.isPaused===!0&&rt.player.resetSegments(),rt.player.playSegments(gt.frames)):gt.type==="stop"&&(rt.player.resetSegments(!0),rt.player.goToAndStop(gt.frames[0],!0))}}),P.set(this,{writable:!0,value:function(){var ht=rt.getContainerVisibility(),pt=rt.actions.find(function(vt){var mt=vt.visibility;return ht>=mt[0]&&ht<=mt[1]});if(pt)if(pt.type==="seek"){var dt=pt.frames[0],gt=pt.frames.length==2?pt.frames[1]:rt.player.totalFrames-1;rt.assignedSegment!==null&&(rt.player.resetSegments(!0),rt.assignedSegment=null),rt.player.goToAndStop(dt+Math.round((ht-pt.visibility[0])/(pt.visibility[1]-pt.visibility[0])*(gt-dt)),!0)}else if(pt.type==="loop")rt.player.loop=!0,(rt.assignedSegment===null||rt.assignedSegment!==pt.frames||rt.player.isPaused===!0)&&(rt.player.playSegments(pt.frames,!0),rt.assignedSegment=pt.frames);else if(pt.type==="play"||pt.type==="playOnce"){if(pt.type==="playOnce"&&!rt.scrolledAndPlayed)return rt.scrolledAndPlayed=!0,rt.player.resetSegments(!0),void(pt.frames?rt.player.playSegments(pt.frames,!0):rt.player.play());pt.type==="play"&&rt.player.isPaused&&(rt.player.resetSegments(!0),pt.frames?rt.player.playSegments(pt.frames,!0):rt.player.play())}else pt.type==="stop"&&rt.player.goToAndStop(pt.frames[0],!0)}}),this.enteredPlayer=lt,e(lt)!=="object"||lt.constructor.name!=="AnimationItem"){if(typeof lt=="string"){var ut=document.querySelector(lt);ut&&ut.nodeName==="LOTTIE-PLAYER"&&(lt=ut.getLottie())}else lt instanceof HTMLElement&&lt.nodeName==="LOTTIE-PLAYER"&&(lt=lt.getLottie());if(!lt){var ft=s+"Specified player:"+lt+" is invalid.";throw new Error(ft)}}typeof at=="string"&&(at=document.querySelector(at)),at||(at=lt.wrapper),this.player=lt,this.loadedAnimation=this.player.path+this.player.fileName+".json",this.attachedListeners=!1,this.container=at,this.mode=ot,this.actions=st,this.options=ct,this.assignedSegment=null,this.scrolledAndPlayed=!1,this.interactionIdx=0,this.oldInterctionIdx=0,this.clickCounter=0,this.playCounter=0,this.stateHandler=new Map,this.transitionHandler=new Map}var _e,nt;return _e=tt,(nt=[{key:"getContainerVisibility",value:function(){var rt=this.container.getBoundingClientRect(),it=rt.top,st=rt.height;return(window.innerHeight-it)/(window.innerHeight+st)}},{key:"getContainerCursorPosition",value:function(rt,it){var st=this.container.getBoundingClientRect(),at=st.top;return{x:(rt-st.left)/st.width,y:(it-at)/st.height}}},{key:"initScrollMode",value:function(){this.player.stop(),window.addEventListener("scroll",r(this,P),!0)}},{key:"initCursorMode",value:function(){this.actions&&this.actions.length===1?this.actions[0].type==="click"?(this.player.loop=!1,this.player.stop(),this.container.addEventListener("click",r(this,h))):this.actions[0].type==="hover"?(this.player.loop=!1,this.player.stop(),this.container.addEventListener("mouseenter",r(this,h)),this.container.addEventListener("touchstart",r(this,h),{passive:!0})):this.actions[0].type==="toggle"?(this.player.loop=!1,this.player.stop(),this.container.addEventListener("click",r(this,d))):this.actions[0].type==="hold"||this.actions[0].type==="pauseHold"?(this.container.addEventListener("mouseenter",r(this,g$1)),this.container.addEventListener("mouseleave",r(this,w)),this.container.addEventListener("touchstart",r(this,g$1),{passive:!0}),this.container.addEventListener("touchend",r(this,w),{passive:!0})):this.actions[0].type==="seek"&&(this.player.loop=!0,this.player.stop(),this.container.addEventListener("mousemove",r(this,y)),this.container.addEventListener("touchmove",r(this,u),{passive:!1}),this.container.addEventListener("mouseout",r(this,v))):(this.player.loop=!0,this.player.stop(),this.container.addEventListener("mousemove",r(this,y)),this.container.addEventListener("mouseleave",r(this,v)),r(this,S).call(this,-1,-1))}},{key:"initChainMode",value:function(){r(this,c).call(this),this.player.loop=!1,this.player.stop(),r(this,k$1).call(this,{ignorePath:!1})}},{key:"start",value:function(){var rt=this;this.mode==="scroll"?this.player.isLoaded?this.initScrollMode():this.player.addEventListener("DOMLoaded",function(){rt.initScrollMode()}):this.mode==="cursor"?this.player.isLoaded?this.initCursorMode():this.player.addEventListener("DOMLoaded",function(){rt.initCursorMode()}):this.mode==="chain"&&(this.player.isLoaded?this.initChainMode():this.player.addEventListener("DOMLoaded",function(){rt.initChainMode()}))}},{key:"redefineOptions",value:function(rt){var it=rt.actions,st=rt.container,at=rt.mode,ot=rt.player,lt=a(rt,["actions","container","mode","player"]);if(this.stop(),this.enteredPlayer=ot,e(ot)!=="object"||ot.constructor.name!=="AnimationItem"){if(typeof ot=="string"){var ct=document.querySelector(ot);ct&&ct.nodeName==="LOTTIE-PLAYER"&&(ot=ct.getLottie())}else ot instanceof HTMLElement&&ot.nodeName==="LOTTIE-PLAYER"&&(ot=ot.getLottie());if(!ot)throw new Error(s+"Specified player:"+ot+" is invalid.",ot)}typeof st=="string"&&(st=document.querySelector(st)),st||(st=ot.wrapper),this.player=ot,this.loadedAnimation=this.player.path+this.player.fileName+".json",this.attachedListeners=!1,this.container=st,this.mode=at,this.actions=it,this.options=lt,this.assignedSegment=null,this.scrolledAndPlayed=!1,this.interactionIdx=0,this.clickCounter=0,this.playCounter=0,this.holdStatus=null,this.stateHandler=new Map,this.transitionHandler=new Map,this.start()}},{key:"stop",value:function(){if(this.mode==="scroll"&&window.removeEventListener("scroll",r(this,P),!0),this.mode==="cursor"&&(this.container.removeEventListener("click",r(this,h)),this.container.removeEventListener("click",r(this,d)),this.container.removeEventListener("mouseenter",r(this,h)),this.container.removeEventListener("touchstart",r(this,h)),this.container.removeEventListener("touchmove",r(this,u)),this.container.removeEventListener("mousemove",r(this,y)),this.container.removeEventListener("mouseleave",r(this,v)),this.container.removeEventListener("touchstart",r(this,g$1)),this.container.removeEventListener("touchend",r(this,w))),this.mode==="chain"&&(this.container.removeEventListener("click",r(this,h)),this.container.removeEventListener("click",r(this,p)),this.container.removeEventListener("mouseenter",r(this,h)),this.container.removeEventListener("touchstart",r(this,h)),this.container.removeEventListener("touchmove",r(this,u)),this.container.removeEventListener("mouseenter",r(this,p)),this.container.removeEventListener("touchstart",r(this,p)),this.container.removeEventListener("mouseenter",r(this,g$1)),this.container.removeEventListener("touchstart",r(this,g$1)),this.container.removeEventListener("mouseleave",r(this,w)),this.container.removeEventListener("mousemove",r(this,y)),this.container.removeEventListener("mouseout",r(this,v)),this.container.removeEventListener("touchend",r(this,w)),this.player))try{this.player.removeEventListener("loopComplete",r(this,m)),this.player.removeEventListener("complete",r(this,m)),this.player.removeEventListener("enterFrame",r(this,L)),this.player.removeEventListener("enterFrame",r(this,E$1))}catch{}this.player&&(this.player.destroy(),this.player=null)}}])&&n(_e.prototype,nt),tt}(),c=new WeakMap,p=new WeakMap,d=new WeakMap,h=new WeakMap,y=new WeakMap,u=new WeakMap,v=new WeakMap,m=new WeakMap,f=new WeakMap,L=new WeakMap,E$1=new WeakMap,g$1=new WeakMap,w=new WeakMap,I$1=new WeakMap,x$1=new WeakMap,b=new WeakMap,k$1=new WeakMap,S=new WeakMap,P=new WeakMap,M=function(tt){var _e=new l(tt);return _e.start(),_e};const LayoutGroupContext=reactExports.createContext({});function useConstant(tt){const _e=reactExports.useRef(null);return _e.current===null&&(_e.current=tt()),_e.current}const PresenceContext=reactExports.createContext(null),MotionConfigContext=reactExports.createContext({transformPagePoint:tt=>tt,isStatic:!1,reducedMotion:"never"});function usePresence(tt=!0){const _e=reactExports.useContext(PresenceContext);if(_e===null)return[!0,null];const{isPresent:nt,onExitComplete:rt,register:it}=_e,st=reactExports.useId();reactExports.useEffect(()=>{tt&&it(st)},[tt]);const at=reactExports.useCallback(()=>tt&&rt&&rt(st),[st,rt,tt]);return!nt&&rt?[!1,at]:[!0]}const isBrowser=typeof window<"u",useIsomorphicLayoutEffect$2=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,noop=tt=>tt;let warning=noop,invariant=noop;const MotionGlobalConfig={skipAnimations:!1,useManualTiming:!1};function createRenderStep(tt){let _e=new Set,nt=new Set,rt=!1,it=!1;const st=new WeakSet;let at={delta:0,timestamp:0,isProcessing:!1};function ot(ct){st.has(ct)&&(lt.schedule(ct),tt()),ct(at)}const lt={schedule:(ct,ut=!1,ft=!1)=>{const pt=ft&&rt?_e:nt;return ut&&st.add(ct),pt.has(ct)||pt.add(ct),ct},cancel:ct=>{nt.delete(ct),st.delete(ct)},process:ct=>{if(at=ct,rt){it=!0;return}rt=!0,[_e,nt]=[nt,_e],_e.forEach(ot),_e.clear(),rt=!1,it&&(it=!1,lt.process(ct))}};return lt}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],maxElapsed$1=40;function createRenderBatcher(tt,_e){let nt=!1,rt=!0;const it={delta:0,timestamp:0,isProcessing:!1},st=()=>nt=!0,at=stepsOrder.reduce((mt,xt)=>(mt[xt]=createRenderStep(st),mt),{}),{read:ot,resolveKeyframes:lt,update:ct,preRender:ut,render:ft,postRender:ht}=at,pt=()=>{const mt=performance.now();nt=!1,it.delta=rt?1e3/60:Math.max(Math.min(mt-it.timestamp,maxElapsed$1),1),it.timestamp=mt,it.isProcessing=!0,ot.process(it),lt.process(it),ct.process(it),ut.process(it),ft.process(it),ht.process(it),it.isProcessing=!1,nt&&_e&&(rt=!1,tt(pt))},dt=()=>{nt=!0,rt=!0,it.isProcessing||tt(pt)};return{schedule:stepsOrder.reduce((mt,xt)=>{const St=at[xt];return mt[xt]=(Et,bt=!1,Tt=!1)=>(nt||dt(),St.schedule(Et,bt,Tt)),mt},{}),cancel:mt=>{for(let xt=0;xt<stepsOrder.length;xt++)at[stepsOrder[xt]].cancel(mt)},state:it,steps:at}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop,!0),LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const tt in featureProps)featureDefinitions[tt]={isEnabled:_e=>featureProps[tt].some(nt=>!!_e[nt])};function loadFeatures(tt){for(const _e in tt)featureDefinitions[_e]={...featureDefinitions[_e],...tt[_e]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(tt){return tt.startsWith("while")||tt.startsWith("drag")&&tt!=="draggable"||tt.startsWith("layout")||tt.startsWith("onTap")||tt.startsWith("onPan")||tt.startsWith("onLayout")||validMotionProps.has(tt)}let shouldForward=tt=>!isValidMotionProp(tt);function loadExternalIsValidProp(tt){tt&&(shouldForward=_e=>_e.startsWith("on")?!isValidMotionProp(_e):tt(_e))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch(tt){}function filterProps(tt,_e,nt){const rt={};for(const it in tt)it==="values"&&typeof tt.values=="object"||(shouldForward(it)||nt===!0&&isValidMotionProp(it)||!_e&&!isValidMotionProp(it)||tt.draggable&&it.startsWith("onDrag"))&&(rt[it]=tt[it]);return rt}function createDOMMotionComponentProxy(tt){if(typeof Proxy>"u")return tt;const _e=new Map,nt=(...rt)=>tt(...rt);return new Proxy(nt,{get:(rt,it)=>it==="create"?tt:(_e.has(it)||_e.set(it,tt(it)),_e.get(it))})}const MotionContext=reactExports.createContext({});function isVariantLabel(tt){return typeof tt=="string"||Array.isArray(tt)}function isAnimationControls(tt){return tt!==null&&typeof tt=="object"&&typeof tt.start=="function"}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(tt){return isAnimationControls(tt.animate)||variantProps.some(_e=>isVariantLabel(tt[_e]))}function isVariantNode(tt){return!!(isControllingVariants(tt)||tt.variants)}function getCurrentTreeVariants(tt,_e){if(isControllingVariants(tt)){const{initial:nt,animate:rt}=tt;return{initial:nt===!1||isVariantLabel(nt)?nt:void 0,animate:isVariantLabel(rt)?rt:void 0}}return tt.inherit!==!1?_e:{}}function useCreateMotionContext(tt){const{initial:_e,animate:nt}=getCurrentTreeVariants(tt,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:_e,animate:nt}),[variantLabelsAsDependency(_e),variantLabelsAsDependency(nt)])}function variantLabelsAsDependency(tt){return Array.isArray(tt)?tt.join(" "):tt}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(tt){return tt&&typeof tt=="object"&&Object.prototype.hasOwnProperty.call(tt,"current")}function useMotionRef(tt,_e,nt){return reactExports.useCallback(rt=>{rt&&tt.onMount&&tt.onMount(rt),_e&&(rt?_e.mount(rt):_e.unmount()),nt&&(typeof nt=="function"?nt(rt):isRefObject(nt)&&(nt.current=rt))},[_e])}const camelToDash=tt=>tt.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),{schedule:microtask,cancel:cancelMicrotask}=createRenderBatcher(queueMicrotask,!1),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(tt,_e,nt,rt,it){var st,at;const{visualElement:ot}=reactExports.useContext(MotionContext),lt=reactExports.useContext(LazyContext),ct=reactExports.useContext(PresenceContext),ut=reactExports.useContext(MotionConfigContext).reducedMotion,ft=reactExports.useRef(null);rt=rt||lt.renderer,!ft.current&&rt&&(ft.current=rt(tt,{visualState:_e,parent:ot,props:nt,presenceContext:ct,blockInitialAnimation:ct?ct.initial===!1:!1,reducedMotionConfig:ut}));const ht=ft.current,pt=reactExports.useContext(SwitchLayoutGroupContext);ht&&!ht.projection&&it&&(ht.type==="html"||ht.type==="svg")&&createProjectionNode$1(ft.current,nt,it,pt);const dt=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{ht&&dt.current&&ht.update(nt,ct)});const gt=nt[optimizedAppearDataAttribute],vt=reactExports.useRef(!!gt&&!(!((st=window.MotionHandoffIsComplete)===null||st===void 0)&&st.call(window,gt))&&((at=window.MotionHasOptimisedAnimation)===null||at===void 0?void 0:at.call(window,gt)));return useIsomorphicLayoutEffect$2(()=>{ht&&(dt.current=!0,window.MotionIsMounted=!0,ht.updateFeatures(),microtask.render(ht.render),vt.current&&ht.animationState&&ht.animationState.animateChanges())}),reactExports.useEffect(()=>{ht&&(!vt.current&&ht.animationState&&ht.animationState.animateChanges(),vt.current&&(queueMicrotask(()=>{var mt;(mt=window.MotionHandoffMarkAsComplete)===null||mt===void 0||mt.call(window,gt)}),vt.current=!1))}),ht}function createProjectionNode$1(tt,_e,nt,rt){const{layoutId:it,layout:st,drag:at,dragConstraints:ot,layoutScroll:lt,layoutRoot:ct}=_e;tt.projection=new nt(tt.latestValues,_e["data-framer-portal-id"]?void 0:getClosestProjectingNode(tt.parent)),tt.projection.setOptions({layoutId:it,layout:st,alwaysMeasureLayout:!!at||ot&&isRefObject(ot),visualElement:tt,animationType:typeof st=="string"?st:"both",initialPromotionConfig:rt,layoutScroll:lt,layoutRoot:ct})}function getClosestProjectingNode(tt){if(tt)return tt.options.allowProjection!==!1?tt.projection:getClosestProjectingNode(tt.parent)}function createRendererMotionComponent({preloadedFeatures:tt,createVisualElement:_e,useRender:nt,useVisualState:rt,Component:it}){var st,at;tt&&loadFeatures(tt);function ot(ct,ut){let ft;const ht={...reactExports.useContext(MotionConfigContext),...ct,layoutId:useLayoutId(ct)},{isStatic:pt}=ht,dt=useCreateMotionContext(ct),gt=rt(ct,pt);if(!pt&&isBrowser){useStrictMode();const vt=getProjectionFunctionality(ht);ft=vt.MeasureLayout,dt.visualElement=useVisualElement(it,gt,ht,_e,vt.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:dt,children:[ft&&dt.visualElement?jsxRuntimeExports.jsx(ft,{visualElement:dt.visualElement,...ht}):null,nt(it,ct,useMotionRef(gt,dt.visualElement,ut),gt,pt,dt.visualElement)]})}ot.displayName=`motion.${typeof it=="string"?it:`create(${(at=(st=it.displayName)!==null&&st!==void 0?st:it.name)!==null&&at!==void 0?at:""})`}`;const lt=reactExports.forwardRef(ot);return lt[motionComponentSymbol]=it,lt}function useLayoutId({layoutId:tt}){const _e=reactExports.useContext(LayoutGroupContext).id;return _e&&tt!==void 0?_e+"-"+tt:tt}function useStrictMode(tt,_e){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(tt){const{drag:_e,layout:nt}=featureDefinitions;if(!_e&&!nt)return{};const rt={..._e,...nt};return{MeasureLayout:_e!=null&&_e.isEnabled(tt)||nt!=null&&nt.isEnabled(tt)?rt.MeasureLayout:void 0,ProjectionNode:rt.ProjectionNode}}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(tt){return typeof tt!="string"||tt.includes("-")?!1:!!(lowercaseSVGElements.indexOf(tt)>-1||/[A-Z]/u.test(tt))}function getValueState(tt){const _e=[{},{}];return tt==null||tt.values.forEach((nt,rt)=>{_e[0][rt]=nt.get(),_e[1][rt]=nt.getVelocity()}),_e}function resolveVariantFromProps(tt,_e,nt,rt){if(typeof _e=="function"){const[it,st]=getValueState(rt);_e=_e(nt!==void 0?nt:tt.custom,it,st)}if(typeof _e=="string"&&(_e=tt.variants&&tt.variants[_e]),typeof _e=="function"){const[it,st]=getValueState(rt);_e=_e(nt!==void 0?nt:tt.custom,it,st)}return _e}const isKeyframesTarget=tt=>Array.isArray(tt),isCustomValue=tt=>!!(tt&&typeof tt=="object"&&tt.mix&&tt.toValue),resolveFinalValueInKeyframes=tt=>isKeyframesTarget(tt)?tt[tt.length-1]||0:tt,isMotionValue=tt=>!!(tt&&tt.getVelocity);function resolveMotionValue(tt){const _e=isMotionValue(tt)?tt.get():tt;return isCustomValue(_e)?_e.toValue():_e}function makeState({scrapeMotionValuesFromProps:tt,createRenderState:_e,onUpdate:nt},rt,it,st){const at={latestValues:makeLatestValues(rt,it,st,tt),renderState:_e()};return nt&&(at.onMount=ot=>nt({props:rt,current:ot,...at}),at.onUpdate=ot=>nt(ot)),at}const makeUseVisualState=tt=>(_e,nt)=>{const rt=reactExports.useContext(MotionContext),it=reactExports.useContext(PresenceContext),st=()=>makeState(tt,_e,rt,it);return nt?st():useConstant(st)};function makeLatestValues(tt,_e,nt,rt){const it={},st=rt(tt,{});for(const ht in st)it[ht]=resolveMotionValue(st[ht]);let{initial:at,animate:ot}=tt;const lt=isControllingVariants(tt),ct=isVariantNode(tt);_e&&ct&&!lt&&tt.inherit!==!1&&(at===void 0&&(at=_e.initial),ot===void 0&&(ot=_e.animate));let ut=nt?nt.initial===!1:!1;ut=ut||at===!1;const ft=ut?ot:at;if(ft&&typeof ft!="boolean"&&!isAnimationControls(ft)){const ht=Array.isArray(ft)?ft:[ft];for(let pt=0;pt<ht.length;pt++){const dt=resolveVariantFromProps(tt,ht[pt]);if(dt){const{transitionEnd:gt,transition:vt,...mt}=dt;for(const xt in mt){let St=mt[xt];if(Array.isArray(St)){const Et=ut?St.length-1:0;St=St[Et]}St!==null&&(it[xt]=St)}for(const xt in gt)it[xt]=gt[xt]}}}return it}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),checkStringStartsWith=tt=>_e=>typeof _e=="string"&&_e.startsWith(tt),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=tt=>startsAsVariableToken(tt)?singleCssVariableRegex.test(tt.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,getValueAsType=(tt,_e)=>_e&&typeof tt=="number"?_e.transform(tt):tt,clamp$1=(tt,_e,nt)=>nt>_e?_e:nt<tt?tt:nt,number={test:tt=>typeof tt=="number",parse:parseFloat,transform:tt=>tt},alpha={...number,transform:tt=>clamp$1(0,1,tt)},scale={...number,default:1},createUnitType=tt=>({test:_e=>typeof _e=="string"&&_e.endsWith(tt)&&_e.split(" ").length===1,parse:parseFloat,transform:_e=>`${_e}${tt}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px$1=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:tt=>percent.parse(tt)/100,transform:tt=>percent.transform(tt*100)},browserNumberValueTypes={borderWidth:px$1,borderTopWidth:px$1,borderRightWidth:px$1,borderBottomWidth:px$1,borderLeftWidth:px$1,borderRadius:px$1,radius:px$1,borderTopLeftRadius:px$1,borderTopRightRadius:px$1,borderBottomRightRadius:px$1,borderBottomLeftRadius:px$1,width:px$1,maxWidth:px$1,height:px$1,maxHeight:px$1,top:px$1,right:px$1,bottom:px$1,left:px$1,padding:px$1,paddingTop:px$1,paddingRight:px$1,paddingBottom:px$1,paddingLeft:px$1,margin:px$1,marginTop:px$1,marginRight:px$1,marginBottom:px$1,marginLeft:px$1,backgroundPositionX:px$1,backgroundPositionY:px$1},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px$1,translateX:px$1,translateY:px$1,translateZ:px$1,x:px$1,y:px$1,z:px$1,perspective:px$1,transformPerspective:px$1,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px$1},int={...number,transform:Math.round},numberValueTypes={...browserNumberValueTypes,...transformValueTypes,zIndex:int,size:px$1,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(tt,_e,nt){let rt="",it=!0;for(let st=0;st<numTransforms;st++){const at=transformPropOrder[st],ot=tt[at];if(ot===void 0)continue;let lt=!0;if(typeof ot=="number"?lt=ot===(at.startsWith("scale")?1:0):lt=parseFloat(ot)===0,!lt||nt){const ct=getValueAsType(ot,numberValueTypes[at]);if(!lt){it=!1;const ut=translateAlias[at]||at;rt+=`${ut}(${ct}) `}nt&&(_e[at]=ct)}}return rt=rt.trim(),nt?rt=nt(_e,it?"":rt):it&&(rt="none"),rt}function buildHTMLStyles(tt,_e,nt){const{style:rt,vars:it,transformOrigin:st}=tt;let at=!1,ot=!1;for(const lt in _e){const ct=_e[lt];if(transformProps.has(lt)){at=!0;continue}else if(isCSSVariableName(lt)){it[lt]=ct;continue}else{const ut=getValueAsType(ct,numberValueTypes[lt]);lt.startsWith("origin")?(ot=!0,st[lt]=ut):rt[lt]=ut}}if(_e.transform||(at||nt?rt.transform=buildTransform(_e,tt.transform,nt):rt.transform&&(rt.transform="none")),ot){const{originX:lt="50%",originY:ct="50%",originZ:ut=0}=st;rt.transformOrigin=`${lt} ${ct} ${ut}`}}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(tt,_e,nt=1,rt=0,it=!0){tt.pathLength=1;const st=it?dashKeys:camelKeys;tt[st.offset]=px$1.transform(-rt);const at=px$1.transform(_e),ot=px$1.transform(nt);tt[st.array]=`${at} ${ot}`}function calcOrigin$1(tt,_e,nt){return typeof tt=="string"?tt:px$1.transform(_e+nt*tt)}function calcSVGTransformOrigin(tt,_e,nt){const rt=calcOrigin$1(_e,tt.x,tt.width),it=calcOrigin$1(nt,tt.y,tt.height);return`${rt} ${it}`}function buildSVGAttrs(tt,{attrX:_e,attrY:nt,attrScale:rt,originX:it,originY:st,pathLength:at,pathSpacing:ot=1,pathOffset:lt=0,...ct},ut,ft){if(buildHTMLStyles(tt,ct,ft),ut){tt.style.viewBox&&(tt.attrs.viewBox=tt.style.viewBox);return}tt.attrs=tt.style,tt.style={};const{attrs:ht,style:pt,dimensions:dt}=tt;ht.transform&&(dt&&(pt.transform=ht.transform),delete ht.transform),dt&&(it!==void 0||st!==void 0||pt.transform)&&(pt.transformOrigin=calcSVGTransformOrigin(dt,it!==void 0?it:.5,st!==void 0?st:.5)),_e!==void 0&&(ht.x=_e),nt!==void 0&&(ht.y=nt),rt!==void 0&&(ht.scale=rt),at!==void 0&&buildSVGPath(ht,at,ot,lt,!1)}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=tt=>typeof tt=="string"&&tt.toLowerCase()==="svg";function renderHTML(tt,{style:_e,vars:nt},rt,it){Object.assign(tt.style,_e,it&&it.getProjectionStyles(rt));for(const st in nt)tt.style.setProperty(st,nt[st])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(tt,_e,nt,rt){renderHTML(tt,_e,void 0,rt);for(const it in _e.attrs)tt.setAttribute(camelCaseAttributes.has(it)?it:camelToDash(it),_e.attrs[it])}const scaleCorrectors={};function addScaleCorrector(tt){Object.assign(scaleCorrectors,tt)}function isForcedMotionValue(tt,{layout:_e,layoutId:nt}){return transformProps.has(tt)||tt.startsWith("origin")||(_e||nt!==void 0)&&(!!scaleCorrectors[tt]||tt==="opacity")}function scrapeMotionValuesFromProps$1(tt,_e,nt){var rt;const{style:it}=tt,st={};for(const at in it)(isMotionValue(it[at])||_e.style&&isMotionValue(_e.style[at])||isForcedMotionValue(at,tt)||((rt=nt==null?void 0:nt.getValue(at))===null||rt===void 0?void 0:rt.liveStyle)!==void 0)&&(st[at]=it[at]);return st}function scrapeMotionValuesFromProps(tt,_e,nt){const rt=scrapeMotionValuesFromProps$1(tt,_e,nt);for(const it in tt)if(isMotionValue(tt[it])||isMotionValue(_e[it])){const st=transformPropOrder.indexOf(it)!==-1?"attr"+it.charAt(0).toUpperCase()+it.substring(1):it;rt[st]=tt[it]}return rt}function updateSVGDimensions(tt,_e){try{_e.dimensions=typeof tt.getBBox=="function"?tt.getBBox():tt.getBoundingClientRect()}catch{_e.dimensions={x:0,y:0,width:0,height:0}}}const layoutProps=["x","y","width","height","cx","cy","r"],svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onUpdate:({props:tt,prevProps:_e,current:nt,renderState:rt,latestValues:it})=>{if(!nt)return;let st=!!tt.drag;if(!st){for(const ot in it)if(transformProps.has(ot)){st=!0;break}}if(!st)return;let at=!_e;if(_e)for(let ot=0;ot<layoutProps.length;ot++){const lt=layoutProps[ot];tt[lt]!==_e[lt]&&(at=!0)}at&&frame.read(()=>{updateSVGDimensions(nt,rt),frame.render(()=>{buildSVGAttrs(rt,it,isSVGTag(nt.tagName),tt.transformTemplate),renderSVG(nt,rt)})})}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function copyRawValuesOnly(tt,_e,nt){for(const rt in _e)!isMotionValue(_e[rt])&&!isForcedMotionValue(rt,nt)&&(tt[rt]=_e[rt])}function useInitialMotionValues({transformTemplate:tt},_e){return reactExports.useMemo(()=>{const nt=createHtmlRenderState();return buildHTMLStyles(nt,_e,tt),Object.assign({},nt.vars,nt.style)},[_e])}function useStyle(tt,_e){const nt=tt.style||{},rt={};return copyRawValuesOnly(rt,nt,tt),Object.assign(rt,useInitialMotionValues(tt,_e)),rt}function useHTMLProps(tt,_e){const nt={},rt=useStyle(tt,_e);return tt.drag&&tt.dragListener!==!1&&(nt.draggable=!1,rt.userSelect=rt.WebkitUserSelect=rt.WebkitTouchCallout="none",rt.touchAction=tt.drag===!0?"none":`pan-${tt.drag==="x"?"y":"x"}`),tt.tabIndex===void 0&&(tt.onTap||tt.onTapStart||tt.whileTap)&&(nt.tabIndex=0),nt.style=rt,nt}function useSVGProps(tt,_e,nt,rt){const it=reactExports.useMemo(()=>{const st=createSvgRenderState();return buildSVGAttrs(st,_e,isSVGTag(rt),tt.transformTemplate),{...st.attrs,style:{...st.style}}},[_e]);if(tt.style){const st={};copyRawValuesOnly(st,tt.style,tt),it.style={...st,...it.style}}return it}function createUseRender(tt=!1){return(nt,rt,it,{latestValues:st},at)=>{const lt=(isSVGComponent(nt)?useSVGProps:useHTMLProps)(rt,st,at,nt),ct=filterProps(rt,typeof nt=="string",tt),ut=nt!==reactExports.Fragment?{...ct,...lt,ref:it}:{},{children:ft}=rt,ht=reactExports.useMemo(()=>isMotionValue(ft)?ft.get():ft,[ft]);return reactExports.createElement(nt,{...ut,children:ht})}}function createMotionComponentFactory(tt,_e){return function(rt,{forwardMotionProps:it}={forwardMotionProps:!1}){const at={...isSVGComponent(rt)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:tt,useRender:createUseRender(it),createVisualElement:_e,Component:rt};return createRendererMotionComponent(at)}}function shallowCompare(tt,_e){if(!Array.isArray(_e))return!1;const nt=_e.length;if(nt!==tt.length)return!1;for(let rt=0;rt<nt;rt++)if(_e[rt]!==tt[rt])return!1;return!0}function resolveVariant(tt,_e,nt){const rt=tt.getProps();return resolveVariantFromProps(rt,_e,nt!==void 0?nt:rt.custom,tt)}function getValueTransition(tt,_e){return tt?tt[_e]||tt.default||tt:void 0}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]);let now$3;function clearTime(){now$3=void 0}const time={now:()=>(now$3===void 0&&time.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now$3),set:tt=>{now$3=tt,queueMicrotask(clearTime)}};function addUniqueItem(tt,_e){tt.indexOf(_e)===-1&&tt.push(_e)}function removeItem(tt,_e){const nt=tt.indexOf(_e);nt>-1&&tt.splice(nt,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(_e){return addUniqueItem(this.subscriptions,_e),()=>removeItem(this.subscriptions,_e)}notify(_e,nt,rt){const it=this.subscriptions.length;if(it)if(it===1)this.subscriptions[0](_e,nt,rt);else for(let st=0;st<it;st++){const at=this.subscriptions[st];at&&at(_e,nt,rt)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function velocityPerSecond(tt,_e){return _e?tt*(1e3/_e):0}const MAX_VELOCITY_DELTA=30,isFloat=tt=>!isNaN(parseFloat(tt));class MotionValue{constructor(_e,nt={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(rt,it=!0)=>{const st=time.now();this.updatedAt!==st&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(rt),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),it&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(_e),this.owner=nt.owner}setCurrent(_e){this.current=_e,this.updatedAt=time.now(),this.canTrackVelocity===null&&_e!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(_e=this.current){this.prevFrameValue=_e,this.prevUpdatedAt=this.updatedAt}onChange(_e){return this.on("change",_e)}on(_e,nt){this.events[_e]||(this.events[_e]=new SubscriptionManager);const rt=this.events[_e].add(nt);return _e==="change"?()=>{rt(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:rt}clearListeners(){for(const _e in this.events)this.events[_e].clear()}attach(_e,nt){this.passiveEffect=_e,this.stopPassiveEffect=nt}set(_e,nt=!0){!nt||!this.passiveEffect?this.updateAndNotify(_e,nt):this.passiveEffect(_e,this.updateAndNotify)}setWithVelocity(_e,nt,rt){this.set(nt),this.prev=void 0,this.prevFrameValue=_e,this.prevUpdatedAt=this.updatedAt-rt}jump(_e,nt=!0){this.updateAndNotify(_e),this.prev=_e,this.prevUpdatedAt=this.prevFrameValue=void 0,nt&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const _e=time.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||_e-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const nt=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),nt)}start(_e){return this.stop(),new Promise(nt=>{this.hasAnimated=!0,this.animation=_e(nt),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(tt,_e){return new MotionValue(tt,_e)}function setMotionValue(tt,_e,nt){tt.hasValue(_e)?tt.getValue(_e).set(nt):tt.addValue(_e,motionValue(nt))}function setTarget(tt,_e){const nt=resolveVariant(tt,_e);let{transitionEnd:rt={},transition:it={},...st}=nt||{};st={...st,...rt};for(const at in st){const ot=resolveFinalValueInKeyframes(st[at]);setMotionValue(tt,at,ot)}}function isWillChangeMotionValue(tt){return!!(isMotionValue(tt)&&tt.add)}function addValueToWillChange(tt,_e){const nt=tt.getValue("willChange");if(isWillChangeMotionValue(nt))return nt.add(_e)}function getOptimisedAppearId(tt){return tt.props[optimizedAppearDataAttribute]}function memo(tt){let _e;return()=>(_e===void 0&&(_e=tt()),_e)}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class BaseGroupPlaybackControls{constructor(_e){this.stop=()=>this.runAll("stop"),this.animations=_e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(_e=>"finished"in _e?_e.finished:_e))}getAll(_e){return this.animations[0][_e]}setAll(_e,nt){for(let rt=0;rt<this.animations.length;rt++)this.animations[rt][_e]=nt}attachTimeline(_e,nt){const rt=this.animations.map(it=>{if(supportsScrollTimeline()&&it.attachTimeline)return it.attachTimeline(_e);if(typeof nt=="function")return nt(it)});return()=>{rt.forEach((it,st)=>{it&&it(),this.animations[st].stop()})}}get time(){return this.getAll("time")}set time(_e){this.setAll("time",_e)}get speed(){return this.getAll("speed")}set speed(_e){this.setAll("speed",_e)}get startTime(){return this.getAll("startTime")}get duration(){let _e=0;for(let nt=0;nt<this.animations.length;nt++)_e=Math.max(_e,this.animations[nt].duration);return _e}runAll(_e){this.animations.forEach(nt=>nt[_e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class GroupPlaybackControls extends BaseGroupPlaybackControls{then(_e,nt){return Promise.all(this.animations).then(_e).catch(nt)}}const secondsToMilliseconds=tt=>tt*1e3,millisecondsToSeconds=tt=>tt/1e3;function isGenerator(tt){return typeof tt=="function"}function attachTimeline(tt,_e){tt.timeline=_e,tt.onfinish=null}const isBezierDefinition=tt=>Array.isArray(tt)&&typeof tt[0]=="number",supportsFlags={linearEasing:void 0};function memoSupports(tt,_e){const nt=memo(tt);return()=>{var rt;return(rt=supportsFlags[_e])!==null&&rt!==void 0?rt:nt()}}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),progress=(tt,_e,nt)=>{const rt=_e-tt;return rt===0?1:(nt-tt)/rt},generateLinearEasing=(tt,_e,nt=10)=>{let rt="";const it=Math.max(Math.round(_e/nt),2);for(let st=0;st<it;st++)rt+=tt(progress(0,it-1,st))+", ";return`linear(${rt.substring(0,rt.length-2)})`};function isWaapiSupportedEasing(tt){return!!(typeof tt=="function"&&supportsLinearEasing()||!tt||typeof tt=="string"&&(tt in supportedWaapiEasing||supportsLinearEasing())||isBezierDefinition(tt)||Array.isArray(tt)&&tt.every(isWaapiSupportedEasing))}const cubicBezierAsString=([tt,_e,nt,rt])=>`cubic-bezier(${tt}, ${_e}, ${nt}, ${rt})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(tt,_e){if(tt)return typeof tt=="function"&&supportsLinearEasing()?generateLinearEasing(tt,_e):isBezierDefinition(tt)?cubicBezierAsString(tt):Array.isArray(tt)?tt.map(nt=>mapEasingToNativeEasing(nt,_e)||supportedWaapiEasing.easeOut):supportedWaapiEasing[tt]}const calcBezier=(tt,_e,nt)=>(((1-3*nt+3*_e)*tt+(3*nt-6*_e))*tt+3*_e)*tt,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(tt,_e,nt,rt,it){let st,at,ot=0;do at=_e+(nt-_e)/2,st=calcBezier(at,rt,it)-tt,st>0?nt=at:_e=at;while(Math.abs(st)>subdivisionPrecision&&++ot<subdivisionMaxIterations);return at}function cubicBezier(tt,_e,nt,rt){if(tt===_e&&nt===rt)return noop;const it=st=>binarySubdivide(st,0,1,tt,nt);return st=>st===0||st===1?st:calcBezier(it(st),_e,rt)}const mirrorEasing=tt=>_e=>_e<=.5?tt(2*_e)/2:(2-tt(2*(1-_e)))/2,reverseEasing=tt=>_e=>1-tt(1-_e),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=tt=>(tt*=2)<1?.5*backIn(tt):.5*(2-Math.pow(2,-10*(tt-1))),circIn=tt=>1-Math.sin(Math.acos(tt)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),isZeroValueString=tt=>/^0[^.\s]+$/u.test(tt);function isNone(tt){return typeof tt=="number"?tt===0:tt!==null?tt==="none"||tt==="0"||isZeroValueString(tt):!0}const sanitize=tt=>Math.round(tt*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(tt){return tt==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(tt,_e)=>nt=>!!(typeof nt=="string"&&singleColorRegex.test(nt)&&nt.startsWith(tt)||_e&&!isNullish(nt)&&Object.prototype.hasOwnProperty.call(nt,_e)),splitColor=(tt,_e,nt)=>rt=>{if(typeof rt!="string")return rt;const[it,st,at,ot]=rt.match(floatRegex);return{[tt]:parseFloat(it),[_e]:parseFloat(st),[nt]:parseFloat(at),alpha:ot!==void 0?parseFloat(ot):1}},clampRgbUnit=tt=>clamp$1(0,255,tt),rgbUnit={...number,transform:tt=>Math.round(clampRgbUnit(tt))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:tt,green:_e,blue:nt,alpha:rt=1})=>"rgba("+rgbUnit.transform(tt)+", "+rgbUnit.transform(_e)+", "+rgbUnit.transform(nt)+", "+sanitize(alpha.transform(rt))+")"};function parseHex(tt){let _e="",nt="",rt="",it="";return tt.length>5?(_e=tt.substring(1,3),nt=tt.substring(3,5),rt=tt.substring(5,7),it=tt.substring(7,9)):(_e=tt.substring(1,2),nt=tt.substring(2,3),rt=tt.substring(3,4),it=tt.substring(4,5),_e+=_e,nt+=nt,rt+=rt,it+=it),{red:parseInt(_e,16),green:parseInt(nt,16),blue:parseInt(rt,16),alpha:it?parseInt(it,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:tt,saturation:_e,lightness:nt,alpha:rt=1})=>"hsla("+Math.round(tt)+", "+percent.transform(sanitize(_e))+", "+percent.transform(sanitize(nt))+", "+sanitize(alpha.transform(rt))+")"},color={test:tt=>rgba.test(tt)||hex.test(tt)||hsla.test(tt),parse:tt=>rgba.test(tt)?rgba.parse(tt):hsla.test(tt)?hsla.parse(tt):hex.parse(tt),transform:tt=>typeof tt=="string"?tt:tt.hasOwnProperty("red")?rgba.transform(tt):hsla.transform(tt)},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(tt){var _e,nt;return isNaN(tt)&&typeof tt=="string"&&(((_e=tt.match(floatRegex))===null||_e===void 0?void 0:_e.length)||0)+(((nt=tt.match(colorRegex))===null||nt===void 0?void 0:nt.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(tt){const _e=tt.toString(),nt=[],rt={color:[],number:[],var:[]},it=[];let st=0;const ot=_e.replace(complexRegex,lt=>(color.test(lt)?(rt.color.push(st),it.push(COLOR_TOKEN),nt.push(color.parse(lt))):lt.startsWith(VAR_FUNCTION_TOKEN)?(rt.var.push(st),it.push(VAR_TOKEN),nt.push(lt)):(rt.number.push(st),it.push(NUMBER_TOKEN),nt.push(parseFloat(lt))),++st,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:nt,split:ot,indexes:rt,types:it}}function parseComplexValue(tt){return analyseComplexValue(tt).values}function createTransformer(tt){const{split:_e,types:nt}=analyseComplexValue(tt),rt=_e.length;return it=>{let st="";for(let at=0;at<rt;at++)if(st+=_e[at],it[at]!==void 0){const ot=nt[at];ot===NUMBER_TOKEN?st+=sanitize(it[at]):ot===COLOR_TOKEN?st+=color.transform(it[at]):st+=it[at]}return st}}const convertNumbersToZero=tt=>typeof tt=="number"?0:tt;function getAnimatableNone$1(tt){const _e=parseComplexValue(tt);return createTransformer(tt)(_e.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(tt){const[_e,nt]=tt.slice(0,-1).split("(");if(_e==="drop-shadow")return tt;const[rt]=nt.match(floatRegex)||[];if(!rt)return tt;const it=nt.replace(rt,"");let st=maxDefaults.has(_e)?1:0;return rt!==nt&&(st*=100),_e+"("+st+it+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:tt=>{const _e=tt.match(functionRegex);return _e?_e.map(applyDefaultFilter).join(" "):tt}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=tt=>defaultValueTypes[tt];function getAnimatableNone(tt,_e){let nt=getDefaultValueType(tt);return nt!==filter&&(nt=complex),nt.getAnimatableNone?nt.getAnimatableNone(_e):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(tt,_e,nt){let rt=0,it;for(;rt<tt.length&&!it;){const st=tt[rt];typeof st=="string"&&!invalidTemplates.has(st)&&analyseComplexValue(st).values.length&&(it=tt[rt]),rt++}if(it&&nt)for(const st of _e)tt[st]=getAnimatableNone(nt,it)}const isNumOrPxType=tt=>tt===number||tt===px$1,getPosFromMatrix=(tt,_e)=>parseFloat(tt.split(", ")[_e]),getTranslateFromMatrix=(tt,_e)=>(nt,{transform:rt})=>{if(rt==="none"||!rt)return 0;const it=rt.match(/^matrix3d\((.+)\)$/u);if(it)return getPosFromMatrix(it[1],_e);{const st=rt.match(/^matrix\((.+)\)$/u);return st?getPosFromMatrix(st[1],tt):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(tt=>!transformKeys.has(tt));function removeNonTranslationalTransform(tt){const _e=[];return nonTranslationalTransformKeys.forEach(nt=>{const rt=tt.getValue(nt);rt!==void 0&&(_e.push([nt,rt.get()]),rt.set(nt.startsWith("scale")?1:0))}),_e}const positionalValues={width:({x:tt},{paddingLeft:_e="0",paddingRight:nt="0"})=>tt.max-tt.min-parseFloat(_e)-parseFloat(nt),height:({y:tt},{paddingTop:_e="0",paddingBottom:nt="0"})=>tt.max-tt.min-parseFloat(_e)-parseFloat(nt),top:(tt,{top:_e})=>parseFloat(_e),left:(tt,{left:_e})=>parseFloat(_e),bottom:({y:tt},{top:_e})=>parseFloat(_e)+(tt.max-tt.min),right:({x:tt},{left:_e})=>parseFloat(_e)+(tt.max-tt.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const tt=Array.from(toResolve).filter(rt=>rt.needsMeasurement),_e=new Set(tt.map(rt=>rt.element)),nt=new Map;_e.forEach(rt=>{const it=removeNonTranslationalTransform(rt);it.length&&(nt.set(rt,it),rt.render())}),tt.forEach(rt=>rt.measureInitialState()),_e.forEach(rt=>{rt.render();const it=nt.get(rt);it&&it.forEach(([st,at])=>{var ot;(ot=rt.getValue(st))===null||ot===void 0||ot.set(at)})}),tt.forEach(rt=>rt.measureEndState()),tt.forEach(rt=>{rt.suspendedScrollY!==void 0&&window.scrollTo(0,rt.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(tt=>tt.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(tt=>{tt.readKeyframes(),tt.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(_e,nt,rt,it,st,at=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[..._e],this.onComplete=nt,this.name=rt,this.motionValue=it,this.element=st,this.isAsync=at}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:_e,name:nt,element:rt,motionValue:it}=this;for(let st=0;st<_e.length;st++)if(_e[st]===null)if(st===0){const at=it==null?void 0:it.get(),ot=_e[_e.length-1];if(at!==void 0)_e[0]=at;else if(rt&&nt){const lt=rt.readValue(nt,ot);lt!=null&&(_e[0]=lt)}_e[0]===void 0&&(_e[0]=ot),it&&at===void 0&&it.set(_e[0])}else _e[st]=_e[st-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isNumericalString=tt=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(tt),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(tt){const _e=splitCSSVariableRegex.exec(tt);if(!_e)return[,];const[,nt,rt,it]=_e;return[`--${nt??rt}`,it]}function getVariableValue(tt,_e,nt=1){const[rt,it]=parseCSSVariable(tt);if(!rt)return;const st=window.getComputedStyle(_e).getPropertyValue(rt);if(st){const at=st.trim();return isNumericalString(at)?parseFloat(at):at}return isCSSVariableToken(it)?getVariableValue(it,_e,nt+1):it}const testValueType=tt=>_e=>_e.test(tt),auto={test:tt=>tt==="auto",parse:tt=>tt},dimensionValueTypes=[number,px$1,percent,degrees,vw,vh,auto],findDimensionValueType=tt=>dimensionValueTypes.find(testValueType(tt));class DOMKeyframesResolver extends KeyframeResolver{constructor(_e,nt,rt,it,st){super(_e,nt,rt,it,st,!0)}readKeyframes(){const{unresolvedKeyframes:_e,element:nt,name:rt}=this;if(!nt||!nt.current)return;super.readKeyframes();for(let lt=0;lt<_e.length;lt++){let ct=_e[lt];if(typeof ct=="string"&&(ct=ct.trim(),isCSSVariableToken(ct))){const ut=getVariableValue(ct,nt.current);ut!==void 0&&(_e[lt]=ut),lt===_e.length-1&&(this.finalKeyframe=ct)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(rt)||_e.length!==2)return;const[it,st]=_e,at=findDimensionValueType(it),ot=findDimensionValueType(st);if(at!==ot)if(isNumOrPxType(at)&&isNumOrPxType(ot))for(let lt=0;lt<_e.length;lt++){const ct=_e[lt];typeof ct=="string"&&(_e[lt]=parseFloat(ct))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:_e,name:nt}=this,rt=[];for(let it=0;it<_e.length;it++)isNone(_e[it])&&rt.push(it);rt.length&&makeNoneKeyframesAnimatable(_e,rt,nt)}measureInitialState(){const{element:_e,unresolvedKeyframes:nt,name:rt}=this;if(!_e||!_e.current)return;rt==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[rt](_e.measureViewportBox(),window.getComputedStyle(_e.current)),nt[0]=this.measuredOrigin;const it=nt[nt.length-1];it!==void 0&&_e.getValue(rt,it).jump(it,!1)}measureEndState(){var _e;const{element:nt,name:rt,unresolvedKeyframes:it}=this;if(!nt||!nt.current)return;const st=nt.getValue(rt);st&&st.jump(this.measuredOrigin,!1);const at=it.length-1,ot=it[at];it[at]=positionalValues[rt](nt.measureViewportBox(),window.getComputedStyle(nt.current)),ot!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=ot),!((_e=this.removedTransforms)===null||_e===void 0)&&_e.length&&this.removedTransforms.forEach(([lt,ct])=>{nt.getValue(lt).set(ct)}),this.resolveNoneKeyframes()}}const isAnimatable=(tt,_e)=>_e==="zIndex"?!1:!!(typeof tt=="number"||Array.isArray(tt)||typeof tt=="string"&&(complex.test(tt)||tt==="0")&&!tt.startsWith("url("));function hasKeyframesChanged(tt){const _e=tt[0];if(tt.length===1)return!0;for(let nt=0;nt<tt.length;nt++)if(tt[nt]!==_e)return!0}function canAnimate(tt,_e,nt,rt){const it=tt[0];if(it===null)return!1;if(_e==="display"||_e==="visibility")return!0;const st=tt[tt.length-1],at=isAnimatable(it,_e),ot=isAnimatable(st,_e);return!at||!ot?!1:hasKeyframesChanged(tt)||(nt==="spring"||isGenerator(nt))&&rt}const isNotNull=tt=>tt!==null;function getFinalKeyframe(tt,{repeat:_e,repeatType:nt="loop"},rt){const it=tt.filter(isNotNull),st=_e&&nt!=="loop"&&_e%2===1?0:it.length-1;return!st||rt===void 0?it[st]:rt}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:_e=!0,delay:nt=0,type:rt="keyframes",repeat:it=0,repeatDelay:st=0,repeatType:at="loop",...ot}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time.now(),this.options={autoplay:_e,delay:nt,type:rt,repeat:it,repeatDelay:st,repeatType:at,...ot},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(_e,nt){this.resolvedAt=time.now(),this.hasAttemptedResolve=!0;const{name:rt,type:it,velocity:st,delay:at,onComplete:ot,onUpdate:lt,isGenerator:ct}=this.options;if(!ct&&!canAnimate(_e,rt,it,st))if(at)this.options.duration=0;else{lt&&lt(getFinalKeyframe(_e,this.options,nt)),ot&&ot(),this.resolveFinishedPromise();return}const ut=this.initPlayback(_e,nt);ut!==!1&&(this._resolved={keyframes:_e,finalKeyframe:nt,...ut},this.onPostResolved())}onPostResolved(){}then(_e,nt){return this.currentFinishedPromise.then(_e,nt)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(_e=>{this.resolveFinishedPromise=_e})}}const maxGeneratorDuration=2e4;function calcGeneratorDuration(tt){let _e=0;const nt=50;let rt=tt.next(_e);for(;!rt.done&&_e<maxGeneratorDuration;)_e+=nt,rt=tt.next(_e);return _e>=maxGeneratorDuration?1/0:_e}const mixNumber$1=(tt,_e,nt)=>tt+(_e-tt)*nt;function hueToRgb(tt,_e,nt){return nt<0&&(nt+=1),nt>1&&(nt-=1),nt<1/6?tt+(_e-tt)*6*nt:nt<1/2?_e:nt<2/3?tt+(_e-tt)*(2/3-nt)*6:tt}function hslaToRgba({hue:tt,saturation:_e,lightness:nt,alpha:rt}){tt/=360,_e/=100,nt/=100;let it=0,st=0,at=0;if(!_e)it=st=at=nt;else{const ot=nt<.5?nt*(1+_e):nt+_e-nt*_e,lt=2*nt-ot;it=hueToRgb(lt,ot,tt+1/3),st=hueToRgb(lt,ot,tt),at=hueToRgb(lt,ot,tt-1/3)}return{red:Math.round(it*255),green:Math.round(st*255),blue:Math.round(at*255),alpha:rt}}function mixImmediate(tt,_e){return nt=>nt>0?_e:tt}const mixLinearColor=(tt,_e,nt)=>{const rt=tt*tt,it=nt*(_e*_e-rt)+rt;return it<0?0:Math.sqrt(it)},colorTypes=[hex,rgba,hsla],getColorType=tt=>colorTypes.find(_e=>_e.test(tt));function asRGBA(tt){const _e=getColorType(tt);if(!_e)return!1;let nt=_e.parse(tt);return _e===hsla&&(nt=hslaToRgba(nt)),nt}const mixColor=(tt,_e)=>{const nt=asRGBA(tt),rt=asRGBA(_e);if(!nt||!rt)return mixImmediate(tt,_e);const it={...nt};return st=>(it.red=mixLinearColor(nt.red,rt.red,st),it.green=mixLinearColor(nt.green,rt.green,st),it.blue=mixLinearColor(nt.blue,rt.blue,st),it.alpha=mixNumber$1(nt.alpha,rt.alpha,st),rgba.transform(it))},combineFunctions=(tt,_e)=>nt=>_e(tt(nt)),pipe=(...tt)=>tt.reduce(combineFunctions),invisibleValues=new Set(["none","hidden"]);function mixVisibility(tt,_e){return invisibleValues.has(tt)?nt=>nt<=0?tt:_e:nt=>nt>=1?_e:tt}function mixNumber(tt,_e){return nt=>mixNumber$1(tt,_e,nt)}function getMixer(tt){return typeof tt=="number"?mixNumber:typeof tt=="string"?isCSSVariableToken(tt)?mixImmediate:color.test(tt)?mixColor:mixComplex:Array.isArray(tt)?mixArray:typeof tt=="object"?color.test(tt)?mixColor:mixObject:mixImmediate}function mixArray(tt,_e){const nt=[...tt],rt=nt.length,it=tt.map((st,at)=>getMixer(st)(st,_e[at]));return st=>{for(let at=0;at<rt;at++)nt[at]=it[at](st);return nt}}function mixObject(tt,_e){const nt={...tt,..._e},rt={};for(const it in nt)tt[it]!==void 0&&_e[it]!==void 0&&(rt[it]=getMixer(tt[it])(tt[it],_e[it]));return it=>{for(const st in rt)nt[st]=rt[st](it);return nt}}function matchOrder(tt,_e){var nt;const rt=[],it={color:0,var:0,number:0};for(let st=0;st<_e.values.length;st++){const at=_e.types[st],ot=tt.indexes[at][it[at]],lt=(nt=tt.values[ot])!==null&&nt!==void 0?nt:0;rt[st]=lt,it[at]++}return rt}const mixComplex=(tt,_e)=>{const nt=complex.createTransformer(_e),rt=analyseComplexValue(tt),it=analyseComplexValue(_e);return rt.indexes.var.length===it.indexes.var.length&&rt.indexes.color.length===it.indexes.color.length&&rt.indexes.number.length>=it.indexes.number.length?invisibleValues.has(tt)&&!it.values.length||invisibleValues.has(_e)&&!rt.values.length?mixVisibility(tt,_e):pipe(mixArray(matchOrder(rt,it),it.values),nt):mixImmediate(tt,_e)};function mix(tt,_e,nt){return typeof tt=="number"&&typeof _e=="number"&&typeof nt=="number"?mixNumber$1(tt,_e,nt):getMixer(tt)(tt,_e)}const velocitySampleDuration=5;function calcGeneratorVelocity(tt,_e,nt){const rt=Math.max(_e-velocitySampleDuration,0);return velocityPerSecond(nt-tt(rt),_e-rt)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:tt=springDefaults.duration,bounce:_e=springDefaults.bounce,velocity:nt=springDefaults.velocity,mass:rt=springDefaults.mass}){let it,st,at=1-_e;at=clamp$1(springDefaults.minDamping,springDefaults.maxDamping,at),tt=clamp$1(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(tt)),at<1?(it=ct=>{const ut=ct*at,ft=ut*tt,ht=ut-nt,pt=calcAngularFreq(ct,at),dt=Math.exp(-ft);return safeMin-ht/pt*dt},st=ct=>{const ft=ct*at*tt,ht=ft*nt+nt,pt=Math.pow(at,2)*Math.pow(ct,2)*tt,dt=Math.exp(-ft),gt=calcAngularFreq(Math.pow(ct,2),at);return(-it(ct)+safeMin>0?-1:1)*((ht-pt)*dt)/gt}):(it=ct=>{const ut=Math.exp(-ct*tt),ft=(ct-nt)*tt+1;return-safeMin+ut*ft},st=ct=>{const ut=Math.exp(-ct*tt),ft=(nt-ct)*(tt*tt);return ut*ft});const ot=5/tt,lt=approximateRoot(it,st,ot);if(tt=secondsToMilliseconds(tt),isNaN(lt))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:tt};{const ct=Math.pow(lt,2)*rt;return{stiffness:ct,damping:at*2*Math.sqrt(rt*ct),duration:tt}}}const rootIterations=12;function approximateRoot(tt,_e,nt){let rt=nt;for(let it=1;it<rootIterations;it++)rt=rt-tt(rt)/_e(rt);return rt}function calcAngularFreq(tt,_e){return tt*Math.sqrt(1-_e*_e)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(tt,_e){return _e.some(nt=>tt[nt]!==void 0)}function getSpringOptions(tt){let _e={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...tt};if(!isSpringType(tt,physicsKeys)&&isSpringType(tt,durationKeys))if(tt.visualDuration){const nt=tt.visualDuration,rt=2*Math.PI/(nt*1.2),it=rt*rt,st=2*clamp$1(.05,1,1-(tt.bounce||0))*Math.sqrt(it);_e={..._e,mass:springDefaults.mass,stiffness:it,damping:st}}else{const nt=findSpring(tt);_e={..._e,...nt,mass:springDefaults.mass},_e.isResolvedFromDuration=!0}return _e}function spring(tt=springDefaults.visualDuration,_e=springDefaults.bounce){const nt=typeof tt!="object"?{visualDuration:tt,keyframes:[0,1],bounce:_e}:tt;let{restSpeed:rt,restDelta:it}=nt;const st=nt.keyframes[0],at=nt.keyframes[nt.keyframes.length-1],ot={done:!1,value:st},{stiffness:lt,damping:ct,mass:ut,duration:ft,velocity:ht,isResolvedFromDuration:pt}=getSpringOptions({...nt,velocity:-millisecondsToSeconds(nt.velocity||0)}),dt=ht||0,gt=ct/(2*Math.sqrt(lt*ut)),vt=at-st,mt=millisecondsToSeconds(Math.sqrt(lt/ut)),xt=Math.abs(vt)<5;rt||(rt=xt?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),it||(it=xt?springDefaults.restDelta.granular:springDefaults.restDelta.default);let St;if(gt<1){const bt=calcAngularFreq(mt,gt);St=Tt=>{const At=Math.exp(-gt*mt*Tt);return at-At*((dt+gt*mt*vt)/bt*Math.sin(bt*Tt)+vt*Math.cos(bt*Tt))}}else if(gt===1)St=bt=>at-Math.exp(-mt*bt)*(vt+(dt+mt*vt)*bt);else{const bt=mt*Math.sqrt(gt*gt-1);St=Tt=>{const At=Math.exp(-gt*mt*Tt),Ct=Math.min(bt*Tt,300);return at-At*((dt+gt*mt*vt)*Math.sinh(Ct)+bt*vt*Math.cosh(Ct))/bt}}const Et={calculatedDuration:pt&&ft||null,next:bt=>{const Tt=St(bt);if(pt)ot.done=bt>=ft;else{let At=0;gt<1&&(At=bt===0?secondsToMilliseconds(dt):calcGeneratorVelocity(St,bt,Tt));const Ct=Math.abs(At)<=rt,Pt=Math.abs(at-Tt)<=it;ot.done=Ct&&Pt}return ot.value=ot.done?at:Tt,ot},toString:()=>{const bt=Math.min(calcGeneratorDuration(Et),maxGeneratorDuration),Tt=generateLinearEasing(At=>Et.next(bt*At).value,bt,30);return bt+"ms "+Tt}};return Et}function inertia({keyframes:tt,velocity:_e=0,power:nt=.8,timeConstant:rt=325,bounceDamping:it=10,bounceStiffness:st=500,modifyTarget:at,min:ot,max:lt,restDelta:ct=.5,restSpeed:ut}){const ft=tt[0],ht={done:!1,value:ft},pt=Ct=>ot!==void 0&&Ct<ot||lt!==void 0&&Ct>lt,dt=Ct=>ot===void 0?lt:lt===void 0||Math.abs(ot-Ct)<Math.abs(lt-Ct)?ot:lt;let gt=nt*_e;const vt=ft+gt,mt=at===void 0?vt:at(vt);mt!==vt&&(gt=mt-ft);const xt=Ct=>-gt*Math.exp(-Ct/rt),St=Ct=>mt+xt(Ct),Et=Ct=>{const Pt=xt(Ct),It=St(Ct);ht.done=Math.abs(Pt)<=ct,ht.value=ht.done?mt:It};let bt,Tt;const At=Ct=>{pt(ht.value)&&(bt=Ct,Tt=spring({keyframes:[ht.value,dt(ht.value)],velocity:calcGeneratorVelocity(St,Ct,ht.value),damping:it,stiffness:st,restDelta:ct,restSpeed:ut}))};return At(0),{calculatedDuration:null,next:Ct=>{let Pt=!1;return!Tt&&bt===void 0&&(Pt=!0,Et(Ct),At(Ct)),bt!==void 0&&Ct>=bt?Tt.next(Ct-bt):(!Pt&&Et(Ct),ht)}}}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=tt=>Array.isArray(tt)&&typeof tt[0]!="number",easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=tt=>{if(isBezierDefinition(tt)){invariant(tt.length===4);const[_e,nt,rt,it]=tt;return cubicBezier(_e,nt,rt,it)}else if(typeof tt=="string")return invariant(easingLookup[tt]!==void 0),easingLookup[tt];return tt};function createMixers(tt,_e,nt){const rt=[],it=nt||mix,st=tt.length-1;for(let at=0;at<st;at++){let ot=it(tt[at],tt[at+1]);if(_e){const lt=Array.isArray(_e)?_e[at]||noop:_e;ot=pipe(lt,ot)}rt.push(ot)}return rt}function interpolate(tt,_e,{clamp:nt=!0,ease:rt,mixer:it}={}){const st=tt.length;if(invariant(st===_e.length),st===1)return()=>_e[0];if(st===2&&_e[0]===_e[1])return()=>_e[1];const at=tt[0]===tt[1];tt[0]>tt[st-1]&&(tt=[...tt].reverse(),_e=[..._e].reverse());const ot=createMixers(_e,rt,it),lt=ot.length,ct=ut=>{if(at&&ut<tt[0])return _e[0];let ft=0;if(lt>1)for(;ft<tt.length-2&&!(ut<tt[ft+1]);ft++);const ht=progress(tt[ft],tt[ft+1],ut);return ot[ft](ht)};return nt?ut=>ct(clamp$1(tt[0],tt[st-1],ut)):ct}function fillOffset(tt,_e){const nt=tt[tt.length-1];for(let rt=1;rt<=_e;rt++){const it=progress(0,_e,rt);tt.push(mixNumber$1(nt,1,it))}}function defaultOffset$1(tt){const _e=[0];return fillOffset(_e,tt.length-1),_e}function convertOffsetToTimes(tt,_e){return tt.map(nt=>nt*_e)}function defaultEasing(tt,_e){return tt.map(()=>_e||easeInOut).splice(0,tt.length-1)}function keyframes({duration:tt=300,keyframes:_e,times:nt,ease:rt="easeInOut"}){const it=isEasingArray(rt)?rt.map(easingDefinitionToFunction):easingDefinitionToFunction(rt),st={done:!1,value:_e[0]},at=convertOffsetToTimes(nt&&nt.length===_e.length?nt:defaultOffset$1(_e),tt),ot=interpolate(at,_e,{ease:Array.isArray(it)?it:defaultEasing(_e,it)});return{calculatedDuration:tt,next:lt=>(st.value=ot(lt),st.done=lt>=tt,st)}}const frameloopDriver=tt=>{const _e=({timestamp:nt})=>tt(nt);return{start:()=>frame.update(_e,!0),stop:()=>cancelFrame(_e),now:()=>frameData.isProcessing?frameData.timestamp:time.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=tt=>tt/100;class MainThreadAnimation extends BaseAnimation{constructor(_e){super(_e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:lt}=this.options;lt&&lt()};const{name:nt,motionValue:rt,element:it,keyframes:st}=this.options,at=(it==null?void 0:it.KeyframeResolver)||KeyframeResolver,ot=(lt,ct)=>this.onKeyframesResolved(lt,ct);this.resolver=new at(st,ot,nt,rt,it),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(_e){const{type:nt="keyframes",repeat:rt=0,repeatDelay:it=0,repeatType:st,velocity:at=0}=this.options,ot=isGenerator(nt)?nt:generators[nt]||keyframes;let lt,ct;ot!==keyframes&&typeof _e[0]!="number"&&(lt=pipe(percentToProgress,mix(_e[0],_e[1])),_e=[0,100]);const ut=ot({...this.options,keyframes:_e});st==="mirror"&&(ct=ot({...this.options,keyframes:[..._e].reverse(),velocity:-at})),ut.calculatedDuration===null&&(ut.calculatedDuration=calcGeneratorDuration(ut));const{calculatedDuration:ft}=ut,ht=ft+it,pt=ht*(rt+1)-it;return{generator:ut,mirroredGenerator:ct,mapPercentToKeyframes:lt,calculatedDuration:ft,resolvedDuration:ht,totalDuration:pt}}onPostResolved(){const{autoplay:_e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!_e?this.pause():this.state=this.pendingPlayState}tick(_e,nt=!1){const{resolved:rt}=this;if(!rt){const{keyframes:Ct}=this.options;return{done:!0,value:Ct[Ct.length-1]}}const{finalKeyframe:it,generator:st,mirroredGenerator:at,mapPercentToKeyframes:ot,keyframes:lt,calculatedDuration:ct,totalDuration:ut,resolvedDuration:ft}=rt;if(this.startTime===null)return st.next(0);const{delay:ht,repeat:pt,repeatType:dt,repeatDelay:gt,onUpdate:vt}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,_e):this.speed<0&&(this.startTime=Math.min(_e-ut/this.speed,this.startTime)),nt?this.currentTime=_e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(_e-this.startTime)*this.speed;const mt=this.currentTime-ht*(this.speed>=0?1:-1),xt=this.speed>=0?mt<0:mt>ut;this.currentTime=Math.max(mt,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=ut);let St=this.currentTime,Et=st;if(pt){const Ct=Math.min(this.currentTime,ut)/ft;let Pt=Math.floor(Ct),It=Ct%1;!It&&Ct>=1&&(It=1),It===1&&Pt--,Pt=Math.min(Pt,pt+1),!!(Pt%2)&&(dt==="reverse"?(It=1-It,gt&&(It-=gt/ft)):dt==="mirror"&&(Et=at)),St=clamp$1(0,1,It)*ft}const bt=xt?{done:!1,value:lt[0]}:Et.next(St);ot&&(bt.value=ot(bt.value));let{done:Tt}=bt;!xt&&ct!==null&&(Tt=this.speed>=0?this.currentTime>=ut:this.currentTime<=0);const At=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Tt);return At&&it!==void 0&&(bt.value=getFinalKeyframe(lt,this.options,it)),vt&&vt(bt.value),At&&this.finish(),bt}get duration(){const{resolved:_e}=this;return _e?millisecondsToSeconds(_e.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(_e){_e=secondsToMilliseconds(_e),this.currentTime=_e,this.holdTime!==null||this.speed===0?this.holdTime=_e:this.driver&&(this.startTime=this.driver.now()-_e/this.speed)}get speed(){return this.playbackSpeed}set speed(_e){const nt=this.playbackSpeed!==_e;this.playbackSpeed=_e,nt&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:_e=frameloopDriver,onPlay:nt,startTime:rt}=this.options;this.driver||(this.driver=_e(st=>this.tick(st))),nt&&nt();const it=this.driver.now();this.holdTime!==null?this.startTime=it-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=it):this.startTime=rt??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var _e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(_e=this.currentTime)!==null&&_e!==void 0?_e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:_e}=this.options;_e&&_e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(_e){return this.startTime=0,this.tick(_e,!0)}}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]);function startWaapiAnimation(tt,_e,nt,{delay:rt=0,duration:it=300,repeat:st=0,repeatType:at="loop",ease:ot="easeInOut",times:lt}={}){const ct={[_e]:nt};lt&&(ct.offset=lt);const ut=mapEasingToNativeEasing(ot,it);return Array.isArray(ut)&&(ct.easing=ut),tt.animate(ct,{delay:rt,duration:it,easing:Array.isArray(ut)?"linear":ut,fill:"both",iterations:st+1,direction:at==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(tt){return isGenerator(tt.type)||tt.type==="spring"||!isWaapiSupportedEasing(tt.ease)}function pregenerateKeyframes(tt,_e){const nt=new MainThreadAnimation({..._e,keyframes:tt,repeat:0,delay:0,isGenerator:!0});let rt={done:!1,value:tt[0]};const it=[];let st=0;for(;!rt.done&&st<maxDuration;)rt=nt.sample(st),it.push(rt.value),st+=sampleDelta;return{times:void 0,keyframes:it,duration:st-sampleDelta,ease:"linear"}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(tt){return tt in unsupportedEasingFunctions}class AcceleratedAnimation extends BaseAnimation{constructor(_e){super(_e);const{name:nt,motionValue:rt,element:it,keyframes:st}=this.options;this.resolver=new DOMKeyframesResolver(st,(at,ot)=>this.onKeyframesResolved(at,ot),nt,rt,it),this.resolver.scheduleResolve()}initPlayback(_e,nt){let{duration:rt=300,times:it,ease:st,type:at,motionValue:ot,name:lt,startTime:ct}=this.options;if(!ot.owner||!ot.owner.current)return!1;if(typeof st=="string"&&supportsLinearEasing()&&isUnsupportedEase(st)&&(st=unsupportedEasingFunctions[st]),requiresPregeneratedKeyframes(this.options)){const{onComplete:ft,onUpdate:ht,motionValue:pt,element:dt,...gt}=this.options,vt=pregenerateKeyframes(_e,gt);_e=vt.keyframes,_e.length===1&&(_e[1]=_e[0]),rt=vt.duration,it=vt.times,st=vt.ease,at="keyframes"}const ut=startWaapiAnimation(ot.owner.current,lt,_e,{...this.options,duration:rt,times:it,ease:st});return ut.startTime=ct??this.calcStartTime(),this.pendingTimeline?(attachTimeline(ut,this.pendingTimeline),this.pendingTimeline=void 0):ut.onfinish=()=>{const{onComplete:ft}=this.options;ot.set(getFinalKeyframe(_e,this.options,nt)),ft&&ft(),this.cancel(),this.resolveFinishedPromise()},{animation:ut,duration:rt,times:it,type:at,ease:st,keyframes:_e}}get duration(){const{resolved:_e}=this;if(!_e)return 0;const{duration:nt}=_e;return millisecondsToSeconds(nt)}get time(){const{resolved:_e}=this;if(!_e)return 0;const{animation:nt}=_e;return millisecondsToSeconds(nt.currentTime||0)}set time(_e){const{resolved:nt}=this;if(!nt)return;const{animation:rt}=nt;rt.currentTime=secondsToMilliseconds(_e)}get speed(){const{resolved:_e}=this;if(!_e)return 1;const{animation:nt}=_e;return nt.playbackRate}set speed(_e){const{resolved:nt}=this;if(!nt)return;const{animation:rt}=nt;rt.playbackRate=_e}get state(){const{resolved:_e}=this;if(!_e)return"idle";const{animation:nt}=_e;return nt.playState}get startTime(){const{resolved:_e}=this;if(!_e)return null;const{animation:nt}=_e;return nt.startTime}attachTimeline(_e){if(!this._resolved)this.pendingTimeline=_e;else{const{resolved:nt}=this;if(!nt)return noop;const{animation:rt}=nt;attachTimeline(rt,_e)}return noop}play(){if(this.isStopped)return;const{resolved:_e}=this;if(!_e)return;const{animation:nt}=_e;nt.playState==="finished"&&this.updateFinishedPromise(),nt.play()}pause(){const{resolved:_e}=this;if(!_e)return;const{animation:nt}=_e;nt.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:_e}=this;if(!_e)return;const{animation:nt,keyframes:rt,duration:it,type:st,ease:at,times:ot}=_e;if(nt.playState==="idle"||nt.playState==="finished")return;if(this.time){const{motionValue:ct,onUpdate:ut,onComplete:ft,element:ht,...pt}=this.options,dt=new MainThreadAnimation({...pt,keyframes:rt,duration:it,type:st,ease:at,times:ot,isGenerator:!0}),gt=secondsToMilliseconds(this.time);ct.setWithVelocity(dt.sample(gt-sampleDelta).value,dt.sample(gt).value,sampleDelta)}const{onStop:lt}=this.options;lt&&lt(),this.cancel()}complete(){const{resolved:_e}=this;_e&&_e.animation.finish()}cancel(){const{resolved:_e}=this;_e&&_e.animation.cancel()}static supports(_e){const{motionValue:nt,name:rt,repeatDelay:it,repeatType:st,damping:at,type:ot}=_e;if(!nt||!nt.owner||!(nt.owner.current instanceof HTMLElement))return!1;const{onUpdate:lt,transformTemplate:ct}=nt.owner.getProps();return supportsWaapi()&&rt&&acceleratedValues.has(rt)&&!lt&&!ct&&!it&&st!=="mirror"&&at!==0&&ot!=="inertia"}}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=tt=>({type:"spring",stiffness:550,damping:tt===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(tt,{keyframes:_e})=>_e.length>2?keyframesTransition:transformProps.has(tt)?tt.startsWith("scale")?criticallyDampedSpring(_e[1]):underDampedSpring:ease;function isTransitionDefined({when:tt,delay:_e,delayChildren:nt,staggerChildren:rt,staggerDirection:it,repeat:st,repeatType:at,repeatDelay:ot,from:lt,elapsed:ct,...ut}){return!!Object.keys(ut).length}const animateMotionValue=(tt,_e,nt,rt={},it,st)=>at=>{const ot=getValueTransition(rt,tt)||{},lt=ot.delay||rt.delay||0;let{elapsed:ct=0}=rt;ct=ct-secondsToMilliseconds(lt);let ut={keyframes:Array.isArray(nt)?nt:[null,nt],ease:"easeOut",velocity:_e.getVelocity(),...ot,delay:-ct,onUpdate:ht=>{_e.set(ht),ot.onUpdate&&ot.onUpdate(ht)},onComplete:()=>{at(),ot.onComplete&&ot.onComplete()},name:tt,motionValue:_e,element:st?void 0:it};isTransitionDefined(ot)||(ut={...ut,...getDefaultTransition(tt,ut)}),ut.duration&&(ut.duration=secondsToMilliseconds(ut.duration)),ut.repeatDelay&&(ut.repeatDelay=secondsToMilliseconds(ut.repeatDelay)),ut.from!==void 0&&(ut.keyframes[0]=ut.from);let ft=!1;if((ut.type===!1||ut.duration===0&&!ut.repeatDelay)&&(ut.duration=0,ut.delay===0&&(ft=!0)),ft&&!st&&_e.get()!==void 0){const ht=getFinalKeyframe(ut.keyframes,ot);if(ht!==void 0)return frame.update(()=>{ut.onUpdate(ht),ut.onComplete()}),new GroupPlaybackControls([])}return!st&&AcceleratedAnimation.supports(ut)?new AcceleratedAnimation(ut):new MainThreadAnimation(ut)};function shouldBlockAnimation({protectedKeys:tt,needsAnimating:_e},nt){const rt=tt.hasOwnProperty(nt)&&_e[nt]!==!0;return _e[nt]=!1,rt}function animateTarget(tt,_e,{delay:nt=0,transitionOverride:rt,type:it}={}){var st;let{transition:at=tt.getDefaultTransition(),transitionEnd:ot,...lt}=_e;rt&&(at=rt);const ct=[],ut=it&&tt.animationState&&tt.animationState.getState()[it];for(const ft in lt){const ht=tt.getValue(ft,(st=tt.latestValues[ft])!==null&&st!==void 0?st:null),pt=lt[ft];if(pt===void 0||ut&&shouldBlockAnimation(ut,ft))continue;const dt={delay:nt,...getValueTransition(at||{},ft)};let gt=!1;if(window.MotionHandoffAnimation){const mt=getOptimisedAppearId(tt);if(mt){const xt=window.MotionHandoffAnimation(mt,ft,frame);xt!==null&&(dt.startTime=xt,gt=!0)}}addValueToWillChange(tt,ft),ht.start(animateMotionValue(ft,ht,pt,tt.shouldReduceMotion&&positionalKeys.has(ft)?{type:!1}:dt,tt,gt));const vt=ht.animation;vt&&ct.push(vt)}return ot&&Promise.all(ct).then(()=>{frame.update(()=>{ot&&setTarget(tt,ot)})}),ct}function animateVariant(tt,_e,nt={}){var rt;const it=resolveVariant(tt,_e,nt.type==="exit"?(rt=tt.presenceContext)===null||rt===void 0?void 0:rt.custom:void 0);let{transition:st=tt.getDefaultTransition()||{}}=it||{};nt.transitionOverride&&(st=nt.transitionOverride);const at=it?()=>Promise.all(animateTarget(tt,it,nt)):()=>Promise.resolve(),ot=tt.variantChildren&&tt.variantChildren.size?(ct=0)=>{const{delayChildren:ut=0,staggerChildren:ft,staggerDirection:ht}=st;return animateChildren(tt,_e,ut+ct,ft,ht,nt)}:()=>Promise.resolve(),{when:lt}=st;if(lt){const[ct,ut]=lt==="beforeChildren"?[at,ot]:[ot,at];return ct().then(()=>ut())}else return Promise.all([at(),ot(nt.delay)])}function animateChildren(tt,_e,nt=0,rt=0,it=1,st){const at=[],ot=(tt.variantChildren.size-1)*rt,lt=it===1?(ct=0)=>ct*rt:(ct=0)=>ot-ct*rt;return Array.from(tt.variantChildren).sort(sortByTreeOrder).forEach((ct,ut)=>{ct.notify("AnimationStart",_e),at.push(animateVariant(ct,_e,{...st,delay:nt+lt(ut)}).then(()=>ct.notify("AnimationComplete",_e)))}),Promise.all(at)}function sortByTreeOrder(tt,_e){return tt.sortNodePosition(_e)}function animateVisualElement(tt,_e,nt={}){tt.notify("AnimationStart",_e);let rt;if(Array.isArray(_e)){const it=_e.map(st=>animateVariant(tt,st,nt));rt=Promise.all(it)}else if(typeof _e=="string")rt=animateVariant(tt,_e,nt);else{const it=typeof _e=="function"?resolveVariant(tt,_e,nt.custom):_e;rt=Promise.all(animateTarget(tt,it,nt))}return rt.then(()=>{tt.notify("AnimationComplete",_e)})}const numVariantProps=variantProps.length;function getVariantContext(tt){if(!tt)return;if(!tt.isControllingVariants){const nt=tt.parent?getVariantContext(tt.parent)||{}:{};return tt.props.initial!==void 0&&(nt.initial=tt.props.initial),nt}const _e={};for(let nt=0;nt<numVariantProps;nt++){const rt=variantProps[nt],it=tt.props[rt];(isVariantLabel(it)||it===!1)&&(_e[rt]=it)}return _e}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(tt){return _e=>Promise.all(_e.map(({animation:nt,options:rt})=>animateVisualElement(tt,nt,rt)))}function createAnimationState(tt){let _e=animateList(tt),nt=createState(),rt=!0;const it=lt=>(ct,ut)=>{var ft;const ht=resolveVariant(tt,ut,lt==="exit"?(ft=tt.presenceContext)===null||ft===void 0?void 0:ft.custom:void 0);if(ht){const{transition:pt,transitionEnd:dt,...gt}=ht;ct={...ct,...gt,...dt}}return ct};function st(lt){_e=lt(tt)}function at(lt){const{props:ct}=tt,ut=getVariantContext(tt.parent)||{},ft=[],ht=new Set;let pt={},dt=1/0;for(let vt=0;vt<numAnimationTypes;vt++){const mt=reversePriorityOrder[vt],xt=nt[mt],St=ct[mt]!==void 0?ct[mt]:ut[mt],Et=isVariantLabel(St),bt=mt===lt?xt.isActive:null;bt===!1&&(dt=vt);let Tt=St===ut[mt]&&St!==ct[mt]&&Et;if(Tt&&rt&&tt.manuallyAnimateOnMount&&(Tt=!1),xt.protectedKeys={...pt},!xt.isActive&&bt===null||!St&&!xt.prevProp||isAnimationControls(St)||typeof St=="boolean")continue;const At=checkVariantsDidChange(xt.prevProp,St);let Ct=At||mt===lt&&xt.isActive&&!Tt&&Et||vt>dt&&Et,Pt=!1;const It=Array.isArray(St)?St:[St];let Lt=It.reduce(it(mt),{});bt===!1&&(Lt={});const{prevResolvedValues:Vt={}}=xt,Ut={...Vt,...Lt},Ot=$t=>{Ct=!0,ht.has($t)&&(Pt=!0,ht.delete($t)),xt.needsAnimating[$t]=!0;const Mt=tt.getValue($t);Mt&&(Mt.liveStyle=!1)};for(const $t in Ut){const Mt=Lt[$t],Rt=Vt[$t];if(pt.hasOwnProperty($t))continue;let Nt=!1;isKeyframesTarget(Mt)&&isKeyframesTarget(Rt)?Nt=!shallowCompare(Mt,Rt):Nt=Mt!==Rt,Nt?Mt!=null?Ot($t):ht.add($t):Mt!==void 0&&ht.has($t)?Ot($t):xt.protectedKeys[$t]=!0}xt.prevProp=St,xt.prevResolvedValues=Lt,xt.isActive&&(pt={...pt,...Lt}),rt&&tt.blockInitialAnimation&&(Ct=!1),Ct&&(!(Tt&&At)||Pt)&&ft.push(...It.map($t=>({animation:$t,options:{type:mt}})))}if(ht.size){const vt={};ht.forEach(mt=>{const xt=tt.getBaseTarget(mt),St=tt.getValue(mt);St&&(St.liveStyle=!0),vt[mt]=xt??null}),ft.push({animation:vt})}let gt=!!ft.length;return rt&&(ct.initial===!1||ct.initial===ct.animate)&&!tt.manuallyAnimateOnMount&&(gt=!1),rt=!1,gt?_e(ft):Promise.resolve()}function ot(lt,ct){var ut;if(nt[lt].isActive===ct)return Promise.resolve();(ut=tt.variantChildren)===null||ut===void 0||ut.forEach(ht=>{var pt;return(pt=ht.animationState)===null||pt===void 0?void 0:pt.setActive(lt,ct)}),nt[lt].isActive=ct;const ft=at(lt);for(const ht in nt)nt[ht].protectedKeys={};return ft}return{animateChanges:at,setActive:ot,setAnimateFunction:st,getState:()=>nt,reset:()=>{nt=createState(),rt=!0}}}function checkVariantsDidChange(tt,_e){return typeof _e=="string"?_e!==tt:Array.isArray(_e)?!shallowCompare(_e,tt):!1}function createTypeState(tt=!1){return{isActive:tt,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(_e){this.isMounted=!1,this.node=_e}update(){}}class AnimationFeature extends Feature{constructor(_e){super(_e),_e.animationState||(_e.animationState=createAnimationState(_e))}updateAnimationControlsSubscription(){const{animate:_e}=this.node.getProps();isAnimationControls(_e)&&(this.unmountControls=_e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:_e}=this.node.getProps(),{animate:nt}=this.node.prevProps||{};_e!==nt&&this.updateAnimationControlsSubscription()}unmount(){var _e;this.node.animationState.reset(),(_e=this.unmountControls)===null||_e===void 0||_e.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:_e,onExitComplete:nt}=this.node.presenceContext,{isPresent:rt}=this.node.prevPresenceContext||{};if(!this.node.animationState||_e===rt)return;const it=this.node.animationState.setActive("exit",!_e);nt&&!_e&&it.then(()=>nt(this.id))}mount(){const{register:_e}=this.node.presenceContext||{};_e&&(this.unmount=_e(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}},isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function setDragLock(tt){return tt==="x"||tt==="y"?isDragging[tt]?null:(isDragging[tt]=!0,()=>{isDragging[tt]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}const isPrimaryPointer=tt=>tt.pointerType==="mouse"?typeof tt.button!="number"||tt.button<=0:tt.isPrimary!==!1;function addDomEvent(tt,_e,nt,rt={passive:!0}){return tt.addEventListener(_e,nt,rt),()=>tt.removeEventListener(_e,nt)}function extractEventInfo(tt){return{point:{x:tt.pageX,y:tt.pageY}}}const addPointerInfo=tt=>_e=>isPrimaryPointer(_e)&&tt(_e,extractEventInfo(_e));function addPointerEvent(tt,_e,nt,rt){return addDomEvent(tt,_e,addPointerInfo(nt),rt)}const distance=(tt,_e)=>Math.abs(tt-_e);function distance2D(tt,_e){const nt=distance(tt.x,_e.x),rt=distance(tt.y,_e.y);return Math.sqrt(nt**2+rt**2)}class PanSession{constructor(_e,nt,{transformPagePoint:rt,contextWindow:it,dragSnapToOrigin:st=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const ft=getPanInfo(this.lastMoveEventInfo,this.history),ht=this.startEvent!==null,pt=distance2D(ft.offset,{x:0,y:0})>=3;if(!ht&&!pt)return;const{point:dt}=ft,{timestamp:gt}=frameData;this.history.push({...dt,timestamp:gt});const{onStart:vt,onMove:mt}=this.handlers;ht||(vt&&vt(this.lastMoveEvent,ft),this.startEvent=this.lastMoveEvent),mt&&mt(this.lastMoveEvent,ft)},this.handlePointerMove=(ft,ht)=>{this.lastMoveEvent=ft,this.lastMoveEventInfo=transformPoint(ht,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(ft,ht)=>{this.end();const{onEnd:pt,onSessionEnd:dt,resumeAnimation:gt}=this.handlers;if(this.dragSnapToOrigin&&gt&&gt(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const vt=getPanInfo(ft.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(ht,this.transformPagePoint),this.history);this.startEvent&&pt&&pt(ft,vt),dt&&dt(ft,vt)},!isPrimaryPointer(_e))return;this.dragSnapToOrigin=st,this.handlers=nt,this.transformPagePoint=rt,this.contextWindow=it||window;const at=extractEventInfo(_e),ot=transformPoint(at,this.transformPagePoint),{point:lt}=ot,{timestamp:ct}=frameData;this.history=[{...lt,timestamp:ct}];const{onSessionStart:ut}=nt;ut&&ut(_e,getPanInfo(ot,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(_e){this.handlers=_e}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(tt,_e){return _e?{point:_e(tt.point)}:tt}function subtractPoint(tt,_e){return{x:tt.x-_e.x,y:tt.y-_e.y}}function getPanInfo({point:tt},_e){return{point:tt,delta:subtractPoint(tt,lastDevicePoint(_e)),offset:subtractPoint(tt,startDevicePoint(_e)),velocity:getVelocity(_e,.1)}}function startDevicePoint(tt){return tt[0]}function lastDevicePoint(tt){return tt[tt.length-1]}function getVelocity(tt,_e){if(tt.length<2)return{x:0,y:0};let nt=tt.length-1,rt=null;const it=lastDevicePoint(tt);for(;nt>=0&&(rt=tt[nt],!(it.timestamp-rt.timestamp>secondsToMilliseconds(_e)));)nt--;if(!rt)return{x:0,y:0};const st=millisecondsToSeconds(it.timestamp-rt.timestamp);if(st===0)return{x:0,y:0};const at={x:(it.x-rt.x)/st,y:(it.y-rt.y)/st};return at.x===1/0&&(at.x=0),at.y===1/0&&(at.y=0),at}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(tt){return tt.max-tt.min}function isNear(tt,_e,nt){return Math.abs(tt-_e)<=nt}function calcAxisDelta(tt,_e,nt,rt=.5){tt.origin=rt,tt.originPoint=mixNumber$1(_e.min,_e.max,tt.origin),tt.scale=calcLength(nt)/calcLength(_e),tt.translate=mixNumber$1(nt.min,nt.max,tt.origin)-tt.originPoint,(tt.scale>=SCALE_MIN&&tt.scale<=SCALE_MAX||isNaN(tt.scale))&&(tt.scale=1),(tt.translate>=TRANSLATE_MIN&&tt.translate<=TRANSLATE_MAX||isNaN(tt.translate))&&(tt.translate=0)}function calcBoxDelta(tt,_e,nt,rt){calcAxisDelta(tt.x,_e.x,nt.x,rt?rt.originX:void 0),calcAxisDelta(tt.y,_e.y,nt.y,rt?rt.originY:void 0)}function calcRelativeAxis(tt,_e,nt){tt.min=nt.min+_e.min,tt.max=tt.min+calcLength(_e)}function calcRelativeBox(tt,_e,nt){calcRelativeAxis(tt.x,_e.x,nt.x),calcRelativeAxis(tt.y,_e.y,nt.y)}function calcRelativeAxisPosition(tt,_e,nt){tt.min=_e.min-nt.min,tt.max=tt.min+calcLength(_e)}function calcRelativePosition(tt,_e,nt){calcRelativeAxisPosition(tt.x,_e.x,nt.x),calcRelativeAxisPosition(tt.y,_e.y,nt.y)}function applyConstraints(tt,{min:_e,max:nt},rt){return _e!==void 0&&tt<_e?tt=rt?mixNumber$1(_e,tt,rt.min):Math.max(tt,_e):nt!==void 0&&tt>nt&&(tt=rt?mixNumber$1(nt,tt,rt.max):Math.min(tt,nt)),tt}function calcRelativeAxisConstraints(tt,_e,nt){return{min:_e!==void 0?tt.min+_e:void 0,max:nt!==void 0?tt.max+nt-(tt.max-tt.min):void 0}}function calcRelativeConstraints(tt,{top:_e,left:nt,bottom:rt,right:it}){return{x:calcRelativeAxisConstraints(tt.x,nt,it),y:calcRelativeAxisConstraints(tt.y,_e,rt)}}function calcViewportAxisConstraints(tt,_e){let nt=_e.min-tt.min,rt=_e.max-tt.max;return _e.max-_e.min<tt.max-tt.min&&([nt,rt]=[rt,nt]),{min:nt,max:rt}}function calcViewportConstraints(tt,_e){return{x:calcViewportAxisConstraints(tt.x,_e.x),y:calcViewportAxisConstraints(tt.y,_e.y)}}function calcOrigin(tt,_e){let nt=.5;const rt=calcLength(tt),it=calcLength(_e);return it>rt?nt=progress(_e.min,_e.max-rt,tt.min):rt>it&&(nt=progress(tt.min,tt.max-it,_e.min)),clamp$1(0,1,nt)}function rebaseAxisConstraints(tt,_e){const nt={};return _e.min!==void 0&&(nt.min=_e.min-tt.min),_e.max!==void 0&&(nt.max=_e.max-tt.min),nt}const defaultElastic=.35;function resolveDragElastic(tt=defaultElastic){return tt===!1?tt=0:tt===!0&&(tt=defaultElastic),{x:resolveAxisElastic(tt,"left","right"),y:resolveAxisElastic(tt,"top","bottom")}}function resolveAxisElastic(tt,_e,nt){return{min:resolvePointElastic(tt,_e),max:resolvePointElastic(tt,nt)}}function resolvePointElastic(tt,_e){return typeof tt=="number"?tt:tt[_e]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(tt){return[tt("x"),tt("y")]}function convertBoundingBoxToBox({top:tt,left:_e,right:nt,bottom:rt}){return{x:{min:_e,max:nt},y:{min:tt,max:rt}}}function convertBoxToBoundingBox({x:tt,y:_e}){return{top:_e.min,right:tt.max,bottom:_e.max,left:tt.min}}function transformBoxPoints(tt,_e){if(!_e)return tt;const nt=_e({x:tt.left,y:tt.top}),rt=_e({x:tt.right,y:tt.bottom});return{top:nt.y,left:nt.x,bottom:rt.y,right:rt.x}}function isIdentityScale(tt){return tt===void 0||tt===1}function hasScale({scale:tt,scaleX:_e,scaleY:nt}){return!isIdentityScale(tt)||!isIdentityScale(_e)||!isIdentityScale(nt)}function hasTransform(tt){return hasScale(tt)||has2DTranslate(tt)||tt.z||tt.rotate||tt.rotateX||tt.rotateY||tt.skewX||tt.skewY}function has2DTranslate(tt){return is2DTranslate(tt.x)||is2DTranslate(tt.y)}function is2DTranslate(tt){return tt&&tt!=="0%"}function scalePoint(tt,_e,nt){const rt=tt-nt,it=_e*rt;return nt+it}function applyPointDelta(tt,_e,nt,rt,it){return it!==void 0&&(tt=scalePoint(tt,it,rt)),scalePoint(tt,nt,rt)+_e}function applyAxisDelta(tt,_e=0,nt=1,rt,it){tt.min=applyPointDelta(tt.min,_e,nt,rt,it),tt.max=applyPointDelta(tt.max,_e,nt,rt,it)}function applyBoxDelta(tt,{x:_e,y:nt}){applyAxisDelta(tt.x,_e.translate,_e.scale,_e.originPoint),applyAxisDelta(tt.y,nt.translate,nt.scale,nt.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(tt,_e,nt,rt=!1){const it=nt.length;if(!it)return;_e.x=_e.y=1;let st,at;for(let ot=0;ot<it;ot++){st=nt[ot],at=st.projectionDelta;const{visualElement:lt}=st.options;lt&&lt.props.style&&lt.props.style.display==="contents"||(rt&&st.options.layoutScroll&&st.scroll&&st!==st.root&&transformBox(tt,{x:-st.scroll.offset.x,y:-st.scroll.offset.y}),at&&(_e.x*=at.x.scale,_e.y*=at.y.scale,applyBoxDelta(tt,at)),rt&&hasTransform(st.latestValues)&&transformBox(tt,st.latestValues))}_e.x<TREE_SCALE_SNAP_MAX&&_e.x>TREE_SCALE_SNAP_MIN&&(_e.x=1),_e.y<TREE_SCALE_SNAP_MAX&&_e.y>TREE_SCALE_SNAP_MIN&&(_e.y=1)}function translateAxis(tt,_e){tt.min=tt.min+_e,tt.max=tt.max+_e}function transformAxis(tt,_e,nt,rt,it=.5){const st=mixNumber$1(tt.min,tt.max,it);applyAxisDelta(tt,_e,nt,st,rt)}function transformBox(tt,_e){transformAxis(tt.x,_e.x,_e.scaleX,_e.scale,_e.originX),transformAxis(tt.y,_e.y,_e.scaleY,_e.scale,_e.originY)}function measureViewportBox(tt,_e){return convertBoundingBoxToBox(transformBoxPoints(tt.getBoundingClientRect(),_e))}function measurePageBox(tt,_e,nt){const rt=measureViewportBox(tt,nt),{scroll:it}=_e;return it&&(translateAxis(rt.x,it.offset.x),translateAxis(rt.y,it.offset.y)),rt}const getContextWindow=({current:tt})=>tt?tt.ownerDocument.defaultView:null,elementDragControls=new WeakMap;class VisualElementDragControls{constructor(_e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=_e}start(_e,{snapToCursor:nt=!1}={}){const{presenceContext:rt}=this.visualElement;if(rt&&rt.isPresent===!1)return;const it=ut=>{const{dragSnapToOrigin:ft}=this.getProps();ft?this.pauseAnimation():this.stopAnimation(),nt&&this.snapToCursor(extractEventInfo(ut).point)},st=(ut,ft)=>{const{drag:ht,dragPropagation:pt,onDragStart:dt}=this.getProps();if(ht&&!pt&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(ht),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(vt=>{let mt=this.getAxisMotionValue(vt).get()||0;if(percent.test(mt)){const{projection:xt}=this.visualElement;if(xt&&xt.layout){const St=xt.layout.layoutBox[vt];St&&(mt=calcLength(St)*(parseFloat(mt)/100))}}this.originPoint[vt]=mt}),dt&&frame.postRender(()=>dt(ut,ft)),addValueToWillChange(this.visualElement,"transform");const{animationState:gt}=this.visualElement;gt&&gt.setActive("whileDrag",!0)},at=(ut,ft)=>{const{dragPropagation:ht,dragDirectionLock:pt,onDirectionLock:dt,onDrag:gt}=this.getProps();if(!ht&&!this.openDragLock)return;const{offset:vt}=ft;if(pt&&this.currentDirection===null){this.currentDirection=getCurrentDirection(vt),this.currentDirection!==null&&dt&&dt(this.currentDirection);return}this.updateAxis("x",ft.point,vt),this.updateAxis("y",ft.point,vt),this.visualElement.render(),gt&&gt(ut,ft)},ot=(ut,ft)=>this.stop(ut,ft),lt=()=>eachAxis(ut=>{var ft;return this.getAnimationState(ut)==="paused"&&((ft=this.getAxisMotionValue(ut).animation)===null||ft===void 0?void 0:ft.play())}),{dragSnapToOrigin:ct}=this.getProps();this.panSession=new PanSession(_e,{onSessionStart:it,onStart:st,onMove:at,onSessionEnd:ot,resumeAnimation:lt},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:ct,contextWindow:getContextWindow(this.visualElement)})}stop(_e,nt){const rt=this.isDragging;if(this.cancel(),!rt)return;const{velocity:it}=nt;this.startAnimation(it);const{onDragEnd:st}=this.getProps();st&&frame.postRender(()=>st(_e,nt))}cancel(){this.isDragging=!1;const{projection:_e,animationState:nt}=this.visualElement;_e&&(_e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:rt}=this.getProps();!rt&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),nt&&nt.setActive("whileDrag",!1)}updateAxis(_e,nt,rt){const{drag:it}=this.getProps();if(!rt||!shouldDrag(_e,it,this.currentDirection))return;const st=this.getAxisMotionValue(_e);let at=this.originPoint[_e]+rt[_e];this.constraints&&this.constraints[_e]&&(at=applyConstraints(at,this.constraints[_e],this.elastic[_e])),st.set(at)}resolveConstraints(){var _e;const{dragConstraints:nt,dragElastic:rt}=this.getProps(),it=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(_e=this.visualElement.projection)===null||_e===void 0?void 0:_e.layout,st=this.constraints;nt&&isRefObject(nt)?this.constraints||(this.constraints=this.resolveRefConstraints()):nt&&it?this.constraints=calcRelativeConstraints(it.layoutBox,nt):this.constraints=!1,this.elastic=resolveDragElastic(rt),st!==this.constraints&&it&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(at=>{this.constraints!==!1&&this.getAxisMotionValue(at)&&(this.constraints[at]=rebaseAxisConstraints(it.layoutBox[at],this.constraints[at]))})}resolveRefConstraints(){const{dragConstraints:_e,onMeasureDragConstraints:nt}=this.getProps();if(!_e||!isRefObject(_e))return!1;const rt=_e.current,{projection:it}=this.visualElement;if(!it||!it.layout)return!1;const st=measurePageBox(rt,it.root,this.visualElement.getTransformPagePoint());let at=calcViewportConstraints(it.layout.layoutBox,st);if(nt){const ot=nt(convertBoxToBoundingBox(at));this.hasMutatedConstraints=!!ot,ot&&(at=convertBoundingBoxToBox(ot))}return at}startAnimation(_e){const{drag:nt,dragMomentum:rt,dragElastic:it,dragTransition:st,dragSnapToOrigin:at,onDragTransitionEnd:ot}=this.getProps(),lt=this.constraints||{},ct=eachAxis(ut=>{if(!shouldDrag(ut,nt,this.currentDirection))return;let ft=lt&&lt[ut]||{};at&&(ft={min:0,max:0});const ht=it?200:1e6,pt=it?40:1e7,dt={type:"inertia",velocity:rt?_e[ut]:0,bounceStiffness:ht,bounceDamping:pt,timeConstant:750,restDelta:1,restSpeed:10,...st,...ft};return this.startAxisValueAnimation(ut,dt)});return Promise.all(ct).then(ot)}startAxisValueAnimation(_e,nt){const rt=this.getAxisMotionValue(_e);return addValueToWillChange(this.visualElement,_e),rt.start(animateMotionValue(_e,rt,0,nt,this.visualElement,!1))}stopAnimation(){eachAxis(_e=>this.getAxisMotionValue(_e).stop())}pauseAnimation(){eachAxis(_e=>{var nt;return(nt=this.getAxisMotionValue(_e).animation)===null||nt===void 0?void 0:nt.pause()})}getAnimationState(_e){var nt;return(nt=this.getAxisMotionValue(_e).animation)===null||nt===void 0?void 0:nt.state}getAxisMotionValue(_e){const nt=`_drag${_e.toUpperCase()}`,rt=this.visualElement.getProps(),it=rt[nt];return it||this.visualElement.getValue(_e,(rt.initial?rt.initial[_e]:void 0)||0)}snapToCursor(_e){eachAxis(nt=>{const{drag:rt}=this.getProps();if(!shouldDrag(nt,rt,this.currentDirection))return;const{projection:it}=this.visualElement,st=this.getAxisMotionValue(nt);if(it&&it.layout){const{min:at,max:ot}=it.layout.layoutBox[nt];st.set(_e[nt]-mixNumber$1(at,ot,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:_e,dragConstraints:nt}=this.getProps(),{projection:rt}=this.visualElement;if(!isRefObject(nt)||!rt||!this.constraints)return;this.stopAnimation();const it={x:0,y:0};eachAxis(at=>{const ot=this.getAxisMotionValue(at);if(ot&&this.constraints!==!1){const lt=ot.get();it[at]=calcOrigin({min:lt,max:lt},this.constraints[at])}});const{transformTemplate:st}=this.visualElement.getProps();this.visualElement.current.style.transform=st?st({},""):"none",rt.root&&rt.root.updateScroll(),rt.updateLayout(),this.resolveConstraints(),eachAxis(at=>{if(!shouldDrag(at,_e,null))return;const ot=this.getAxisMotionValue(at),{min:lt,max:ct}=this.constraints[at];ot.set(mixNumber$1(lt,ct,it[at]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const _e=this.visualElement.current,nt=addPointerEvent(_e,"pointerdown",lt=>{const{drag:ct,dragListener:ut=!0}=this.getProps();ct&&ut&&this.start(lt)}),rt=()=>{const{dragConstraints:lt}=this.getProps();isRefObject(lt)&&lt.current&&(this.constraints=this.resolveRefConstraints())},{projection:it}=this.visualElement,st=it.addEventListener("measure",rt);it&&!it.layout&&(it.root&&it.root.updateScroll(),it.updateLayout()),frame.read(rt);const at=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),ot=it.addEventListener("didUpdate",({delta:lt,hasLayoutChanged:ct})=>{this.isDragging&&ct&&(eachAxis(ut=>{const ft=this.getAxisMotionValue(ut);ft&&(this.originPoint[ut]+=lt[ut].translate,ft.set(ft.get()+lt[ut].translate))}),this.visualElement.render())});return()=>{at(),nt(),st(),ot&&ot()}}getProps(){const _e=this.visualElement.getProps(),{drag:nt=!1,dragDirectionLock:rt=!1,dragPropagation:it=!1,dragConstraints:st=!1,dragElastic:at=defaultElastic,dragMomentum:ot=!0}=_e;return{..._e,drag:nt,dragDirectionLock:rt,dragPropagation:it,dragConstraints:st,dragElastic:at,dragMomentum:ot}}}function shouldDrag(tt,_e,nt){return(_e===!0||_e===tt)&&(nt===null||nt===tt)}function getCurrentDirection(tt,_e=10){let nt=null;return Math.abs(tt.y)>_e?nt="y":Math.abs(tt.x)>_e&&(nt="x"),nt}class DragGesture extends Feature{constructor(_e){super(_e),this.removeGroupControls=noop,this.removeListeners=noop,this.controls=new VisualElementDragControls(_e)}mount(){const{dragControls:_e}=this.node.getProps();_e&&(this.removeGroupControls=_e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=tt=>(_e,nt)=>{tt&&frame.postRender(()=>tt(_e,nt))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop}onPointerDown(_e){this.session=new PanSession(_e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:_e,onPanStart:nt,onPan:rt,onPanEnd:it}=this.node.getProps();return{onSessionStart:asyncHandler(_e),onStart:asyncHandler(nt),onMove:rt,onEnd:(st,at)=>{delete this.session,it&&frame.postRender(()=>it(st,at))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",_e=>this.onPointerDown(_e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(tt,_e){return _e.max===_e.min?0:tt/(_e.max-_e.min)*100}const correctBorderRadius={correct:(tt,_e)=>{if(!_e.target)return tt;if(typeof tt=="string")if(px$1.test(tt))tt=parseFloat(tt);else return tt;const nt=pixelsToPercent(tt,_e.target.x),rt=pixelsToPercent(tt,_e.target.y);return`${nt}% ${rt}%`}},correctBoxShadow={correct:(tt,{treeScale:_e,projectionDelta:nt})=>{const rt=tt,it=complex.parse(tt);if(it.length>5)return rt;const st=complex.createTransformer(tt),at=typeof it[0]!="number"?1:0,ot=nt.x.scale*_e.x,lt=nt.y.scale*_e.y;it[0+at]/=ot,it[1+at]/=lt;const ct=mixNumber$1(ot,lt,.5);return typeof it[2+at]=="number"&&(it[2+at]/=ct),typeof it[3+at]=="number"&&(it[3+at]/=ct),st(it)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:_e,layoutGroup:nt,switchLayoutGroup:rt,layoutId:it}=this.props,{projection:st}=_e;addScaleCorrector(defaultScaleCorrectors),st&&(nt.group&&nt.group.add(st),rt&&rt.register&&it&&rt.register(st),st.root.didUpdate(),st.addEventListener("animationComplete",()=>{this.safeToRemove()}),st.setOptions({...st.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(_e){const{layoutDependency:nt,visualElement:rt,drag:it,isPresent:st}=this.props,at=rt.projection;return at&&(at.isPresent=st,it||_e.layoutDependency!==nt||nt===void 0?at.willUpdate():this.safeToRemove(),_e.isPresent!==st&&(st?at.promote():at.relegate()||frame.postRender(()=>{const ot=at.getStack();(!ot||!ot.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:_e}=this.props.visualElement;_e&&(_e.root.didUpdate(),microtask.postRender(()=>{!_e.currentAnimation&&_e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:_e,layoutGroup:nt,switchLayoutGroup:rt}=this.props,{projection:it}=_e;it&&(it.scheduleCheckAfterUnmount(),nt&&nt.group&&nt.group.remove(it),rt&&rt.deregister&&rt.deregister(it))}safeToRemove(){const{safeToRemove:_e}=this.props;_e&&_e()}render(){return null}}function MeasureLayout(tt){const[_e,nt]=usePresence(),rt=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...tt,layoutGroup:rt,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:_e,safeToRemove:nt})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(tt,_e,nt){const rt=isMotionValue(tt)?tt:motionValue(tt);return rt.start(animateMotionValue("",rt,_e,nt)),rt.animation}function isSVGElement(tt){return tt instanceof SVGElement&&tt.tagName!=="svg"}const compareByDepth=(tt,_e)=>tt.depth-_e.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(_e){addUniqueItem(this.children,_e),this.isDirty=!0}remove(_e){removeItem(this.children,_e),this.isDirty=!0}forEach(_e){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(_e)}}function delay(tt,_e){const nt=time.now(),rt=({timestamp:it})=>{const st=it-nt;st>=_e&&(cancelFrame(rt),tt(st-_e))};return frame.read(rt,!0),()=>cancelFrame(rt)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=tt=>typeof tt=="string"?parseFloat(tt):tt,isPx=tt=>typeof tt=="number"||px$1.test(tt);function mixValues(tt,_e,nt,rt,it,st){it?(tt.opacity=mixNumber$1(0,nt.opacity!==void 0?nt.opacity:1,easeCrossfadeIn(rt)),tt.opacityExit=mixNumber$1(_e.opacity!==void 0?_e.opacity:1,0,easeCrossfadeOut(rt))):st&&(tt.opacity=mixNumber$1(_e.opacity!==void 0?_e.opacity:1,nt.opacity!==void 0?nt.opacity:1,rt));for(let at=0;at<numBorders;at++){const ot=`border${borders[at]}Radius`;let lt=getRadius(_e,ot),ct=getRadius(nt,ot);if(lt===void 0&&ct===void 0)continue;lt||(lt=0),ct||(ct=0),lt===0||ct===0||isPx(lt)===isPx(ct)?(tt[ot]=Math.max(mixNumber$1(asNumber(lt),asNumber(ct),rt),0),(percent.test(ct)||percent.test(lt))&&(tt[ot]+="%")):tt[ot]=ct}(_e.rotate||nt.rotate)&&(tt.rotate=mixNumber$1(_e.rotate||0,nt.rotate||0,rt))}function getRadius(tt,_e){return tt[_e]!==void 0?tt[_e]:tt.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(tt,_e,nt){return rt=>rt<tt?0:rt>_e?1:nt(progress(tt,_e,rt))}function copyAxisInto(tt,_e){tt.min=_e.min,tt.max=_e.max}function copyBoxInto(tt,_e){copyAxisInto(tt.x,_e.x),copyAxisInto(tt.y,_e.y)}function copyAxisDeltaInto(tt,_e){tt.translate=_e.translate,tt.scale=_e.scale,tt.originPoint=_e.originPoint,tt.origin=_e.origin}function removePointDelta(tt,_e,nt,rt,it){return tt-=_e,tt=scalePoint(tt,1/nt,rt),it!==void 0&&(tt=scalePoint(tt,1/it,rt)),tt}function removeAxisDelta(tt,_e=0,nt=1,rt=.5,it,st=tt,at=tt){if(percent.test(_e)&&(_e=parseFloat(_e),_e=mixNumber$1(at.min,at.max,_e/100)-at.min),typeof _e!="number")return;let ot=mixNumber$1(st.min,st.max,rt);tt===st&&(ot-=_e),tt.min=removePointDelta(tt.min,_e,nt,ot,it),tt.max=removePointDelta(tt.max,_e,nt,ot,it)}function removeAxisTransforms(tt,_e,[nt,rt,it],st,at){removeAxisDelta(tt,_e[nt],_e[rt],_e[it],_e.scale,st,at)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(tt,_e,nt,rt){removeAxisTransforms(tt.x,_e,xKeys,nt?nt.x:void 0,rt?rt.x:void 0),removeAxisTransforms(tt.y,_e,yKeys,nt?nt.y:void 0,rt?rt.y:void 0)}function isAxisDeltaZero(tt){return tt.translate===0&&tt.scale===1}function isDeltaZero(tt){return isAxisDeltaZero(tt.x)&&isAxisDeltaZero(tt.y)}function axisEquals(tt,_e){return tt.min===_e.min&&tt.max===_e.max}function boxEquals(tt,_e){return axisEquals(tt.x,_e.x)&&axisEquals(tt.y,_e.y)}function axisEqualsRounded(tt,_e){return Math.round(tt.min)===Math.round(_e.min)&&Math.round(tt.max)===Math.round(_e.max)}function boxEqualsRounded(tt,_e){return axisEqualsRounded(tt.x,_e.x)&&axisEqualsRounded(tt.y,_e.y)}function aspectRatio(tt){return calcLength(tt.x)/calcLength(tt.y)}function axisDeltaEquals(tt,_e){return tt.translate===_e.translate&&tt.scale===_e.scale&&tt.originPoint===_e.originPoint}class NodeStack{constructor(){this.members=[]}add(_e){addUniqueItem(this.members,_e),_e.scheduleRender()}remove(_e){if(removeItem(this.members,_e),_e===this.prevLead&&(this.prevLead=void 0),_e===this.lead){const nt=this.members[this.members.length-1];nt&&this.promote(nt)}}relegate(_e){const nt=this.members.findIndex(it=>_e===it);if(nt===0)return!1;let rt;for(let it=nt;it>=0;it--){const st=this.members[it];if(st.isPresent!==!1){rt=st;break}}return rt?(this.promote(rt),!0):!1}promote(_e,nt){const rt=this.lead;if(_e!==rt&&(this.prevLead=rt,this.lead=_e,_e.show(),rt)){rt.instance&&rt.scheduleRender(),_e.scheduleRender(),_e.resumeFrom=rt,nt&&(_e.resumeFrom.preserveOpacity=!0),rt.snapshot&&(_e.snapshot=rt.snapshot,_e.snapshot.latestValues=rt.animationValues||rt.latestValues),_e.root&&_e.root.isUpdating&&(_e.isLayoutDirty=!0);const{crossfade:it}=_e.options;it===!1&&rt.hide()}}exitAnimationComplete(){this.members.forEach(_e=>{const{options:nt,resumingFrom:rt}=_e;nt.onExitComplete&&nt.onExitComplete(),rt&&rt.options.onExitComplete&&rt.options.onExitComplete()})}scheduleRender(){this.members.forEach(_e=>{_e.instance&&_e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(tt,_e,nt){let rt="";const it=tt.x.translate/_e.x,st=tt.y.translate/_e.y,at=(nt==null?void 0:nt.z)||0;if((it||st||at)&&(rt=`translate3d(${it}px, ${st}px, ${at}px) `),(_e.x!==1||_e.y!==1)&&(rt+=`scale(${1/_e.x}, ${1/_e.y}) `),nt){const{transformPerspective:ct,rotate:ut,rotateX:ft,rotateY:ht,skewX:pt,skewY:dt}=nt;ct&&(rt=`perspective(${ct}px) ${rt}`),ut&&(rt+=`rotate(${ut}deg) `),ft&&(rt+=`rotateX(${ft}deg) `),ht&&(rt+=`rotateY(${ht}deg) `),pt&&(rt+=`skewX(${pt}deg) `),dt&&(rt+=`skewY(${dt}deg) `)}const ot=tt.x.scale*_e.x,lt=tt.y.scale*_e.y;return(ot!==1||lt!==1)&&(rt+=`scale(${ot}, ${lt})`),rt||"none"}const metrics={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},isDebug=typeof window<"u"&&window.MotionDebug!==void 0,transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;function resetDistortingTransform(tt,_e,nt,rt){const{latestValues:it}=_e;it[tt]&&(nt[tt]=it[tt],_e.setStaticValue(tt,0),rt&&(rt[tt]=0))}function cancelTreeOptimisedTransformAnimations(tt){if(tt.hasCheckedOptimisedAppear=!0,tt.root===tt)return;const{visualElement:_e}=tt.options;if(!_e)return;const nt=getOptimisedAppearId(_e);if(window.MotionHasOptimisedAnimation(nt,"transform")){const{layout:it,layoutId:st}=tt.options;window.MotionCancelOptimisedAnimation(nt,"transform",frame,!(it||st))}const{parent:rt}=tt;rt&&!rt.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(rt)}function createProjectionNode({attachResizeListener:tt,defaultParent:_e,measureScroll:nt,checkIsScrollRoot:rt,resetTransform:it}){return class{constructor(at={},ot=_e==null?void 0:_e()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,isDebug&&(metrics.totalNodes=metrics.resolvedTargetDeltas=metrics.recalculatedProjection=0),this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes),isDebug&&window.MotionDebug.record(metrics)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=at,this.root=ot?ot.root||ot:this,this.path=ot?[...ot.path,ot]:[],this.parent=ot,this.depth=ot?ot.depth+1:0;for(let lt=0;lt<this.path.length;lt++)this.path[lt].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(at,ot){return this.eventHandlers.has(at)||this.eventHandlers.set(at,new SubscriptionManager),this.eventHandlers.get(at).add(ot)}notifyListeners(at,...ot){const lt=this.eventHandlers.get(at);lt&&lt.notify(...ot)}hasListeners(at){return this.eventHandlers.has(at)}mount(at,ot=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(at),this.instance=at;const{layoutId:lt,layout:ct,visualElement:ut}=this.options;if(ut&&!ut.current&&ut.mount(at),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),ot&&(ct||lt)&&(this.isLayoutDirty=!0),tt){let ft;const ht=()=>this.root.updateBlockedByResize=!1;tt(at,()=>{this.root.updateBlockedByResize=!0,ft&&ft(),ft=delay(ht,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}lt&&this.root.registerSharedNode(lt,this),this.options.animate!==!1&&ut&&(lt||ct)&&this.addEventListener("didUpdate",({delta:ft,hasLayoutChanged:ht,hasRelativeTargetChanged:pt,layout:dt})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const gt=this.options.transition||ut.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:vt,onLayoutAnimationComplete:mt}=ut.getProps(),xt=!this.targetLayout||!boxEqualsRounded(this.targetLayout,dt)||pt,St=!ht&&pt;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||St||ht&&(xt||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(ft,St);const Et={...getValueTransition(gt,"layout"),onPlay:vt,onComplete:mt};(ut.shouldReduceMotion||this.options.layoutRoot)&&(Et.delay=0,Et.type=!1),this.startAnimation(Et)}else ht||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=dt})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const at=this.getStack();at&&at.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:at}=this.options;return at&&at.getProps().transformTemplate}willUpdate(at=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let ut=0;ut<this.path.length;ut++){const ft=this.path[ut];ft.shouldResetTransform=!0,ft.updateScroll("snapshot"),ft.options.layoutRoot&&ft.willUpdate(!1)}const{layoutId:ot,layout:lt}=this.options;if(ot===void 0&&!lt)return;const ct=this.getTransformTemplate();this.prevTransformTemplateValue=ct?ct(this.latestValues,""):void 0,this.updateSnapshot(),at&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const ot=time.now();frameData.delta=clamp$1(0,1e3/60,ot-frameData.timestamp),frameData.timestamp=ot,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let lt=0;lt<this.path.length;lt++)this.path[lt].updateScroll();const at=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:ot}=this.options;ot&&ot.notify("LayoutMeasure",this.layout.layoutBox,at?at.layoutBox:void 0)}updateScroll(at="measure"){let ot=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===at&&(ot=!1),ot){const lt=rt(this.instance);this.scroll={animationId:this.root.animationId,phase:at,isRoot:lt,offset:nt(this.instance),wasRoot:this.scroll?this.scroll.isRoot:lt}}}resetTransform(){if(!it)return;const at=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,ot=this.projectionDelta&&!isDeltaZero(this.projectionDelta),lt=this.getTransformTemplate(),ct=lt?lt(this.latestValues,""):void 0,ut=ct!==this.prevTransformTemplateValue;at&&(ot||hasTransform(this.latestValues)||ut)&&(it(this.instance,ct),this.shouldResetTransform=!1,this.scheduleRender())}measure(at=!0){const ot=this.measurePageBox();let lt=this.removeElementScroll(ot);return at&&(lt=this.removeTransform(lt)),roundBox(lt),{animationId:this.root.animationId,measuredBox:ot,layoutBox:lt,latestValues:{},source:this.id}}measurePageBox(){var at;const{visualElement:ot}=this.options;if(!ot)return createBox();const lt=ot.measureViewportBox();if(!(((at=this.scroll)===null||at===void 0?void 0:at.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:ut}=this.root;ut&&(translateAxis(lt.x,ut.offset.x),translateAxis(lt.y,ut.offset.y))}return lt}removeElementScroll(at){var ot;const lt=createBox();if(copyBoxInto(lt,at),!((ot=this.scroll)===null||ot===void 0)&&ot.wasRoot)return lt;for(let ct=0;ct<this.path.length;ct++){const ut=this.path[ct],{scroll:ft,options:ht}=ut;ut!==this.root&&ft&&ht.layoutScroll&&(ft.wasRoot&&copyBoxInto(lt,at),translateAxis(lt.x,ft.offset.x),translateAxis(lt.y,ft.offset.y))}return lt}applyTransform(at,ot=!1){const lt=createBox();copyBoxInto(lt,at);for(let ct=0;ct<this.path.length;ct++){const ut=this.path[ct];!ot&&ut.options.layoutScroll&&ut.scroll&&ut!==ut.root&&transformBox(lt,{x:-ut.scroll.offset.x,y:-ut.scroll.offset.y}),hasTransform(ut.latestValues)&&transformBox(lt,ut.latestValues)}return hasTransform(this.latestValues)&&transformBox(lt,this.latestValues),lt}removeTransform(at){const ot=createBox();copyBoxInto(ot,at);for(let lt=0;lt<this.path.length;lt++){const ct=this.path[lt];if(!ct.instance||!hasTransform(ct.latestValues))continue;hasScale(ct.latestValues)&&ct.updateSnapshot();const ut=createBox(),ft=ct.measurePageBox();copyBoxInto(ut,ft),removeBoxTransforms(ot,ct.latestValues,ct.snapshot?ct.snapshot.layoutBox:void 0,ut)}return hasTransform(this.latestValues)&&removeBoxTransforms(ot,this.latestValues),ot}setTargetDelta(at){this.targetDelta=at,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(at){this.options={...this.options,...at,crossfade:at.crossfade!==void 0?at.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(at=!1){var ot;const lt=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=lt.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=lt.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=lt.isSharedProjectionDirty);const ct=!!this.resumingFrom||this!==lt;if(!(at||ct&&this.isSharedProjectionDirty||this.isProjectionDirty||!((ot=this.parent)===null||ot===void 0)&&ot.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:ft,layoutId:ht}=this.options;if(!(!this.layout||!(ft||ht))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const pt=this.getClosestProjectingParent();pt&&pt.layout&&this.animationProgress!==1?(this.relativeParent=pt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,pt.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const pt=this.getClosestProjectingParent();pt&&!!pt.resumingFrom==!!this.resumingFrom&&!pt.options.layoutScroll&&pt.target&&this.animationProgress!==1?(this.relativeParent=pt,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,pt.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}isDebug&&metrics.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var at;const ot=this.getLead(),lt=!!this.resumingFrom||this!==ot;let ct=!0;if((this.isProjectionDirty||!((at=this.parent)===null||at===void 0)&&at.isProjectionDirty)&&(ct=!1),lt&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(ct=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(ct=!1),ct)return;const{layout:ut,layoutId:ft}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(ut||ft))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const ht=this.treeScale.x,pt=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,lt),ot.layout&&!ot.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(ot.target=ot.layout.layoutBox,ot.targetWithTransforms=createBox());const{target:dt}=ot;if(!dt){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,dt,this.latestValues),(this.treeScale.x!==ht||this.treeScale.y!==pt||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",dt)),isDebug&&metrics.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(at=!0){var ot;if((ot=this.options.visualElement)===null||ot===void 0||ot.scheduleRender(),at){const lt=this.getStack();lt&&lt.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(at,ot=!1){const lt=this.snapshot,ct=lt?lt.latestValues:{},ut={...this.latestValues},ft=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!ot;const ht=createBox(),pt=lt?lt.source:void 0,dt=this.layout?this.layout.source:void 0,gt=pt!==dt,vt=this.getStack(),mt=!vt||vt.members.length<=1,xt=!!(gt&&!mt&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let St;this.mixTargetDelta=Et=>{const bt=Et/1e3;mixAxisDelta(ft.x,at.x,bt),mixAxisDelta(ft.y,at.y,bt),this.setTargetDelta(ft),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(ht,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,ht,bt),St&&boxEquals(this.relativeTarget,St)&&(this.isProjectionDirty=!1),St||(St=createBox()),copyBoxInto(St,this.relativeTarget)),gt&&(this.animationValues=ut,mixValues(ut,ct,this.latestValues,bt,xt,mt)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=bt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(at){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...at,onUpdate:ot=>{this.mixTargetDelta(ot),at.onUpdate&&at.onUpdate(ot)},onComplete:()=>{at.onComplete&&at.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const at=this.getStack();at&&at.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const at=this.getLead();let{targetWithTransforms:ot,target:lt,layout:ct,latestValues:ut}=at;if(!(!ot||!lt||!ct)){if(this!==at&&this.layout&&ct&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,ct.layoutBox)){lt=this.target||createBox();const ft=calcLength(this.layout.layoutBox.x);lt.x.min=at.target.x.min,lt.x.max=lt.x.min+ft;const ht=calcLength(this.layout.layoutBox.y);lt.y.min=at.target.y.min,lt.y.max=lt.y.min+ht}copyBoxInto(ot,lt),transformBox(ot,ut),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,ot,ut)}}registerSharedNode(at,ot){this.sharedNodes.has(at)||this.sharedNodes.set(at,new NodeStack),this.sharedNodes.get(at).add(ot);const ct=ot.options.initialPromotionConfig;ot.promote({transition:ct?ct.transition:void 0,preserveFollowOpacity:ct&&ct.shouldPreserveFollowOpacity?ct.shouldPreserveFollowOpacity(ot):void 0})}isLead(){const at=this.getStack();return at?at.lead===this:!0}getLead(){var at;const{layoutId:ot}=this.options;return ot?((at=this.getStack())===null||at===void 0?void 0:at.lead)||this:this}getPrevLead(){var at;const{layoutId:ot}=this.options;return ot?(at=this.getStack())===null||at===void 0?void 0:at.prevLead:void 0}getStack(){const{layoutId:at}=this.options;if(at)return this.root.sharedNodes.get(at)}promote({needsReset:at,transition:ot,preserveFollowOpacity:lt}={}){const ct=this.getStack();ct&&ct.promote(this,lt),at&&(this.projectionDelta=void 0,this.needsReset=!0),ot&&this.setOptions({transition:ot})}relegate(){const at=this.getStack();return at?at.relegate(this):!1}resetSkewAndRotation(){const{visualElement:at}=this.options;if(!at)return;let ot=!1;const{latestValues:lt}=at;if((lt.z||lt.rotate||lt.rotateX||lt.rotateY||lt.rotateZ||lt.skewX||lt.skewY)&&(ot=!0),!ot)return;const ct={};lt.z&&resetDistortingTransform("z",at,ct,this.animationValues);for(let ut=0;ut<transformAxes.length;ut++)resetDistortingTransform(`rotate${transformAxes[ut]}`,at,ct,this.animationValues),resetDistortingTransform(`skew${transformAxes[ut]}`,at,ct,this.animationValues);at.render();for(const ut in ct)at.setStaticValue(ut,ct[ut]),this.animationValues&&(this.animationValues[ut]=ct[ut]);at.scheduleRender()}getProjectionStyles(at){var ot,lt;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const ct={visibility:""},ut=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,ct.opacity="",ct.pointerEvents=resolveMotionValue(at==null?void 0:at.pointerEvents)||"",ct.transform=ut?ut(this.latestValues,""):"none",ct;const ft=this.getLead();if(!this.projectionDelta||!this.layout||!ft.target){const gt={};return this.options.layoutId&&(gt.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,gt.pointerEvents=resolveMotionValue(at==null?void 0:at.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(gt.transform=ut?ut({},""):"none",this.hasProjected=!1),gt}const ht=ft.animationValues||ft.latestValues;this.applyTransformsToTarget(),ct.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,ht),ut&&(ct.transform=ut(ht,ct.transform));const{x:pt,y:dt}=this.projectionDelta;ct.transformOrigin=`${pt.origin*100}% ${dt.origin*100}% 0`,ft.animationValues?ct.opacity=ft===this?(lt=(ot=ht.opacity)!==null&&ot!==void 0?ot:this.latestValues.opacity)!==null&&lt!==void 0?lt:1:this.preserveOpacity?this.latestValues.opacity:ht.opacityExit:ct.opacity=ft===this?ht.opacity!==void 0?ht.opacity:"":ht.opacityExit!==void 0?ht.opacityExit:0;for(const gt in scaleCorrectors){if(ht[gt]===void 0)continue;const{correct:vt,applyTo:mt}=scaleCorrectors[gt],xt=ct.transform==="none"?ht[gt]:vt(ht[gt],ft);if(mt){const St=mt.length;for(let Et=0;Et<St;Et++)ct[mt[Et]]=xt}else ct[gt]=xt}return this.options.layoutId&&(ct.pointerEvents=ft===this?resolveMotionValue(at==null?void 0:at.pointerEvents)||"":"none"),ct}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(at=>{var ot;return(ot=at.currentAnimation)===null||ot===void 0?void 0:ot.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(tt){tt.updateLayout()}function notifyLayoutUpdate(tt){var _e;const nt=((_e=tt.resumeFrom)===null||_e===void 0?void 0:_e.snapshot)||tt.snapshot;if(tt.isLead()&&tt.layout&&nt&&tt.hasListeners("didUpdate")){const{layoutBox:rt,measuredBox:it}=tt.layout,{animationType:st}=tt.options,at=nt.source!==tt.layout.source;st==="size"?eachAxis(ft=>{const ht=at?nt.measuredBox[ft]:nt.layoutBox[ft],pt=calcLength(ht);ht.min=rt[ft].min,ht.max=ht.min+pt}):shouldAnimatePositionOnly(st,nt.layoutBox,rt)&&eachAxis(ft=>{const ht=at?nt.measuredBox[ft]:nt.layoutBox[ft],pt=calcLength(rt[ft]);ht.max=ht.min+pt,tt.relativeTarget&&!tt.currentAnimation&&(tt.isProjectionDirty=!0,tt.relativeTarget[ft].max=tt.relativeTarget[ft].min+pt)});const ot=createDelta();calcBoxDelta(ot,rt,nt.layoutBox);const lt=createDelta();at?calcBoxDelta(lt,tt.applyTransform(it,!0),nt.measuredBox):calcBoxDelta(lt,rt,nt.layoutBox);const ct=!isDeltaZero(ot);let ut=!1;if(!tt.resumeFrom){const ft=tt.getClosestProjectingParent();if(ft&&!ft.resumeFrom){const{snapshot:ht,layout:pt}=ft;if(ht&&pt){const dt=createBox();calcRelativePosition(dt,nt.layoutBox,ht.layoutBox);const gt=createBox();calcRelativePosition(gt,rt,pt.layoutBox),boxEqualsRounded(dt,gt)||(ut=!0),ft.options.layoutRoot&&(tt.relativeTarget=gt,tt.relativeTargetOrigin=dt,tt.relativeParent=ft)}}}tt.notifyListeners("didUpdate",{layout:rt,snapshot:nt,delta:lt,layoutDelta:ot,hasLayoutChanged:ct,hasRelativeTargetChanged:ut})}else if(tt.isLead()){const{onExitComplete:rt}=tt.options;rt&&rt()}tt.options.transition=void 0}function propagateDirtyNodes(tt){isDebug&&metrics.totalNodes++,tt.parent&&(tt.isProjecting()||(tt.isProjectionDirty=tt.parent.isProjectionDirty),tt.isSharedProjectionDirty||(tt.isSharedProjectionDirty=!!(tt.isProjectionDirty||tt.parent.isProjectionDirty||tt.parent.isSharedProjectionDirty)),tt.isTransformDirty||(tt.isTransformDirty=tt.parent.isTransformDirty))}function cleanDirtyNodes(tt){tt.isProjectionDirty=tt.isSharedProjectionDirty=tt.isTransformDirty=!1}function clearSnapshot(tt){tt.clearSnapshot()}function clearMeasurements(tt){tt.clearMeasurements()}function clearIsLayoutDirty(tt){tt.isLayoutDirty=!1}function resetTransformStyle(tt){const{visualElement:_e}=tt.options;_e&&_e.getProps().onBeforeLayoutMeasure&&_e.notify("BeforeLayoutMeasure"),tt.resetTransform()}function finishAnimation(tt){tt.finishAnimation(),tt.targetDelta=tt.relativeTarget=tt.target=void 0,tt.isProjectionDirty=!0}function resolveTargetDelta(tt){tt.resolveTargetDelta()}function calcProjection(tt){tt.calcProjection()}function resetSkewAndRotation(tt){tt.resetSkewAndRotation()}function removeLeadSnapshots(tt){tt.removeLeadSnapshot()}function mixAxisDelta(tt,_e,nt){tt.translate=mixNumber$1(_e.translate,0,nt),tt.scale=mixNumber$1(_e.scale,1,nt),tt.origin=_e.origin,tt.originPoint=_e.originPoint}function mixAxis(tt,_e,nt,rt){tt.min=mixNumber$1(_e.min,nt.min,rt),tt.max=mixNumber$1(_e.max,nt.max,rt)}function mixBox(tt,_e,nt,rt){mixAxis(tt.x,_e.x,nt.x,rt),mixAxis(tt.y,_e.y,nt.y,rt)}function hasOpacityCrossfade(tt){return tt.animationValues&&tt.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=tt=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(tt),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop;function roundAxis(tt){tt.min=roundPoint(tt.min),tt.max=roundPoint(tt.max)}function roundBox(tt){roundAxis(tt.x),roundAxis(tt.y)}function shouldAnimatePositionOnly(tt,_e,nt){return tt==="position"||tt==="preserve-aspect"&&!isNear(aspectRatio(_e),aspectRatio(nt),.2)}function checkNodeWasScrollRoot(tt){var _e;return tt!==tt.root&&((_e=tt.scroll)===null||_e===void 0?void 0:_e.wasRoot)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(tt,_e)=>addDomEvent(tt,"resize",_e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:tt=>({x:tt.scrollLeft,y:tt.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const tt=new DocumentProjectionNode({});tt.mount(window),tt.setOptions({layoutScroll:!0}),rootProjectionNode.current=tt}return rootProjectionNode.current},resetTransform:(tt,_e)=>{tt.style.transform=_e!==void 0?_e:"none"},checkIsScrollRoot:tt=>window.getComputedStyle(tt).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function resolveElements(tt,_e,nt){var rt;if(tt instanceof Element)return[tt];if(typeof tt=="string"){let it=document;const st=(rt=void 0)!==null&&rt!==void 0?rt:it.querySelectorAll(tt);return st?Array.from(st):[]}return Array.from(tt)}function setupGesture(tt,_e){const nt=resolveElements(tt),rt=new AbortController,it={passive:!0,..._e,signal:rt.signal};return[nt,it,()=>rt.abort()]}function filterEvents$1(tt){return _e=>{_e.pointerType==="touch"||isDragActive()||tt(_e)}}function hover(tt,_e,nt={}){const[rt,it,st]=setupGesture(tt,nt),at=filterEvents$1(ot=>{const{target:lt}=ot,ct=_e(ot);if(typeof ct!="function"||!lt)return;const ut=filterEvents$1(ft=>{ct(ft),lt.removeEventListener("pointerleave",ut)});lt.addEventListener("pointerleave",ut,it)});return rt.forEach(ot=>{ot.addEventListener("pointerenter",at,it)}),st}function handleHoverEvent(tt,_e,nt){const{props:rt}=tt;tt.animationState&&rt.whileHover&&tt.animationState.setActive("whileHover",nt==="Start");const it="onHover"+nt,st=rt[it];st&&frame.postRender(()=>st(_e,extractEventInfo(_e)))}class HoverGesture extends Feature{mount(){const{current:_e}=this.node;_e&&(this.unmount=hover(_e,nt=>(handleHoverEvent(this.node,nt,"Start"),rt=>handleHoverEvent(this.node,rt,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let _e=!1;try{_e=this.node.current.matches(":focus-visible")}catch{_e=!0}!_e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const isNodeOrChild=(tt,_e)=>_e?tt===_e?!0:isNodeOrChild(tt,_e.parentElement):!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(tt){return focusableElements.has(tt.tagName)||tt.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(tt){return _e=>{_e.key==="Enter"&&tt(_e)}}function firePointerEvent(tt,_e){tt.dispatchEvent(new PointerEvent("pointer"+_e,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(tt,_e)=>{const nt=tt.currentTarget;if(!nt)return;const rt=filterEvents(()=>{if(isPressing.has(nt))return;firePointerEvent(nt,"down");const it=filterEvents(()=>{firePointerEvent(nt,"up")}),st=()=>firePointerEvent(nt,"cancel");nt.addEventListener("keyup",it,_e),nt.addEventListener("blur",st,_e)});nt.addEventListener("keydown",rt,_e),nt.addEventListener("blur",()=>nt.removeEventListener("keydown",rt),_e)};function isValidPressEvent(tt){return isPrimaryPointer(tt)&&!isDragActive()}function press(tt,_e,nt={}){const[rt,it,st]=setupGesture(tt,nt),at=ot=>{const lt=ot.currentTarget;if(!isValidPressEvent(ot)||isPressing.has(lt))return;isPressing.add(lt);const ct=_e(ot),ut=(pt,dt)=>{window.removeEventListener("pointerup",ft),window.removeEventListener("pointercancel",ht),!(!isValidPressEvent(pt)||!isPressing.has(lt))&&(isPressing.delete(lt),typeof ct=="function"&&ct(pt,{success:dt}))},ft=pt=>{ut(pt,nt.useGlobalTarget||isNodeOrChild(lt,pt.target))},ht=pt=>{ut(pt,!1)};window.addEventListener("pointerup",ft,it),window.addEventListener("pointercancel",ht,it)};return rt.forEach(ot=>{!isElementKeyboardAccessible(ot)&&ot.getAttribute("tabindex")===null&&(ot.tabIndex=0),(nt.useGlobalTarget?window:ot).addEventListener("pointerdown",at,it),ot.addEventListener("focus",ct=>enableKeyboardPress(ct,it),it)}),st}function handlePressEvent(tt,_e,nt){const{props:rt}=tt;tt.animationState&&rt.whileTap&&tt.animationState.setActive("whileTap",nt==="Start");const it="onTap"+(nt==="End"?"":nt),st=rt[it];st&&frame.postRender(()=>st(_e,extractEventInfo(_e)))}class PressGesture extends Feature{mount(){const{current:_e}=this.node;_e&&(this.unmount=press(_e,nt=>(handlePressEvent(this.node,nt,"Start"),(rt,{success:it})=>handlePressEvent(this.node,rt,it?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=tt=>{const _e=observerCallbacks.get(tt.target);_e&&_e(tt)},fireAllObserverCallbacks=tt=>{tt.forEach(fireObserverCallback)};function initIntersectionObserver({root:tt,..._e}){const nt=tt||document;observers.has(nt)||observers.set(nt,{});const rt=observers.get(nt),it=JSON.stringify(_e);return rt[it]||(rt[it]=new IntersectionObserver(fireAllObserverCallbacks,{root:tt,..._e})),rt[it]}function observeIntersection(tt,_e,nt){const rt=initIntersectionObserver(_e);return observerCallbacks.set(tt,nt),rt.observe(tt),()=>{observerCallbacks.delete(tt),rt.unobserve(tt)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:_e={}}=this.node.getProps(),{root:nt,margin:rt,amount:it="some",once:st}=_e,at={root:nt?nt.current:void 0,rootMargin:rt,threshold:typeof it=="number"?it:thresholdNames[it]},ot=lt=>{const{isIntersecting:ct}=lt;if(this.isInView===ct||(this.isInView=ct,st&&!ct&&this.hasEnteredView))return;ct&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",ct);const{onViewportEnter:ut,onViewportLeave:ft}=this.node.getProps(),ht=ct?ut:ft;ht&&ht(lt)};return observeIntersection(this.node.current,at,ot)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:_e,prevProps:nt}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(_e,nt))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:tt={}},{viewport:_e={}}={}){return nt=>tt[nt]!==_e[nt]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const tt=window.matchMedia("(prefers-reduced-motion)"),_e=()=>prefersReducedMotion.current=tt.matches;tt.addListener(_e),_e()}else prefersReducedMotion.current=!1}const valueTypes=[...dimensionValueTypes,color,complex],findValueType=tt=>valueTypes.find(testValueType(tt)),visualElementStore=new WeakMap;function updateMotionValuesFromProps(tt,_e,nt){for(const rt in _e){const it=_e[rt],st=nt[rt];if(isMotionValue(it))tt.addValue(rt,it);else if(isMotionValue(st))tt.addValue(rt,motionValue(it,{owner:tt}));else if(st!==it)if(tt.hasValue(rt)){const at=tt.getValue(rt);at.liveStyle===!0?at.jump(it):at.hasAnimated||at.set(it)}else{const at=tt.getStaticValue(rt);tt.addValue(rt,motionValue(at!==void 0?at:it,{owner:tt}))}}for(const rt in nt)_e[rt]===void 0&&tt.removeValue(rt);return _e}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(_e,nt,rt){return{}}constructor({parent:_e,props:nt,presenceContext:rt,reducedMotionConfig:it,blockInitialAnimation:st,visualState:at},ot={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const pt=time.now();this.renderScheduledAt<pt&&(this.renderScheduledAt=pt,frame.render(this.render,!1,!0))};const{latestValues:lt,renderState:ct,onUpdate:ut}=at;this.onUpdate=ut,this.latestValues=lt,this.baseTarget={...lt},this.initialValues=nt.initial?{...lt}:{},this.renderState=ct,this.parent=_e,this.props=nt,this.presenceContext=rt,this.depth=_e?_e.depth+1:0,this.reducedMotionConfig=it,this.options=ot,this.blockInitialAnimation=!!st,this.isControllingVariants=isControllingVariants(nt),this.isVariantNode=isVariantNode(nt),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(_e&&_e.current);const{willChange:ft,...ht}=this.scrapeMotionValuesFromProps(nt,{},this);for(const pt in ht){const dt=ht[pt];lt[pt]!==void 0&&isMotionValue(dt)&&dt.set(lt[pt],!1)}}mount(_e){this.current=_e,visualElementStore.set(_e,this),this.projection&&!this.projection.instance&&this.projection.mount(_e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((nt,rt)=>this.bindToMotionValue(rt,nt)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){visualElementStore.delete(this.current),this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(_e=>_e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const _e in this.events)this.events[_e].clear();for(const _e in this.features){const nt=this.features[_e];nt&&(nt.unmount(),nt.isMounted=!1)}this.current=null}bindToMotionValue(_e,nt){this.valueSubscriptions.has(_e)&&this.valueSubscriptions.get(_e)();const rt=transformProps.has(_e),it=nt.on("change",ot=>{this.latestValues[_e]=ot,this.props.onUpdate&&frame.preRender(this.notifyUpdate),rt&&this.projection&&(this.projection.isTransformDirty=!0)}),st=nt.on("renderRequest",this.scheduleRender);let at;window.MotionCheckAppearSync&&(at=window.MotionCheckAppearSync(this,_e,nt)),this.valueSubscriptions.set(_e,()=>{it(),st(),at&&at(),nt.owner&&nt.stop()})}sortNodePosition(_e){return!this.current||!this.sortInstanceNodePosition||this.type!==_e.type?0:this.sortInstanceNodePosition(this.current,_e.current)}updateFeatures(){let _e="animation";for(_e in featureDefinitions){const nt=featureDefinitions[_e];if(!nt)continue;const{isEnabled:rt,Feature:it}=nt;if(!this.features[_e]&&it&&rt(this.props)&&(this.features[_e]=new it(this)),this.features[_e]){const st=this.features[_e];st.isMounted?st.update():(st.mount(),st.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(_e){return this.latestValues[_e]}setStaticValue(_e,nt){this.latestValues[_e]=nt}update(_e,nt){(_e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=_e,this.prevPresenceContext=this.presenceContext,this.presenceContext=nt;for(let rt=0;rt<propEventHandlers.length;rt++){const it=propEventHandlers[rt];this.propEventSubscriptions[it]&&(this.propEventSubscriptions[it](),delete this.propEventSubscriptions[it]);const st="on"+it,at=_e[st];at&&(this.propEventSubscriptions[it]=this.on(it,at))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(_e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(_e){return this.props.variants?this.props.variants[_e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(_e){const nt=this.getClosestVariantNode();if(nt)return nt.variantChildren&&nt.variantChildren.add(_e),()=>nt.variantChildren.delete(_e)}addValue(_e,nt){const rt=this.values.get(_e);nt!==rt&&(rt&&this.removeValue(_e),this.bindToMotionValue(_e,nt),this.values.set(_e,nt),this.latestValues[_e]=nt.get())}removeValue(_e){this.values.delete(_e);const nt=this.valueSubscriptions.get(_e);nt&&(nt(),this.valueSubscriptions.delete(_e)),delete this.latestValues[_e],this.removeValueFromRenderState(_e,this.renderState)}hasValue(_e){return this.values.has(_e)}getValue(_e,nt){if(this.props.values&&this.props.values[_e])return this.props.values[_e];let rt=this.values.get(_e);return rt===void 0&&nt!==void 0&&(rt=motionValue(nt===null?void 0:nt,{owner:this}),this.addValue(_e,rt)),rt}readValue(_e,nt){var rt;let it=this.latestValues[_e]!==void 0||!this.current?this.latestValues[_e]:(rt=this.getBaseTargetFromProps(this.props,_e))!==null&&rt!==void 0?rt:this.readValueFromInstance(this.current,_e,this.options);return it!=null&&(typeof it=="string"&&(isNumericalString(it)||isZeroValueString(it))?it=parseFloat(it):!findValueType(it)&&complex.test(nt)&&(it=getAnimatableNone(_e,nt)),this.setBaseTarget(_e,isMotionValue(it)?it.get():it)),isMotionValue(it)?it.get():it}setBaseTarget(_e,nt){this.baseTarget[_e]=nt}getBaseTarget(_e){var nt;const{initial:rt}=this.props;let it;if(typeof rt=="string"||typeof rt=="object"){const at=resolveVariantFromProps(this.props,rt,(nt=this.presenceContext)===null||nt===void 0?void 0:nt.custom);at&&(it=at[_e])}if(rt&&it!==void 0)return it;const st=this.getBaseTargetFromProps(this.props,_e);return st!==void 0&&!isMotionValue(st)?st:this.initialValues[_e]!==void 0&&it===void 0?void 0:this.baseTarget[_e]}on(_e,nt){return this.events[_e]||(this.events[_e]=new SubscriptionManager),this.events[_e].add(nt)}notify(_e,...nt){this.events[_e]&&this.events[_e].notify(...nt)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(_e,nt){return _e.compareDocumentPosition(nt)&2?1:-1}getBaseTargetFromProps(_e,nt){return _e.style?_e.style[nt]:void 0}removeValueFromRenderState(_e,{vars:nt,style:rt}){delete nt[_e],delete rt[_e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:_e}=this.props;isMotionValue(_e)&&(this.childSubscription=_e.on("change",nt=>{this.current&&(this.current.textContent=`${nt}`)}))}}function getComputedStyle(tt){return window.getComputedStyle(tt)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(_e,nt){if(transformProps.has(nt)){const rt=getDefaultValueType(nt);return rt&&rt.default||0}else{const rt=getComputedStyle(_e),it=(isCSSVariableName(nt)?rt.getPropertyValue(nt):rt[nt])||0;return typeof it=="string"?it.trim():it}}measureInstanceViewportBox(_e,{transformPagePoint:nt}){return measureViewportBox(_e,nt)}build(_e,nt,rt){buildHTMLStyles(_e,nt,rt.transformTemplate)}scrapeMotionValuesFromProps(_e,nt,rt){return scrapeMotionValuesFromProps$1(_e,nt,rt)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(_e,nt){return _e[nt]}readValueFromInstance(_e,nt){if(transformProps.has(nt)){const rt=getDefaultValueType(nt);return rt&&rt.default||0}return nt=camelCaseAttributes.has(nt)?nt:camelToDash(nt),_e.getAttribute(nt)}scrapeMotionValuesFromProps(_e,nt,rt){return scrapeMotionValuesFromProps(_e,nt,rt)}build(_e,nt,rt){buildSVGAttrs(_e,nt,this.isSVGTag,rt.transformTemplate)}renderInstance(_e,nt,rt,it){renderSVG(_e,nt,rt,it)}mount(_e){this.isSVGTag=isSVGTag(_e.tagName),super.mount(_e)}}const createDomVisualElement=(tt,_e)=>isSVGComponent(tt)?new SVGVisualElement(_e):new HTMLVisualElement(_e,{allowProjection:tt!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent);function useMotionValueEvent(tt,_e,nt){reactExports.useInsertionEffect(()=>tt.on(_e,nt),[tt,_e,nt])}function observeTimeline(tt,_e){let nt;const rt=()=>{const{currentTime:it}=_e,at=(it===null?0:it.value)/100;nt!==at&&tt(at),nt=at};return frame.update(rt,!0),()=>cancelFrame(rt)}const resizeHandlers=new WeakMap;let observer;function getElementSize(tt,_e){if(_e){const{inlineSize:nt,blockSize:rt}=_e[0];return{width:nt,height:rt}}else return tt instanceof SVGElement&&"getBBox"in tt?tt.getBBox():{width:tt.offsetWidth,height:tt.offsetHeight}}function notifyTarget({target:tt,contentRect:_e,borderBoxSize:nt}){var rt;(rt=resizeHandlers.get(tt))===null||rt===void 0||rt.forEach(it=>{it({target:tt,contentSize:_e,get size(){return getElementSize(tt,nt)}})})}function notifyAll(tt){tt.forEach(notifyTarget)}function createResizeObserver(){typeof ResizeObserver>"u"||(observer=new ResizeObserver(notifyAll))}function resizeElement(tt,_e){observer||createResizeObserver();const nt=resolveElements(tt);return nt.forEach(rt=>{let it=resizeHandlers.get(rt);it||(it=new Set,resizeHandlers.set(rt,it)),it.add(_e),observer==null||observer.observe(rt)}),()=>{nt.forEach(rt=>{const it=resizeHandlers.get(rt);it==null||it.delete(_e),it!=null&&it.size||observer==null||observer.unobserve(rt)})}}const windowCallbacks=new Set;let windowResizeHandler;function createWindowResizeHandler(){windowResizeHandler=()=>{const tt={width:window.innerWidth,height:window.innerHeight},_e={target:window,size:tt,contentSize:tt};windowCallbacks.forEach(nt=>nt(_e))},window.addEventListener("resize",windowResizeHandler)}function resizeWindow(tt){return windowCallbacks.add(tt),windowResizeHandler||createWindowResizeHandler(),()=>{windowCallbacks.delete(tt),!windowCallbacks.size&&windowResizeHandler&&(windowResizeHandler=void 0)}}function resize(tt,_e){return typeof tt=="function"?resizeWindow(tt):resizeElement(tt,_e)}const maxElapsed=50,createAxisInfo=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),createScrollInfo=()=>({time:0,x:createAxisInfo(),y:createAxisInfo()}),keys={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function updateAxisInfo(tt,_e,nt,rt){const it=nt[_e],{length:st,position:at}=keys[_e],ot=it.current,lt=nt.time;it.current=tt[`scroll${at}`],it.scrollLength=tt[`scroll${st}`]-tt[`client${st}`],it.offset.length=0,it.offset[0]=0,it.offset[1]=it.scrollLength,it.progress=progress(0,it.scrollLength,it.current);const ct=rt-lt;it.velocity=ct>maxElapsed?0:velocityPerSecond(it.current-ot,ct)}function updateScrollInfo(tt,_e,nt){updateAxisInfo(tt,"x",_e,nt),updateAxisInfo(tt,"y",_e,nt),_e.time=nt}function calcInset(tt,_e){const nt={x:0,y:0};let rt=tt;for(;rt&&rt!==_e;)if(rt instanceof HTMLElement)nt.x+=rt.offsetLeft,nt.y+=rt.offsetTop,rt=rt.offsetParent;else if(rt.tagName==="svg"){const it=rt.getBoundingClientRect();rt=rt.parentElement;const st=rt.getBoundingClientRect();nt.x+=it.left-st.left,nt.y+=it.top-st.top}else if(rt instanceof SVGGraphicsElement){const{x:it,y:st}=rt.getBBox();nt.x+=it,nt.y+=st;let at=null,ot=rt.parentNode;for(;!at;)ot.tagName==="svg"&&(at=ot),ot=rt.parentNode;rt=at}else break;return nt}const namedEdges={start:0,center:.5,end:1};function resolveEdge(tt,_e,nt=0){let rt=0;if(tt in namedEdges&&(tt=namedEdges[tt]),typeof tt=="string"){const it=parseFloat(tt);tt.endsWith("px")?rt=it:tt.endsWith("%")?tt=it/100:tt.endsWith("vw")?rt=it/100*document.documentElement.clientWidth:tt.endsWith("vh")?rt=it/100*document.documentElement.clientHeight:tt=it}return typeof tt=="number"&&(rt=_e*tt),nt+rt}const defaultOffset=[0,0];function resolveOffset(tt,_e,nt,rt){let it=Array.isArray(tt)?tt:defaultOffset,st=0,at=0;return typeof tt=="number"?it=[tt,tt]:typeof tt=="string"&&(tt=tt.trim(),tt.includes(" ")?it=tt.split(" "):it=[tt,namedEdges[tt]?tt:"0"]),st=resolveEdge(it[0],nt,rt),at=resolveEdge(it[1],_e),st-at}const ScrollOffset={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},point={x:0,y:0};function getTargetSize(tt){return"getBBox"in tt&&tt.tagName!=="svg"?tt.getBBox():{width:tt.clientWidth,height:tt.clientHeight}}function resolveOffsets(tt,_e,nt){const{offset:rt=ScrollOffset.All}=nt,{target:it=tt,axis:st="y"}=nt,at=st==="y"?"height":"width",ot=it!==tt?calcInset(it,tt):point,lt=it===tt?{width:tt.scrollWidth,height:tt.scrollHeight}:getTargetSize(it),ct={width:tt.clientWidth,height:tt.clientHeight};_e[st].offset.length=0;let ut=!_e[st].interpolate;const ft=rt.length;for(let ht=0;ht<ft;ht++){const pt=resolveOffset(rt[ht],ct[at],lt[at],ot[st]);!ut&&pt!==_e[st].interpolatorOffsets[ht]&&(ut=!0),_e[st].offset[ht]=pt}ut&&(_e[st].interpolate=interpolate(_e[st].offset,defaultOffset$1(rt),{clamp:!1}),_e[st].interpolatorOffsets=[..._e[st].offset]),_e[st].progress=clamp$1(0,1,_e[st].interpolate(_e[st].current))}function measure(tt,_e=tt,nt){if(nt.x.targetOffset=0,nt.y.targetOffset=0,_e!==tt){let rt=_e;for(;rt&&rt!==tt;)nt.x.targetOffset+=rt.offsetLeft,nt.y.targetOffset+=rt.offsetTop,rt=rt.offsetParent}nt.x.targetLength=_e===tt?_e.scrollWidth:_e.clientWidth,nt.y.targetLength=_e===tt?_e.scrollHeight:_e.clientHeight,nt.x.containerLength=tt.clientWidth,nt.y.containerLength=tt.clientHeight}function createOnScrollHandler(tt,_e,nt,rt={}){return{measure:()=>measure(tt,rt.target,nt),update:it=>{updateScrollInfo(tt,nt,it),(rt.offset||rt.target)&&resolveOffsets(tt,nt,rt)},notify:()=>_e(nt)}}const scrollListeners=new WeakMap,resizeListeners=new WeakMap,onScrollHandlers=new WeakMap,getEventTarget=tt=>tt===document.documentElement?window:tt;function scrollInfo(tt,{container:_e=document.documentElement,...nt}={}){let rt=onScrollHandlers.get(_e);rt||(rt=new Set,onScrollHandlers.set(_e,rt));const it=createScrollInfo(),st=createOnScrollHandler(_e,tt,it,nt);if(rt.add(st),!scrollListeners.has(_e)){const ot=()=>{for(const ht of rt)ht.measure()},lt=()=>{for(const ht of rt)ht.update(frameData.timestamp)},ct=()=>{for(const ht of rt)ht.notify()},ut=()=>{frame.read(ot,!1,!0),frame.read(lt,!1,!0),frame.update(ct,!1,!0)};scrollListeners.set(_e,ut);const ft=getEventTarget(_e);window.addEventListener("resize",ut,{passive:!0}),_e!==document.documentElement&&resizeListeners.set(_e,resize(_e,ut)),ft.addEventListener("scroll",ut,{passive:!0})}const at=scrollListeners.get(_e);return frame.read(at,!1,!0),()=>{var ot;cancelFrame(at);const lt=onScrollHandlers.get(_e);if(!lt||(lt.delete(st),lt.size))return;const ct=scrollListeners.get(_e);scrollListeners.delete(_e),ct&&(getEventTarget(_e).removeEventListener("scroll",ct),(ot=resizeListeners.get(_e))===null||ot===void 0||ot(),window.removeEventListener("resize",ct))}}function scrollTimelineFallback({source:tt,container:_e,axis:nt="y"}){tt&&(_e=tt);const rt={value:0},it=scrollInfo(st=>{rt.value=st[nt].progress*100},{container:_e,axis:nt});return{currentTime:rt,cancel:it}}const timelineCache=new Map;function getTimeline({source:tt,container:_e=document.documentElement,axis:nt="y"}={}){tt&&(_e=tt),timelineCache.has(_e)||timelineCache.set(_e,{});const rt=timelineCache.get(_e);return rt[nt]||(rt[nt]=supportsScrollTimeline()?new ScrollTimeline({source:_e,axis:nt}):scrollTimelineFallback({source:_e,axis:nt})),rt[nt]}function isOnScrollWithInfo(tt){return tt.length===2}function needsElementTracking(tt){return tt&&(tt.target||tt.offset)}function scrollFunction(tt,_e){return isOnScrollWithInfo(tt)||needsElementTracking(_e)?scrollInfo(nt=>{tt(nt[_e.axis].progress,nt)},_e):observeTimeline(tt,getTimeline(_e))}function scrollAnimation(tt,_e){if(tt.flatten(),needsElementTracking(_e))return tt.pause(),scrollInfo(nt=>{tt.time=tt.duration*nt[_e.axis].progress},_e);{const nt=getTimeline(_e);return tt.attachTimeline?tt.attachTimeline(nt,rt=>(rt.pause(),observeTimeline(it=>{rt.time=rt.duration*it},nt))):noop}}function scroll(tt,{axis:_e="y",...nt}={}){const rt={axis:_e,...nt};return typeof tt=="function"?scrollFunction(tt,rt):scrollAnimation(tt,rt)}function refWarning(tt,_e){warning(!!(!_e||_e.current))}const createScrollMotionValues=()=>({scrollX:motionValue(0),scrollY:motionValue(0),scrollXProgress:motionValue(0),scrollYProgress:motionValue(0)});function useScroll({container:tt,target:_e,layoutEffect:nt=!0,...rt}={}){const it=useConstant(createScrollMotionValues);return(nt?useIsomorphicLayoutEffect$2:reactExports.useEffect)(()=>(refWarning("target",_e),refWarning("container",tt),scroll((at,{x:ot,y:lt})=>{it.scrollX.set(ot.current),it.scrollXProgress.set(ot.progress),it.scrollY.set(lt.current),it.scrollYProgress.set(lt.progress)},{...rt,container:(tt==null?void 0:tt.current)||void 0,target:(_e==null?void 0:_e.current)||void 0})),[tt,_e,JSON.stringify(rt.offset)]),it}const NDABlock=()=>{const tt=reactExports.useRef(null),_e=reactExports.useRef(null);return tt.current&&_e.current&&M({player:tt.current,container:_e.current,mode:"auto",actions:[{type:"play"}]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},whileInView:{opacity:1},children:jsxRuntimeExports.jsxs("div",{className:"NDABlock-wrapper",ref:_e,children:[jsxRuntimeExports.jsx("lottie-player",{ref:tt,mode:"normal",src:"/portfolio/assets/animation/NDA2.json",style:{width:"100%",height:"48px"},autoplay:!0}),jsxRuntimeExports.jsx("div",{className:"NDABlock-description",children:"I am restricted in publicly displaying extra design files from this work and can only share non-proprietary project and product details."})]})})})},ModalXeno=({isOpen:tt,onClose:_e})=>{if(reactExports.useEffect(()=>(tt?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open"),()=>{document.body.classList.remove("modal-open")}),[tt]),!tt)return null;const nt=({delay:rt=0}={})=>({initial:"offscreen",whileInView:"onscreen",viewport:{margin:"0px 0px -100px 0px"},variants:{offscreen:{opacity:0,y:50},onscreen:{opacity:1,y:0,transition:{type:"spring",bounce:.2,duration:1,delay:rt}}}});return jsxRuntimeExports.jsxs("div",{className:"modal-overlay",onClick:_e,children:[jsxRuntimeExports.jsxs("div",{className:"dialog",onClick:rt=>rt.stopPropagation(),children:[jsxRuntimeExports.jsx("div",{className:"dialog-header",style:{backgroundImage:"url('/portfolio/assets/project_xenolyte.jpg')"}}),jsxRuntimeExports.jsxs("div",{className:"dialog-content",children:[jsxRuntimeExports.jsx("div",{className:"dialog-title",children:jsxRuntimeExports.jsx(Header,{title:jsxRuntimeExports.jsx("span",{children:"Xenolyte Design System"})})}),jsxRuntimeExports.jsx("p",{children:"The Xenolyte Design System has been instrumental in our products success, offering a toolkit of over 50 reusable components that streamline the design process. From simple buttons to complex data tables, this system ensures consistency across our products while making it easier for teams to collaborate and innovate."}),jsxRuntimeExports.jsx("p",{children:"What truly makes it stand out is its focus on usability and adaptability. By incorporating user feedback and design patterns, we continuously refine the system to meet evolving needs. In essence, the Xenolyte Design System serves as a shared language that fosters creativity and drives our projects forward, ultimately enhancing the user experience."}),jsxRuntimeExports.jsxs("div",{className:"row row-gap-10",children:[jsxRuntimeExports.jsx(Metric1$1,{className:"col-6 col-lg-6 card-gap-10",above:"Time saving (approx.)",mainmetric:"35%",color:"rgba(255,255,255,1)",below:"For a Front-End development"}),jsxRuntimeExports.jsx(Metric1$1,{className:"col-6 col-lg-6 card-gap-10",above:"Time saving (approx.)",mainmetric:"50%",color:"rgba(255,255,255,1)",below:"For a Design Teams"})]}),jsxRuntimeExports.jsx(NDABlock,{}),jsxRuntimeExports.jsx("div",{className:"container-xxl my-20 py-20 px-0",children:jsxRuntimeExports.jsxs("div",{className:"row",children:[jsxRuntimeExports.jsx(motion$1.div,{...nt(),className:"d-flex justify-content-center px-0",children:jsxRuntimeExports.jsx("img",{src:"/portfolio/assets/xenolyte/xenolyte_4.jpg",className:"col-12 inline-image"})}),jsxRuntimeExports.jsx(motion$1.div,{...nt({delay:.12}),className:"col-6 pt-4 px-0 pe-3",children:jsxRuntimeExports.jsx("img",{style:{width:"100%",aspectRatio:"auto",height:"100%",overflow:"hidden"},src:"/portfolio/assets/xenolyte/xenolyte_3.jpg",className:"inline-image"})}),jsxRuntimeExports.jsx(motion$1.div,{...nt({delay:.24}),className:"col-6 pt-4 px-0",children:jsxRuntimeExports.jsx("img",{style:{width:"100%",aspectRatio:"auto",height:"100%",overflow:"hidden"},src:"/portfolio/assets/xenolyte/xenolyte_6.jpg",className:"inline-image"})}),jsxRuntimeExports.jsx(motion$1.div,{...nt({delay:.36}),className:"col-4 pt-4 px-0 pe-3",children:jsxRuntimeExports.jsx("img",{style:{width:"100%",aspectRatio:"auto",height:"100%",overflow:"hidden"},src:"/portfolio/assets/xenolyte/fast_checkout_052.jpg",className:"inline-image"})}),jsxRuntimeExports.jsx(motion$1.div,{...nt({delay:.48}),className:"col-8 pt-4 px-0",children:jsxRuntimeExports.jsx("img",{style:{width:"100%",aspectRatio:"auto",height:"100%",overflow:"hidden"},src:"/portfolio/assets/xenolyte/xenolyte_2.jpg",className:"inline-image"})})]})})]})]}),jsxRuntimeExports.jsx("div",{className:"dialog-close-container",children:jsxRuntimeExports.jsx("img",{className:"dialog-close",src:"/portfolio/assets/icons/icon_close.svg",alt:"Close",onClick:_e})})]})},Divider=({className:tt,type:_e="dark",smallMargin:nt=!1})=>jsxRuntimeExports.jsx("div",{className:`divider-wrapper ${tt||""} ${nt?"small-margin":""}`,children:jsxRuntimeExports.jsx("div",{className:`divider ${_e}`})}),ModalNDA=({isOpen:tt,onClose:_e})=>{const nt=reactExports.useRef(null),rt=reactExports.useRef(null);return nt.current&&rt.current&&M({player:nt.current,container:rt.current,mode:"scroll",actions:[{type:"play"}]}),reactExports.useEffect(()=>(tt?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open"),()=>{document.body.classList.remove("modal-open")}),[tt]),tt?jsxRuntimeExports.jsx("div",{className:"modal-overlay-NDA",onClick:_e,children:jsxRuntimeExports.jsxs("div",{className:"dialog-NDA",onClick:it=>it.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"dialog-content-NDA",children:[jsxRuntimeExports.jsxs("div",{className:"dialog-title-NDA",children:[jsxRuntimeExports.jsx("lottie-player",{ref:nt,mode:"normal",src:"/portfolio/assets/animation/NDA2.json",style:{width:"100%",height:"48px",marginBottom:"20px",alignSelf:"flex-start"},autoplay:!0}),jsxRuntimeExports.jsx(Header,{alignment:"center",title:jsxRuntimeExports.jsx("span",{children:"Project Protected by NDA"})})]}),jsxRuntimeExports.jsx("p",{children:"Details of this project are protected under a Non-Disclosure Agreement (NDA). We can discuss its overall concept and approaches during a meeting or upon request."})]}),jsxRuntimeExports.jsx("div",{className:"row row-gap-2",children:jsxRuntimeExports.jsx("div",{className:"col-6 btn",onClick:_e,children:"Close"})})]})}):null},ModalMoonfolio=({isOpen:tt,onClose:_e})=>(reactExports.useEffect(()=>(tt?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open"),()=>{document.body.classList.remove("modal-open")}),[tt]),tt?jsxRuntimeExports.jsxs("div",{className:"modal-overlay",onClick:_e,children:[jsxRuntimeExports.jsxs("div",{className:"dialog",onClick:nt=>nt.stopPropagation(),children:[jsxRuntimeExports.jsx("div",{className:"dialog-header",style:{backgroundImage:"url('/portfolio/assets/projectTitleImages/moonfolio_project_title_tiny.jpg')"}}),jsxRuntimeExports.jsxs("div",{className:"dialog-content",children:[jsxRuntimeExports.jsx("div",{className:"dialog-title",children:jsxRuntimeExports.jsx(Header,{title:jsxRuntimeExports.jsx("span",{children:"Moonfolio Crypto Wallet App"})})}),jsxRuntimeExports.jsx("p",{children:"A satellite project designed during my time at Currency.com. Moonfolio allowed users to seamlessly connect their crypto wallets directly or integrate with popular exchanges such as Binance and Kraken. As part of this project, I deepened my knowledge of blockchain and cryptocurrencies, conducted competitor analysis, created prototypes, managed design reviews and feedback loops, and developed the app's branding.          "}),jsxRuntimeExports.jsx("img",{className:"inline-image mt-40",src:"/portfolio/assets/moonfolio/moonfolio_1.jpg"}),jsxRuntimeExports.jsx("img",{className:"inline-image mt-40",src:"/portfolio/assets/moonfolio/moonfolio_2.jpg"}),jsxRuntimeExports.jsx("img",{className:"inline-image mt-40",src:"/portfolio/assets/moonfolio/moonfolio_3.jpg"}),jsxRuntimeExports.jsx("img",{className:"inline-image mt-40",src:"/portfolio/assets/moonfolio/moonfolio_4.jpg"})]})]}),jsxRuntimeExports.jsx("div",{className:"dialog-close-container",children:jsxRuntimeExports.jsx("img",{className:"dialog-close",src:"/portfolio/assets/icons/icon_close.svg",alt:"Close",onClick:_e})})]}):null);var B=reactExports.forwardRef(({transition:tt,..._e},nt)=>{let rt={position:"absolute",top:0,left:0,width:"100%",height:"100%",transition:tt?`clip-path ${tt}`:void 0,userSelect:"none",willChange:"clip-path, transition",KhtmlUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"};return jsxRuntimeExports.jsx("div",{..._e,style:rt,"data-rcs":"clip-item",ref:nt})});B.displayName="ContainerClip";var W$1=reactExports.forwardRef(({children:tt,disabled:_e,portrait:nt,position:rt,transition:it},st)=>{let at={position:"absolute",top:0,width:nt?"100%":void 0,height:nt?void 0:"100%",background:"none",border:0,padding:0,pointerEvents:"all",appearance:"none",WebkitAppearance:"none",MozAppearance:"none",outline:0,transform:nt?"translate3d(0, -50% ,0)":"translate3d(-50%, 0, 0)",transition:it?`${nt?"top":"left"} ${it}`:void 0};return jsxRuntimeExports.jsx("button",{ref:st,"aria-label":"Drag to move or focus and use arrow keys","aria-orientation":nt?"vertical":"horizontal","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":rt,"data-rcs":"handle-container",disabled:_e,role:"slider",style:at,children:tt})});W$1.displayName="ThisHandleContainer";var re=({flip:tt})=>jsxRuntimeExports.jsx("div",{className:"__rcs-handle-arrow",style:{width:0,height:0,borderTop:"8px solid transparent",borderRight:"10px solid",borderBottom:"8px solid transparent",transform:tt?"rotate(180deg)":void 0}}),F=({className:tt="__rcs-handle-root",disabled:_e,buttonStyle:nt,linesStyle:rt,portrait:it,style:st,...at})=>{let ot={display:"flex",flexDirection:it?"row":"column",placeItems:"center",height:"100%",cursor:_e?"not-allowed":it?"ns-resize":"ew-resize",pointerEvents:"none",color:"#fff",...st},lt={flexGrow:1,height:it?2:"100%",width:it?"100%":2,backgroundColor:"currentColor",pointerEvents:"auto",boxShadow:"0 0 4px rgba(0,0,0,.5)",...rt},ct={display:"grid",gridAutoFlow:"column",gap:8,placeContent:"center",flexShrink:0,width:56,height:56,borderRadius:"50%",borderStyle:"solid",borderWidth:2,pointerEvents:"auto",backdropFilter:"blur(7px)",WebkitBackdropFilter:"blur(7px)",backgroundColor:"rgba(0, 0, 0, 0.125)",boxShadow:"0 0 4px rgba(0,0,0,.35)",transform:it?"rotate(90deg)":void 0,...nt};return jsxRuntimeExports.jsxs("div",{...at,className:tt,style:ot,children:[jsxRuntimeExports.jsx("div",{className:"__rcs-handle-line",style:lt}),jsxRuntimeExports.jsxs("div",{className:"__rcs-handle-button",style:ct,children:[jsxRuntimeExports.jsx(re,{}),jsxRuntimeExports.jsx(re,{flip:!0})]}),jsxRuntimeExports.jsx("div",{className:"__rcs-handle-line",style:lt})]})},$=(tt=>(tt.ARROW_LEFT="ArrowLeft",tt.ARROW_RIGHT="ArrowRight",tt.ARROW_UP="ArrowUp",tt.ARROW_DOWN="ArrowDown",tt))($||{}),G=({boxSizing:tt="border-box",objectFit:_e="cover",objectPosition:nt="center center",...rt}={})=>({display:"block",width:"100%",height:"100%",maxWidth:"100%",boxSizing:tt,objectFit:_e,objectPosition:nt,...rt}),oe=tt=>{let _e=reactExports.useRef(tt);return reactExports.useEffect(()=>{_e.current=tt}),_e.current},U=(tt,_e,nt,rt)=>{let it=reactExports.useRef();reactExports.useEffect(()=>{it.current=_e},[_e]),reactExports.useEffect(()=>{if(!(nt&&nt.addEventListener))return;let st=at=>it.current&&it.current(at);return nt.addEventListener(tt,st,rt),()=>{nt.removeEventListener(tt,st,rt)}},[tt,nt,rt])},Te=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?reactExports.useLayoutEffect:reactExports.useEffect,ie=(tt,_e)=>{let nt=reactExports.useRef(),rt=reactExports.useCallback(()=>{tt.current&&nt.current&&nt.current.observe(tt.current)},[tt]);Te(()=>(nt.current=new ResizeObserver(([it])=>_e(it.contentRect)),rt(),()=>{nt.current&&nt.current.disconnect()}),[_e,rt])},I={capture:!1,passive:!0},X$1={capture:!0,passive:!1},Me=tt=>{tt.preventDefault(),tt.currentTarget.focus()},se=reactExports.forwardRef(({boundsPadding:tt=0,browsingContext:_e=globalThis,changePositionOnHover:nt=!1,disabled:rt=!1,handle:it,itemOne:st,itemTwo:at,keyboardIncrement:ot="5%",onlyHandleDraggable:lt=!1,onPositionChange:ct,portrait:ut=!1,position:ft=50,style:ht,transition:pt,...dt},gt)=>{let vt=reactExports.useRef(null),mt=reactExports.useRef(null),xt=reactExports.useRef(null),St=reactExports.useRef(ft),[Et,bt]=reactExports.useState(!1),[Tt,At]=reactExports.useState(!0),Ct=reactExports.useRef(!1),[Pt,It]=reactExports.useState(),Lt=oe(ft),Vt=reactExports.useCallback(function({x:Ft,y:qt,isOffset:Qt}){let Kt=vt.current,Zt=xt.current,tn=mt.current,{width:en,height:un,left:Cn,top:Rn}=Kt.getBoundingClientRect();if(en===0||un===0)return;let Mn=ut?Qt?qt-Rn-_e.scrollY:qt:Qt?Ft-Cn-_e.scrollX:Ft,ln=Math.min(Math.max(Mn/(ut?un:en)*100,0),100),gn=ut?un/(Kt.offsetHeight||1):en/(Kt.offsetWidth||1),Yt=tt*gn/(ut?un:en)*100,Fn=Math.min(Math.max(ln,Yt*gn),100-Yt*gn);St.current=ln,Zt.setAttribute("aria-valuenow",`${Math.round(St.current)}`),Zt.style.top=ut?`${Fn}%`:"0",Zt.style.left=ut?"0":`${Fn}%`,tn.style.clipPath=ut?`inset(${Fn}% 0 0 0)`:`inset(0 0 0 ${Fn}%)`,ct&&ct(St.current)},[tt,ct,ut,_e]);reactExports.useEffect(()=>{let{width:Ft,height:qt}=vt.current.getBoundingClientRect(),Qt=ft===Lt?St.current:ft;Vt({x:Ft/100*Qt,y:qt/100*Qt})},[tt,ft,ut,Lt,Vt]);let Ut=reactExports.useCallback(Ft=>{Ft.preventDefault(),!(rt||Ft.button!==0)&&(Vt({isOffset:!0,x:Ft.pageX,y:Ft.pageY}),bt(!0),At(!0))},[rt,Vt]),Ot=reactExports.useCallback(function(Ft){Vt({isOffset:!0,x:Ft.pageX,y:Ft.pageY}),At(!1)},[Vt]),zt=reactExports.useCallback(()=>{bt(!1),At(!0)},[]),Dt=reactExports.useCallback(({width:Ft,height:qt})=>{let{width:Qt,height:Kt}=vt.current.getBoundingClientRect();Vt({x:Ft/100*St.current*Qt/Ft,y:qt/100*St.current*Kt/qt})},[Vt]),$t=reactExports.useCallback(Ft=>{if(!Object.values($).includes(Ft.key))return;Ft.preventDefault(),At(!0);let{top:qt,left:Qt}=xt.current.getBoundingClientRect(),{width:Kt,height:Zt}=vt.current.getBoundingClientRect(),tn=typeof ot=="string"?parseFloat(ot):ot/Kt*100,en=ut?Ft.key==="ArrowLeft"||Ft.key==="ArrowDown":Ft.key==="ArrowRight"||Ft.key==="ArrowUp",un=Math.min(Math.max(en?St.current+tn:St.current-tn,0),100);Vt({x:ut?Qt:Kt*un/100,y:ut?Zt*un/100:qt})},[ot,ut,Vt]);reactExports.useEffect(()=>{It(lt?xt.current:vt.current)},[lt]),reactExports.useEffect(()=>{let Ft=vt.current,qt=()=>{Et||zt()};return nt&&(Ft.addEventListener("pointermove",Ot,I),Ft.addEventListener("pointerleave",qt,I)),()=>{Ft.removeEventListener("pointermove",Ot),Ft.removeEventListener("pointerleave",qt)}},[nt,Ot,zt,Et]),reactExports.useEffect(()=>(Et&&!Ct.current&&(_e.addEventListener("pointermove",Ot,I),_e.addEventListener("pointerup",zt,I),Ct.current=!0),()=>{Ct.current&&(_e.removeEventListener("pointermove",Ot),_e.removeEventListener("pointerup",zt),Ct.current=!1)}),[Ot,zt,Et,_e]),reactExports.useImperativeHandle(gt,()=>({rootContainer:vt.current,handleContainer:xt.current,setPosition(Ft){let{width:qt,height:Qt}=vt.current.getBoundingClientRect();Vt({x:qt/100*Ft,y:Qt/100*Ft})}}),[Vt]),ie(vt,Dt),U("keydown",$t,xt.current,X$1),U("click",Me,xt.current,X$1),U("pointerdown",Ut,Pt,X$1);let Mt=it||jsxRuntimeExports.jsx(F,{disabled:rt,portrait:ut}),Rt=Tt?pt:void 0,Nt={position:"relative",display:"flex",overflow:"hidden",cursor:Et?ut?"ns-resize":"ew-resize":void 0,touchAction:"none",userSelect:"none",KhtmlUserSelect:"none",msUserSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",...ht};return jsxRuntimeExports.jsxs("div",{...dt,ref:vt,style:Nt,"data-rcs":"root",children:[st,jsxRuntimeExports.jsx(B,{ref:mt,transition:Rt,children:at}),jsxRuntimeExports.jsx(W$1,{disabled:rt,portrait:ut,position:Math.round(St.current),ref:xt,transition:Rt,children:Mt})]})});se.displayName="ReactCompareSlider";var ae=reactExports.forwardRef(({style:tt,..._e},nt)=>{let rt=G(tt);return jsxRuntimeExports.jsx("img",{ref:nt,..._e,style:rt,"data-rcs":"image"})});ae.displayName="ReactCompareSliderImage";const ModalWoTWinterRaid=({isOpen:tt,onClose:_e})=>{reactExports.useEffect(()=>(tt?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open"),()=>{document.body.classList.remove("modal-open")}),[tt]);const nt=({delay:rt=0}={})=>({initial:"offscreen",whileInView:"onscreen",viewport:{margin:"0px 0px -100px 0px"},variants:{offscreen:{opacity:0,y:50},onscreen:{opacity:1,y:0,transition:{type:"spring",bounce:.2,duration:1,delay:rt}}}});return tt?jsxRuntimeExports.jsxs("div",{className:"modal-overlay",onClick:rt=>{rt.stopPropagation(),_e()},children:[jsxRuntimeExports.jsx("div",{className:"dialog",onClick:rt=>rt.stopPropagation(),children:jsxRuntimeExports.jsxs("div",{className:"dialog-content",style:{backgroundColor:"red !important"},children:[jsxRuntimeExports.jsx("div",{className:"dialog-title",children:jsxRuntimeExports.jsx(Header,{title:jsxRuntimeExports.jsx("span",{children:"World of Tanks: Winter Raid"})})}),jsxRuntimeExports.jsx("iframe",{className:"youtube-player",src:"https://www.youtube.com/embed/xKq8Y297SP8?si=PS5RH-HJdU3MFrTg",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0}),jsxRuntimeExports.jsx("p",{className:"my-40",children:"Winter Raid is a limited-time Holiday Ops 2026 PvP mode (Dec 1122) set in a charming miniature winter world, where three teams of five battle on compact snowy maps. Players collect gifts across the battlefield and deliver them to their base to score, while also being able to steal gifts from enemy bases and adapt to special events like snowstorms and high-value big gifts. By playing matches and completing mode-specific daily quests, players earn Gift Coins to progress through the event and unlock rewards, including new Uncharted Territory 3D attachments."}),jsxRuntimeExports.jsx("div",{className:"mt-20 mb-20",children:jsxRuntimeExports.jsx(se,{itemOne:jsxRuntimeExports.jsx(ae,{src:"assets/wargaming/winter_raid_2024.jpg",alt:"Image one"}),itemTwo:jsxRuntimeExports.jsx(ae,{src:"assets/wargaming/winter_raid_0.jpg",alt:"Image two"})})}),jsxRuntimeExports.jsx("div",{className:"container-xxl my-20 py-20 px-0",children:jsxRuntimeExports.jsxs("div",{className:"row",children:[jsxRuntimeExports.jsx(motion$1.div,{...nt(),className:"d-flex justify-content-center px-0",children:jsxRuntimeExports.jsx("img",{src:"assets/wargaming/wg_UI_render_1.jpg",className:"col-12 inline-image"})}),jsxRuntimeExports.jsx(motion$1.div,{...nt({delay:.12}),className:"col-sm-6 col-md-6 col-lg-6 pt-4 px-0 pe-2",children:jsxRuntimeExports.jsx("video",{style:{width:"100%",height:"auto",overflow:"hidden",objectFit:"cover"},className:"inline-image",src:"assets/wargaming/winter_raid_rewards.mp4",autoPlay:!0,loop:!0})}),jsxRuntimeExports.jsx(motion$1.div,{...nt({delay:.36}),className:"col-sm-6 col-md-6 col-lg-6 pt-4 px-0 ps-2",children:jsxRuntimeExports.jsx("img",{style:{width:"100%",aspectRatio:"auto",height:"100%",overflow:"hidden"},src:"assets/wargaming/winter_raid_2.jpg",className:"inline-image"})})]})}),jsxRuntimeExports.jsx(Divider,{type:"light",className:"pb-20",smallMargin:!0}),jsxRuntimeExports.jsx(NDABlock,{}),jsxRuntimeExports.jsx("div",{className:"row row-gap-2 pb-40 pt-20",children:jsxRuntimeExports.jsxs("div",{className:"col-12 col-lg-12 card-gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"numbered-list",style:{borderRadius:".5rem",overflow:"hidden",backgroundColor:"#242424",color:"#EEEEF1"},children:[jsxRuntimeExports.jsx("div",{className:"numbered-list-number",children:"1."}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Turned 6070s board game references into a usable UI"})," so the mode felt like a real tabletop experience, while interactions stayed clear and easy to read."]})]}),jsxRuntimeExports.jsxs("div",{className:"numbered-list",style:{borderRadius:".5rem",overflow:"hidden",backgroundColor:"#242424",color:"#EEEEF1"},children:[jsxRuntimeExports.jsx("div",{className:"numbered-list-number",children:"2."}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Used last years player data to avoid repeating old mistakes"})," and to focus the UX on the places where players actually struggled or dropped off."]})]}),jsxRuntimeExports.jsxs("div",{className:"numbered-list",style:{borderRadius:".5rem",overflow:"hidden",backgroundColor:"#242424",color:"#EEEEF1"},children:[jsxRuntimeExports.jsx("div",{className:"numbered-list-number",children:"3."}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Collected and filtered feedback into real next steps"})," by combining player input with internal reviews and turning it into a prioritized list of improvements."]})]}),jsxRuntimeExports.jsxs("div",{className:"numbered-list",style:{borderRadius:".5rem",overflow:"hidden",backgroundColor:"#242424",color:"#EEEEF1"},children:[jsxRuntimeExports.jsx("div",{className:"numbered-list-number",children:"4."}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Kept multiple teams aligned on one UX direction"})," so the experience stayed coherent across the pipeline and handoffs didnt dilute the intent."]})]}),jsxRuntimeExports.jsxs("div",{className:"numbered-list",style:{borderRadius:".5rem",overflow:"hidden",backgroundColor:"#242424",color:"#EEEEF1"},children:[jsxRuntimeExports.jsx("div",{className:"numbered-list-number",children:"5."}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Pushed new-to-Wargaming UX elements from idea to implementation"})," by working closely with developers and iterating until it felt right in-game."]})]}),jsxRuntimeExports.jsxs("div",{className:"numbered-list",style:{borderRadius:".5rem",overflow:"hidden",backgroundColor:"#242424",color:"#EEEEF1"},children:[jsxRuntimeExports.jsx("div",{className:"numbered-list-number",children:"6."}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Used 3D modeling to support the physical board illusion"})," and helped the UI sit naturally inside the gameboard presentation."]})]}),jsxRuntimeExports.jsxs("div",{className:"numbered-list",style:{borderRadius:".5rem",overflow:"hidden",backgroundColor:"#242424",color:"#EEEEF1"},children:[jsxRuntimeExports.jsx("div",{className:"numbered-list-number",children:"7."}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Made short explainer videos that removed guesswork"})," by recording and editing clear walkthroughs of how the abilities work in the game mode for players."]})]}),jsxRuntimeExports.jsxs("div",{className:"numbered-list",style:{borderRadius:".5rem",overflow:"hidden",backgroundColor:"#242424",color:"#EEEEF1"},children:[jsxRuntimeExports.jsx("div",{className:"numbered-list-number",children:"8."}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Suggested game design tweaks when UX felt off"})," especially around rules clarity, pacing, and making the core loop easier to understand."]})]}),jsxRuntimeExports.jsxs("div",{className:"numbered-list",style:{borderRadius:".5rem",overflow:"hidden",backgroundColor:"#242424",color:"#EEEEF1"},children:[jsxRuntimeExports.jsx("div",{className:"numbered-list-number",children:"9."}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Designed everything with scaling in mind"})," so key solutions could be reused for future events and adapted to different formats without redesigning from scratch. "]})]}),jsxRuntimeExports.jsxs("div",{className:"numbered-list",style:{borderRadius:".5rem",overflow:"hidden",backgroundColor:"#242424",color:"#EEEEF1"},children:[jsxRuntimeExports.jsx("div",{className:"numbered-list-number",children:"10."}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Built a style guide and Figma components for fast iteration"})," so the UI stayed consistent and the team could ship updates without reinventing basics."]})]}),jsxRuntimeExports.jsxs("div",{className:"numbered-list",style:{borderRadius:".5rem",overflow:"hidden",backgroundColor:"#242424",color:"#EEEEF1"},children:[jsxRuntimeExports.jsx("div",{className:"numbered-list-number",children:"11."}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Wrote UX docs that made handoff painless"})," covering flows, states, edge cases, and implementation notes that engineers and QA could rely on."]})]}),jsxRuntimeExports.jsxs("div",{className:"numbered-list",style:{borderRadius:".5rem",overflow:"hidden",backgroundColor:"#242424",color:"#EEEEF1"},children:[jsxRuntimeExports.jsx("div",{className:"numbered-list-number",children:"12."}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Did continuous UX/UI quality checks during production"})," catching inconsistencies and usability issues early, before they turned into expensive rework."]})]}),jsxRuntimeExports.jsxs("div",{className:"numbered-list",style:{borderRadius:".5rem",overflow:"hidden",backgroundColor:"#242424",color:"#EEEEF1"},children:[jsxRuntimeExports.jsx("div",{className:"numbered-list-number",children:"13."}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Stayed involved after release and fed learnings back into the roadmap"})," by watching real usage, gathering fresh feedback, and outlining what to improve next."]})]})]})})]})}),jsxRuntimeExports.jsx("div",{className:"dialog-close-container",children:jsxRuntimeExports.jsx("img",{className:"dialog-close",src:"/portfolio/assets/icons/icon_close.svg",alt:"Close",onClick:rt=>{rt.stopPropagation(),_e()}})})]}):null},ModalWoTTree=({isOpen:tt,onClose:_e})=>(reactExports.useEffect(()=>(tt?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open"),()=>{document.body.classList.remove("modal-open")}),[tt]),tt?jsxRuntimeExports.jsxs("div",{className:"modal-overlay",onClick:nt=>{nt.stopPropagation(),_e()},children:[jsxRuntimeExports.jsx("div",{className:"dialog",onClick:nt=>nt.stopPropagation(),children:jsxRuntimeExports.jsxs("div",{className:"dialog-content",style:{backgroundColor:"red !important"},children:[jsxRuntimeExports.jsx("div",{className:"dialog-title",children:jsxRuntimeExports.jsx(Header,{title:jsxRuntimeExports.jsx("span",{children:"World of Tanks 2.0: Tech Tree"})})}),jsxRuntimeExports.jsx("iframe",{className:"youtube-player",src:"https://www.youtube.com/embed/FTEkzHeiafg?si=K0Np9A2dyHHuAsJE",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerPolicy:"strict-origin-when-cross-origin",allowFullScreen:!0}),jsxRuntimeExports.jsx(Divider,{type:"light",className:"py-20",smallMargin:!0}),jsxRuntimeExports.jsx(NDABlock,{}),jsxRuntimeExports.jsx("p",{className:"mt-40",children:"Tech Tree in 2.0 is a complete overhaul of the World of Tanks tech tree, designed to improve navigation, clarity, and user experience. The redesign introduces a more intuitive layout, enhanced visual hierarchy, and streamlined access to vehicle information."}),jsxRuntimeExports.jsx("p",{className:"pb-20",children:"The new Tech Tree is designed to help players navigate the games huge vehicle roster without feeling overwhelmed  making it easier to explore, compare, and understand what to unlock next, so progression feels clear and satisfying. On this project, I partnered closely with UX designers and developers and created the visual identity for the new tiers, making sure the system looked distinctive, stayed readable, and worked smoothly in the real UI."})]})}),jsxRuntimeExports.jsx("div",{className:"dialog-close-container",children:jsxRuntimeExports.jsx("img",{className:"dialog-close",src:"/portfolio/assets/icons/icon_close.svg",alt:"Close",onClick:nt=>{nt.stopPropagation(),_e()}})})]}):null),MainPage=()=>{const{scrollY:tt}=useScroll(),[,_e]=reactExports.useState("down");useMotionValueEvent(tt,"change",dt=>{const gt=tt.getPrevious();if(gt!==void 0){const vt=dt-gt;_e(vt>0?"down":"up"),console.log("scroll direction:",vt>0?"down":"up")}});const nt=reactExports.useRef(null),rt=reactExports.useRef(null),[it,st]=reactExports.useState(!1),[at,ot]=reactExports.useState(!1),[lt,ct]=reactExports.useState(!1),[ut,ft]=reactExports.useState(!1),[ht,pt]=reactExports.useState(!1);return reactExports.useEffect(()=>{const dt=nt.current,gt=mt=>{mt.forEach(xt=>{xt.isIntersecting&&dt.play()})},vt=new IntersectionObserver(gt,{root:null,rootMargin:"0px",threshold:.1});return rt.current&&vt.observe(rt.current),()=>{rt.current&&vt.unobserve(rt.current)}},[]),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Menu,{productDesign:!0}),jsxRuntimeExports.jsxs("div",{className:"container-xxl px-4",children:[jsxRuntimeExports.jsx(motion.div,{animate:{opacity:[0,1],y:[50,0]},transition:{duration:.7,ease:"easeInOut"},children:jsxRuntimeExports.jsx(Hero,{})}),jsxRuntimeExports.jsxs(motion.div,{animate:{opacity:[0,1],y:[50,0]},transition:{delay:.2,duration:.7,ease:"easeInOut"},children:[jsxRuntimeExports.jsx(Divider,{type:"light"}),jsxRuntimeExports.jsxs("div",{className:"row contribution",children:[jsxRuntimeExports.jsx(Header,{wrapperclassName:"col-lg-4 col-md-12 px-0 pe-4",title:"Capabilities",description:jsxRuntimeExports.jsx("span",{children:"20+ years in commercial product design"}),size:"small",colorDescription:"var(--txt-light-3)"}),jsxRuntimeExports.jsxs("div",{className:"col-lg-4 col-md-6 px-0  pe-4",children:[jsxRuntimeExports.jsx("div",{className:"skill",children:"AAA-Scale Game UX"}),jsxRuntimeExports.jsx("div",{className:"skill",children:"Design Leadership"}),jsxRuntimeExports.jsx("div",{className:"skill",children:"Streamlining Design Processes"}),jsxRuntimeExports.jsx("div",{className:"skill",children:"Strengthening Team Culture"}),jsxRuntimeExports.jsx("div",{className:"skill",children:"End-to-End Product Design "})," ",jsxRuntimeExports.jsx("div",{className:"skill",children:"User-Centric Design"}),jsxRuntimeExports.jsx("div",{className:"skill",children:"Data-Informed Design"}),jsxRuntimeExports.jsx("div",{className:"skill",children:"Leveraging User Behavior by Analytics"}),jsxRuntimeExports.jsx("div",{className:"skill",children:"Critical Thinking"}),jsxRuntimeExports.jsx("div",{className:"skill",children:"Cross-Functional Collaboration"})]}),jsxRuntimeExports.jsxs("div",{className:"col-lg-4 col-md-6 px-0  pe-4",children:[jsxRuntimeExports.jsx("div",{className:"skill",children:"Enhancing Product Usability"}),jsxRuntimeExports.jsx("div",{className:"skill",children:"Scalable Design Solutions"}),jsxRuntimeExports.jsx("div",{className:"skill",children:"Iterative Prototyping and User Testing"}),jsxRuntimeExports.jsx("div",{className:"skill",children:"Design Systems"}),jsxRuntimeExports.jsx("div",{className:"skill",children:"Presentation & Pitching"}),jsxRuntimeExports.jsx("div",{className:"skill",children:"B2B, B2C, SaaS"}),jsxRuntimeExports.jsx("div",{className:"skill",children:"React, JS, Python"}),jsxRuntimeExports.jsx("div",{className:"skill",children:"AI, Stable Diffusion"}),jsxRuntimeExports.jsx("div",{className:"skill",children:"3D, Houdini, Redshift"})]})]})]}),jsxRuntimeExports.jsx(Divider,{type:"light"}),jsxRuntimeExports.jsx(Header,{wrapperclassName:"",title:"Case Studies",size:"small"}),jsxRuntimeExports.jsxs("div",{className:"row row-gap-10 pt-40 pb-40",children:[jsxRuntimeExports.jsx("div",{className:"col-md-12 col-lg-6 card-gap-10",children:jsxRuntimeExports.jsx(Project,{link:"https://pitch.com/v/lyte---quasar---conversion-rate-improve-1-fs6px7",image:"assets/case_boosting_CR.jpg",noHeader:!0})}),jsxRuntimeExports.jsx("div",{className:"col-md-12 col-lg-6 card-gap-10",children:jsxRuntimeExports.jsx(Project,{link:"https://pitch.com/v/lyte---admin---customization-txgy5n",image:"assets/case_operations.jpg",noHeader:!0})}),jsxRuntimeExports.jsx(ModalNDA,{isOpen:ht,onClose:()=>pt(!1)})]}),jsxRuntimeExports.jsx(Divider,{type:"light"}),jsxRuntimeExports.jsxs("div",{className:"",children:[jsxRuntimeExports.jsx(Header,{wrapperclassName:"",title:"Latest Projects",size:"small"}),jsxRuntimeExports.jsxs("div",{className:"row row-gap-10 pt-40 pb-80",children:[jsxRuntimeExports.jsxs("div",{className:"col-md-12 col-lg-6 card-gap-10",onClick:()=>ot(!0),children:[jsxRuntimeExports.jsx(ModalWoTWinterRaid,{isOpen:at,onClose:()=>ot(!1)}),jsxRuntimeExports.jsx(Project,{link:"#",image:"assets/wargaming/project_winter_raid.png",title:"World of Tanks: Winter Raid Event",year:jsxRuntimeExports.jsx("span",{children:"2025  B2C"}),description:"A festive in-game event featuring unique missions, rewards, and winter-themed content to engage players during the holiday season."})]}),jsxRuntimeExports.jsxs("div",{className:"col-md-12 col-lg-6 card-gap-10",onClick:()=>ft(!0),children:[jsxRuntimeExports.jsx(ModalWoTTree,{isOpen:ut,onClose:()=>ft(!1)}),jsxRuntimeExports.jsx(Project,{link:"#",image:"assets/wargaming/project_tech_tree.png",title:"World of Tanks 2.0: Tech Tree",year:jsxRuntimeExports.jsx("span",{children:"2025  B2C"}),description:"An updated tech tree system providing enhanced navigation and detailed information to improve player experience."})]}),jsxRuntimeExports.jsx("div",{className:"col-md-12 col-lg-6 card-gap-10",children:jsxRuntimeExports.jsx(Project,{link:"/project/1",image:"assets/projectTitleImages/project_quasar2_tiny.jpg",title:"Quasar Ticketing Platform",year:jsxRuntimeExports.jsx("span",{children:"20202024  B2C"}),description:"Enhanced the ticketing platform's usability, leading to significant boosts in conversion and adoption rates."})}),jsxRuntimeExports.jsx("div",{className:"col-md-12 col-lg-6 card-gap-10",children:jsxRuntimeExports.jsx(Project,{link:"/project/2",image:"assets/project_dashboard.jpg",title:"Lyte Client Dashboard",year:jsxRuntimeExports.jsx("span",{children:"2019  B2B"}),description:"Unlocking data and events management for clients through intuitive product design and a comprehensive UI kit for the web."})}),jsxRuntimeExports.jsx(ModalXeno,{isOpen:it,onClose:()=>st(!1)}),jsxRuntimeExports.jsx("div",{className:"col-md-12 col-lg-6 card-gap-10",onClick:()=>st(!0),children:jsxRuntimeExports.jsx(Project,{link:"#",image:"assets/project_xenolyte.jpg",title:"Xenolyte Design System",year:jsxRuntimeExports.jsx("span",{children:"20202024  Internal Project"}),description:"Creating a cohesive design language and reusable components to enhance collaboration and streamline product development."})}),jsxRuntimeExports.jsx("div",{className:"col-md-12 col-lg-6 card-gap-10",children:jsxRuntimeExports.jsx(Project,{link:"/project/8",image:"assets/capital/project_capital.jpg",title:"Capital.com Trading Platform",year:jsxRuntimeExports.jsx("span",{children:"2018  B2C"}),description:"Developing the platform from scratch and enhancing the trading experience through user-centered design."})}),jsxRuntimeExports.jsx(ModalMoonfolio,{isOpen:lt,onClose:()=>ct(!1)}),jsxRuntimeExports.jsx("div",{className:"col-md-12 col-lg-6 card-gap-10",onClick:()=>ct(!0),children:jsxRuntimeExports.jsx(Project,{link:"#",image:"assets/projectTitleImages/moonfolio_project_title_tiny.jpg",title:"Moonfolio Crypto Wallet App",year:jsxRuntimeExports.jsx("span",{children:"2018  B2C"}),description:"A Currency.com project enabling wallet and exchange integration. Focused on design, branding, and prototyping."})}),jsxRuntimeExports.jsx("div",{className:"col-md-12 col-lg-6 card-gap-10",onClick:()=>pt(!0),children:jsxRuntimeExports.jsx(Project,{link:"#",image:"assets/projectTitleImages/django_1_tiny.jpg",title:"Lyte Primary Internal Admin Panel",year:jsxRuntimeExports.jsx("span",{children:"20192024  Internal Project"}),description:"Enhancing the Operations Team's experience through product design of Lyte's primary admin tool.",projectNDA:!0})}),jsxRuntimeExports.jsx("div",{className:"col-md-12 col-lg-6 card-gap-10",onClick:()=>pt(!0),children:jsxRuntimeExports.jsx(Project,{link:"#",image:"assets/projectTitleImages/admin_support2.jpg",title:"Lyte Support Admin Panel",year:jsxRuntimeExports.jsx("span",{children:"20192024  Internal Project"}),description:"Enhancing the Support Team's experience through product design of Lyte's support admin tool.",projectNDA:!0})}),jsxRuntimeExports.jsx("div",{className:"col-md-12 col-lg-6 card-gap-10",onClick:()=>pt(!0),children:jsxRuntimeExports.jsx(Project,{comingsoon:!0,link:"#",image:"assets/projectTitleImages/tour_1_tiny.jpg",title:"Lyte Dashboard for Music Tours",year:jsxRuntimeExports.jsx("span",{children:"2021  B2B"}),description:"Empowering clients with efficient data and event management solutions tailored for the music industry through intuitive product design.",projectNDA:!0})}),jsxRuntimeExports.jsx("div",{className:"col-md-12 col-lg-6 card-gap-10",onClick:()=>pt(!0),children:jsxRuntimeExports.jsx(Project,{comingsoon:!0,link:"#",image:"assets/projectTitleImages/project_designprocess.jpg",title:"Creating & Rolling Out Design Process",year:jsxRuntimeExports.jsx("span",{children:"2023  Internal Project"}),description:"Establishing a streamlined design process to enhance team collaboration and drive efficiency in product development.",projectNDA:!0})}),jsxRuntimeExports.jsx("div",{className:"col-md-12 col-lg-6 card-gap-10",onClick:()=>pt(!0),children:jsxRuntimeExports.jsx(Project,{comingsoon:!0,link:"#",image:"assets/project_blueprint.jpg",title:"Service Blueprint",year:jsxRuntimeExports.jsx("span",{children:"2019  Internal Project"}),description:"Mapping out client journeys and service touchpoints to identify opportunities for improvement and enhance overall CX.",projectNDA:!0})}),jsxRuntimeExports.jsx("div",{className:"col-md-12 col-lg-6 card-gap-10",children:jsxRuntimeExports.jsx(Project,{link:"/project/99",image:"assets/project_old.jpg",title:"Old Projects",description:"Early work in UX/UI design, web design, and game design, marking the start of my design journey.",year:jsxRuntimeExports.jsx("span",{children:"20052016  Various"})})})]})]})]})]})},Task=({wrapperClassName:tt,title:_e,description:nt,image:rt,bgColor:it="#7b92cb",tag1:st,tag2:at})=>{const[ot,lt]=reactExports.useState(!1),ct=()=>{lt(!ot)};return jsxRuntimeExports.jsx("div",{className:tt,onClick:ct,children:jsxRuntimeExports.jsxs("div",{className:`task ${ot?"expanded":""}`,children:[jsxRuntimeExports.jsx("div",{className:`task-content ${ot?"expanded":""}`,children:jsxRuntimeExports.jsx("div",{className:"task-image",style:{backgroundColor:it},children:jsxRuntimeExports.jsx("img",{src:rt,alt:_e})})}),jsxRuntimeExports.jsxs("div",{className:`task-description ${ot?"expanded":""}`,children:[jsxRuntimeExports.jsx("div",{className:"task-title",children:_e}),jsxRuntimeExports.jsxs("div",{className:`task-description-text ${ot?"expanded":""}`,children:[" ",nt," "]})]}),jsxRuntimeExports.jsx("button",{className:"task-btn",onClick:ct,children:jsxRuntimeExports.jsx("img",{src:"/portfolio/assets/icons/icon_close.svg",alt:"Close",className:`icon ${ot?"expanded":""}`})}),jsxRuntimeExports.jsxs("div",{className:"tags",children:[jsxRuntimeExports.jsx("span",{children:st}),jsxRuntimeExports.jsx("span",{children:at})]})]})})},PageHero=({wrapperclassName:tt,title:_e,description:nt,alignment:rt,color:it,colorDescription:st,imageDesktop:at="/portfolio/assets/quasar/project_hero_quasar_2560w.jpg",logoUrl:ot})=>jsxRuntimeExports.jsx(motion$1.div,{id:"pageHero",animate:{opacity:[0,1]},transition:{duration:1,ease:"easeInOut"},children:jsxRuntimeExports.jsxs("div",{className:`page-hero-wrapper container-xxl px-4 ${tt}`,children:[jsxRuntimeExports.jsx(Header,{wrapperclassName:"header z-3 pb-4",alignment:rt,size:"large",title:_e,color:it,colorDescription:st,description:nt,logoUrl:ot}),jsxRuntimeExports.jsx("div",{className:"page-hero-imageWrapper",children:jsxRuntimeExports.jsx("img",{className:"page-hero-image",src:`${at}`,alt:"Quasar"})})]})});var observerMap=new Map,RootIds=new WeakMap,rootId=0,unsupportedValue=void 0;function getRootId(tt){return tt?(RootIds.has(tt)||(rootId+=1,RootIds.set(tt,rootId.toString())),RootIds.get(tt)):"0"}function optionsToId(tt){return Object.keys(tt).sort().filter(_e=>tt[_e]!==void 0).map(_e=>`${_e}_${_e==="root"?getRootId(tt.root):tt[_e]}`).toString()}function createObserver(tt){const _e=optionsToId(tt);let nt=observerMap.get(_e);if(!nt){const rt=new Map;let it;const st=new IntersectionObserver(at=>{at.forEach(ot=>{var lt;const ct=ot.isIntersecting&&it.some(ut=>ot.intersectionRatio>=ut);tt.trackVisibility&&typeof ot.isVisible>"u"&&(ot.isVisible=ct),(lt=rt.get(ot.target))==null||lt.forEach(ut=>{ut(ct,ot)})})},tt);it=st.thresholds||(Array.isArray(tt.threshold)?tt.threshold:[tt.threshold||0]),nt={id:_e,observer:st,elements:rt},observerMap.set(_e,nt)}return nt}function observe(tt,_e,nt={},rt=unsupportedValue){if(typeof window.IntersectionObserver>"u"&&rt!==void 0){const lt=tt.getBoundingClientRect();return _e(rt,{isIntersecting:rt,target:tt,intersectionRatio:typeof nt.threshold=="number"?nt.threshold:0,time:0,boundingClientRect:lt,intersectionRect:lt,rootBounds:lt}),()=>{}}const{id:it,observer:st,elements:at}=createObserver(nt),ot=at.get(tt)||[];return at.has(tt)||at.set(tt,ot),ot.push(_e),st.observe(tt),function(){ot.splice(ot.indexOf(_e),1),ot.length===0&&(at.delete(tt),st.unobserve(tt)),at.size===0&&(st.disconnect(),observerMap.delete(it))}}function useInView({threshold:tt,delay:_e,trackVisibility:nt,rootMargin:rt,root:it,triggerOnce:st,skip:at,initialInView:ot,fallbackInView:lt,onChange:ct}={}){var ut;const[ft,ht]=reactExports.useState(null),pt=reactExports.useRef(),[dt,gt]=reactExports.useState({inView:!!ot,entry:void 0});pt.current=ct,reactExports.useEffect(()=>{if(at||!ft)return;let St;return St=observe(ft,(Et,bt)=>{gt({inView:Et,entry:bt}),pt.current&&pt.current(Et,bt),bt.isIntersecting&&st&&St&&(St(),St=void 0)},{root:it,rootMargin:rt,threshold:tt,trackVisibility:nt,delay:_e},lt),()=>{St&&St()}},[Array.isArray(tt)?tt.toString():tt,ft,it,rt,st,at,nt,lt,_e]);const vt=(ut=dt.entry)==null?void 0:ut.target,mt=reactExports.useRef();!ft&&vt&&!st&&!at&&mt.current!==vt&&(mt.current=vt,gt({inView:!!ot,entry:void 0}));const xt=[ht,dt.inView,dt.entry];return xt.ref=xt[0],xt.inView=xt[1],xt.entry=xt[2],xt}const squareVariants$1={visible:()=>({opacity:1,scale:1,y:0,scaleX:1,transition:{duration:1,delay:0,ease:"easeInOut"}}),hidden:{opacity:0,scale:1,scaleX:1,y:0}},Footer=({showDivider:tt=!0,showLinkedIn:_e=!0,showResume:nt=!0})=>{const rt=useAnimation(),[it,st]=useInView({triggerOnce:!1,threshold:.1});return reactExports.useEffect(()=>{st&&rt.start("visible")},[rt,st]),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs(motion$1.div,{ref:it,initial:"hidden",variants:squareVariants$1,animate:rt,custom:1,children:[tt&&jsxRuntimeExports.jsx(Divider,{type:"light"}),jsxRuntimeExports.jsxs("div",{className:"footer-wrapper row-gap-2",children:[jsxRuntimeExports.jsx(Link,{to:"/",className:"return-home card-gap-2",children:"Return Home"}),jsxRuntimeExports.jsxs("div",{className:"footer-btns",children:[_e&&jsxRuntimeExports.jsxs("a",{href:"https://www.linkedin.com/in/evgenyprymak/",className:"col-6 btn-linkedin",children:[jsxRuntimeExports.jsx("img",{src:"/portfolio/assets/icons/icon_linkedin.svg",style:{height:"24px",marginLeft:"8px",marginRight:"8px",marginTop:"-2px"}}),"My LinkedIn"]}),nt&&jsxRuntimeExports.jsxs("a",{href:"https://drive.google.com/file/d/1u-RuCyojZ77YW-6CqajPDBz1JkzBudT7/view",className:"col-6 btn-linkedin",children:[jsxRuntimeExports.jsx("img",{src:"/portfolio/assets/icons/icon_pdf.svg",style:{height:"24px",marginLeft:"8px",marginRight:"8px",marginTop:"-2px"}}),"Resume"]})]})]})]})})},TextAnimated1=({className:tt,words:_e,swapInterval:nt,style:rt})=>{const[it,st]=reactExports.useState(0);return reactExports.useEffect(()=>{const at=setInterval(()=>{st(ot=>(ot+1)%_e.length)},nt);return()=>clearInterval(at)},[_e.length,nt]),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsx(motion$1.h1,{style:{marginBottom:0,...rt},className:tt,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},exit:{opacity:0,y:-10},children:_e[it]},_e[it])})})},Metric3=({className:tt,words:_e=[],swapIntervalProp:nt,animatedText:rt,above:it,mainMetric:st,oldMetric:at,below:ot,colorOldMetric:lt,color:ct="#555555"})=>{const[ut,ft]=useAnimate(),ht=useInView$1(ut),pt={offscreen:{y:150},onscreen:{y:0,transition:{type:"spring",bounce:.1,duration:.5}}},dt={offscreen:{opacity:0,y:10},onscreen:{opacity:1,y:0,transition:{type:"spring",duration:.5,delay:.3}}};return reactExports.useEffect(()=>{ht&&ft(ut.current,{opacity:1},{duration:5})},[ht]),jsxRuntimeExports.jsxs(motion$1.div,{className:`metric3_card ${tt||""}`,initial:"offscreen",whileInView:"onscreen",variants:pt,children:[jsxRuntimeExports.jsx("p",{className:"metric3_above",children:it}),jsxRuntimeExports.jsxs("div",{className:"d-inline-flex",children:[at&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"metric3_main_number metric3_old_number",style:{color:lt},children:at}),jsxRuntimeExports.jsx("div",{className:"px-3",children:jsxRuntimeExports.jsx("img",{src:"/portfolio/assets/icons/arrow2_black.svg",alt:"Arrow"})})]}),jsxRuntimeExports.jsx(motion$1.div,{variants:dt,children:rt?jsxRuntimeExports.jsx(TextAnimated1,{words:_e,className:"metric3_main_number",style:{color:ct},swapInterval:nt}):jsxRuntimeExports.jsx("div",{className:"metric3_main_number",style:{color:ct},children:st})})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("p",{className:"metric3_below",children:ot})})]})},Metric4=({className:tt,mainMetric:_e,above:nt,below:rt,color:it="#555555"})=>{const[st,at]=useAnimate(),ot=useInView$1(st),lt={offscreen:{y:150},onscreen:{y:0,transition:{type:"spring",bounce:.1,duration:.5}}},ct={offscreen:{opacity:0},onscreen:{opacity:150,transition:{type:"spring",bounce:.1,duration:5}}};return reactExports.useEffect(()=>{ot&&at(st.current,{opacity:1},{duration:5})},[ot]),jsxRuntimeExports.jsx(motion$1.div,{className:`metric4_card ${tt||""}`,initial:"offscreen",whileInView:"onscreen",variants:lt,children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"metric4_above",style:{color:it},children:nt}),jsxRuntimeExports.jsx(motion$1.div,{className:"",variants:ct,children:jsxRuntimeExports.jsx("div",{className:"metric4_main_number",style:{color:it},children:_e})}),jsxRuntimeExports.jsx("p",{className:"metric3_below",children:rt})]})})},ResultsSummary=()=>{const tt=reactExports.useRef(null),_e=useInView$1(tt),nt="#c9c1ff",rt="#000",it="#7670b1",st="var(--bg-dark-2)",at="var(--txt-light-2)",ot={active:{backgroundColor:nt,color:rt}};return reactExports.useEffect(()=>{},[_e]),jsxRuntimeExports.jsx("div",{id:"metricsSummary",className:"px-0 py-0",children:jsxRuntimeExports.jsx(motion$1.div,{style:{backgroundColor:`${st}`,color:`${at}`},className:"resultsSummary",ref:tt,variants:ot,transition:{duration:.2,type:"easeInOut"},viewport:{margin:"0px 0px -100px 0px"},whileInView:"active",children:jsxRuntimeExports.jsx("div",{className:"container-xxl px-4",children:jsxRuntimeExports.jsxs("div",{className:"row",children:[jsxRuntimeExports.jsxs("div",{className:"col-lg-4 col-md-12 col-sm-12 px-0",children:[jsxRuntimeExports.jsxs("div",{className:"d-flex flex-column flex-lg-column flex-md-row flex-sm-column flex-sm-wrap",children:[jsxRuntimeExports.jsx(Metric4,{className:"px-0 col-lg-12 col-md-4 col-sm-12 flex-sm-grow-1",above:"Role",mainMetric:"Lead Product Designer",color:rt}),jsxRuntimeExports.jsx(Metric4,{className:"px-0 col-lg-12 col-md-4 col-sm-12 flex-sm-grow-1",above:"Timeline",mainMetric:"20202024",color:rt})]}),jsxRuntimeExports.jsx("div",{className:"mobileDivider"})]}),jsxRuntimeExports.jsxs("div",{className:"col-lg-4 col-md-6 col-sm-12 px-0",children:[jsxRuntimeExports.jsx(Metric3,{className:"",oldMetric:"230",mainMetric:"1200",colorOldMetric:it,color:rt,below:"Number of music events per year"}),jsxRuntimeExports.jsx(Metric3,{className:"",oldMetric:"80K",mainMetric:"1M+",colorOldMetric:it,color:rt,below:"Tickets sold growth per year"}),jsxRuntimeExports.jsx(Metric3,{className:"",oldMetric:"14%",mainMetric:"28%",colorOldMetric:it,color:rt,below:"Primary sales Conversion Rate growth"}),jsxRuntimeExports.jsx(Metric3,{className:"",oldMetric:"22%",mainMetric:"54%",colorOldMetric:it,color:rt,below:"Secondary sales Conversion Rate growth"})]}),jsxRuntimeExports.jsxs("div",{className:"col-lg-4 col-md-6 col-sm-12 px-0",children:[jsxRuntimeExports.jsx(Metric3,{className:"",oldMetric:"2,5m",mainMetric:"45s",colorOldMetric:it,color:rt,below:"Average time to purchase tickets"}),jsxRuntimeExports.jsx(Metric3,{className:"",mainMetric:"35+",colorOldMetric:it,color:rt,below:"Features successfully released"}),jsxRuntimeExports.jsx(Metric3,{className:"",animatedText:!0,swapIntervalProp:5e3,words:["Coachella","BottleRock","Burning Man","Comic-Con","Lost Paradise","EDC","Governors Ball","Lost Lands","Baja Beach Fest"],colorOldMetric:it,color:rt,below:"Trusted by major events"})]})]})})})})},ProjectDetails=()=>{const tt=({bgfrom:nt="#000000",bgto:rt="#000000"}={})=>({initial:"offscreen",whileInView:"onscreen",viewport:{margin:"0px 0px -50% 0px"},variants:{offscreen:{backgroundColor:nt},onscreen:{backgroundColor:rt,transition:{type:"easeIn",duration:.5}}}}),_e=({delay:nt=0}={})=>({initial:"offscreen",whileInView:"onscreen",viewport:{margin:"0px 0px -100px 0px"},variants:{offscreen:{opacity:0,y:50},onscreen:{opacity:1,y:0,transition:{type:"spring",bounce:.2,duration:1,delay:nt}}}});return jsxRuntimeExports.jsxs("div",{className:"container-fluid px-0 justify-content-center",children:[jsxRuntimeExports.jsx(Menu,{productDesign:!0}),jsxRuntimeExports.jsx(PageHero,{title:jsxRuntimeExports.jsxs("span",{children:["Quasar. ",jsxRuntimeExports.jsx("br",{}),"Ticketing Platform For Fans."]}),description:jsxRuntimeExports.jsx("span",{children:"The Quasar project focused on creating a top-tier fan experience in ticketing, supporting diverse event states like Demand Aggregation, On Sale, and P2P exchanges. Adopted by major clients such as Coachella and Burning Man, it boosted sales and fan satisfaction."}),wrapperclassName:"container-fluid",headerwrapper:"",imageMobile:"/portfolio/assets/projectTitleImages/quasar_title_5.jpg",imageDesktop:"/portfolio/assets/projectTitleImages/quasar_title_5.jpg",color:"var(--txt-light-1)",colorDescription:"var(--txt-light-3)",logoUrl:"/portfolio/assets/logos/product_logo=lyte.svg"}),jsxRuntimeExports.jsx("div",{className:"container-xxl px-4 pb-20",children:jsxRuntimeExports.jsxs("div",{className:"row row-gap-10",children:[jsxRuntimeExports.jsx(Metric1$1,{className:"col-6 col-lg-4 card-gap-10",above:"",mainmetric:"1,200",color:"rgba(255,255,255,1)",below:"Music events per year"}),jsxRuntimeExports.jsx(Metric1$1,{className:"col-6 col-lg-4 card-gap-10",above:"",mainmetric:"1M+",color:"rgba(255,255,255,1)",below:"Tickets sold growth per year"}),jsxRuntimeExports.jsx(Metric1$1,{className:"col-6 col-lg-4 card-gap-10",above:"",mainmetric:"$750M+",color:"rgba(255,255,255,1)",below:"Secured in ticket reservations"})]})}),jsxRuntimeExports.jsx(ResultsSummary,{}),jsxRuntimeExports.jsx("div",{className:"container-fluid ephasized_section pt-40 px-0",children:jsxRuntimeExports.jsxs("div",{className:"container-xxl px-4",children:[jsxRuntimeExports.jsx(Header,{wrapperclassName:"py-4",size:"medium",title:"Long story short",color:"var(--txt-dark-2)",colorDescription:"var(--txt-dark-3)"}),jsxRuntimeExports.jsxs("div",{className:"row",children:[jsxRuntimeExports.jsxs("div",{className:"col-12 col-lg-6 role-description",children:["I joined the project in 2020. During my tenure, I had the pleasure of ",jsxRuntimeExports.jsx("strong",{children:"collaborating"})," with an exceptional team, including a Product Manager and talented Frontend, Backend, and QA engineers. We frequently engaged with other departments, such as Data, Marketing, and Fan Experience, to ensure ",jsxRuntimeExports.jsx("strong",{children:"seamless cross-functional communication"}),". The Quasar project was built using the Xenolyte Design System, which primarily focused on fan-facing interfaces. I took responsibility for ",jsxRuntimeExports.jsx("strong",{children:"managing this design system"}),", ensuring it met the project's evolving needs."]}),jsxRuntimeExports.jsxs("div",{className:"col-12 col-lg-6 role-description",children:["In addition, I ",jsxRuntimeExports.jsx("strong",{children:"interviewed and onboarded"}),' new designers, creating and maintaining a "Design Club" space in Notion to streamline the process. This resource helped ensure a smooth onboarding experience and served as a regularly updated repository of information and resources. Through our team efforts, we ',jsxRuntimeExports.jsx("strong",{children:"significantly increased conversion rates"}),", ",jsxRuntimeExports.jsx("strong",{children:"boosted the adoption rate of key business features"}),", and successfully delivered numerous features to the market ",jsxRuntimeExports.jsx("strong",{children:"under tight deadlines"}),"."]})]}),jsxRuntimeExports.jsx(motion$1.div,{...tt({bgfrom:"#FFF",bgto:"#111"}),className:"f-width",children:jsxRuntimeExports.jsx("div",{className:"container-xxl my-40 py-40 px-4",children:jsxRuntimeExports.jsxs("div",{className:"row",children:[jsxRuntimeExports.jsx(motion$1.div,{..._e(),className:"d-flex justify-content-center px-0",children:jsxRuntimeExports.jsx("img",{src:"/portfolio/assets/quasar/tickets_edited2.jpg",className:"col-12 inline-image"})}),jsxRuntimeExports.jsx(motion$1.div,{..._e({delay:.12}),className:"col-sm-6 col-md-6 col-lg-7 pt-4 px-0 pe-2",children:jsxRuntimeExports.jsx("img",{src:"/portfolio/assets/quasar/tickets_2.jpg",className:"inline-image"})}),jsxRuntimeExports.jsx(motion$1.div,{..._e({delay:.36}),className:"col-sm-6 col-md-6 col-lg-5 pt-4 px-0 ps-2",children:jsxRuntimeExports.jsx("img",{src:"/portfolio/assets/quasar/printable.jpg",className:"inline-image"})})]})})}),jsxRuntimeExports.jsx(Header,{wrapperclassName:"pt-4",size:"medium",description:"During my time on the project, I had the pleasure of tackling various challenges, each with its own unique constraints. Below is a quick snapshot of the key activities I worked on, organized by the different phases of the design process. While this isn't an exhaustive list, it gives you a good sense of the most impactful work I contributed to:",title:"Design activities",color:"var(--txt-dark-2)",colorDescription:"var(--txt-dark-2)"}),jsxRuntimeExports.jsxs("div",{className:"row row-gap-10 DD",children:[jsxRuntimeExports.jsx("div",{className:"col-md-6 col-lg-3 card-gap-10 DD-phase",children:jsxRuntimeExports.jsxs("div",{className:"DD-wrapper",children:[jsxRuntimeExports.jsxs("div",{className:"DD-header",children:[jsxRuntimeExports.jsx("img",{src:"/portfolio/assets/icons/DD-icon-1.svg"}),jsxRuntimeExports.jsx("div",{children:"Discover"})]}),jsxRuntimeExports.jsx("div",{className:"design-activity",children:"Data-Driven Design Decisions"}),jsxRuntimeExports.jsx("div",{className:"design-activity",children:"Understanding patterns and behaviors of fans"}),jsxRuntimeExports.jsx("div",{className:"design-activity",children:"Competitor analysis"}),jsxRuntimeExports.jsx("div",{className:"design-activity",children:"Unmoderated User Research"}),jsxRuntimeExports.jsx("div",{className:"design-activity",children:"Design ideation sprints"})]})}),jsxRuntimeExports.jsx("div",{className:"col-md-6 col-lg-3 card-gap-10 DD-phase",children:jsxRuntimeExports.jsxs("div",{className:"DD-wrapper",children:[jsxRuntimeExports.jsxs("div",{className:"DD-header",children:[jsxRuntimeExports.jsx("img",{src:"/portfolio/assets/icons/DD-icon-2.svg"}),jsxRuntimeExports.jsx("div",{children:"Define"})]}),jsxRuntimeExports.jsx("div",{className:"design-activity",children:"Formulating and redefining problem statements"}),jsxRuntimeExports.jsx("div",{className:"design-activity",children:"Clustering and grouping problem statements"}),jsxRuntimeExports.jsx("div",{className:"design-activity",children:"Developing use cases"}),jsxRuntimeExports.jsx("div",{className:"design-activity",children:"Maintaining feature backlog from a design perspective and insights"})]})}),jsxRuntimeExports.jsx("div",{className:"col-md-6 col-lg-3 card-gap-10 DD-phase",children:jsxRuntimeExports.jsxs("div",{className:"DD-wrapper",children:[jsxRuntimeExports.jsxs("div",{className:"DD-header",children:[jsxRuntimeExports.jsx("img",{src:"/portfolio/assets/icons/DD-icon-3.svg"}),jsxRuntimeExports.jsx("div",{children:"Develop"})]}),jsxRuntimeExports.jsx("div",{className:"design-activity",children:"Creating low & high fidelity prototypes"}),jsxRuntimeExports.jsx("div",{className:"design-activity",children:"Updating a design system to ensure consistency"}),jsxRuntimeExports.jsx("div",{className:"design-activity",children:"Creating production-ready design screens & hand off"}),jsxRuntimeExports.jsx("div",{className:"design-activity",children:"Sessions with developers to assess the feasibility"}),jsxRuntimeExports.jsx("div",{className:"design-activity",children:"Collaborating with Quality Assurance, and Design QA"}),jsxRuntimeExports.jsx("div",{className:"design-activity",children:"Working with other designers to create required assets"}),jsxRuntimeExports.jsx("div",{className:"design-activity",children:"Interface animations & motion design"}),jsxRuntimeExports.jsx("div",{className:"design-activity",children:"Identifying A/B testing opportunities"})]})}),jsxRuntimeExports.jsx("div",{className:"col-md-6 col-lg-3 card-gap-10 DD-phase",children:jsxRuntimeExports.jsxs("div",{className:"DD-wrapper",children:[jsxRuntimeExports.jsxs("div",{className:"DD-header",children:[jsxRuntimeExports.jsx("img",{src:"/portfolio/assets/icons/DD-icon-4.svg"}),jsxRuntimeExports.jsx("div",{children:"Deliver"})]}),jsxRuntimeExports.jsx("div",{className:"design-activity",children:"Determining data to collect for analysis"}),jsxRuntimeExports.jsx("div",{className:"design-activity",children:"Conducting design reviews to gather feedback and improve "}),jsxRuntimeExports.jsx("div",{className:"design-activity",children:"Collaborating with content creators"}),jsxRuntimeExports.jsx("div",{className:"design-activity",children:"Performed pre-production reviews"}),jsxRuntimeExports.jsx("div",{className:"design-activity",children:"Company & team wide features presentation"}),jsxRuntimeExports.jsx("div",{className:"design-activity",children:"Creating necessary admin tools or pass to another team"}),jsxRuntimeExports.jsx("div",{className:"design-activity",children:"Creating guides for clients for event customizations"})]})})]})]})}),jsxRuntimeExports.jsx(motion$1.div,{...tt({bgfrom:"#ffffff00",bgto:"#fff"}),className:"f-width",children:jsxRuntimeExports.jsx("div",{className:"container-xxl py-40 px-4",children:jsxRuntimeExports.jsxs("div",{className:"row",children:[jsxRuntimeExports.jsx(motion$1.div,{..._e({delay:.12}),className:"col-sm-6 col-md-6 col-lg-4 pb-4 px-0 pe-2",children:jsxRuntimeExports.jsx("img",{src:"/portfolio/assets/quasar/tickets_3_2.jpg",className:"inline-image"})}),jsxRuntimeExports.jsx(motion$1.div,{..._e({delay:.36}),className:"col-sm-6 col-md-6 col-lg-8 pb-4 px-0 ps-2",children:jsxRuntimeExports.jsx("img",{src:"/portfolio/assets/quasar/403-02.jpg",className:"inline-image"})}),jsxRuntimeExports.jsx(motion$1.div,{..._e(),className:"d-flex justify-content-center px-0",children:jsxRuntimeExports.jsx("img",{src:"/portfolio/assets/quasar/Activation.jpg",className:"col-12 inline-image"})})]})})}),jsxRuntimeExports.jsxs("div",{className:"features dark_section container-xxl px-4",id:"features",children:[jsxRuntimeExports.jsx(Header,{wrapperclassName:"pt-80",size:"medium",title:"Features delivered",description:"Since joining the product team, I have contributed to the development of numerous features, creating some from scratch and enhancing many others. My approach consistently balances time to market, feasibility, and the win-win-win principle (client, business, and user), ensuring optimal design solutions that benefit all stakeholders.",color:"var(--txt-light-2)",colorDescription:"var(--txt-light-3)"}),jsxRuntimeExports.jsxs("div",{className:"",style:{height:"auto"},children:[jsxRuntimeExports.jsxs("div",{className:"row row-gap-10 pt-40",children:[jsxRuntimeExports.jsx(Task,{wrapperClassName:"col-md-6 col-xl-4 card-gap-10",bgColor:"#19191a",title:"Driving Conversion Growth via Checkout Optimization",description:jsxRuntimeExports.jsxs("span",{children:["Our goal was to become the leading ticketing platform. Together with our Head of Product and Product Manager, we conducted a ",jsxRuntimeExports.jsx("strong",{children:"competitor analysis"}),", and identified opportunities for improvement at some steps in User Flows. I created ",jsxRuntimeExports.jsx("strong",{children:"interactive prototypes"})," in ",jsxRuntimeExports.jsx("strong",{children:"Protopie"})," and ",jsxRuntimeExports.jsx("strong",{children:"Figma"}),", tested them with users via ",jsxRuntimeExports.jsx("strong",{children:"Useberry"}),", and after minor changes we processed to development. ",jsxRuntimeExports.jsx("strong",{children:"I worked closely with developers"})," to launch the MVP quickly. The result was a smoother ticket purchase process with fewer forms and less personal information, leading to a ",jsxRuntimeExports.jsx("strong",{children:"38% increase in conversion"}),". The feature gained ",jsxRuntimeExports.jsx("strong",{children:"significant interest from other clients"}),", even before its global release."]}),image:"/portfolio/assets/quasar/quasar_fastcheckout_v3.jpg",tag1:"Competitor Analysis",tag2:"User Testing"}),jsxRuntimeExports.jsx(Task,{wrapperClassName:"col-md-6 col-xl-4 card-gap-10",bgColor:"#19191a",title:"Increasing Adoption of Layaway Plans",description:jsxRuntimeExports.jsxs("span",{children:["Our in-house Layaway Plans generated significant revenue for the business, prompting us to explore ways to increase their adoption rate. To achieve this, I conducted a thorough ",jsxRuntimeExports.jsx("strong",{children:"analysis of competitors and industry trends"})," to understand how Buy Now, Pay Later (BNPL) and Layaway Plans are currently implemented by popular services. I planned ",jsxRuntimeExports.jsx("strong",{children:"user testing"})," with interactive prototypes and surveys to gather feedback, while also developing a comprehensive vision for the feature and ",jsxRuntimeExports.jsx("strong",{children:"identifying a MVP"})," to facilitate a quick launch. By implementing ",jsxRuntimeExports.jsx("strong",{children:"A/B testing"})," that offered Layaway Plans as the default payment method, ",jsxRuntimeExports.jsx("strong",{children:"we ultimately achieved a higher adoption rate"})," through targeted design decisions."]}),image:"/portfolio/assets/quasar/quasar_lp_v3.jpg",tag1:"User, A/B Testing",tag2:"MVP"}),jsxRuntimeExports.jsx(Task,{wrapperClassName:"col-md-6 col-xl-4 card-gap-10",bgColor:"#19191a",title:"Leveraging Returnable Tickets to Drive Business Growth",description:jsxRuntimeExports.jsxs("span",{children:["Returnable tickets, one of our ",jsxRuntimeExports.jsx("strong",{children:"core win-win solutions"}),", required design improvements to key touchpoints. After gathering ",jsxRuntimeExports.jsx("strong",{children:"fan feedback"})," from the initial release, we identified several areas for enhancement. Recognizing the value this feature brought to both fans and the business, we decided to further leverage its usage. The redesigned solution introduced Returnable tickets at multiple points during the fan journey, resulting in a ",jsxRuntimeExports.jsx("strong",{children:"20% increase in adoption"})," of the ",jsxRuntimeExports.jsx("strong",{children:"MVP"})," version. Some of these improvements were added to the product roadmap, with the potential to boost adoption even further."]}),image:"/portfolio/assets/quasar/quasar_returnable_v3.jpg",tag1:"User Feedback",tag2:"Information Architecture"}),jsxRuntimeExports.jsx(Task,{wrapperClassName:"col-md-6 col-xl-4 card-gap-10",bgColor:"#404970",title:"Streamlining User Navigation from Client to Ticket Purchase",description:jsxRuntimeExports.jsxs("span",{children:["After switching to primary sales, we realized that the event Landing page in fan navigation from the client site to Lyte no longer served its intended purpose. Additionally, we received feedback and requirements for improvements to the Landing page, as it lacked functionality to display key information. I conducted ",jsxRuntimeExports.jsx("strong",{children:"desk research"}),", ",jsxRuntimeExports.jsx("strong",{children:"competitor analysis"}),", and ",jsxRuntimeExports.jsx("strong",{children:"user flow reviews"}),". I proposed rethinking how we and our clients navigate fans to the ticket purchase. This ",jsxRuntimeExports.jsx("strong",{children:"solution was highly adopted by clients"})," and ",jsxRuntimeExports.jsx("strong",{children:"significantly improved the overall fan experience"}),"."]}),image:"/portfolio/assets/quasar/quasar_menu.png",tag1:"User Flow",tag2:"Information Architecture"}),jsxRuntimeExports.jsx(Task,{wrapperClassName:"col-md-6 col-xl-4 card-gap-10",title:"Multistep Checkout Experience",description:jsxRuntimeExports.jsxs("span",{children:["We addressed both technical challenges and design needs by restructuring a complex checkout process into multiple steps. Using the ",jsxRuntimeExports.jsx("strong",{children:"Chunking UX principle"}),", we designed a flow that minimized ",jsxRuntimeExports.jsx("strong",{children:"cognitive load"}),", ensuring a ",jsxRuntimeExports.jsx("strong",{children:"smoother and more effective checkout experience"}),", which played a ",jsxRuntimeExports.jsx("strong",{children:"critical role in boosting conversion"}),". The new design was also built with ",jsxRuntimeExports.jsx("strong",{children:"scalability in mind"}),", allowing for the ",jsxRuntimeExports.jsx("strong",{children:"easy addition of future features"})," without requiring significant development or design time for future improvements.",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{})]}),image:"/portfolio/assets/quasar/quasar_multistep_checkout.png",tag1:"Chunking UX",tag2:"Scalability"}),jsxRuntimeExports.jsx(Task,{wrapperClassName:"col-md-6 col-xl-4 card-gap-10",bgColor:"#6493B5",title:"Evolving UX of Complex Products",description:jsxRuntimeExports.jsxs("span",{children:["The business tasked us with ",jsxRuntimeExports.jsx("strong",{children:"unlocking sales for a complex product"})," for a specific client. Based on our insights, ",jsxRuntimeExports.jsx("strong",{children:"I redefined the problem"}),", identifying broader issues with complex products. I shifted the focus from addressing a single clients needs to developing a ",jsxRuntimeExports.jsx("strong",{children:"platform-wide solution"}),". This redesign addressed UI challenges, met new business requirements, and provided fans with clearer information about tickets availability, taking into account how option selection impacted by availability. The feature saw ",jsxRuntimeExports.jsx("strong",{children:"high adoption"})," among clients and received ",jsxRuntimeExports.jsx("strong",{children:"very positive feedback"}),"."]}),image:"/portfolio/assets/quasar/quasar_products_2.png",tag1:"Problem Redefinition",tag2:"Interface Animation"}),jsxRuntimeExports.jsx(Task,{wrapperClassName:"col-md-6 col-xl-4 card-gap-10",bgColor:"#19191a",title:"Unlocking Sales with Restricted Payment Methods",description:jsxRuntimeExports.jsxs("span",{children:["We enabled clients to sell specific ticket types on our platform by updating ticket cards with appropriate imagery that clearly showed any restrictions. Additionally, we enhanced the info section on the ticket selection page and updated the checkout functionality to support this feature. The feature was delivered under a tight deadline, significantly improving communication with the client and ",jsxRuntimeExports.jsx("strong",{children:"securing more contracts"})," for the company."]}),image:"/portfolio/assets/quasar/quasar_restricted_payments_v3.jpg",tag1:"Growth-Focused Design"}),jsxRuntimeExports.jsx(Task,{wrapperClassName:"col-md-6 col-xl-4 card-gap-10",bgColor:"#6E3C5D",title:"Increasing Conversion by Abandoned Cart emails",description:jsxRuntimeExports.jsxs("span",{children:["I defined when, how, and what to send to fans who abandoned their carts. We explored multiple ",jsxRuntimeExports.jsx("strong",{children:"campaign title options"})," and ",jsxRuntimeExports.jsx("strong",{children:"call-to-action strategies"})," to increase conversion. I also developed a plan for future design improvements aimed at enhancing engagement with fans who abandoned their carts."]}),image:"/portfolio/assets/quasar/quasar_abandoned_cart.png",tag1:"Conversion Optimization"}),jsxRuntimeExports.jsx(Task,{wrapperClassName:"col-md-6 col-xl-4 card-gap-10",bgColor:"#030A65",title:"Boost Sales with New Promotions on the Platform",description:jsxRuntimeExports.jsxs("span",{children:["I unlocked the power of ",jsxRuntimeExports.jsx("strong",{children:"promotions"})," for both the business and clients, enabling them to boost sales through a variety of promotion types. I conducted desk research, analyzed user flows, and collaborated with PMs and developers to handle edge cases. The improved design incorporated ",jsxRuntimeExports.jsx("strong",{children:"various states"})," and high levels of customization, updating the ",jsxRuntimeExports.jsx("strong",{children:"design system"}),". The feature was highly adopted by clients and internally, leading to a ",jsxRuntimeExports.jsx("strong",{children:"significant increase in sales"}),"."]}),image:"/portfolio/assets/quasar/quasar_promotions.png",tag1:"User Flow",tag2:"Client Activation"}),jsxRuntimeExports.jsx(Task,{wrapperClassName:"col-md-6 col-xl-4 card-gap-10",bgColor:"#5F7D4C",title:"Streamlining Ticket Activation for Improved User Experience",description:jsxRuntimeExports.jsxs("span",{children:["We were tasked with enabling the Ticket Activation process for the Australian market, as it was crucial for our clients there. I conducted desk research, identified multiple approaches, and ",jsxRuntimeExports.jsx("strong",{children:"collaborated with the team"})," to assess feasibility and design the process for this feature. By uniquely combining existing patterns with new functionality, we were able to ",jsxRuntimeExports.jsx("strong",{children:"deliver the feature under a tight deadline"}),". The feature was ",jsxRuntimeExports.jsx("strong",{children:"highly adopted by clients"})," and secured more contracts for the following year."]}),image:"/portfolio/assets/quasar/quasar_activation.png",tag1:"Clients Activation",tag2:""}),jsxRuntimeExports.jsx(Task,{wrapperClassName:"col-md-6 col-xl-4 card-gap-10",bgColor:"#EA8D85",title:"My Tix Pages on the Platform",description:jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("strong",{children:"We identified a gap"})," in the fan journey when it came to managing their tickets. ",jsxRuntimeExports.jsx("strong",{children:"I conducted extensive research"})," and identified the best possible solution within the constraints of feasibility. This section also ",jsxRuntimeExports.jsx("strong",{children:"unlocked the power of our platform"})," by displaying integrated tickets from various ticketing platforms, giving us the ",jsxRuntimeExports.jsx("strong",{children:"opportunity to upsell our service"})," for events where fans hadnt initially planned to use it. Additionally, the design supported cases where users could navigate to closed events to view the status of their returns, which was previously inaccessible but essential for certain user groups."]}),image:"/portfolio/assets/quasar/quasar_my_tickets.png",tag1:"Information Architecture",tag2:"Business Growth"}),jsxRuntimeExports.jsx(Task,{wrapperClassName:"col-md-6 col-xl-4 card-gap-10",bgColor:"#F0E2CC",title:"Enhancing Fan-to-Fan Exchanges",description:jsxRuntimeExports.jsxs("span",{children:["As our platform evolved, the Fan-to-Fan exchanges required a redesign that could be ",jsxRuntimeExports.jsx("strong",{children:"implemented with low costs"}),". ",jsxRuntimeExports.jsx("strong",{children:"I identified weak points and dead ends"})," in the current process and ",jsxRuntimeExports.jsx("strong",{children:"turned these into opportunities"})," to ",jsxRuntimeExports.jsx("strong",{children:"increase sales"}),". We also conducted ",jsxRuntimeExports.jsx("strong",{children:"A/B testing"})," on specific design solutions, identifying the most effective ones. The new design provided ",jsxRuntimeExports.jsx("strong",{children:"greater clarity for users"}),", addressing previously reported issues with how information was presented."]}),image:"/portfolio/assets/quasar/quasar_private_exchange.png",tag1:"User Centered Design",tag2:"User Flow"})]}),jsxRuntimeExports.jsx(Divider,{type:"light"}),jsxRuntimeExports.jsx(Project,{link:"/project/2",image:"assets/project_dashboard.jpg",title:"Lyte Client Dashboard",year:jsxRuntimeExports.jsx("span",{children:"2019  B2B"}),description:"Unlocking data and events management for clients through intuitive product design and a comprehensive UI kit for the web.",isNextProject:!0}),jsxRuntimeExports.jsx(Footer,{})]})]})]})},Metric1=({className:tt,above:_e,mainmetric:nt,below:rt,color:it="#555555"})=>jsxRuntimeExports.jsxs("div",{className:`metric2_card ${tt||""}`,children:[jsxRuntimeExports.jsx("p",{className:"metric2_above",children:_e}),jsxRuntimeExports.jsx("p",{className:"metric2_main_number",style:{color:it},children:nt}),jsxRuntimeExports.jsx("p",{className:"metric2_below",children:rt})]}),ProjectDetailsDashboard$1=()=>jsxRuntimeExports.jsxs("div",{className:"container-fluid px-0 justify-content-center",children:[jsxRuntimeExports.jsx(Menu,{productDesign:!0}),jsxRuntimeExports.jsx(PageHero,{title:jsxRuntimeExports.jsxs("span",{children:["Client Dashboard.",jsxRuntimeExports.jsx("br",{}),"Enhancing Client Experience."]}),description:jsxRuntimeExports.jsx("span",{children:"This project focused on improving communication between Lyte and its clients by reimagining solutions, enabling self-service capabilities, and delivering the best-in-class reporting for ticketing services on the market."}),wrapperclassName:"container-fluid",imageMobile:"/portfolio/assets/quasar/project_hero_quasar_960w.jpg",imageDesktop:"/portfolio/assets/dashboard/project_hero_dashboard_2560w.jpg",color:"var(--txt-light-1)",colorDescription:"var(--txt-light-3)",logoUrl:"/portfolio/assets/logos/product_logo=lyte.svg"}),jsxRuntimeExports.jsx("div",{className:"container-fluid ephasized_section mt-40 pt-40",children:jsxRuntimeExports.jsxs("div",{className:"container-xxl px-4",children:[jsxRuntimeExports.jsxs("div",{className:"row row-gap-2",children:[jsxRuntimeExports.jsx(Metric1,{className:"col-6 col-lg-4 card-gap-2",above:"My role",mainmetric:"Lead Product Designer",color:"var(--txt-dark-2)"}),jsxRuntimeExports.jsx(Metric1,{className:"col-6 col-lg-4 card-gap-2",above:"Timeline",mainmetric:"SepDec, 2019",color:"var(--txt-dark-2)"}),jsxRuntimeExports.jsx(Metric1,{className:"col-6 col-lg-4 card-gap-2",above:"Design team size",mainmetric:"12",color:"var(--txt-dark-2)"})]}),jsxRuntimeExports.jsx(Divider,{}),jsxRuntimeExports.jsx(Header,{wrapperclassName:"container-xxl py-4 px-0",size:"medium",title:"Context",color:"var(--txt-dark-2)",colorDescription:"var(--txt-dark-3)"}),jsxRuntimeExports.jsxs("div",{className:"row pb-40",children:[jsxRuntimeExports.jsxs("div",{className:"col-12 col-lg-6 role-description",children:["I joined the project soon after joining the company. The client dashboard already existed but required a complete redesign due to significant issues with data, design, and implementation. The project lacked a dedicated team or Project Manager, and the documentation was incomplete, so ",jsxRuntimeExports.jsx("strong",{children:"my initial focus was bringing clarity to the ambiguous state"}),"."]}),jsxRuntimeExports.jsxs("div",{className:"col-12 col-lg-6 role-description",children:["During my time on the project, I collaborated closely with the Head of Design to gather business requirements and worked alongside another designer to research needs from other key leaders within the company. I also ",jsxRuntimeExports.jsx("strong",{children:"conducted interviews with the Operations team"}),", who interacted with clients, to ",jsxRuntimeExports.jsx("strong",{children:"gather their feedback"})," and ",jsxRuntimeExports.jsx("strong",{children:"identify pain points"})," in the existing dashboard. Additionally, I ",jsxRuntimeExports.jsx("strong",{children:"collaborated with developers"})," to understand the technical possibilities and limitations, ensuring that ",jsxRuntimeExports.jsx("strong",{children:"the design was feasible"})," without over-complicating the implementation."]})]}),jsxRuntimeExports.jsx("img",{className:"inline-image mb-80",src:"/portfolio/assets/dashboard/dashboard_random.jpg"})]})}),jsxRuntimeExports.jsx("div",{className:"dark_section",children:jsxRuntimeExports.jsxs("div",{className:"container-xxl px-4",children:[jsxRuntimeExports.jsx(Header,{wrapperclassName:"pt-80",size:"medium",title:"Dashboard Redesign Goals",description:jsxRuntimeExports.jsx("span",{children:"Based on my research and collaboration with my teammates, I identified the key goals for the dashboard redesign:"}),color:"var(--txt-light-2)",colorDescription:"var(--txt-light-3)"}),jsxRuntimeExports.jsxs("div",{className:"row row-gap-2 pb-40 pt-20",children:[jsxRuntimeExports.jsxs("div",{className:"col-12 col-lg-6 card-gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"numbered-list",children:[jsxRuntimeExports.jsx("div",{className:"numbered-list-number",children:"1."}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Reduce operations time per client/event"})," by implementing self-service options and a comprehensive help center."]})]}),jsxRuntimeExports.jsxs("div",{className:"numbered-list",children:[jsxRuntimeExports.jsx("div",{className:"numbered-list-number",children:"2."}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Minimize time spent by the Financial team"})," on each client/event through improved reporting features."]})]}),jsxRuntimeExports.jsxs("div",{className:"numbered-list",children:[jsxRuntimeExports.jsx("div",{className:"numbered-list-number",children:"3."}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Ensure data accuracy for clients"}),", providing them with reliable and actionable insights."]})]}),jsxRuntimeExports.jsxs("div",{className:"numbered-list",children:[jsxRuntimeExports.jsx("div",{className:"numbered-list-number",children:"4."}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Clarify information and data"})," by aligning it with specific business terminology for better understanding."]})]})]}),jsxRuntimeExports.jsxs("div",{className:"col-12 col-lg-6 card-gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"numbered-list",children:[jsxRuntimeExports.jsx("div",{className:"numbered-list-number",children:"5."}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Enable mobile access"}),", allowing users to work with the dashboard on-site via mobile devices."]})]}),jsxRuntimeExports.jsxs("div",{className:"numbered-list",children:[jsxRuntimeExports.jsx("div",{className:"numbered-list-number",children:"6."}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Empower clients to increase revenue per event"})," while driving more fan engagement through win-win releases."]})]}),jsxRuntimeExports.jsxs("div",{className:"numbered-list",children:[jsxRuntimeExports.jsx("div",{className:"numbered-list-number",children:"7."}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Provide real-time data access"})," so clients can take immediate action, whether through marketing or other methods."]})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Divider,{type:"light"}),jsxRuntimeExports.jsx(Header,{wrapperclassName:"pb-40",size:"medium",title:"",description:jsxRuntimeExports.jsx("span",{children:"I performed desk research to find the best practices for operational dashboards. Once I had all the information, I grouped it based on what clients needed most and used that to create a new information structure for the dashboard. The navigation was a big pain point for clients, so I completely reworked it. The new version made it possible to reach any part of the dashboard in 3-4 clicks, with clear, consistent navigation elements that could easily scale as we added more features."}),color:"var(--txt-light-2)",colorDescription:"var(--txt-light-3)"}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("img",{className:"inline-image",src:"/portfolio/assets/dashboard/dashboard_navigation.jpg"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Divider,{type:"light"}),jsxRuntimeExports.jsx(Header,{wrapperclassName:"pb-40",size:"medium",title:"",description:jsxRuntimeExports.jsx("span",{children:"I also came up with the idea to personalize dashboards based on the events each client was managing. By digging into the JSON files used by the front-end, I found all the tokens from different integrations and customizations, then mapped them out to create a consistent structure. This made it possible to give each client a dashboard tailored to the events they were working on, making it much clearer which event they were managing at any given time."}),color:"var(--txt-light-2)",colorDescription:"var(--txt-light-3)"}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("img",{className:"inline-image",src:"/portfolio/assets/dashboard/dashboard_customization.jpg"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Divider,{type:"light"}),jsxRuntimeExports.jsxs("div",{className:"row row-gap-10 align-items-center",children:[jsxRuntimeExports.jsx(Header,{wrapperclassName:"col-lg-6 col-sm-12 card-gap-10",className:"pe-4",size:"medium",title:"",description:jsxRuntimeExports.jsx("span",{children:"Furthermore, I introduced the concept of transforming our business features into easy-to-use toggle components. This allowed clients to activate features independently, without needing to contact the operations team, enabling them to act quickly. Additionally, these components provided metrics that measured the success of each feature, potentially helping us evaluate the strength of our business relationships with clients."}),color:"var(--txt-light-2)",colorDescription:"var(--txt-light-3)"}),jsxRuntimeExports.jsx("div",{className:"col-lg-6 col-sm-12 card-gap-10",children:jsxRuntimeExports.jsx("img",{className:"inline-image",src:"/portfolio/assets/dashboard/dashboard_features.jpg"})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Divider,{type:"light"}),jsxRuntimeExports.jsx(Header,{wrapperclassName:"",className:"",size:"medium",title:"",description:jsxRuntimeExports.jsx("span",{children:"Since clients had previously complained about unclear information, I made it a priority to fix that, making sure everything was presented in a simple, easy-to-understand way. I also added elements that allowed clients to easily navigate to get help or leave feedback about what they felt was missing."}),color:"var(--txt-light-2)",colorDescription:"var(--txt-light-3)"}),jsxRuntimeExports.jsxs("div",{className:"row row-gap-10 align-items-center",children:[jsxRuntimeExports.jsx("div",{className:"col-lg-6 mt-40 col-sm-12 card-gap-10",children:jsxRuntimeExports.jsx("img",{className:"inline-image",src:"/portfolio/assets/dashboard/dashboard_help_1.jpg"})}),jsxRuntimeExports.jsx("div",{className:"col-lg-6 mt-40 col-sm-12 card-gap-10",children:jsxRuntimeExports.jsx("img",{className:"inline-image",src:"/portfolio/assets/dashboard/dashboard_help_2.jpg"})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Divider,{type:"light"}),jsxRuntimeExports.jsx(Header,{wrapperclassName:"pb-40",size:"medium",title:"",description:jsxRuntimeExports.jsx("span",{children:"I paid close attention to the design of the reporting system, as it was crucial for delivering an excellent client experience. Previously, reports were created manually, consuming significant time for both the financial and operations teams. The back-and-forth communication between our teams and clients often caused frustration on both sides. From the start, I identified a set of essential reports to be available at launch, leaving room for future expansion. I also proposed automated reporting based on a client-selected timeframe, along with introducing new types of reports that could provide additional value."}),color:"var(--txt-light-2)",colorDescription:"var(--txt-light-3)"}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("img",{className:"inline-image",src:"/portfolio/assets/dashboard/dashboard_reporting_1.jpg"})}),jsxRuntimeExports.jsxs("div",{className:"row row-gap-10 align-items-center",children:[jsxRuntimeExports.jsx("div",{className:"col-lg-6 mt-40 col-sm-12 card-gap-10",children:jsxRuntimeExports.jsx("img",{className:"inline-image",src:"/portfolio/assets/dashboard/dashboard_reporting_3.jpg"})}),jsxRuntimeExports.jsx("div",{className:"col-lg-6 mt-40 col-sm-12 card-gap-10",children:jsxRuntimeExports.jsx("img",{className:"inline-image",src:"/portfolio/assets/dashboard/dashboard_reporting_2.jpg"})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Divider,{type:"light"}),jsxRuntimeExports.jsxs("div",{className:"row row-gap-10 align-items-center",children:[jsxRuntimeExports.jsx("div",{className:"col-lg-6 col-sm-12 card-gap-10",children:jsxRuntimeExports.jsx("img",{className:"inline-image",src:"/portfolio/assets/dashboard/dashboard_mobile_1.jpg"})}),jsxRuntimeExports.jsx(Header,{wrapperclassName:"col-lg-6 col-sm-12 card-gap-10",className:"ps-4",size:"medium",title:"",description:jsxRuntimeExports.jsx("span",{children:"The new design was also fully adaptive, allowing clients to use the dashboard from anywhere, even on mobile. This was particularly helpful for clients working in the field, like at outdoor music festivals, where access to computers and reliable internet is often limited."}),color:"var(--txt-light-2)",colorDescription:"var(--txt-light-3)"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Divider,{type:"light"}),jsxRuntimeExports.jsxs("div",{className:"row row-gap-10 align-items-center",children:[jsxRuntimeExports.jsx(Header,{wrapperclassName:"col-lg-6 col-sm-12 card-gap-10",className:"pe-4",size:"medium",title:"",description:jsxRuntimeExports.jsx("span",{children:"On top of that, I designed flows for client self-service functionality, including event customization with options to upload images and select colors. Another key feature that could differentiate us in the market was the Late Releases functionality, allowing clients to issue additional tickets, sell them on our platform, and generate extra revenue."}),color:"var(--txt-light-2)",colorDescription:"var(--txt-light-3)"}),jsxRuntimeExports.jsx("div",{className:"col-lg-6 col-sm-12 card-gap-10",children:jsxRuntimeExports.jsx("img",{className:"inline-image",src:"/portfolio/assets/dashboard/dashboard_self_2.jpg"})}),jsxRuntimeExports.jsx("div",{className:"col-12 pt-40",children:jsxRuntimeExports.jsx("img",{className:"inline-image",src:"/portfolio/assets/dashboard/dashboard_self_1.jpg"})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Divider,{type:"light"}),jsxRuntimeExports.jsxs("div",{className:"row row-gap-10 align-items-center",children:[jsxRuntimeExports.jsx("div",{className:"col-lg-6 mt-20 col-sm-12 card-gap-10",children:jsxRuntimeExports.jsx("img",{className:"inline-image",src:"/portfolio/assets/dashboard/dashboard_some_1.jpg"})}),jsxRuntimeExports.jsx("div",{className:"col-lg-6 mt-20 col-sm-12 card-gap-10",children:jsxRuntimeExports.jsx("img",{className:"inline-image",src:"/portfolio/assets/dashboard/dashboard_some_2.jpg"})})]})]}),jsxRuntimeExports.jsx(Divider,{type:"light"}),jsxRuntimeExports.jsx(Project,{link:"/project/8",image:"assets/capital/project_capital.jpg",title:"Capital.com Trading Platform",year:jsxRuntimeExports.jsx("span",{children:"2018  B2C"}),description:"Developing the platform from scratch and enhancing the trading experience through user-centered design.",isNextProject:!0}),jsxRuntimeExports.jsx(Footer,{})]})})]});/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="170",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,ConstantColorFactor=211,OneMinusConstantColorFactor=212,ConstantAlphaFactor=213,OneMinusConstantAlphaFactor=214,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,AgXToneMapping=6,NeutralToneMapping=7,AttachedBindMode="attached",DetachedBindMode="detached",UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,UnsignedInt5999Type=35902,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBIntegerFormat=1032,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RGB_BPTC_SIGNED_Format=36494,RGB_BPTC_UNSIGNED_Format=36495,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,BasicDepthPacking=3200,RGBADepthPacking=3201,RGBDepthPacking=3202,RGDepthPacking=3203,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",LinearTransfer="linear",SRGBTransfer="srgb",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,NeverCompare=512,LessCompare=513,EqualCompare=514,LessEqualCompare=515,GreaterCompare=516,NotEqualCompare=517,GreaterEqualCompare=518,AlwaysCompare=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",WebGLCoordinateSystem=2e3,WebGPUCoordinateSystem=2001;class EventDispatcher{addEventListener(_e,nt){this._listeners===void 0&&(this._listeners={});const rt=this._listeners;rt[_e]===void 0&&(rt[_e]=[]),rt[_e].indexOf(nt)===-1&&rt[_e].push(nt)}hasEventListener(_e,nt){if(this._listeners===void 0)return!1;const rt=this._listeners;return rt[_e]!==void 0&&rt[_e].indexOf(nt)!==-1}removeEventListener(_e,nt){if(this._listeners===void 0)return;const it=this._listeners[_e];if(it!==void 0){const st=it.indexOf(nt);st!==-1&&it.splice(st,1)}}dispatchEvent(_e){if(this._listeners===void 0)return;const rt=this._listeners[_e.type];if(rt!==void 0){_e.target=this;const it=rt.slice(0);for(let st=0,at=it.length;st<at;st++)it[st].call(this,_e);_e.target=null}}}const _lut$1=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID$1(){const tt=Math.random()*4294967295|0,_e=Math.random()*4294967295|0,nt=Math.random()*4294967295|0,rt=Math.random()*4294967295|0;return(_lut$1[tt&255]+_lut$1[tt>>8&255]+_lut$1[tt>>16&255]+_lut$1[tt>>24&255]+"-"+_lut$1[_e&255]+_lut$1[_e>>8&255]+"-"+_lut$1[_e>>16&15|64]+_lut$1[_e>>24&255]+"-"+_lut$1[nt&63|128]+_lut$1[nt>>8&255]+"-"+_lut$1[nt>>16&255]+_lut$1[nt>>24&255]+_lut$1[rt&255]+_lut$1[rt>>8&255]+_lut$1[rt>>16&255]+_lut$1[rt>>24&255]).toLowerCase()}function clamp(tt,_e,nt){return Math.max(_e,Math.min(nt,tt))}function euclideanModulo(tt,_e){return(tt%_e+_e)%_e}function mapLinear(tt,_e,nt,rt,it){return rt+(tt-_e)*(it-rt)/(nt-_e)}function inverseLerp(tt,_e,nt){return tt!==_e?(nt-tt)/(_e-tt):0}function lerp(tt,_e,nt){return(1-nt)*tt+nt*_e}function damp(tt,_e,nt,rt){return lerp(tt,_e,1-Math.exp(-nt*rt))}function pingpong(tt,_e=1){return _e-Math.abs(euclideanModulo(tt,_e*2)-_e)}function smoothstep(tt,_e,nt){return tt<=_e?0:tt>=nt?1:(tt=(tt-_e)/(nt-_e),tt*tt*(3-2*tt))}function smootherstep(tt,_e,nt){return tt<=_e?0:tt>=nt?1:(tt=(tt-_e)/(nt-_e),tt*tt*tt*(tt*(tt*6-15)+10))}function randInt(tt,_e){return tt+Math.floor(Math.random()*(_e-tt+1))}function randFloat(tt,_e){return tt+Math.random()*(_e-tt)}function randFloatSpread(tt){return tt*(.5-Math.random())}function seededRandom(tt){tt!==void 0&&(_seed=tt);let _e=_seed+=1831565813;return _e=Math.imul(_e^_e>>>15,_e|1),_e^=_e+Math.imul(_e^_e>>>7,_e|61),((_e^_e>>>14)>>>0)/4294967296}function degToRad(tt){return tt*DEG2RAD}function radToDeg(tt){return tt*RAD2DEG}function isPowerOfTwo(tt){return(tt&tt-1)===0&&tt!==0}function ceilPowerOfTwo(tt){return Math.pow(2,Math.ceil(Math.log(tt)/Math.LN2))}function floorPowerOfTwo(tt){return Math.pow(2,Math.floor(Math.log(tt)/Math.LN2))}function setQuaternionFromProperEuler(tt,_e,nt,rt,it){const st=Math.cos,at=Math.sin,ot=st(nt/2),lt=at(nt/2),ct=st((_e+rt)/2),ut=at((_e+rt)/2),ft=st((_e-rt)/2),ht=at((_e-rt)/2),pt=st((rt-_e)/2),dt=at((rt-_e)/2);switch(it){case"XYX":tt.set(ot*ut,lt*ft,lt*ht,ot*ct);break;case"YZY":tt.set(lt*ht,ot*ut,lt*ft,ot*ct);break;case"ZXZ":tt.set(lt*ft,lt*ht,ot*ut,ot*ct);break;case"XZX":tt.set(ot*ut,lt*dt,lt*pt,ot*ct);break;case"YXY":tt.set(lt*pt,ot*ut,lt*dt,ot*ct);break;case"ZYZ":tt.set(lt*dt,lt*pt,ot*ut,ot*ct);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+it)}}function denormalize(tt,_e){switch(_e.constructor){case Float32Array:return tt;case Uint32Array:return tt/4294967295;case Uint16Array:return tt/65535;case Uint8Array:return tt/255;case Int32Array:return Math.max(tt/2147483647,-1);case Int16Array:return Math.max(tt/32767,-1);case Int8Array:return Math.max(tt/127,-1);default:throw new Error("Invalid component type.")}}function normalize(tt,_e){switch(_e.constructor){case Float32Array:return tt;case Uint32Array:return Math.round(tt*4294967295);case Uint16Array:return Math.round(tt*65535);case Uint8Array:return Math.round(tt*255);case Int32Array:return Math.round(tt*2147483647);case Int16Array:return Math.round(tt*32767);case Int8Array:return Math.round(tt*127);default:throw new Error("Invalid component type.")}}const MathUtils={DEG2RAD,RAD2DEG,generateUUID:generateUUID$1,clamp,euclideanModulo,mapLinear,inverseLerp,lerp,damp,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler,normalize,denormalize};class Vector2{constructor(_e=0,nt=0){Vector2.prototype.isVector2=!0,this.x=_e,this.y=nt}get width(){return this.x}set width(_e){this.x=_e}get height(){return this.y}set height(_e){this.y=_e}set(_e,nt){return this.x=_e,this.y=nt,this}setScalar(_e){return this.x=_e,this.y=_e,this}setX(_e){return this.x=_e,this}setY(_e){return this.y=_e,this}setComponent(_e,nt){switch(_e){case 0:this.x=nt;break;case 1:this.y=nt;break;default:throw new Error("index is out of range: "+_e)}return this}getComponent(_e){switch(_e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+_e)}}clone(){return new this.constructor(this.x,this.y)}copy(_e){return this.x=_e.x,this.y=_e.y,this}add(_e){return this.x+=_e.x,this.y+=_e.y,this}addScalar(_e){return this.x+=_e,this.y+=_e,this}addVectors(_e,nt){return this.x=_e.x+nt.x,this.y=_e.y+nt.y,this}addScaledVector(_e,nt){return this.x+=_e.x*nt,this.y+=_e.y*nt,this}sub(_e){return this.x-=_e.x,this.y-=_e.y,this}subScalar(_e){return this.x-=_e,this.y-=_e,this}subVectors(_e,nt){return this.x=_e.x-nt.x,this.y=_e.y-nt.y,this}multiply(_e){return this.x*=_e.x,this.y*=_e.y,this}multiplyScalar(_e){return this.x*=_e,this.y*=_e,this}divide(_e){return this.x/=_e.x,this.y/=_e.y,this}divideScalar(_e){return this.multiplyScalar(1/_e)}applyMatrix3(_e){const nt=this.x,rt=this.y,it=_e.elements;return this.x=it[0]*nt+it[3]*rt+it[6],this.y=it[1]*nt+it[4]*rt+it[7],this}min(_e){return this.x=Math.min(this.x,_e.x),this.y=Math.min(this.y,_e.y),this}max(_e){return this.x=Math.max(this.x,_e.x),this.y=Math.max(this.y,_e.y),this}clamp(_e,nt){return this.x=Math.max(_e.x,Math.min(nt.x,this.x)),this.y=Math.max(_e.y,Math.min(nt.y,this.y)),this}clampScalar(_e,nt){return this.x=Math.max(_e,Math.min(nt,this.x)),this.y=Math.max(_e,Math.min(nt,this.y)),this}clampLength(_e,nt){const rt=this.length();return this.divideScalar(rt||1).multiplyScalar(Math.max(_e,Math.min(nt,rt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(_e){return this.x*_e.x+this.y*_e.y}cross(_e){return this.x*_e.y-this.y*_e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(_e){const nt=Math.sqrt(this.lengthSq()*_e.lengthSq());if(nt===0)return Math.PI/2;const rt=this.dot(_e)/nt;return Math.acos(clamp(rt,-1,1))}distanceTo(_e){return Math.sqrt(this.distanceToSquared(_e))}distanceToSquared(_e){const nt=this.x-_e.x,rt=this.y-_e.y;return nt*nt+rt*rt}manhattanDistanceTo(_e){return Math.abs(this.x-_e.x)+Math.abs(this.y-_e.y)}setLength(_e){return this.normalize().multiplyScalar(_e)}lerp(_e,nt){return this.x+=(_e.x-this.x)*nt,this.y+=(_e.y-this.y)*nt,this}lerpVectors(_e,nt,rt){return this.x=_e.x+(nt.x-_e.x)*rt,this.y=_e.y+(nt.y-_e.y)*rt,this}equals(_e){return _e.x===this.x&&_e.y===this.y}fromArray(_e,nt=0){return this.x=_e[nt],this.y=_e[nt+1],this}toArray(_e=[],nt=0){return _e[nt]=this.x,_e[nt+1]=this.y,_e}fromBufferAttribute(_e,nt){return this.x=_e.getX(nt),this.y=_e.getY(nt),this}rotateAround(_e,nt){const rt=Math.cos(nt),it=Math.sin(nt),st=this.x-_e.x,at=this.y-_e.y;return this.x=st*rt-at*it+_e.x,this.y=st*it+at*rt+_e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(_e,nt,rt,it,st,at,ot,lt,ct){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],_e!==void 0&&this.set(_e,nt,rt,it,st,at,ot,lt,ct)}set(_e,nt,rt,it,st,at,ot,lt,ct){const ut=this.elements;return ut[0]=_e,ut[1]=it,ut[2]=ot,ut[3]=nt,ut[4]=st,ut[5]=lt,ut[6]=rt,ut[7]=at,ut[8]=ct,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(_e){const nt=this.elements,rt=_e.elements;return nt[0]=rt[0],nt[1]=rt[1],nt[2]=rt[2],nt[3]=rt[3],nt[4]=rt[4],nt[5]=rt[5],nt[6]=rt[6],nt[7]=rt[7],nt[8]=rt[8],this}extractBasis(_e,nt,rt){return _e.setFromMatrix3Column(this,0),nt.setFromMatrix3Column(this,1),rt.setFromMatrix3Column(this,2),this}setFromMatrix4(_e){const nt=_e.elements;return this.set(nt[0],nt[4],nt[8],nt[1],nt[5],nt[9],nt[2],nt[6],nt[10]),this}multiply(_e){return this.multiplyMatrices(this,_e)}premultiply(_e){return this.multiplyMatrices(_e,this)}multiplyMatrices(_e,nt){const rt=_e.elements,it=nt.elements,st=this.elements,at=rt[0],ot=rt[3],lt=rt[6],ct=rt[1],ut=rt[4],ft=rt[7],ht=rt[2],pt=rt[5],dt=rt[8],gt=it[0],vt=it[3],mt=it[6],xt=it[1],St=it[4],Et=it[7],bt=it[2],Tt=it[5],At=it[8];return st[0]=at*gt+ot*xt+lt*bt,st[3]=at*vt+ot*St+lt*Tt,st[6]=at*mt+ot*Et+lt*At,st[1]=ct*gt+ut*xt+ft*bt,st[4]=ct*vt+ut*St+ft*Tt,st[7]=ct*mt+ut*Et+ft*At,st[2]=ht*gt+pt*xt+dt*bt,st[5]=ht*vt+pt*St+dt*Tt,st[8]=ht*mt+pt*Et+dt*At,this}multiplyScalar(_e){const nt=this.elements;return nt[0]*=_e,nt[3]*=_e,nt[6]*=_e,nt[1]*=_e,nt[4]*=_e,nt[7]*=_e,nt[2]*=_e,nt[5]*=_e,nt[8]*=_e,this}determinant(){const _e=this.elements,nt=_e[0],rt=_e[1],it=_e[2],st=_e[3],at=_e[4],ot=_e[5],lt=_e[6],ct=_e[7],ut=_e[8];return nt*at*ut-nt*ot*ct-rt*st*ut+rt*ot*lt+it*st*ct-it*at*lt}invert(){const _e=this.elements,nt=_e[0],rt=_e[1],it=_e[2],st=_e[3],at=_e[4],ot=_e[5],lt=_e[6],ct=_e[7],ut=_e[8],ft=ut*at-ot*ct,ht=ot*lt-ut*st,pt=ct*st-at*lt,dt=nt*ft+rt*ht+it*pt;if(dt===0)return this.set(0,0,0,0,0,0,0,0,0);const gt=1/dt;return _e[0]=ft*gt,_e[1]=(it*ct-ut*rt)*gt,_e[2]=(ot*rt-it*at)*gt,_e[3]=ht*gt,_e[4]=(ut*nt-it*lt)*gt,_e[5]=(it*st-ot*nt)*gt,_e[6]=pt*gt,_e[7]=(rt*lt-ct*nt)*gt,_e[8]=(at*nt-rt*st)*gt,this}transpose(){let _e;const nt=this.elements;return _e=nt[1],nt[1]=nt[3],nt[3]=_e,_e=nt[2],nt[2]=nt[6],nt[6]=_e,_e=nt[5],nt[5]=nt[7],nt[7]=_e,this}getNormalMatrix(_e){return this.setFromMatrix4(_e).invert().transpose()}transposeIntoArray(_e){const nt=this.elements;return _e[0]=nt[0],_e[1]=nt[3],_e[2]=nt[6],_e[3]=nt[1],_e[4]=nt[4],_e[5]=nt[7],_e[6]=nt[2],_e[7]=nt[5],_e[8]=nt[8],this}setUvTransform(_e,nt,rt,it,st,at,ot){const lt=Math.cos(st),ct=Math.sin(st);return this.set(rt*lt,rt*ct,-rt*(lt*at+ct*ot)+at+_e,-it*ct,it*lt,-it*(-ct*at+lt*ot)+ot+nt,0,0,1),this}scale(_e,nt){return this.premultiply(_m3.makeScale(_e,nt)),this}rotate(_e){return this.premultiply(_m3.makeRotation(-_e)),this}translate(_e,nt){return this.premultiply(_m3.makeTranslation(_e,nt)),this}makeTranslation(_e,nt){return _e.isVector2?this.set(1,0,_e.x,0,1,_e.y,0,0,1):this.set(1,0,_e,0,1,nt,0,0,1),this}makeRotation(_e){const nt=Math.cos(_e),rt=Math.sin(_e);return this.set(nt,-rt,0,rt,nt,0,0,0,1),this}makeScale(_e,nt){return this.set(_e,0,0,0,nt,0,0,0,1),this}equals(_e){const nt=this.elements,rt=_e.elements;for(let it=0;it<9;it++)if(nt[it]!==rt[it])return!1;return!0}fromArray(_e,nt=0){for(let rt=0;rt<9;rt++)this.elements[rt]=_e[rt+nt];return this}toArray(_e=[],nt=0){const rt=this.elements;return _e[nt]=rt[0],_e[nt+1]=rt[1],_e[nt+2]=rt[2],_e[nt+3]=rt[3],_e[nt+4]=rt[4],_e[nt+5]=rt[5],_e[nt+6]=rt[6],_e[nt+7]=rt[7],_e[nt+8]=rt[8],_e}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(tt){for(let _e=tt.length-1;_e>=0;--_e)if(tt[_e]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray(tt,_e){return new TYPED_ARRAYS[tt](_e)}function createElementNS(tt){return document.createElementNS("http://www.w3.org/1999/xhtml",tt)}function createCanvasElement(){const tt=createElementNS("canvas");return tt.style.display="block",tt}const _cache={};function warnOnce(tt){tt in _cache||(_cache[tt]=!0,console.warn(tt))}function probeAsync(tt,_e,nt){return new Promise(function(rt,it){function st(){switch(tt.clientWaitSync(_e,tt.SYNC_FLUSH_COMMANDS_BIT,0)){case tt.WAIT_FAILED:it();break;case tt.TIMEOUT_EXPIRED:setTimeout(st,nt);break;default:rt()}}setTimeout(st,nt)})}function toNormalizedProjectionMatrix(tt){const _e=tt.elements;_e[2]=.5*_e[2]+.5*_e[3],_e[6]=.5*_e[6]+.5*_e[7],_e[10]=.5*_e[10]+.5*_e[11],_e[14]=.5*_e[14]+.5*_e[15]}function toReversedProjectionMatrix(tt){const _e=tt.elements;_e[11]===-1?(_e[10]=-_e[10]-1,_e[14]=-_e[14]):(_e[10]=-_e[10],_e[14]=-_e[14]+1)}const ColorManagement={enabled:!0,workingColorSpace:LinearSRGBColorSpace,spaces:{},convert:function(tt,_e,nt){return this.enabled===!1||_e===nt||!_e||!nt||(this.spaces[_e].transfer===SRGBTransfer&&(tt.r=SRGBToLinear(tt.r),tt.g=SRGBToLinear(tt.g),tt.b=SRGBToLinear(tt.b)),this.spaces[_e].primaries!==this.spaces[nt].primaries&&(tt.applyMatrix3(this.spaces[_e].toXYZ),tt.applyMatrix3(this.spaces[nt].fromXYZ)),this.spaces[nt].transfer===SRGBTransfer&&(tt.r=LinearToSRGB(tt.r),tt.g=LinearToSRGB(tt.g),tt.b=LinearToSRGB(tt.b))),tt},fromWorkingColorSpace:function(tt,_e){return this.convert(tt,this.workingColorSpace,_e)},toWorkingColorSpace:function(tt,_e){return this.convert(tt,_e,this.workingColorSpace)},getPrimaries:function(tt){return this.spaces[tt].primaries},getTransfer:function(tt){return tt===NoColorSpace?LinearTransfer:this.spaces[tt].transfer},getLuminanceCoefficients:function(tt,_e=this.workingColorSpace){return tt.fromArray(this.spaces[_e].luminanceCoefficients)},define:function(tt){Object.assign(this.spaces,tt)},_getMatrix:function(tt,_e,nt){return tt.copy(this.spaces[_e].toXYZ).multiply(this.spaces[nt].fromXYZ)},_getDrawingBufferColorSpace:function(tt){return this.spaces[tt].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(tt=this.workingColorSpace){return this.spaces[tt].workingColorSpaceConfig.unpackColorSpace}};function SRGBToLinear(tt){return tt<.04045?tt*.0773993808:Math.pow(tt*.9478672986+.0521327014,2.4)}function LinearToSRGB(tt){return tt<.0031308?tt*12.92:1.055*Math.pow(tt,.41666)-.055}const REC709_PRIMARIES=[.64,.33,.3,.6,.15,.06],REC709_LUMINANCE_COEFFICIENTS=[.2126,.7152,.0722],D65=[.3127,.329],LINEAR_REC709_TO_XYZ=new Matrix3().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),XYZ_TO_LINEAR_REC709=new Matrix3().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);ColorManagement.define({[LinearSRGBColorSpace]:{primaries:REC709_PRIMARIES,whitePoint:D65,transfer:LinearTransfer,toXYZ:LINEAR_REC709_TO_XYZ,fromXYZ:XYZ_TO_LINEAR_REC709,luminanceCoefficients:REC709_LUMINANCE_COEFFICIENTS,workingColorSpaceConfig:{unpackColorSpace:SRGBColorSpace},outputColorSpaceConfig:{drawingBufferColorSpace:SRGBColorSpace}},[SRGBColorSpace]:{primaries:REC709_PRIMARIES,whitePoint:D65,transfer:SRGBTransfer,toXYZ:LINEAR_REC709_TO_XYZ,fromXYZ:XYZ_TO_LINEAR_REC709,luminanceCoefficients:REC709_LUMINANCE_COEFFICIENTS,outputColorSpaceConfig:{drawingBufferColorSpace:SRGBColorSpace}}});let _canvas;class ImageUtils{static getDataURL(_e){if(/^data:/i.test(_e.src)||typeof HTMLCanvasElement>"u")return _e.src;let nt;if(_e instanceof HTMLCanvasElement)nt=_e;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=_e.width,_canvas.height=_e.height;const rt=_canvas.getContext("2d");_e instanceof ImageData?rt.putImageData(_e,0,0):rt.drawImage(_e,0,0,_e.width,_e.height),nt=_canvas}return nt.width>2048||nt.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",_e),nt.toDataURL("image/jpeg",.6)):nt.toDataURL("image/png")}static sRGBToLinear(_e){if(typeof HTMLImageElement<"u"&&_e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&_e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&_e instanceof ImageBitmap){const nt=createElementNS("canvas");nt.width=_e.width,nt.height=_e.height;const rt=nt.getContext("2d");rt.drawImage(_e,0,0,_e.width,_e.height);const it=rt.getImageData(0,0,_e.width,_e.height),st=it.data;for(let at=0;at<st.length;at++)st[at]=SRGBToLinear(st[at]/255)*255;return rt.putImageData(it,0,0),nt}else if(_e.data){const nt=_e.data.slice(0);for(let rt=0;rt<nt.length;rt++)nt instanceof Uint8Array||nt instanceof Uint8ClampedArray?nt[rt]=Math.floor(SRGBToLinear(nt[rt]/255)*255):nt[rt]=SRGBToLinear(nt[rt]);return{data:nt,width:_e.width,height:_e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),_e}}let _sourceId=0;class Source{constructor(_e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:_sourceId++}),this.uuid=generateUUID$1(),this.data=_e,this.dataReady=!0,this.version=0}set needsUpdate(_e){_e===!0&&this.version++}toJSON(_e){const nt=_e===void 0||typeof _e=="string";if(!nt&&_e.images[this.uuid]!==void 0)return _e.images[this.uuid];const rt={uuid:this.uuid,url:""},it=this.data;if(it!==null){let st;if(Array.isArray(it)){st=[];for(let at=0,ot=it.length;at<ot;at++)it[at].isDataTexture?st.push(serializeImage(it[at].image)):st.push(serializeImage(it[at]))}else st=serializeImage(it);rt.url=st}return nt||(_e.images[this.uuid]=rt),rt}}function serializeImage(tt){return typeof HTMLImageElement<"u"&&tt instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&tt instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&tt instanceof ImageBitmap?ImageUtils.getDataURL(tt):tt.data?{data:Array.from(tt.data),width:tt.width,height:tt.height,type:tt.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _textureId=0;class Texture extends EventDispatcher{constructor(_e=Texture.DEFAULT_IMAGE,nt=Texture.DEFAULT_MAPPING,rt=ClampToEdgeWrapping,it=ClampToEdgeWrapping,st=LinearFilter,at=LinearMipmapLinearFilter,ot=RGBAFormat,lt=UnsignedByteType,ct=Texture.DEFAULT_ANISOTROPY,ut=NoColorSpace){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_textureId++}),this.uuid=generateUUID$1(),this.name="",this.source=new Source(_e),this.mipmaps=[],this.mapping=nt,this.channel=0,this.wrapS=rt,this.wrapT=it,this.magFilter=st,this.minFilter=at,this.anisotropy=ct,this.format=ot,this.internalFormat=null,this.type=lt,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=ut,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(_e=null){this.source.data=_e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(_e){return this.name=_e.name,this.source=_e.source,this.mipmaps=_e.mipmaps.slice(0),this.mapping=_e.mapping,this.channel=_e.channel,this.wrapS=_e.wrapS,this.wrapT=_e.wrapT,this.magFilter=_e.magFilter,this.minFilter=_e.minFilter,this.anisotropy=_e.anisotropy,this.format=_e.format,this.internalFormat=_e.internalFormat,this.type=_e.type,this.offset.copy(_e.offset),this.repeat.copy(_e.repeat),this.center.copy(_e.center),this.rotation=_e.rotation,this.matrixAutoUpdate=_e.matrixAutoUpdate,this.matrix.copy(_e.matrix),this.generateMipmaps=_e.generateMipmaps,this.premultiplyAlpha=_e.premultiplyAlpha,this.flipY=_e.flipY,this.unpackAlignment=_e.unpackAlignment,this.colorSpace=_e.colorSpace,this.userData=JSON.parse(JSON.stringify(_e.userData)),this.needsUpdate=!0,this}toJSON(_e){const nt=_e===void 0||typeof _e=="string";if(!nt&&_e.textures[this.uuid]!==void 0)return _e.textures[this.uuid];const rt={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(_e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(rt.userData=this.userData),nt||(_e.textures[this.uuid]=rt),rt}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(_e){if(this.mapping!==UVMapping)return _e;if(_e.applyMatrix3(this.matrix),_e.x<0||_e.x>1)switch(this.wrapS){case RepeatWrapping:_e.x=_e.x-Math.floor(_e.x);break;case ClampToEdgeWrapping:_e.x=_e.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(_e.x)%2)===1?_e.x=Math.ceil(_e.x)-_e.x:_e.x=_e.x-Math.floor(_e.x);break}if(_e.y<0||_e.y>1)switch(this.wrapT){case RepeatWrapping:_e.y=_e.y-Math.floor(_e.y);break;case ClampToEdgeWrapping:_e.y=_e.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(_e.y)%2)===1?_e.y=Math.ceil(_e.y)-_e.y:_e.y=_e.y-Math.floor(_e.y);break}return this.flipY&&(_e.y=1-_e.y),_e}set needsUpdate(_e){_e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(_e){_e===!0&&this.pmremVersion++}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(_e=0,nt=0,rt=0,it=1){Vector4.prototype.isVector4=!0,this.x=_e,this.y=nt,this.z=rt,this.w=it}get width(){return this.z}set width(_e){this.z=_e}get height(){return this.w}set height(_e){this.w=_e}set(_e,nt,rt,it){return this.x=_e,this.y=nt,this.z=rt,this.w=it,this}setScalar(_e){return this.x=_e,this.y=_e,this.z=_e,this.w=_e,this}setX(_e){return this.x=_e,this}setY(_e){return this.y=_e,this}setZ(_e){return this.z=_e,this}setW(_e){return this.w=_e,this}setComponent(_e,nt){switch(_e){case 0:this.x=nt;break;case 1:this.y=nt;break;case 2:this.z=nt;break;case 3:this.w=nt;break;default:throw new Error("index is out of range: "+_e)}return this}getComponent(_e){switch(_e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+_e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(_e){return this.x=_e.x,this.y=_e.y,this.z=_e.z,this.w=_e.w!==void 0?_e.w:1,this}add(_e){return this.x+=_e.x,this.y+=_e.y,this.z+=_e.z,this.w+=_e.w,this}addScalar(_e){return this.x+=_e,this.y+=_e,this.z+=_e,this.w+=_e,this}addVectors(_e,nt){return this.x=_e.x+nt.x,this.y=_e.y+nt.y,this.z=_e.z+nt.z,this.w=_e.w+nt.w,this}addScaledVector(_e,nt){return this.x+=_e.x*nt,this.y+=_e.y*nt,this.z+=_e.z*nt,this.w+=_e.w*nt,this}sub(_e){return this.x-=_e.x,this.y-=_e.y,this.z-=_e.z,this.w-=_e.w,this}subScalar(_e){return this.x-=_e,this.y-=_e,this.z-=_e,this.w-=_e,this}subVectors(_e,nt){return this.x=_e.x-nt.x,this.y=_e.y-nt.y,this.z=_e.z-nt.z,this.w=_e.w-nt.w,this}multiply(_e){return this.x*=_e.x,this.y*=_e.y,this.z*=_e.z,this.w*=_e.w,this}multiplyScalar(_e){return this.x*=_e,this.y*=_e,this.z*=_e,this.w*=_e,this}applyMatrix4(_e){const nt=this.x,rt=this.y,it=this.z,st=this.w,at=_e.elements;return this.x=at[0]*nt+at[4]*rt+at[8]*it+at[12]*st,this.y=at[1]*nt+at[5]*rt+at[9]*it+at[13]*st,this.z=at[2]*nt+at[6]*rt+at[10]*it+at[14]*st,this.w=at[3]*nt+at[7]*rt+at[11]*it+at[15]*st,this}divide(_e){return this.x/=_e.x,this.y/=_e.y,this.z/=_e.z,this.w/=_e.w,this}divideScalar(_e){return this.multiplyScalar(1/_e)}setAxisAngleFromQuaternion(_e){this.w=2*Math.acos(_e.w);const nt=Math.sqrt(1-_e.w*_e.w);return nt<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=_e.x/nt,this.y=_e.y/nt,this.z=_e.z/nt),this}setAxisAngleFromRotationMatrix(_e){let nt,rt,it,st;const lt=_e.elements,ct=lt[0],ut=lt[4],ft=lt[8],ht=lt[1],pt=lt[5],dt=lt[9],gt=lt[2],vt=lt[6],mt=lt[10];if(Math.abs(ut-ht)<.01&&Math.abs(ft-gt)<.01&&Math.abs(dt-vt)<.01){if(Math.abs(ut+ht)<.1&&Math.abs(ft+gt)<.1&&Math.abs(dt+vt)<.1&&Math.abs(ct+pt+mt-3)<.1)return this.set(1,0,0,0),this;nt=Math.PI;const St=(ct+1)/2,Et=(pt+1)/2,bt=(mt+1)/2,Tt=(ut+ht)/4,At=(ft+gt)/4,Ct=(dt+vt)/4;return St>Et&&St>bt?St<.01?(rt=0,it=.707106781,st=.707106781):(rt=Math.sqrt(St),it=Tt/rt,st=At/rt):Et>bt?Et<.01?(rt=.707106781,it=0,st=.707106781):(it=Math.sqrt(Et),rt=Tt/it,st=Ct/it):bt<.01?(rt=.707106781,it=.707106781,st=0):(st=Math.sqrt(bt),rt=At/st,it=Ct/st),this.set(rt,it,st,nt),this}let xt=Math.sqrt((vt-dt)*(vt-dt)+(ft-gt)*(ft-gt)+(ht-ut)*(ht-ut));return Math.abs(xt)<.001&&(xt=1),this.x=(vt-dt)/xt,this.y=(ft-gt)/xt,this.z=(ht-ut)/xt,this.w=Math.acos((ct+pt+mt-1)/2),this}setFromMatrixPosition(_e){const nt=_e.elements;return this.x=nt[12],this.y=nt[13],this.z=nt[14],this.w=nt[15],this}min(_e){return this.x=Math.min(this.x,_e.x),this.y=Math.min(this.y,_e.y),this.z=Math.min(this.z,_e.z),this.w=Math.min(this.w,_e.w),this}max(_e){return this.x=Math.max(this.x,_e.x),this.y=Math.max(this.y,_e.y),this.z=Math.max(this.z,_e.z),this.w=Math.max(this.w,_e.w),this}clamp(_e,nt){return this.x=Math.max(_e.x,Math.min(nt.x,this.x)),this.y=Math.max(_e.y,Math.min(nt.y,this.y)),this.z=Math.max(_e.z,Math.min(nt.z,this.z)),this.w=Math.max(_e.w,Math.min(nt.w,this.w)),this}clampScalar(_e,nt){return this.x=Math.max(_e,Math.min(nt,this.x)),this.y=Math.max(_e,Math.min(nt,this.y)),this.z=Math.max(_e,Math.min(nt,this.z)),this.w=Math.max(_e,Math.min(nt,this.w)),this}clampLength(_e,nt){const rt=this.length();return this.divideScalar(rt||1).multiplyScalar(Math.max(_e,Math.min(nt,rt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(_e){return this.x*_e.x+this.y*_e.y+this.z*_e.z+this.w*_e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(_e){return this.normalize().multiplyScalar(_e)}lerp(_e,nt){return this.x+=(_e.x-this.x)*nt,this.y+=(_e.y-this.y)*nt,this.z+=(_e.z-this.z)*nt,this.w+=(_e.w-this.w)*nt,this}lerpVectors(_e,nt,rt){return this.x=_e.x+(nt.x-_e.x)*rt,this.y=_e.y+(nt.y-_e.y)*rt,this.z=_e.z+(nt.z-_e.z)*rt,this.w=_e.w+(nt.w-_e.w)*rt,this}equals(_e){return _e.x===this.x&&_e.y===this.y&&_e.z===this.z&&_e.w===this.w}fromArray(_e,nt=0){return this.x=_e[nt],this.y=_e[nt+1],this.z=_e[nt+2],this.w=_e[nt+3],this}toArray(_e=[],nt=0){return _e[nt]=this.x,_e[nt+1]=this.y,_e[nt+2]=this.z,_e[nt+3]=this.w,_e}fromBufferAttribute(_e,nt){return this.x=_e.getX(nt),this.y=_e.getY(nt),this.z=_e.getZ(nt),this.w=_e.getW(nt),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class RenderTarget extends EventDispatcher{constructor(_e=1,nt=1,rt={}){super(),this.isRenderTarget=!0,this.width=_e,this.height=nt,this.depth=1,this.scissor=new Vector4(0,0,_e,nt),this.scissorTest=!1,this.viewport=new Vector4(0,0,_e,nt);const it={width:_e,height:nt,depth:1};rt=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:LinearFilter,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},rt);const st=new Texture(it,rt.mapping,rt.wrapS,rt.wrapT,rt.magFilter,rt.minFilter,rt.format,rt.type,rt.anisotropy,rt.colorSpace);st.flipY=!1,st.generateMipmaps=rt.generateMipmaps,st.internalFormat=rt.internalFormat,this.textures=[];const at=rt.count;for(let ot=0;ot<at;ot++)this.textures[ot]=st.clone(),this.textures[ot].isRenderTargetTexture=!0;this.depthBuffer=rt.depthBuffer,this.stencilBuffer=rt.stencilBuffer,this.resolveDepthBuffer=rt.resolveDepthBuffer,this.resolveStencilBuffer=rt.resolveStencilBuffer,this.depthTexture=rt.depthTexture,this.samples=rt.samples}get texture(){return this.textures[0]}set texture(_e){this.textures[0]=_e}setSize(_e,nt,rt=1){if(this.width!==_e||this.height!==nt||this.depth!==rt){this.width=_e,this.height=nt,this.depth=rt;for(let it=0,st=this.textures.length;it<st;it++)this.textures[it].image.width=_e,this.textures[it].image.height=nt,this.textures[it].image.depth=rt;this.dispose()}this.viewport.set(0,0,_e,nt),this.scissor.set(0,0,_e,nt)}clone(){return new this.constructor().copy(this)}copy(_e){this.width=_e.width,this.height=_e.height,this.depth=_e.depth,this.scissor.copy(_e.scissor),this.scissorTest=_e.scissorTest,this.viewport.copy(_e.viewport),this.textures.length=0;for(let rt=0,it=_e.textures.length;rt<it;rt++)this.textures[rt]=_e.textures[rt].clone(),this.textures[rt].isRenderTargetTexture=!0;const nt=Object.assign({},_e.texture.image);return this.texture.source=new Source(nt),this.depthBuffer=_e.depthBuffer,this.stencilBuffer=_e.stencilBuffer,this.resolveDepthBuffer=_e.resolveDepthBuffer,this.resolveStencilBuffer=_e.resolveStencilBuffer,_e.depthTexture!==null&&(this.depthTexture=_e.depthTexture.clone()),this.samples=_e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class WebGLRenderTarget extends RenderTarget{constructor(_e=1,nt=1,rt={}){super(_e,nt,rt),this.isWebGLRenderTarget=!0}}class DataArrayTexture extends Texture{constructor(_e=null,nt=1,rt=1,it=1){super(null),this.isDataArrayTexture=!0,this.image={data:_e,width:nt,height:rt,depth:it},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(_e){this.layerUpdates.add(_e)}clearLayerUpdates(){this.layerUpdates.clear()}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(_e=1,nt=1,rt=1,it={}){super(_e,nt,it),this.isWebGLArrayRenderTarget=!0,this.depth=rt,this.texture=new DataArrayTexture(null,_e,nt,rt),this.texture.isRenderTargetTexture=!0}}class Data3DTexture extends Texture{constructor(_e=null,nt=1,rt=1,it=1){super(null),this.isData3DTexture=!0,this.image={data:_e,width:nt,height:rt,depth:it},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(_e=1,nt=1,rt=1,it={}){super(_e,nt,it),this.isWebGL3DRenderTarget=!0,this.depth=rt,this.texture=new Data3DTexture(null,_e,nt,rt),this.texture.isRenderTargetTexture=!0}}class Quaternion{constructor(_e=0,nt=0,rt=0,it=1){this.isQuaternion=!0,this._x=_e,this._y=nt,this._z=rt,this._w=it}static slerpFlat(_e,nt,rt,it,st,at,ot){let lt=rt[it+0],ct=rt[it+1],ut=rt[it+2],ft=rt[it+3];const ht=st[at+0],pt=st[at+1],dt=st[at+2],gt=st[at+3];if(ot===0){_e[nt+0]=lt,_e[nt+1]=ct,_e[nt+2]=ut,_e[nt+3]=ft;return}if(ot===1){_e[nt+0]=ht,_e[nt+1]=pt,_e[nt+2]=dt,_e[nt+3]=gt;return}if(ft!==gt||lt!==ht||ct!==pt||ut!==dt){let vt=1-ot;const mt=lt*ht+ct*pt+ut*dt+ft*gt,xt=mt>=0?1:-1,St=1-mt*mt;if(St>Number.EPSILON){const bt=Math.sqrt(St),Tt=Math.atan2(bt,mt*xt);vt=Math.sin(vt*Tt)/bt,ot=Math.sin(ot*Tt)/bt}const Et=ot*xt;if(lt=lt*vt+ht*Et,ct=ct*vt+pt*Et,ut=ut*vt+dt*Et,ft=ft*vt+gt*Et,vt===1-ot){const bt=1/Math.sqrt(lt*lt+ct*ct+ut*ut+ft*ft);lt*=bt,ct*=bt,ut*=bt,ft*=bt}}_e[nt]=lt,_e[nt+1]=ct,_e[nt+2]=ut,_e[nt+3]=ft}static multiplyQuaternionsFlat(_e,nt,rt,it,st,at){const ot=rt[it],lt=rt[it+1],ct=rt[it+2],ut=rt[it+3],ft=st[at],ht=st[at+1],pt=st[at+2],dt=st[at+3];return _e[nt]=ot*dt+ut*ft+lt*pt-ct*ht,_e[nt+1]=lt*dt+ut*ht+ct*ft-ot*pt,_e[nt+2]=ct*dt+ut*pt+ot*ht-lt*ft,_e[nt+3]=ut*dt-ot*ft-lt*ht-ct*pt,_e}get x(){return this._x}set x(_e){this._x=_e,this._onChangeCallback()}get y(){return this._y}set y(_e){this._y=_e,this._onChangeCallback()}get z(){return this._z}set z(_e){this._z=_e,this._onChangeCallback()}get w(){return this._w}set w(_e){this._w=_e,this._onChangeCallback()}set(_e,nt,rt,it){return this._x=_e,this._y=nt,this._z=rt,this._w=it,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(_e){return this._x=_e.x,this._y=_e.y,this._z=_e.z,this._w=_e.w,this._onChangeCallback(),this}setFromEuler(_e,nt=!0){const rt=_e._x,it=_e._y,st=_e._z,at=_e._order,ot=Math.cos,lt=Math.sin,ct=ot(rt/2),ut=ot(it/2),ft=ot(st/2),ht=lt(rt/2),pt=lt(it/2),dt=lt(st/2);switch(at){case"XYZ":this._x=ht*ut*ft+ct*pt*dt,this._y=ct*pt*ft-ht*ut*dt,this._z=ct*ut*dt+ht*pt*ft,this._w=ct*ut*ft-ht*pt*dt;break;case"YXZ":this._x=ht*ut*ft+ct*pt*dt,this._y=ct*pt*ft-ht*ut*dt,this._z=ct*ut*dt-ht*pt*ft,this._w=ct*ut*ft+ht*pt*dt;break;case"ZXY":this._x=ht*ut*ft-ct*pt*dt,this._y=ct*pt*ft+ht*ut*dt,this._z=ct*ut*dt+ht*pt*ft,this._w=ct*ut*ft-ht*pt*dt;break;case"ZYX":this._x=ht*ut*ft-ct*pt*dt,this._y=ct*pt*ft+ht*ut*dt,this._z=ct*ut*dt-ht*pt*ft,this._w=ct*ut*ft+ht*pt*dt;break;case"YZX":this._x=ht*ut*ft+ct*pt*dt,this._y=ct*pt*ft+ht*ut*dt,this._z=ct*ut*dt-ht*pt*ft,this._w=ct*ut*ft-ht*pt*dt;break;case"XZY":this._x=ht*ut*ft-ct*pt*dt,this._y=ct*pt*ft-ht*ut*dt,this._z=ct*ut*dt+ht*pt*ft,this._w=ct*ut*ft+ht*pt*dt;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+at)}return nt===!0&&this._onChangeCallback(),this}setFromAxisAngle(_e,nt){const rt=nt/2,it=Math.sin(rt);return this._x=_e.x*it,this._y=_e.y*it,this._z=_e.z*it,this._w=Math.cos(rt),this._onChangeCallback(),this}setFromRotationMatrix(_e){const nt=_e.elements,rt=nt[0],it=nt[4],st=nt[8],at=nt[1],ot=nt[5],lt=nt[9],ct=nt[2],ut=nt[6],ft=nt[10],ht=rt+ot+ft;if(ht>0){const pt=.5/Math.sqrt(ht+1);this._w=.25/pt,this._x=(ut-lt)*pt,this._y=(st-ct)*pt,this._z=(at-it)*pt}else if(rt>ot&&rt>ft){const pt=2*Math.sqrt(1+rt-ot-ft);this._w=(ut-lt)/pt,this._x=.25*pt,this._y=(it+at)/pt,this._z=(st+ct)/pt}else if(ot>ft){const pt=2*Math.sqrt(1+ot-rt-ft);this._w=(st-ct)/pt,this._x=(it+at)/pt,this._y=.25*pt,this._z=(lt+ut)/pt}else{const pt=2*Math.sqrt(1+ft-rt-ot);this._w=(at-it)/pt,this._x=(st+ct)/pt,this._y=(lt+ut)/pt,this._z=.25*pt}return this._onChangeCallback(),this}setFromUnitVectors(_e,nt){let rt=_e.dot(nt)+1;return rt<Number.EPSILON?(rt=0,Math.abs(_e.x)>Math.abs(_e.z)?(this._x=-_e.y,this._y=_e.x,this._z=0,this._w=rt):(this._x=0,this._y=-_e.z,this._z=_e.y,this._w=rt)):(this._x=_e.y*nt.z-_e.z*nt.y,this._y=_e.z*nt.x-_e.x*nt.z,this._z=_e.x*nt.y-_e.y*nt.x,this._w=rt),this.normalize()}angleTo(_e){return 2*Math.acos(Math.abs(clamp(this.dot(_e),-1,1)))}rotateTowards(_e,nt){const rt=this.angleTo(_e);if(rt===0)return this;const it=Math.min(1,nt/rt);return this.slerp(_e,it),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(_e){return this._x*_e._x+this._y*_e._y+this._z*_e._z+this._w*_e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let _e=this.length();return _e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(_e=1/_e,this._x=this._x*_e,this._y=this._y*_e,this._z=this._z*_e,this._w=this._w*_e),this._onChangeCallback(),this}multiply(_e){return this.multiplyQuaternions(this,_e)}premultiply(_e){return this.multiplyQuaternions(_e,this)}multiplyQuaternions(_e,nt){const rt=_e._x,it=_e._y,st=_e._z,at=_e._w,ot=nt._x,lt=nt._y,ct=nt._z,ut=nt._w;return this._x=rt*ut+at*ot+it*ct-st*lt,this._y=it*ut+at*lt+st*ot-rt*ct,this._z=st*ut+at*ct+rt*lt-it*ot,this._w=at*ut-rt*ot-it*lt-st*ct,this._onChangeCallback(),this}slerp(_e,nt){if(nt===0)return this;if(nt===1)return this.copy(_e);const rt=this._x,it=this._y,st=this._z,at=this._w;let ot=at*_e._w+rt*_e._x+it*_e._y+st*_e._z;if(ot<0?(this._w=-_e._w,this._x=-_e._x,this._y=-_e._y,this._z=-_e._z,ot=-ot):this.copy(_e),ot>=1)return this._w=at,this._x=rt,this._y=it,this._z=st,this;const lt=1-ot*ot;if(lt<=Number.EPSILON){const pt=1-nt;return this._w=pt*at+nt*this._w,this._x=pt*rt+nt*this._x,this._y=pt*it+nt*this._y,this._z=pt*st+nt*this._z,this.normalize(),this}const ct=Math.sqrt(lt),ut=Math.atan2(ct,ot),ft=Math.sin((1-nt)*ut)/ct,ht=Math.sin(nt*ut)/ct;return this._w=at*ft+this._w*ht,this._x=rt*ft+this._x*ht,this._y=it*ft+this._y*ht,this._z=st*ft+this._z*ht,this._onChangeCallback(),this}slerpQuaternions(_e,nt,rt){return this.copy(_e).slerp(nt,rt)}random(){const _e=2*Math.PI*Math.random(),nt=2*Math.PI*Math.random(),rt=Math.random(),it=Math.sqrt(1-rt),st=Math.sqrt(rt);return this.set(it*Math.sin(_e),it*Math.cos(_e),st*Math.sin(nt),st*Math.cos(nt))}equals(_e){return _e._x===this._x&&_e._y===this._y&&_e._z===this._z&&_e._w===this._w}fromArray(_e,nt=0){return this._x=_e[nt],this._y=_e[nt+1],this._z=_e[nt+2],this._w=_e[nt+3],this._onChangeCallback(),this}toArray(_e=[],nt=0){return _e[nt]=this._x,_e[nt+1]=this._y,_e[nt+2]=this._z,_e[nt+3]=this._w,_e}fromBufferAttribute(_e,nt){return this._x=_e.getX(nt),this._y=_e.getY(nt),this._z=_e.getZ(nt),this._w=_e.getW(nt),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(_e){return this._onChangeCallback=_e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(_e=0,nt=0,rt=0){Vector3.prototype.isVector3=!0,this.x=_e,this.y=nt,this.z=rt}set(_e,nt,rt){return rt===void 0&&(rt=this.z),this.x=_e,this.y=nt,this.z=rt,this}setScalar(_e){return this.x=_e,this.y=_e,this.z=_e,this}setX(_e){return this.x=_e,this}setY(_e){return this.y=_e,this}setZ(_e){return this.z=_e,this}setComponent(_e,nt){switch(_e){case 0:this.x=nt;break;case 1:this.y=nt;break;case 2:this.z=nt;break;default:throw new Error("index is out of range: "+_e)}return this}getComponent(_e){switch(_e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+_e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(_e){return this.x=_e.x,this.y=_e.y,this.z=_e.z,this}add(_e){return this.x+=_e.x,this.y+=_e.y,this.z+=_e.z,this}addScalar(_e){return this.x+=_e,this.y+=_e,this.z+=_e,this}addVectors(_e,nt){return this.x=_e.x+nt.x,this.y=_e.y+nt.y,this.z=_e.z+nt.z,this}addScaledVector(_e,nt){return this.x+=_e.x*nt,this.y+=_e.y*nt,this.z+=_e.z*nt,this}sub(_e){return this.x-=_e.x,this.y-=_e.y,this.z-=_e.z,this}subScalar(_e){return this.x-=_e,this.y-=_e,this.z-=_e,this}subVectors(_e,nt){return this.x=_e.x-nt.x,this.y=_e.y-nt.y,this.z=_e.z-nt.z,this}multiply(_e){return this.x*=_e.x,this.y*=_e.y,this.z*=_e.z,this}multiplyScalar(_e){return this.x*=_e,this.y*=_e,this.z*=_e,this}multiplyVectors(_e,nt){return this.x=_e.x*nt.x,this.y=_e.y*nt.y,this.z=_e.z*nt.z,this}applyEuler(_e){return this.applyQuaternion(_quaternion$4.setFromEuler(_e))}applyAxisAngle(_e,nt){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(_e,nt))}applyMatrix3(_e){const nt=this.x,rt=this.y,it=this.z,st=_e.elements;return this.x=st[0]*nt+st[3]*rt+st[6]*it,this.y=st[1]*nt+st[4]*rt+st[7]*it,this.z=st[2]*nt+st[5]*rt+st[8]*it,this}applyNormalMatrix(_e){return this.applyMatrix3(_e).normalize()}applyMatrix4(_e){const nt=this.x,rt=this.y,it=this.z,st=_e.elements,at=1/(st[3]*nt+st[7]*rt+st[11]*it+st[15]);return this.x=(st[0]*nt+st[4]*rt+st[8]*it+st[12])*at,this.y=(st[1]*nt+st[5]*rt+st[9]*it+st[13])*at,this.z=(st[2]*nt+st[6]*rt+st[10]*it+st[14])*at,this}applyQuaternion(_e){const nt=this.x,rt=this.y,it=this.z,st=_e.x,at=_e.y,ot=_e.z,lt=_e.w,ct=2*(at*it-ot*rt),ut=2*(ot*nt-st*it),ft=2*(st*rt-at*nt);return this.x=nt+lt*ct+at*ft-ot*ut,this.y=rt+lt*ut+ot*ct-st*ft,this.z=it+lt*ft+st*ut-at*ct,this}project(_e){return this.applyMatrix4(_e.matrixWorldInverse).applyMatrix4(_e.projectionMatrix)}unproject(_e){return this.applyMatrix4(_e.projectionMatrixInverse).applyMatrix4(_e.matrixWorld)}transformDirection(_e){const nt=this.x,rt=this.y,it=this.z,st=_e.elements;return this.x=st[0]*nt+st[4]*rt+st[8]*it,this.y=st[1]*nt+st[5]*rt+st[9]*it,this.z=st[2]*nt+st[6]*rt+st[10]*it,this.normalize()}divide(_e){return this.x/=_e.x,this.y/=_e.y,this.z/=_e.z,this}divideScalar(_e){return this.multiplyScalar(1/_e)}min(_e){return this.x=Math.min(this.x,_e.x),this.y=Math.min(this.y,_e.y),this.z=Math.min(this.z,_e.z),this}max(_e){return this.x=Math.max(this.x,_e.x),this.y=Math.max(this.y,_e.y),this.z=Math.max(this.z,_e.z),this}clamp(_e,nt){return this.x=Math.max(_e.x,Math.min(nt.x,this.x)),this.y=Math.max(_e.y,Math.min(nt.y,this.y)),this.z=Math.max(_e.z,Math.min(nt.z,this.z)),this}clampScalar(_e,nt){return this.x=Math.max(_e,Math.min(nt,this.x)),this.y=Math.max(_e,Math.min(nt,this.y)),this.z=Math.max(_e,Math.min(nt,this.z)),this}clampLength(_e,nt){const rt=this.length();return this.divideScalar(rt||1).multiplyScalar(Math.max(_e,Math.min(nt,rt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(_e){return this.x*_e.x+this.y*_e.y+this.z*_e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(_e){return this.normalize().multiplyScalar(_e)}lerp(_e,nt){return this.x+=(_e.x-this.x)*nt,this.y+=(_e.y-this.y)*nt,this.z+=(_e.z-this.z)*nt,this}lerpVectors(_e,nt,rt){return this.x=_e.x+(nt.x-_e.x)*rt,this.y=_e.y+(nt.y-_e.y)*rt,this.z=_e.z+(nt.z-_e.z)*rt,this}cross(_e){return this.crossVectors(this,_e)}crossVectors(_e,nt){const rt=_e.x,it=_e.y,st=_e.z,at=nt.x,ot=nt.y,lt=nt.z;return this.x=it*lt-st*ot,this.y=st*at-rt*lt,this.z=rt*ot-it*at,this}projectOnVector(_e){const nt=_e.lengthSq();if(nt===0)return this.set(0,0,0);const rt=_e.dot(this)/nt;return this.copy(_e).multiplyScalar(rt)}projectOnPlane(_e){return _vector$c.copy(this).projectOnVector(_e),this.sub(_vector$c)}reflect(_e){return this.sub(_vector$c.copy(_e).multiplyScalar(2*this.dot(_e)))}angleTo(_e){const nt=Math.sqrt(this.lengthSq()*_e.lengthSq());if(nt===0)return Math.PI/2;const rt=this.dot(_e)/nt;return Math.acos(clamp(rt,-1,1))}distanceTo(_e){return Math.sqrt(this.distanceToSquared(_e))}distanceToSquared(_e){const nt=this.x-_e.x,rt=this.y-_e.y,it=this.z-_e.z;return nt*nt+rt*rt+it*it}manhattanDistanceTo(_e){return Math.abs(this.x-_e.x)+Math.abs(this.y-_e.y)+Math.abs(this.z-_e.z)}setFromSpherical(_e){return this.setFromSphericalCoords(_e.radius,_e.phi,_e.theta)}setFromSphericalCoords(_e,nt,rt){const it=Math.sin(nt)*_e;return this.x=it*Math.sin(rt),this.y=Math.cos(nt)*_e,this.z=it*Math.cos(rt),this}setFromCylindrical(_e){return this.setFromCylindricalCoords(_e.radius,_e.theta,_e.y)}setFromCylindricalCoords(_e,nt,rt){return this.x=_e*Math.sin(nt),this.y=rt,this.z=_e*Math.cos(nt),this}setFromMatrixPosition(_e){const nt=_e.elements;return this.x=nt[12],this.y=nt[13],this.z=nt[14],this}setFromMatrixScale(_e){const nt=this.setFromMatrixColumn(_e,0).length(),rt=this.setFromMatrixColumn(_e,1).length(),it=this.setFromMatrixColumn(_e,2).length();return this.x=nt,this.y=rt,this.z=it,this}setFromMatrixColumn(_e,nt){return this.fromArray(_e.elements,nt*4)}setFromMatrix3Column(_e,nt){return this.fromArray(_e.elements,nt*3)}setFromEuler(_e){return this.x=_e._x,this.y=_e._y,this.z=_e._z,this}setFromColor(_e){return this.x=_e.r,this.y=_e.g,this.z=_e.b,this}equals(_e){return _e.x===this.x&&_e.y===this.y&&_e.z===this.z}fromArray(_e,nt=0){return this.x=_e[nt],this.y=_e[nt+1],this.z=_e[nt+2],this}toArray(_e=[],nt=0){return _e[nt]=this.x,_e[nt+1]=this.y,_e[nt+2]=this.z,_e}fromBufferAttribute(_e,nt){return this.x=_e.getX(nt),this.y=_e.getY(nt),this.z=_e.getZ(nt),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const _e=Math.random()*Math.PI*2,nt=Math.random()*2-1,rt=Math.sqrt(1-nt*nt);return this.x=rt*Math.cos(_e),this.y=nt,this.z=rt*Math.sin(_e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(_e=new Vector3(1/0,1/0,1/0),nt=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=_e,this.max=nt}set(_e,nt){return this.min.copy(_e),this.max.copy(nt),this}setFromArray(_e){this.makeEmpty();for(let nt=0,rt=_e.length;nt<rt;nt+=3)this.expandByPoint(_vector$b.fromArray(_e,nt));return this}setFromBufferAttribute(_e){this.makeEmpty();for(let nt=0,rt=_e.count;nt<rt;nt++)this.expandByPoint(_vector$b.fromBufferAttribute(_e,nt));return this}setFromPoints(_e){this.makeEmpty();for(let nt=0,rt=_e.length;nt<rt;nt++)this.expandByPoint(_e[nt]);return this}setFromCenterAndSize(_e,nt){const rt=_vector$b.copy(nt).multiplyScalar(.5);return this.min.copy(_e).sub(rt),this.max.copy(_e).add(rt),this}setFromObject(_e,nt=!1){return this.makeEmpty(),this.expandByObject(_e,nt)}clone(){return new this.constructor().copy(this)}copy(_e){return this.min.copy(_e.min),this.max.copy(_e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(_e){return this.isEmpty()?_e.set(0,0,0):_e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(_e){return this.isEmpty()?_e.set(0,0,0):_e.subVectors(this.max,this.min)}expandByPoint(_e){return this.min.min(_e),this.max.max(_e),this}expandByVector(_e){return this.min.sub(_e),this.max.add(_e),this}expandByScalar(_e){return this.min.addScalar(-_e),this.max.addScalar(_e),this}expandByObject(_e,nt=!1){_e.updateWorldMatrix(!1,!1);const rt=_e.geometry;if(rt!==void 0){const st=rt.getAttribute("position");if(nt===!0&&st!==void 0&&_e.isInstancedMesh!==!0)for(let at=0,ot=st.count;at<ot;at++)_e.isMesh===!0?_e.getVertexPosition(at,_vector$b):_vector$b.fromBufferAttribute(st,at),_vector$b.applyMatrix4(_e.matrixWorld),this.expandByPoint(_vector$b);else _e.boundingBox!==void 0?(_e.boundingBox===null&&_e.computeBoundingBox(),_box$4.copy(_e.boundingBox)):(rt.boundingBox===null&&rt.computeBoundingBox(),_box$4.copy(rt.boundingBox)),_box$4.applyMatrix4(_e.matrixWorld),this.union(_box$4)}const it=_e.children;for(let st=0,at=it.length;st<at;st++)this.expandByObject(it[st],nt);return this}containsPoint(_e){return _e.x>=this.min.x&&_e.x<=this.max.x&&_e.y>=this.min.y&&_e.y<=this.max.y&&_e.z>=this.min.z&&_e.z<=this.max.z}containsBox(_e){return this.min.x<=_e.min.x&&_e.max.x<=this.max.x&&this.min.y<=_e.min.y&&_e.max.y<=this.max.y&&this.min.z<=_e.min.z&&_e.max.z<=this.max.z}getParameter(_e,nt){return nt.set((_e.x-this.min.x)/(this.max.x-this.min.x),(_e.y-this.min.y)/(this.max.y-this.min.y),(_e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(_e){return _e.max.x>=this.min.x&&_e.min.x<=this.max.x&&_e.max.y>=this.min.y&&_e.min.y<=this.max.y&&_e.max.z>=this.min.z&&_e.min.z<=this.max.z}intersectsSphere(_e){return this.clampPoint(_e.center,_vector$b),_vector$b.distanceToSquared(_e.center)<=_e.radius*_e.radius}intersectsPlane(_e){let nt,rt;return _e.normal.x>0?(nt=_e.normal.x*this.min.x,rt=_e.normal.x*this.max.x):(nt=_e.normal.x*this.max.x,rt=_e.normal.x*this.min.x),_e.normal.y>0?(nt+=_e.normal.y*this.min.y,rt+=_e.normal.y*this.max.y):(nt+=_e.normal.y*this.max.y,rt+=_e.normal.y*this.min.y),_e.normal.z>0?(nt+=_e.normal.z*this.min.z,rt+=_e.normal.z*this.max.z):(nt+=_e.normal.z*this.max.z,rt+=_e.normal.z*this.min.z),nt<=-_e.constant&&rt>=-_e.constant}intersectsTriangle(_e){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$3.subVectors(_e.a,_center),_v1$7.subVectors(_e.b,_center),_v2$4.subVectors(_e.c,_center),_f0.subVectors(_v1$7,_v0$3),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$3,_v2$4);let nt=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(nt,_v0$3,_v1$7,_v2$4,_extents)||(nt=[1,0,0,0,1,0,0,0,1],!satForAxes(nt,_v0$3,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),nt=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(nt,_v0$3,_v1$7,_v2$4,_extents))}clampPoint(_e,nt){return nt.copy(_e).clamp(this.min,this.max)}distanceToPoint(_e){return this.clampPoint(_e,_vector$b).distanceTo(_e)}getBoundingSphere(_e){return this.isEmpty()?_e.makeEmpty():(this.getCenter(_e.center),_e.radius=this.getSize(_vector$b).length()*.5),_e}intersect(_e){return this.min.max(_e.min),this.max.min(_e.max),this.isEmpty()&&this.makeEmpty(),this}union(_e){return this.min.min(_e.min),this.max.max(_e.max),this}applyMatrix4(_e){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(_e),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(_e),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(_e),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(_e),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(_e),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(_e),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(_e),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(_e),this.setFromPoints(_points),this)}translate(_e){return this.min.add(_e),this.max.add(_e),this}equals(_e){return _e.min.equals(this.min)&&_e.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$4=new Box3,_v0$3=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(tt,_e,nt,rt,it){for(let st=0,at=tt.length-3;st<=at;st+=3){_testAxis.fromArray(tt,st);const ot=it.x*Math.abs(_testAxis.x)+it.y*Math.abs(_testAxis.y)+it.z*Math.abs(_testAxis.z),lt=_e.dot(_testAxis),ct=nt.dot(_testAxis),ut=rt.dot(_testAxis);if(Math.max(-Math.max(lt,ct,ut),Math.min(lt,ct,ut))>ot)return!1}return!0}const _box$3=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor(_e=new Vector3,nt=-1){this.isSphere=!0,this.center=_e,this.radius=nt}set(_e,nt){return this.center.copy(_e),this.radius=nt,this}setFromPoints(_e,nt){const rt=this.center;nt!==void 0?rt.copy(nt):_box$3.setFromPoints(_e).getCenter(rt);let it=0;for(let st=0,at=_e.length;st<at;st++)it=Math.max(it,rt.distanceToSquared(_e[st]));return this.radius=Math.sqrt(it),this}copy(_e){return this.center.copy(_e.center),this.radius=_e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(_e){return _e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(_e){return _e.distanceTo(this.center)-this.radius}intersectsSphere(_e){const nt=this.radius+_e.radius;return _e.center.distanceToSquared(this.center)<=nt*nt}intersectsBox(_e){return _e.intersectsSphere(this)}intersectsPlane(_e){return Math.abs(_e.distanceToPoint(this.center))<=this.radius}clampPoint(_e,nt){const rt=this.center.distanceToSquared(_e);return nt.copy(_e),rt>this.radius*this.radius&&(nt.sub(this.center).normalize(),nt.multiplyScalar(this.radius).add(this.center)),nt}getBoundingBox(_e){return this.isEmpty()?(_e.makeEmpty(),_e):(_e.set(this.center,this.center),_e.expandByScalar(this.radius),_e)}applyMatrix4(_e){return this.center.applyMatrix4(_e),this.radius=this.radius*_e.getMaxScaleOnAxis(),this}translate(_e){return this.center.add(_e),this}expandByPoint(_e){if(this.isEmpty())return this.center.copy(_e),this.radius=0,this;_v1$6.subVectors(_e,this.center);const nt=_v1$6.lengthSq();if(nt>this.radius*this.radius){const rt=Math.sqrt(nt),it=(rt-this.radius)*.5;this.center.addScaledVector(_v1$6,it/rt),this.radius+=it}return this}union(_e){return _e.isEmpty()?this:this.isEmpty()?(this.copy(_e),this):(this.center.equals(_e.center)===!0?this.radius=Math.max(this.radius,_e.radius):(_v2$3.subVectors(_e.center,this.center).setLength(_e.radius),this.expandByPoint(_v1$6.copy(_e.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(_e.center).sub(_v2$3))),this)}equals(_e){return _e.center.equals(this.center)&&_e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(_e=new Vector3,nt=new Vector3(0,0,-1)){this.origin=_e,this.direction=nt}set(_e,nt){return this.origin.copy(_e),this.direction.copy(nt),this}copy(_e){return this.origin.copy(_e.origin),this.direction.copy(_e.direction),this}at(_e,nt){return nt.copy(this.origin).addScaledVector(this.direction,_e)}lookAt(_e){return this.direction.copy(_e).sub(this.origin).normalize(),this}recast(_e){return this.origin.copy(this.at(_e,_vector$a)),this}closestPointToPoint(_e,nt){nt.subVectors(_e,this.origin);const rt=nt.dot(this.direction);return rt<0?nt.copy(this.origin):nt.copy(this.origin).addScaledVector(this.direction,rt)}distanceToPoint(_e){return Math.sqrt(this.distanceSqToPoint(_e))}distanceSqToPoint(_e){const nt=_vector$a.subVectors(_e,this.origin).dot(this.direction);return nt<0?this.origin.distanceToSquared(_e):(_vector$a.copy(this.origin).addScaledVector(this.direction,nt),_vector$a.distanceToSquared(_e))}distanceSqToSegment(_e,nt,rt,it){_segCenter.copy(_e).add(nt).multiplyScalar(.5),_segDir.copy(nt).sub(_e).normalize(),_diff.copy(this.origin).sub(_segCenter);const st=_e.distanceTo(nt)*.5,at=-this.direction.dot(_segDir),ot=_diff.dot(this.direction),lt=-_diff.dot(_segDir),ct=_diff.lengthSq(),ut=Math.abs(1-at*at);let ft,ht,pt,dt;if(ut>0)if(ft=at*lt-ot,ht=at*ot-lt,dt=st*ut,ft>=0)if(ht>=-dt)if(ht<=dt){const gt=1/ut;ft*=gt,ht*=gt,pt=ft*(ft+at*ht+2*ot)+ht*(at*ft+ht+2*lt)+ct}else ht=st,ft=Math.max(0,-(at*ht+ot)),pt=-ft*ft+ht*(ht+2*lt)+ct;else ht=-st,ft=Math.max(0,-(at*ht+ot)),pt=-ft*ft+ht*(ht+2*lt)+ct;else ht<=-dt?(ft=Math.max(0,-(-at*st+ot)),ht=ft>0?-st:Math.min(Math.max(-st,-lt),st),pt=-ft*ft+ht*(ht+2*lt)+ct):ht<=dt?(ft=0,ht=Math.min(Math.max(-st,-lt),st),pt=ht*(ht+2*lt)+ct):(ft=Math.max(0,-(at*st+ot)),ht=ft>0?st:Math.min(Math.max(-st,-lt),st),pt=-ft*ft+ht*(ht+2*lt)+ct);else ht=at>0?-st:st,ft=Math.max(0,-(at*ht+ot)),pt=-ft*ft+ht*(ht+2*lt)+ct;return rt&&rt.copy(this.origin).addScaledVector(this.direction,ft),it&&it.copy(_segCenter).addScaledVector(_segDir,ht),pt}intersectSphere(_e,nt){_vector$a.subVectors(_e.center,this.origin);const rt=_vector$a.dot(this.direction),it=_vector$a.dot(_vector$a)-rt*rt,st=_e.radius*_e.radius;if(it>st)return null;const at=Math.sqrt(st-it),ot=rt-at,lt=rt+at;return lt<0?null:ot<0?this.at(lt,nt):this.at(ot,nt)}intersectsSphere(_e){return this.distanceSqToPoint(_e.center)<=_e.radius*_e.radius}distanceToPlane(_e){const nt=_e.normal.dot(this.direction);if(nt===0)return _e.distanceToPoint(this.origin)===0?0:null;const rt=-(this.origin.dot(_e.normal)+_e.constant)/nt;return rt>=0?rt:null}intersectPlane(_e,nt){const rt=this.distanceToPlane(_e);return rt===null?null:this.at(rt,nt)}intersectsPlane(_e){const nt=_e.distanceToPoint(this.origin);return nt===0||_e.normal.dot(this.direction)*nt<0}intersectBox(_e,nt){let rt,it,st,at,ot,lt;const ct=1/this.direction.x,ut=1/this.direction.y,ft=1/this.direction.z,ht=this.origin;return ct>=0?(rt=(_e.min.x-ht.x)*ct,it=(_e.max.x-ht.x)*ct):(rt=(_e.max.x-ht.x)*ct,it=(_e.min.x-ht.x)*ct),ut>=0?(st=(_e.min.y-ht.y)*ut,at=(_e.max.y-ht.y)*ut):(st=(_e.max.y-ht.y)*ut,at=(_e.min.y-ht.y)*ut),rt>at||st>it||((st>rt||isNaN(rt))&&(rt=st),(at<it||isNaN(it))&&(it=at),ft>=0?(ot=(_e.min.z-ht.z)*ft,lt=(_e.max.z-ht.z)*ft):(ot=(_e.max.z-ht.z)*ft,lt=(_e.min.z-ht.z)*ft),rt>lt||ot>it)||((ot>rt||rt!==rt)&&(rt=ot),(lt<it||it!==it)&&(it=lt),it<0)?null:this.at(rt>=0?rt:it,nt)}intersectsBox(_e){return this.intersectBox(_e,_vector$a)!==null}intersectTriangle(_e,nt,rt,it,st){_edge1.subVectors(nt,_e),_edge2.subVectors(rt,_e),_normal$1.crossVectors(_edge1,_edge2);let at=this.direction.dot(_normal$1),ot;if(at>0){if(it)return null;ot=1}else if(at<0)ot=-1,at=-at;else return null;_diff.subVectors(this.origin,_e);const lt=ot*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(lt<0)return null;const ct=ot*this.direction.dot(_edge1.cross(_diff));if(ct<0||lt+ct>at)return null;const ut=-ot*_diff.dot(_normal$1);return ut<0?null:this.at(ut/at,st)}applyMatrix4(_e){return this.origin.applyMatrix4(_e),this.direction.transformDirection(_e),this}equals(_e){return _e.origin.equals(this.origin)&&_e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(_e,nt,rt,it,st,at,ot,lt,ct,ut,ft,ht,pt,dt,gt,vt){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],_e!==void 0&&this.set(_e,nt,rt,it,st,at,ot,lt,ct,ut,ft,ht,pt,dt,gt,vt)}set(_e,nt,rt,it,st,at,ot,lt,ct,ut,ft,ht,pt,dt,gt,vt){const mt=this.elements;return mt[0]=_e,mt[4]=nt,mt[8]=rt,mt[12]=it,mt[1]=st,mt[5]=at,mt[9]=ot,mt[13]=lt,mt[2]=ct,mt[6]=ut,mt[10]=ft,mt[14]=ht,mt[3]=pt,mt[7]=dt,mt[11]=gt,mt[15]=vt,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(_e){const nt=this.elements,rt=_e.elements;return nt[0]=rt[0],nt[1]=rt[1],nt[2]=rt[2],nt[3]=rt[3],nt[4]=rt[4],nt[5]=rt[5],nt[6]=rt[6],nt[7]=rt[7],nt[8]=rt[8],nt[9]=rt[9],nt[10]=rt[10],nt[11]=rt[11],nt[12]=rt[12],nt[13]=rt[13],nt[14]=rt[14],nt[15]=rt[15],this}copyPosition(_e){const nt=this.elements,rt=_e.elements;return nt[12]=rt[12],nt[13]=rt[13],nt[14]=rt[14],this}setFromMatrix3(_e){const nt=_e.elements;return this.set(nt[0],nt[3],nt[6],0,nt[1],nt[4],nt[7],0,nt[2],nt[5],nt[8],0,0,0,0,1),this}extractBasis(_e,nt,rt){return _e.setFromMatrixColumn(this,0),nt.setFromMatrixColumn(this,1),rt.setFromMatrixColumn(this,2),this}makeBasis(_e,nt,rt){return this.set(_e.x,nt.x,rt.x,0,_e.y,nt.y,rt.y,0,_e.z,nt.z,rt.z,0,0,0,0,1),this}extractRotation(_e){const nt=this.elements,rt=_e.elements,it=1/_v1$5.setFromMatrixColumn(_e,0).length(),st=1/_v1$5.setFromMatrixColumn(_e,1).length(),at=1/_v1$5.setFromMatrixColumn(_e,2).length();return nt[0]=rt[0]*it,nt[1]=rt[1]*it,nt[2]=rt[2]*it,nt[3]=0,nt[4]=rt[4]*st,nt[5]=rt[5]*st,nt[6]=rt[6]*st,nt[7]=0,nt[8]=rt[8]*at,nt[9]=rt[9]*at,nt[10]=rt[10]*at,nt[11]=0,nt[12]=0,nt[13]=0,nt[14]=0,nt[15]=1,this}makeRotationFromEuler(_e){const nt=this.elements,rt=_e.x,it=_e.y,st=_e.z,at=Math.cos(rt),ot=Math.sin(rt),lt=Math.cos(it),ct=Math.sin(it),ut=Math.cos(st),ft=Math.sin(st);if(_e.order==="XYZ"){const ht=at*ut,pt=at*ft,dt=ot*ut,gt=ot*ft;nt[0]=lt*ut,nt[4]=-lt*ft,nt[8]=ct,nt[1]=pt+dt*ct,nt[5]=ht-gt*ct,nt[9]=-ot*lt,nt[2]=gt-ht*ct,nt[6]=dt+pt*ct,nt[10]=at*lt}else if(_e.order==="YXZ"){const ht=lt*ut,pt=lt*ft,dt=ct*ut,gt=ct*ft;nt[0]=ht+gt*ot,nt[4]=dt*ot-pt,nt[8]=at*ct,nt[1]=at*ft,nt[5]=at*ut,nt[9]=-ot,nt[2]=pt*ot-dt,nt[6]=gt+ht*ot,nt[10]=at*lt}else if(_e.order==="ZXY"){const ht=lt*ut,pt=lt*ft,dt=ct*ut,gt=ct*ft;nt[0]=ht-gt*ot,nt[4]=-at*ft,nt[8]=dt+pt*ot,nt[1]=pt+dt*ot,nt[5]=at*ut,nt[9]=gt-ht*ot,nt[2]=-at*ct,nt[6]=ot,nt[10]=at*lt}else if(_e.order==="ZYX"){const ht=at*ut,pt=at*ft,dt=ot*ut,gt=ot*ft;nt[0]=lt*ut,nt[4]=dt*ct-pt,nt[8]=ht*ct+gt,nt[1]=lt*ft,nt[5]=gt*ct+ht,nt[9]=pt*ct-dt,nt[2]=-ct,nt[6]=ot*lt,nt[10]=at*lt}else if(_e.order==="YZX"){const ht=at*lt,pt=at*ct,dt=ot*lt,gt=ot*ct;nt[0]=lt*ut,nt[4]=gt-ht*ft,nt[8]=dt*ft+pt,nt[1]=ft,nt[5]=at*ut,nt[9]=-ot*ut,nt[2]=-ct*ut,nt[6]=pt*ft+dt,nt[10]=ht-gt*ft}else if(_e.order==="XZY"){const ht=at*lt,pt=at*ct,dt=ot*lt,gt=ot*ct;nt[0]=lt*ut,nt[4]=-ft,nt[8]=ct*ut,nt[1]=ht*ft+gt,nt[5]=at*ut,nt[9]=pt*ft-dt,nt[2]=dt*ft-pt,nt[6]=ot*ut,nt[10]=gt*ft+ht}return nt[3]=0,nt[7]=0,nt[11]=0,nt[12]=0,nt[13]=0,nt[14]=0,nt[15]=1,this}makeRotationFromQuaternion(_e){return this.compose(_zero,_e,_one)}lookAt(_e,nt,rt){const it=this.elements;return _z.subVectors(_e,nt),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(rt,_z),_x.lengthSq()===0&&(Math.abs(rt.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(rt,_z)),_x.normalize(),_y.crossVectors(_z,_x),it[0]=_x.x,it[4]=_y.x,it[8]=_z.x,it[1]=_x.y,it[5]=_y.y,it[9]=_z.y,it[2]=_x.z,it[6]=_y.z,it[10]=_z.z,this}multiply(_e){return this.multiplyMatrices(this,_e)}premultiply(_e){return this.multiplyMatrices(_e,this)}multiplyMatrices(_e,nt){const rt=_e.elements,it=nt.elements,st=this.elements,at=rt[0],ot=rt[4],lt=rt[8],ct=rt[12],ut=rt[1],ft=rt[5],ht=rt[9],pt=rt[13],dt=rt[2],gt=rt[6],vt=rt[10],mt=rt[14],xt=rt[3],St=rt[7],Et=rt[11],bt=rt[15],Tt=it[0],At=it[4],Ct=it[8],Pt=it[12],It=it[1],Lt=it[5],Vt=it[9],Ut=it[13],Ot=it[2],zt=it[6],Dt=it[10],$t=it[14],Mt=it[3],Rt=it[7],Nt=it[11],Ft=it[15];return st[0]=at*Tt+ot*It+lt*Ot+ct*Mt,st[4]=at*At+ot*Lt+lt*zt+ct*Rt,st[8]=at*Ct+ot*Vt+lt*Dt+ct*Nt,st[12]=at*Pt+ot*Ut+lt*$t+ct*Ft,st[1]=ut*Tt+ft*It+ht*Ot+pt*Mt,st[5]=ut*At+ft*Lt+ht*zt+pt*Rt,st[9]=ut*Ct+ft*Vt+ht*Dt+pt*Nt,st[13]=ut*Pt+ft*Ut+ht*$t+pt*Ft,st[2]=dt*Tt+gt*It+vt*Ot+mt*Mt,st[6]=dt*At+gt*Lt+vt*zt+mt*Rt,st[10]=dt*Ct+gt*Vt+vt*Dt+mt*Nt,st[14]=dt*Pt+gt*Ut+vt*$t+mt*Ft,st[3]=xt*Tt+St*It+Et*Ot+bt*Mt,st[7]=xt*At+St*Lt+Et*zt+bt*Rt,st[11]=xt*Ct+St*Vt+Et*Dt+bt*Nt,st[15]=xt*Pt+St*Ut+Et*$t+bt*Ft,this}multiplyScalar(_e){const nt=this.elements;return nt[0]*=_e,nt[4]*=_e,nt[8]*=_e,nt[12]*=_e,nt[1]*=_e,nt[5]*=_e,nt[9]*=_e,nt[13]*=_e,nt[2]*=_e,nt[6]*=_e,nt[10]*=_e,nt[14]*=_e,nt[3]*=_e,nt[7]*=_e,nt[11]*=_e,nt[15]*=_e,this}determinant(){const _e=this.elements,nt=_e[0],rt=_e[4],it=_e[8],st=_e[12],at=_e[1],ot=_e[5],lt=_e[9],ct=_e[13],ut=_e[2],ft=_e[6],ht=_e[10],pt=_e[14],dt=_e[3],gt=_e[7],vt=_e[11],mt=_e[15];return dt*(+st*lt*ft-it*ct*ft-st*ot*ht+rt*ct*ht+it*ot*pt-rt*lt*pt)+gt*(+nt*lt*pt-nt*ct*ht+st*at*ht-it*at*pt+it*ct*ut-st*lt*ut)+vt*(+nt*ct*ft-nt*ot*pt-st*at*ft+rt*at*pt+st*ot*ut-rt*ct*ut)+mt*(-it*ot*ut-nt*lt*ft+nt*ot*ht+it*at*ft-rt*at*ht+rt*lt*ut)}transpose(){const _e=this.elements;let nt;return nt=_e[1],_e[1]=_e[4],_e[4]=nt,nt=_e[2],_e[2]=_e[8],_e[8]=nt,nt=_e[6],_e[6]=_e[9],_e[9]=nt,nt=_e[3],_e[3]=_e[12],_e[12]=nt,nt=_e[7],_e[7]=_e[13],_e[13]=nt,nt=_e[11],_e[11]=_e[14],_e[14]=nt,this}setPosition(_e,nt,rt){const it=this.elements;return _e.isVector3?(it[12]=_e.x,it[13]=_e.y,it[14]=_e.z):(it[12]=_e,it[13]=nt,it[14]=rt),this}invert(){const _e=this.elements,nt=_e[0],rt=_e[1],it=_e[2],st=_e[3],at=_e[4],ot=_e[5],lt=_e[6],ct=_e[7],ut=_e[8],ft=_e[9],ht=_e[10],pt=_e[11],dt=_e[12],gt=_e[13],vt=_e[14],mt=_e[15],xt=ft*vt*ct-gt*ht*ct+gt*lt*pt-ot*vt*pt-ft*lt*mt+ot*ht*mt,St=dt*ht*ct-ut*vt*ct-dt*lt*pt+at*vt*pt+ut*lt*mt-at*ht*mt,Et=ut*gt*ct-dt*ft*ct+dt*ot*pt-at*gt*pt-ut*ot*mt+at*ft*mt,bt=dt*ft*lt-ut*gt*lt-dt*ot*ht+at*gt*ht+ut*ot*vt-at*ft*vt,Tt=nt*xt+rt*St+it*Et+st*bt;if(Tt===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const At=1/Tt;return _e[0]=xt*At,_e[1]=(gt*ht*st-ft*vt*st-gt*it*pt+rt*vt*pt+ft*it*mt-rt*ht*mt)*At,_e[2]=(ot*vt*st-gt*lt*st+gt*it*ct-rt*vt*ct-ot*it*mt+rt*lt*mt)*At,_e[3]=(ft*lt*st-ot*ht*st-ft*it*ct+rt*ht*ct+ot*it*pt-rt*lt*pt)*At,_e[4]=St*At,_e[5]=(ut*vt*st-dt*ht*st+dt*it*pt-nt*vt*pt-ut*it*mt+nt*ht*mt)*At,_e[6]=(dt*lt*st-at*vt*st-dt*it*ct+nt*vt*ct+at*it*mt-nt*lt*mt)*At,_e[7]=(at*ht*st-ut*lt*st+ut*it*ct-nt*ht*ct-at*it*pt+nt*lt*pt)*At,_e[8]=Et*At,_e[9]=(dt*ft*st-ut*gt*st-dt*rt*pt+nt*gt*pt+ut*rt*mt-nt*ft*mt)*At,_e[10]=(at*gt*st-dt*ot*st+dt*rt*ct-nt*gt*ct-at*rt*mt+nt*ot*mt)*At,_e[11]=(ut*ot*st-at*ft*st-ut*rt*ct+nt*ft*ct+at*rt*pt-nt*ot*pt)*At,_e[12]=bt*At,_e[13]=(ut*gt*it-dt*ft*it+dt*rt*ht-nt*gt*ht-ut*rt*vt+nt*ft*vt)*At,_e[14]=(dt*ot*it-at*gt*it-dt*rt*lt+nt*gt*lt+at*rt*vt-nt*ot*vt)*At,_e[15]=(at*ft*it-ut*ot*it+ut*rt*lt-nt*ft*lt-at*rt*ht+nt*ot*ht)*At,this}scale(_e){const nt=this.elements,rt=_e.x,it=_e.y,st=_e.z;return nt[0]*=rt,nt[4]*=it,nt[8]*=st,nt[1]*=rt,nt[5]*=it,nt[9]*=st,nt[2]*=rt,nt[6]*=it,nt[10]*=st,nt[3]*=rt,nt[7]*=it,nt[11]*=st,this}getMaxScaleOnAxis(){const _e=this.elements,nt=_e[0]*_e[0]+_e[1]*_e[1]+_e[2]*_e[2],rt=_e[4]*_e[4]+_e[5]*_e[5]+_e[6]*_e[6],it=_e[8]*_e[8]+_e[9]*_e[9]+_e[10]*_e[10];return Math.sqrt(Math.max(nt,rt,it))}makeTranslation(_e,nt,rt){return _e.isVector3?this.set(1,0,0,_e.x,0,1,0,_e.y,0,0,1,_e.z,0,0,0,1):this.set(1,0,0,_e,0,1,0,nt,0,0,1,rt,0,0,0,1),this}makeRotationX(_e){const nt=Math.cos(_e),rt=Math.sin(_e);return this.set(1,0,0,0,0,nt,-rt,0,0,rt,nt,0,0,0,0,1),this}makeRotationY(_e){const nt=Math.cos(_e),rt=Math.sin(_e);return this.set(nt,0,rt,0,0,1,0,0,-rt,0,nt,0,0,0,0,1),this}makeRotationZ(_e){const nt=Math.cos(_e),rt=Math.sin(_e);return this.set(nt,-rt,0,0,rt,nt,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(_e,nt){const rt=Math.cos(nt),it=Math.sin(nt),st=1-rt,at=_e.x,ot=_e.y,lt=_e.z,ct=st*at,ut=st*ot;return this.set(ct*at+rt,ct*ot-it*lt,ct*lt+it*ot,0,ct*ot+it*lt,ut*ot+rt,ut*lt-it*at,0,ct*lt-it*ot,ut*lt+it*at,st*lt*lt+rt,0,0,0,0,1),this}makeScale(_e,nt,rt){return this.set(_e,0,0,0,0,nt,0,0,0,0,rt,0,0,0,0,1),this}makeShear(_e,nt,rt,it,st,at){return this.set(1,rt,st,0,_e,1,at,0,nt,it,1,0,0,0,0,1),this}compose(_e,nt,rt){const it=this.elements,st=nt._x,at=nt._y,ot=nt._z,lt=nt._w,ct=st+st,ut=at+at,ft=ot+ot,ht=st*ct,pt=st*ut,dt=st*ft,gt=at*ut,vt=at*ft,mt=ot*ft,xt=lt*ct,St=lt*ut,Et=lt*ft,bt=rt.x,Tt=rt.y,At=rt.z;return it[0]=(1-(gt+mt))*bt,it[1]=(pt+Et)*bt,it[2]=(dt-St)*bt,it[3]=0,it[4]=(pt-Et)*Tt,it[5]=(1-(ht+mt))*Tt,it[6]=(vt+xt)*Tt,it[7]=0,it[8]=(dt+St)*At,it[9]=(vt-xt)*At,it[10]=(1-(ht+gt))*At,it[11]=0,it[12]=_e.x,it[13]=_e.y,it[14]=_e.z,it[15]=1,this}decompose(_e,nt,rt){const it=this.elements;let st=_v1$5.set(it[0],it[1],it[2]).length();const at=_v1$5.set(it[4],it[5],it[6]).length(),ot=_v1$5.set(it[8],it[9],it[10]).length();this.determinant()<0&&(st=-st),_e.x=it[12],_e.y=it[13],_e.z=it[14],_m1$4.copy(this);const ct=1/st,ut=1/at,ft=1/ot;return _m1$4.elements[0]*=ct,_m1$4.elements[1]*=ct,_m1$4.elements[2]*=ct,_m1$4.elements[4]*=ut,_m1$4.elements[5]*=ut,_m1$4.elements[6]*=ut,_m1$4.elements[8]*=ft,_m1$4.elements[9]*=ft,_m1$4.elements[10]*=ft,nt.setFromRotationMatrix(_m1$4),rt.x=st,rt.y=at,rt.z=ot,this}makePerspective(_e,nt,rt,it,st,at,ot=WebGLCoordinateSystem){const lt=this.elements,ct=2*st/(nt-_e),ut=2*st/(rt-it),ft=(nt+_e)/(nt-_e),ht=(rt+it)/(rt-it);let pt,dt;if(ot===WebGLCoordinateSystem)pt=-(at+st)/(at-st),dt=-2*at*st/(at-st);else if(ot===WebGPUCoordinateSystem)pt=-at/(at-st),dt=-at*st/(at-st);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+ot);return lt[0]=ct,lt[4]=0,lt[8]=ft,lt[12]=0,lt[1]=0,lt[5]=ut,lt[9]=ht,lt[13]=0,lt[2]=0,lt[6]=0,lt[10]=pt,lt[14]=dt,lt[3]=0,lt[7]=0,lt[11]=-1,lt[15]=0,this}makeOrthographic(_e,nt,rt,it,st,at,ot=WebGLCoordinateSystem){const lt=this.elements,ct=1/(nt-_e),ut=1/(rt-it),ft=1/(at-st),ht=(nt+_e)*ct,pt=(rt+it)*ut;let dt,gt;if(ot===WebGLCoordinateSystem)dt=(at+st)*ft,gt=-2*ft;else if(ot===WebGPUCoordinateSystem)dt=st*ft,gt=-1*ft;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+ot);return lt[0]=2*ct,lt[4]=0,lt[8]=0,lt[12]=-ht,lt[1]=0,lt[5]=2*ut,lt[9]=0,lt[13]=-pt,lt[2]=0,lt[6]=0,lt[10]=gt,lt[14]=-dt,lt[3]=0,lt[7]=0,lt[11]=0,lt[15]=1,this}equals(_e){const nt=this.elements,rt=_e.elements;for(let it=0;it<16;it++)if(nt[it]!==rt[it])return!1;return!0}fromArray(_e,nt=0){for(let rt=0;rt<16;rt++)this.elements[rt]=_e[rt+nt];return this}toArray(_e=[],nt=0){const rt=this.elements;return _e[nt]=rt[0],_e[nt+1]=rt[1],_e[nt+2]=rt[2],_e[nt+3]=rt[3],_e[nt+4]=rt[4],_e[nt+5]=rt[5],_e[nt+6]=rt[6],_e[nt+7]=rt[7],_e[nt+8]=rt[8],_e[nt+9]=rt[9],_e[nt+10]=rt[10],_e[nt+11]=rt[11],_e[nt+12]=rt[12],_e[nt+13]=rt[13],_e[nt+14]=rt[14],_e[nt+15]=rt[15],_e}}const _v1$5=new Vector3,_m1$4=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$2=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(_e=0,nt=0,rt=0,it=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=_e,this._y=nt,this._z=rt,this._order=it}get x(){return this._x}set x(_e){this._x=_e,this._onChangeCallback()}get y(){return this._y}set y(_e){this._y=_e,this._onChangeCallback()}get z(){return this._z}set z(_e){this._z=_e,this._onChangeCallback()}get order(){return this._order}set order(_e){this._order=_e,this._onChangeCallback()}set(_e,nt,rt,it=this._order){return this._x=_e,this._y=nt,this._z=rt,this._order=it,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(_e){return this._x=_e._x,this._y=_e._y,this._z=_e._z,this._order=_e._order,this._onChangeCallback(),this}setFromRotationMatrix(_e,nt=this._order,rt=!0){const it=_e.elements,st=it[0],at=it[4],ot=it[8],lt=it[1],ct=it[5],ut=it[9],ft=it[2],ht=it[6],pt=it[10];switch(nt){case"XYZ":this._y=Math.asin(clamp(ot,-1,1)),Math.abs(ot)<.9999999?(this._x=Math.atan2(-ut,pt),this._z=Math.atan2(-at,st)):(this._x=Math.atan2(ht,ct),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp(ut,-1,1)),Math.abs(ut)<.9999999?(this._y=Math.atan2(ot,pt),this._z=Math.atan2(lt,ct)):(this._y=Math.atan2(-ft,st),this._z=0);break;case"ZXY":this._x=Math.asin(clamp(ht,-1,1)),Math.abs(ht)<.9999999?(this._y=Math.atan2(-ft,pt),this._z=Math.atan2(-at,ct)):(this._y=0,this._z=Math.atan2(lt,st));break;case"ZYX":this._y=Math.asin(-clamp(ft,-1,1)),Math.abs(ft)<.9999999?(this._x=Math.atan2(ht,pt),this._z=Math.atan2(lt,st)):(this._x=0,this._z=Math.atan2(-at,ct));break;case"YZX":this._z=Math.asin(clamp(lt,-1,1)),Math.abs(lt)<.9999999?(this._x=Math.atan2(-ut,ct),this._y=Math.atan2(-ft,st)):(this._x=0,this._y=Math.atan2(ot,pt));break;case"XZY":this._z=Math.asin(-clamp(at,-1,1)),Math.abs(at)<.9999999?(this._x=Math.atan2(ht,ct),this._y=Math.atan2(ot,st)):(this._x=Math.atan2(-ut,pt),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+nt)}return this._order=nt,rt===!0&&this._onChangeCallback(),this}setFromQuaternion(_e,nt,rt){return _matrix$2.makeRotationFromQuaternion(_e),this.setFromRotationMatrix(_matrix$2,nt,rt)}setFromVector3(_e,nt=this._order){return this.set(_e.x,_e.y,_e.z,nt)}reorder(_e){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,_e)}equals(_e){return _e._x===this._x&&_e._y===this._y&&_e._z===this._z&&_e._order===this._order}fromArray(_e){return this._x=_e[0],this._y=_e[1],this._z=_e[2],_e[3]!==void 0&&(this._order=_e[3]),this._onChangeCallback(),this}toArray(_e=[],nt=0){return _e[nt]=this._x,_e[nt+1]=this._y,_e[nt+2]=this._z,_e[nt+3]=this._order,_e}_onChange(_e){return this._onChangeCallback=_e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(_e){this.mask=(1<<_e|0)>>>0}enable(_e){this.mask|=1<<_e|0}enableAll(){this.mask=-1}toggle(_e){this.mask^=1<<_e|0}disable(_e){this.mask&=~(1<<_e|0)}disableAll(){this.mask=0}test(_e){return(this.mask&_e.mask)!==0}isEnabled(_e){return(this.mask&(1<<_e|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$3=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"},_childaddedEvent={type:"childadded",child:null},_childremovedEvent={type:"childremoved",child:null};class Object3D extends EventDispatcher{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID$1(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const _e=new Vector3,nt=new Euler,rt=new Quaternion,it=new Vector3(1,1,1);function st(){rt.setFromEuler(nt,!1)}function at(){nt.setFromQuaternion(rt,void 0,!1)}nt._onChange(st),rt._onChange(at),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:_e},rotation:{configurable:!0,enumerable:!0,value:nt},quaternion:{configurable:!0,enumerable:!0,value:rt},scale:{configurable:!0,enumerable:!0,value:it},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(_e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(_e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(_e){return this.quaternion.premultiply(_e),this}setRotationFromAxisAngle(_e,nt){this.quaternion.setFromAxisAngle(_e,nt)}setRotationFromEuler(_e){this.quaternion.setFromEuler(_e,!0)}setRotationFromMatrix(_e){this.quaternion.setFromRotationMatrix(_e)}setRotationFromQuaternion(_e){this.quaternion.copy(_e)}rotateOnAxis(_e,nt){return _q1.setFromAxisAngle(_e,nt),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(_e,nt){return _q1.setFromAxisAngle(_e,nt),this.quaternion.premultiply(_q1),this}rotateX(_e){return this.rotateOnAxis(_xAxis,_e)}rotateY(_e){return this.rotateOnAxis(_yAxis,_e)}rotateZ(_e){return this.rotateOnAxis(_zAxis,_e)}translateOnAxis(_e,nt){return _v1$4.copy(_e).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(nt)),this}translateX(_e){return this.translateOnAxis(_xAxis,_e)}translateY(_e){return this.translateOnAxis(_yAxis,_e)}translateZ(_e){return this.translateOnAxis(_zAxis,_e)}localToWorld(_e){return this.updateWorldMatrix(!0,!1),_e.applyMatrix4(this.matrixWorld)}worldToLocal(_e){return this.updateWorldMatrix(!0,!1),_e.applyMatrix4(_m1$3.copy(this.matrixWorld).invert())}lookAt(_e,nt,rt){_e.isVector3?_target.copy(_e):_target.set(_e,nt,rt);const it=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$3.lookAt(_position$3,_target,this.up):_m1$3.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$3),it&&(_m1$3.extractRotation(it.matrixWorld),_q1.setFromRotationMatrix(_m1$3),this.quaternion.premultiply(_q1.invert()))}add(_e){if(arguments.length>1){for(let nt=0;nt<arguments.length;nt++)this.add(arguments[nt]);return this}return _e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",_e),this):(_e&&_e.isObject3D?(_e.removeFromParent(),_e.parent=this,this.children.push(_e),_e.dispatchEvent(_addedEvent),_childaddedEvent.child=_e,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",_e),this)}remove(_e){if(arguments.length>1){for(let rt=0;rt<arguments.length;rt++)this.remove(arguments[rt]);return this}const nt=this.children.indexOf(_e);return nt!==-1&&(_e.parent=null,this.children.splice(nt,1),_e.dispatchEvent(_removedEvent),_childremovedEvent.child=_e,this.dispatchEvent(_childremovedEvent),_childremovedEvent.child=null),this}removeFromParent(){const _e=this.parent;return _e!==null&&_e.remove(this),this}clear(){return this.remove(...this.children)}attach(_e){return this.updateWorldMatrix(!0,!1),_m1$3.copy(this.matrixWorld).invert(),_e.parent!==null&&(_e.parent.updateWorldMatrix(!0,!1),_m1$3.multiply(_e.parent.matrixWorld)),_e.applyMatrix4(_m1$3),_e.removeFromParent(),_e.parent=this,this.children.push(_e),_e.updateWorldMatrix(!1,!0),_e.dispatchEvent(_addedEvent),_childaddedEvent.child=_e,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null,this}getObjectById(_e){return this.getObjectByProperty("id",_e)}getObjectByName(_e){return this.getObjectByProperty("name",_e)}getObjectByProperty(_e,nt){if(this[_e]===nt)return this;for(let rt=0,it=this.children.length;rt<it;rt++){const at=this.children[rt].getObjectByProperty(_e,nt);if(at!==void 0)return at}}getObjectsByProperty(_e,nt,rt=[]){this[_e]===nt&&rt.push(this);const it=this.children;for(let st=0,at=it.length;st<at;st++)it[st].getObjectsByProperty(_e,nt,rt);return rt}getWorldPosition(_e){return this.updateWorldMatrix(!0,!1),_e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(_e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_e,_scale$2),_e}getWorldScale(_e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,_e),_e}getWorldDirection(_e){this.updateWorldMatrix(!0,!1);const nt=this.matrixWorld.elements;return _e.set(nt[8],nt[9],nt[10]).normalize()}raycast(){}traverse(_e){_e(this);const nt=this.children;for(let rt=0,it=nt.length;rt<it;rt++)nt[rt].traverse(_e)}traverseVisible(_e){if(this.visible===!1)return;_e(this);const nt=this.children;for(let rt=0,it=nt.length;rt<it;rt++)nt[rt].traverseVisible(_e)}traverseAncestors(_e){const nt=this.parent;nt!==null&&(_e(nt),nt.traverseAncestors(_e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(_e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||_e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,_e=!0);const nt=this.children;for(let rt=0,it=nt.length;rt<it;rt++)nt[rt].updateMatrixWorld(_e)}updateWorldMatrix(_e,nt){const rt=this.parent;if(_e===!0&&rt!==null&&rt.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),nt===!0){const it=this.children;for(let st=0,at=it.length;st<at;st++)it[st].updateWorldMatrix(!1,!0)}}toJSON(_e){const nt=_e===void 0||typeof _e=="string",rt={};nt&&(_e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},rt.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const it={};it.uuid=this.uuid,it.type=this.type,this.name!==""&&(it.name=this.name),this.castShadow===!0&&(it.castShadow=!0),this.receiveShadow===!0&&(it.receiveShadow=!0),this.visible===!1&&(it.visible=!1),this.frustumCulled===!1&&(it.frustumCulled=!1),this.renderOrder!==0&&(it.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(it.userData=this.userData),it.layers=this.layers.mask,it.matrix=this.matrix.toArray(),it.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(it.matrixAutoUpdate=!1),this.isInstancedMesh&&(it.type="InstancedMesh",it.count=this.count,it.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(it.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(it.type="BatchedMesh",it.perObjectFrustumCulled=this.perObjectFrustumCulled,it.sortObjects=this.sortObjects,it.drawRanges=this._drawRanges,it.reservedRanges=this._reservedRanges,it.visibility=this._visibility,it.active=this._active,it.bounds=this._bounds.map(ot=>({boxInitialized:ot.boxInitialized,boxMin:ot.box.min.toArray(),boxMax:ot.box.max.toArray(),sphereInitialized:ot.sphereInitialized,sphereRadius:ot.sphere.radius,sphereCenter:ot.sphere.center.toArray()})),it.maxInstanceCount=this._maxInstanceCount,it.maxVertexCount=this._maxVertexCount,it.maxIndexCount=this._maxIndexCount,it.geometryInitialized=this._geometryInitialized,it.geometryCount=this._geometryCount,it.matricesTexture=this._matricesTexture.toJSON(_e),this._colorsTexture!==null&&(it.colorsTexture=this._colorsTexture.toJSON(_e)),this.boundingSphere!==null&&(it.boundingSphere={center:it.boundingSphere.center.toArray(),radius:it.boundingSphere.radius}),this.boundingBox!==null&&(it.boundingBox={min:it.boundingBox.min.toArray(),max:it.boundingBox.max.toArray()}));function st(ot,lt){return ot[lt.uuid]===void 0&&(ot[lt.uuid]=lt.toJSON(_e)),lt.uuid}if(this.isScene)this.background&&(this.background.isColor?it.background=this.background.toJSON():this.background.isTexture&&(it.background=this.background.toJSON(_e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(it.environment=this.environment.toJSON(_e).uuid);else if(this.isMesh||this.isLine||this.isPoints){it.geometry=st(_e.geometries,this.geometry);const ot=this.geometry.parameters;if(ot!==void 0&&ot.shapes!==void 0){const lt=ot.shapes;if(Array.isArray(lt))for(let ct=0,ut=lt.length;ct<ut;ct++){const ft=lt[ct];st(_e.shapes,ft)}else st(_e.shapes,lt)}}if(this.isSkinnedMesh&&(it.bindMode=this.bindMode,it.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(st(_e.skeletons,this.skeleton),it.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const ot=[];for(let lt=0,ct=this.material.length;lt<ct;lt++)ot.push(st(_e.materials,this.material[lt]));it.material=ot}else it.material=st(_e.materials,this.material);if(this.children.length>0){it.children=[];for(let ot=0;ot<this.children.length;ot++)it.children.push(this.children[ot].toJSON(_e).object)}if(this.animations.length>0){it.animations=[];for(let ot=0;ot<this.animations.length;ot++){const lt=this.animations[ot];it.animations.push(st(_e.animations,lt))}}if(nt){const ot=at(_e.geometries),lt=at(_e.materials),ct=at(_e.textures),ut=at(_e.images),ft=at(_e.shapes),ht=at(_e.skeletons),pt=at(_e.animations),dt=at(_e.nodes);ot.length>0&&(rt.geometries=ot),lt.length>0&&(rt.materials=lt),ct.length>0&&(rt.textures=ct),ut.length>0&&(rt.images=ut),ft.length>0&&(rt.shapes=ft),ht.length>0&&(rt.skeletons=ht),pt.length>0&&(rt.animations=pt),dt.length>0&&(rt.nodes=dt)}return rt.object=it,rt;function at(ot){const lt=[];for(const ct in ot){const ut=ot[ct];delete ut.metadata,lt.push(ut)}return lt}}clone(_e){return new this.constructor().copy(this,_e)}copy(_e,nt=!0){if(this.name=_e.name,this.up.copy(_e.up),this.position.copy(_e.position),this.rotation.order=_e.rotation.order,this.quaternion.copy(_e.quaternion),this.scale.copy(_e.scale),this.matrix.copy(_e.matrix),this.matrixWorld.copy(_e.matrixWorld),this.matrixAutoUpdate=_e.matrixAutoUpdate,this.matrixWorldAutoUpdate=_e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=_e.matrixWorldNeedsUpdate,this.layers.mask=_e.layers.mask,this.visible=_e.visible,this.castShadow=_e.castShadow,this.receiveShadow=_e.receiveShadow,this.frustumCulled=_e.frustumCulled,this.renderOrder=_e.renderOrder,this.animations=_e.animations.slice(),this.userData=JSON.parse(JSON.stringify(_e.userData)),nt===!0)for(let rt=0;rt<_e.children.length;rt++){const it=_e.children[rt];this.add(it.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$2=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$2=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3,_v40=new Vector4,_v41=new Vector4,_v42=new Vector4;class Triangle{constructor(_e=new Vector3,nt=new Vector3,rt=new Vector3){this.a=_e,this.b=nt,this.c=rt}static getNormal(_e,nt,rt,it){it.subVectors(rt,nt),_v0$2.subVectors(_e,nt),it.cross(_v0$2);const st=it.lengthSq();return st>0?it.multiplyScalar(1/Math.sqrt(st)):it.set(0,0,0)}static getBarycoord(_e,nt,rt,it,st){_v0$2.subVectors(it,nt),_v1$3.subVectors(rt,nt),_v2$2.subVectors(_e,nt);const at=_v0$2.dot(_v0$2),ot=_v0$2.dot(_v1$3),lt=_v0$2.dot(_v2$2),ct=_v1$3.dot(_v1$3),ut=_v1$3.dot(_v2$2),ft=at*ct-ot*ot;if(ft===0)return st.set(0,0,0),null;const ht=1/ft,pt=(ct*lt-ot*ut)*ht,dt=(at*ut-ot*lt)*ht;return st.set(1-pt-dt,dt,pt)}static containsPoint(_e,nt,rt,it){return this.getBarycoord(_e,nt,rt,it,_v3$2)===null?!1:_v3$2.x>=0&&_v3$2.y>=0&&_v3$2.x+_v3$2.y<=1}static getInterpolation(_e,nt,rt,it,st,at,ot,lt){return this.getBarycoord(_e,nt,rt,it,_v3$2)===null?(lt.x=0,lt.y=0,"z"in lt&&(lt.z=0),"w"in lt&&(lt.w=0),null):(lt.setScalar(0),lt.addScaledVector(st,_v3$2.x),lt.addScaledVector(at,_v3$2.y),lt.addScaledVector(ot,_v3$2.z),lt)}static getInterpolatedAttribute(_e,nt,rt,it,st,at){return _v40.setScalar(0),_v41.setScalar(0),_v42.setScalar(0),_v40.fromBufferAttribute(_e,nt),_v41.fromBufferAttribute(_e,rt),_v42.fromBufferAttribute(_e,it),at.setScalar(0),at.addScaledVector(_v40,st.x),at.addScaledVector(_v41,st.y),at.addScaledVector(_v42,st.z),at}static isFrontFacing(_e,nt,rt,it){return _v0$2.subVectors(rt,nt),_v1$3.subVectors(_e,nt),_v0$2.cross(_v1$3).dot(it)<0}set(_e,nt,rt){return this.a.copy(_e),this.b.copy(nt),this.c.copy(rt),this}setFromPointsAndIndices(_e,nt,rt,it){return this.a.copy(_e[nt]),this.b.copy(_e[rt]),this.c.copy(_e[it]),this}setFromAttributeAndIndices(_e,nt,rt,it){return this.a.fromBufferAttribute(_e,nt),this.b.fromBufferAttribute(_e,rt),this.c.fromBufferAttribute(_e,it),this}clone(){return new this.constructor().copy(this)}copy(_e){return this.a.copy(_e.a),this.b.copy(_e.b),this.c.copy(_e.c),this}getArea(){return _v0$2.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$2.cross(_v1$3).length()*.5}getMidpoint(_e){return _e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(_e){return Triangle.getNormal(this.a,this.b,this.c,_e)}getPlane(_e){return _e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(_e,nt){return Triangle.getBarycoord(_e,this.a,this.b,this.c,nt)}getInterpolation(_e,nt,rt,it,st){return Triangle.getInterpolation(_e,this.a,this.b,this.c,nt,rt,it,st)}containsPoint(_e){return Triangle.containsPoint(_e,this.a,this.b,this.c)}isFrontFacing(_e){return Triangle.isFrontFacing(this.a,this.b,this.c,_e)}intersectsBox(_e){return _e.intersectsTriangle(this)}closestPointToPoint(_e,nt){const rt=this.a,it=this.b,st=this.c;let at,ot;_vab.subVectors(it,rt),_vac.subVectors(st,rt),_vap.subVectors(_e,rt);const lt=_vab.dot(_vap),ct=_vac.dot(_vap);if(lt<=0&&ct<=0)return nt.copy(rt);_vbp.subVectors(_e,it);const ut=_vab.dot(_vbp),ft=_vac.dot(_vbp);if(ut>=0&&ft<=ut)return nt.copy(it);const ht=lt*ft-ut*ct;if(ht<=0&&lt>=0&&ut<=0)return at=lt/(lt-ut),nt.copy(rt).addScaledVector(_vab,at);_vcp.subVectors(_e,st);const pt=_vab.dot(_vcp),dt=_vac.dot(_vcp);if(dt>=0&&pt<=dt)return nt.copy(st);const gt=pt*ct-lt*dt;if(gt<=0&&ct>=0&&dt<=0)return ot=ct/(ct-dt),nt.copy(rt).addScaledVector(_vac,ot);const vt=ut*dt-pt*ft;if(vt<=0&&ft-ut>=0&&pt-dt>=0)return _vbc.subVectors(st,it),ot=(ft-ut)/(ft-ut+(pt-dt)),nt.copy(it).addScaledVector(_vbc,ot);const mt=1/(vt+gt+ht);return at=gt*mt,ot=ht*mt,nt.copy(rt).addScaledVector(_vab,at).addScaledVector(_vac,ot)}equals(_e){return _e.a.equals(this.a)&&_e.b.equals(this.b)&&_e.c.equals(this.c)}}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(tt,_e,nt){return nt<0&&(nt+=1),nt>1&&(nt-=1),nt<1/6?tt+(_e-tt)*6*nt:nt<1/2?_e:nt<2/3?tt+(_e-tt)*6*(2/3-nt):tt}class Color{constructor(_e,nt,rt){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(_e,nt,rt)}set(_e,nt,rt){if(nt===void 0&&rt===void 0){const it=_e;it&&it.isColor?this.copy(it):typeof it=="number"?this.setHex(it):typeof it=="string"&&this.setStyle(it)}else this.setRGB(_e,nt,rt);return this}setScalar(_e){return this.r=_e,this.g=_e,this.b=_e,this}setHex(_e,nt=SRGBColorSpace){return _e=Math.floor(_e),this.r=(_e>>16&255)/255,this.g=(_e>>8&255)/255,this.b=(_e&255)/255,ColorManagement.toWorkingColorSpace(this,nt),this}setRGB(_e,nt,rt,it=ColorManagement.workingColorSpace){return this.r=_e,this.g=nt,this.b=rt,ColorManagement.toWorkingColorSpace(this,it),this}setHSL(_e,nt,rt,it=ColorManagement.workingColorSpace){if(_e=euclideanModulo(_e,1),nt=clamp(nt,0,1),rt=clamp(rt,0,1),nt===0)this.r=this.g=this.b=rt;else{const st=rt<=.5?rt*(1+nt):rt+nt-rt*nt,at=2*rt-st;this.r=hue2rgb(at,st,_e+1/3),this.g=hue2rgb(at,st,_e),this.b=hue2rgb(at,st,_e-1/3)}return ColorManagement.toWorkingColorSpace(this,it),this}setStyle(_e,nt=SRGBColorSpace){function rt(st){st!==void 0&&parseFloat(st)<1&&console.warn("THREE.Color: Alpha component of "+_e+" will be ignored.")}let it;if(it=/^(\w+)\(([^\)]*)\)/.exec(_e)){let st;const at=it[1],ot=it[2];switch(at){case"rgb":case"rgba":if(st=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(ot))return rt(st[4]),this.setRGB(Math.min(255,parseInt(st[1],10))/255,Math.min(255,parseInt(st[2],10))/255,Math.min(255,parseInt(st[3],10))/255,nt);if(st=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(ot))return rt(st[4]),this.setRGB(Math.min(100,parseInt(st[1],10))/100,Math.min(100,parseInt(st[2],10))/100,Math.min(100,parseInt(st[3],10))/100,nt);break;case"hsl":case"hsla":if(st=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(ot))return rt(st[4]),this.setHSL(parseFloat(st[1])/360,parseFloat(st[2])/100,parseFloat(st[3])/100,nt);break;default:console.warn("THREE.Color: Unknown color model "+_e)}}else if(it=/^\#([A-Fa-f\d]+)$/.exec(_e)){const st=it[1],at=st.length;if(at===3)return this.setRGB(parseInt(st.charAt(0),16)/15,parseInt(st.charAt(1),16)/15,parseInt(st.charAt(2),16)/15,nt);if(at===6)return this.setHex(parseInt(st,16),nt);console.warn("THREE.Color: Invalid hex color "+_e)}else if(_e&&_e.length>0)return this.setColorName(_e,nt);return this}setColorName(_e,nt=SRGBColorSpace){const rt=_colorKeywords[_e.toLowerCase()];return rt!==void 0?this.setHex(rt,nt):console.warn("THREE.Color: Unknown color "+_e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(_e){return this.r=_e.r,this.g=_e.g,this.b=_e.b,this}copySRGBToLinear(_e){return this.r=SRGBToLinear(_e.r),this.g=SRGBToLinear(_e.g),this.b=SRGBToLinear(_e.b),this}copyLinearToSRGB(_e){return this.r=LinearToSRGB(_e.r),this.g=LinearToSRGB(_e.g),this.b=LinearToSRGB(_e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(_e=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),_e),Math.round(clamp(_color.r*255,0,255))*65536+Math.round(clamp(_color.g*255,0,255))*256+Math.round(clamp(_color.b*255,0,255))}getHexString(_e=SRGBColorSpace){return("000000"+this.getHex(_e).toString(16)).slice(-6)}getHSL(_e,nt=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),nt);const rt=_color.r,it=_color.g,st=_color.b,at=Math.max(rt,it,st),ot=Math.min(rt,it,st);let lt,ct;const ut=(ot+at)/2;if(ot===at)lt=0,ct=0;else{const ft=at-ot;switch(ct=ut<=.5?ft/(at+ot):ft/(2-at-ot),at){case rt:lt=(it-st)/ft+(it<st?6:0);break;case it:lt=(st-rt)/ft+2;break;case st:lt=(rt-it)/ft+4;break}lt/=6}return _e.h=lt,_e.s=ct,_e.l=ut,_e}getRGB(_e,nt=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),nt),_e.r=_color.r,_e.g=_color.g,_e.b=_color.b,_e}getStyle(_e=SRGBColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),_e);const nt=_color.r,rt=_color.g,it=_color.b;return _e!==SRGBColorSpace?`color(${_e} ${nt.toFixed(3)} ${rt.toFixed(3)} ${it.toFixed(3)})`:`rgb(${Math.round(nt*255)},${Math.round(rt*255)},${Math.round(it*255)})`}offsetHSL(_e,nt,rt){return this.getHSL(_hslA),this.setHSL(_hslA.h+_e,_hslA.s+nt,_hslA.l+rt)}add(_e){return this.r+=_e.r,this.g+=_e.g,this.b+=_e.b,this}addColors(_e,nt){return this.r=_e.r+nt.r,this.g=_e.g+nt.g,this.b=_e.b+nt.b,this}addScalar(_e){return this.r+=_e,this.g+=_e,this.b+=_e,this}sub(_e){return this.r=Math.max(0,this.r-_e.r),this.g=Math.max(0,this.g-_e.g),this.b=Math.max(0,this.b-_e.b),this}multiply(_e){return this.r*=_e.r,this.g*=_e.g,this.b*=_e.b,this}multiplyScalar(_e){return this.r*=_e,this.g*=_e,this.b*=_e,this}lerp(_e,nt){return this.r+=(_e.r-this.r)*nt,this.g+=(_e.g-this.g)*nt,this.b+=(_e.b-this.b)*nt,this}lerpColors(_e,nt,rt){return this.r=_e.r+(nt.r-_e.r)*rt,this.g=_e.g+(nt.g-_e.g)*rt,this.b=_e.b+(nt.b-_e.b)*rt,this}lerpHSL(_e,nt){this.getHSL(_hslA),_e.getHSL(_hslB);const rt=lerp(_hslA.h,_hslB.h,nt),it=lerp(_hslA.s,_hslB.s,nt),st=lerp(_hslA.l,_hslB.l,nt);return this.setHSL(rt,it,st),this}setFromVector3(_e){return this.r=_e.x,this.g=_e.y,this.b=_e.z,this}applyMatrix3(_e){const nt=this.r,rt=this.g,it=this.b,st=_e.elements;return this.r=st[0]*nt+st[3]*rt+st[6]*it,this.g=st[1]*nt+st[4]*rt+st[7]*it,this.b=st[2]*nt+st[5]*rt+st[8]*it,this}equals(_e){return _e.r===this.r&&_e.g===this.g&&_e.b===this.b}fromArray(_e,nt=0){return this.r=_e[nt],this.g=_e[nt+1],this.b=_e[nt+2],this}toArray(_e=[],nt=0){return _e[nt]=this.r,_e[nt+1]=this.g,_e[nt+2]=this.b,_e}fromBufferAttribute(_e,nt){return this.r=_e.getX(nt),this.g=_e.getY(nt),this.b=_e.getZ(nt),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const _color=new Color;Color.NAMES=_colorKeywords;let _materialId=0;class Material extends EventDispatcher{static get type(){return"Material"}get type(){return this.constructor.type}set type(_e){}constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_materialId++}),this.uuid=generateUUID$1(),this.name="",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Color(0,0,0),this.blendAlpha=0,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(_e){this._alphaTest>0!=_e>0&&this.version++,this._alphaTest=_e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(_e){if(_e!==void 0)for(const nt in _e){const rt=_e[nt];if(rt===void 0){console.warn(`THREE.Material: parameter '${nt}' has value of undefined.`);continue}const it=this[nt];if(it===void 0){console.warn(`THREE.Material: '${nt}' is not a property of THREE.${this.type}.`);continue}it&&it.isColor?it.set(rt):it&&it.isVector3&&rt&&rt.isVector3?it.copy(rt):this[nt]=rt}}toJSON(_e){const nt=_e===void 0||typeof _e=="string";nt&&(_e={textures:{},images:{}});const rt={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};rt.uuid=this.uuid,rt.type=this.type,this.name!==""&&(rt.name=this.name),this.color&&this.color.isColor&&(rt.color=this.color.getHex()),this.roughness!==void 0&&(rt.roughness=this.roughness),this.metalness!==void 0&&(rt.metalness=this.metalness),this.sheen!==void 0&&(rt.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(rt.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(rt.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(rt.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(rt.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(rt.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(rt.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(rt.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(rt.shininess=this.shininess),this.clearcoat!==void 0&&(rt.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(rt.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(rt.clearcoatMap=this.clearcoatMap.toJSON(_e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(rt.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(_e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(rt.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(_e).uuid,rt.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(rt.dispersion=this.dispersion),this.iridescence!==void 0&&(rt.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(rt.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(rt.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(rt.iridescenceMap=this.iridescenceMap.toJSON(_e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(rt.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(_e).uuid),this.anisotropy!==void 0&&(rt.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(rt.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(rt.anisotropyMap=this.anisotropyMap.toJSON(_e).uuid),this.map&&this.map.isTexture&&(rt.map=this.map.toJSON(_e).uuid),this.matcap&&this.matcap.isTexture&&(rt.matcap=this.matcap.toJSON(_e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(rt.alphaMap=this.alphaMap.toJSON(_e).uuid),this.lightMap&&this.lightMap.isTexture&&(rt.lightMap=this.lightMap.toJSON(_e).uuid,rt.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(rt.aoMap=this.aoMap.toJSON(_e).uuid,rt.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(rt.bumpMap=this.bumpMap.toJSON(_e).uuid,rt.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(rt.normalMap=this.normalMap.toJSON(_e).uuid,rt.normalMapType=this.normalMapType,rt.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(rt.displacementMap=this.displacementMap.toJSON(_e).uuid,rt.displacementScale=this.displacementScale,rt.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(rt.roughnessMap=this.roughnessMap.toJSON(_e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(rt.metalnessMap=this.metalnessMap.toJSON(_e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(rt.emissiveMap=this.emissiveMap.toJSON(_e).uuid),this.specularMap&&this.specularMap.isTexture&&(rt.specularMap=this.specularMap.toJSON(_e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(rt.specularIntensityMap=this.specularIntensityMap.toJSON(_e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(rt.specularColorMap=this.specularColorMap.toJSON(_e).uuid),this.envMap&&this.envMap.isTexture&&(rt.envMap=this.envMap.toJSON(_e).uuid,this.combine!==void 0&&(rt.combine=this.combine)),this.envMapRotation!==void 0&&(rt.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(rt.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(rt.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(rt.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(rt.gradientMap=this.gradientMap.toJSON(_e).uuid),this.transmission!==void 0&&(rt.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(rt.transmissionMap=this.transmissionMap.toJSON(_e).uuid),this.thickness!==void 0&&(rt.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(rt.thicknessMap=this.thicknessMap.toJSON(_e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(rt.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(rt.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(rt.size=this.size),this.shadowSide!==null&&(rt.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(rt.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(rt.blending=this.blending),this.side!==FrontSide&&(rt.side=this.side),this.vertexColors===!0&&(rt.vertexColors=!0),this.opacity<1&&(rt.opacity=this.opacity),this.transparent===!0&&(rt.transparent=!0),this.blendSrc!==SrcAlphaFactor&&(rt.blendSrc=this.blendSrc),this.blendDst!==OneMinusSrcAlphaFactor&&(rt.blendDst=this.blendDst),this.blendEquation!==AddEquation&&(rt.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(rt.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(rt.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(rt.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(rt.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(rt.blendAlpha=this.blendAlpha),this.depthFunc!==LessEqualDepth&&(rt.depthFunc=this.depthFunc),this.depthTest===!1&&(rt.depthTest=this.depthTest),this.depthWrite===!1&&(rt.depthWrite=this.depthWrite),this.colorWrite===!1&&(rt.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(rt.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==AlwaysStencilFunc&&(rt.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(rt.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(rt.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==KeepStencilOp&&(rt.stencilFail=this.stencilFail),this.stencilZFail!==KeepStencilOp&&(rt.stencilZFail=this.stencilZFail),this.stencilZPass!==KeepStencilOp&&(rt.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(rt.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(rt.rotation=this.rotation),this.polygonOffset===!0&&(rt.polygonOffset=!0),this.polygonOffsetFactor!==0&&(rt.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(rt.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(rt.linewidth=this.linewidth),this.dashSize!==void 0&&(rt.dashSize=this.dashSize),this.gapSize!==void 0&&(rt.gapSize=this.gapSize),this.scale!==void 0&&(rt.scale=this.scale),this.dithering===!0&&(rt.dithering=!0),this.alphaTest>0&&(rt.alphaTest=this.alphaTest),this.alphaHash===!0&&(rt.alphaHash=!0),this.alphaToCoverage===!0&&(rt.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(rt.premultipliedAlpha=!0),this.forceSinglePass===!0&&(rt.forceSinglePass=!0),this.wireframe===!0&&(rt.wireframe=!0),this.wireframeLinewidth>1&&(rt.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(rt.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(rt.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(rt.flatShading=!0),this.visible===!1&&(rt.visible=!1),this.toneMapped===!1&&(rt.toneMapped=!1),this.fog===!1&&(rt.fog=!1),Object.keys(this.userData).length>0&&(rt.userData=this.userData);function it(st){const at=[];for(const ot in st){const lt=st[ot];delete lt.metadata,at.push(lt)}return at}if(nt){const st=it(_e.textures),at=it(_e.images);st.length>0&&(rt.textures=st),at.length>0&&(rt.images=at)}return rt}clone(){return new this.constructor().copy(this)}copy(_e){this.name=_e.name,this.blending=_e.blending,this.side=_e.side,this.vertexColors=_e.vertexColors,this.opacity=_e.opacity,this.transparent=_e.transparent,this.blendSrc=_e.blendSrc,this.blendDst=_e.blendDst,this.blendEquation=_e.blendEquation,this.blendSrcAlpha=_e.blendSrcAlpha,this.blendDstAlpha=_e.blendDstAlpha,this.blendEquationAlpha=_e.blendEquationAlpha,this.blendColor.copy(_e.blendColor),this.blendAlpha=_e.blendAlpha,this.depthFunc=_e.depthFunc,this.depthTest=_e.depthTest,this.depthWrite=_e.depthWrite,this.stencilWriteMask=_e.stencilWriteMask,this.stencilFunc=_e.stencilFunc,this.stencilRef=_e.stencilRef,this.stencilFuncMask=_e.stencilFuncMask,this.stencilFail=_e.stencilFail,this.stencilZFail=_e.stencilZFail,this.stencilZPass=_e.stencilZPass,this.stencilWrite=_e.stencilWrite;const nt=_e.clippingPlanes;let rt=null;if(nt!==null){const it=nt.length;rt=new Array(it);for(let st=0;st!==it;++st)rt[st]=nt[st].clone()}return this.clippingPlanes=rt,this.clipIntersection=_e.clipIntersection,this.clipShadows=_e.clipShadows,this.shadowSide=_e.shadowSide,this.colorWrite=_e.colorWrite,this.precision=_e.precision,this.polygonOffset=_e.polygonOffset,this.polygonOffsetFactor=_e.polygonOffsetFactor,this.polygonOffsetUnits=_e.polygonOffsetUnits,this.dithering=_e.dithering,this.alphaTest=_e.alphaTest,this.alphaHash=_e.alphaHash,this.alphaToCoverage=_e.alphaToCoverage,this.premultipliedAlpha=_e.premultipliedAlpha,this.forceSinglePass=_e.forceSinglePass,this.visible=_e.visible,this.toneMapped=_e.toneMapped,this.userData=JSON.parse(JSON.stringify(_e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(_e){_e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class MeshBasicMaterial extends Material{static get type(){return"MeshBasicMaterial"}constructor(_e){super(),this.isMeshBasicMaterial=!0,this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.color.copy(_e.color),this.map=_e.map,this.lightMap=_e.lightMap,this.lightMapIntensity=_e.lightMapIntensity,this.aoMap=_e.aoMap,this.aoMapIntensity=_e.aoMapIntensity,this.specularMap=_e.specularMap,this.alphaMap=_e.alphaMap,this.envMap=_e.envMap,this.envMapRotation.copy(_e.envMapRotation),this.combine=_e.combine,this.reflectivity=_e.reflectivity,this.refractionRatio=_e.refractionRatio,this.wireframe=_e.wireframe,this.wireframeLinewidth=_e.wireframeLinewidth,this.wireframeLinecap=_e.wireframeLinecap,this.wireframeLinejoin=_e.wireframeLinejoin,this.fog=_e.fog,this}}const _tables=_generateTables();function _generateTables(){const tt=new ArrayBuffer(4),_e=new Float32Array(tt),nt=new Uint32Array(tt),rt=new Uint32Array(512),it=new Uint32Array(512);for(let lt=0;lt<256;++lt){const ct=lt-127;ct<-27?(rt[lt]=0,rt[lt|256]=32768,it[lt]=24,it[lt|256]=24):ct<-14?(rt[lt]=1024>>-ct-14,rt[lt|256]=1024>>-ct-14|32768,it[lt]=-ct-1,it[lt|256]=-ct-1):ct<=15?(rt[lt]=ct+15<<10,rt[lt|256]=ct+15<<10|32768,it[lt]=13,it[lt|256]=13):ct<128?(rt[lt]=31744,rt[lt|256]=64512,it[lt]=24,it[lt|256]=24):(rt[lt]=31744,rt[lt|256]=64512,it[lt]=13,it[lt|256]=13)}const st=new Uint32Array(2048),at=new Uint32Array(64),ot=new Uint32Array(64);for(let lt=1;lt<1024;++lt){let ct=lt<<13,ut=0;for(;!(ct&8388608);)ct<<=1,ut-=8388608;ct&=-8388609,ut+=947912704,st[lt]=ct|ut}for(let lt=1024;lt<2048;++lt)st[lt]=939524096+(lt-1024<<13);for(let lt=1;lt<31;++lt)at[lt]=lt<<23;at[31]=1199570944,at[32]=2147483648;for(let lt=33;lt<63;++lt)at[lt]=2147483648+(lt-32<<23);at[63]=3347054592;for(let lt=1;lt<64;++lt)lt!==32&&(ot[lt]=1024);return{floatView:_e,uint32View:nt,baseTable:rt,shiftTable:it,mantissaTable:st,exponentTable:at,offsetTable:ot}}function toHalfFloat(tt){Math.abs(tt)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),tt=clamp(tt,-65504,65504),_tables.floatView[0]=tt;const _e=_tables.uint32View[0],nt=_e>>23&511;return _tables.baseTable[nt]+((_e&8388607)>>_tables.shiftTable[nt])}function fromHalfFloat(tt){const _e=tt>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[_e]+(tt&1023)]+_tables.exponentTable[_e],_tables.floatView[0]}const DataUtils={toHalfFloat,fromHalfFloat},_vector$9=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(_e,nt,rt=!1){if(Array.isArray(_e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=_e,this.itemSize=nt,this.count=_e!==void 0?_e.length/nt:0,this.normalized=rt,this.usage=StaticDrawUsage,this.updateRanges=[],this.gpuType=FloatType,this.version=0}onUploadCallback(){}set needsUpdate(_e){_e===!0&&this.version++}setUsage(_e){return this.usage=_e,this}addUpdateRange(_e,nt){this.updateRanges.push({start:_e,count:nt})}clearUpdateRanges(){this.updateRanges.length=0}copy(_e){return this.name=_e.name,this.array=new _e.array.constructor(_e.array),this.itemSize=_e.itemSize,this.count=_e.count,this.normalized=_e.normalized,this.usage=_e.usage,this.gpuType=_e.gpuType,this}copyAt(_e,nt,rt){_e*=this.itemSize,rt*=nt.itemSize;for(let it=0,st=this.itemSize;it<st;it++)this.array[_e+it]=nt.array[rt+it];return this}copyArray(_e){return this.array.set(_e),this}applyMatrix3(_e){if(this.itemSize===2)for(let nt=0,rt=this.count;nt<rt;nt++)_vector2$1.fromBufferAttribute(this,nt),_vector2$1.applyMatrix3(_e),this.setXY(nt,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let nt=0,rt=this.count;nt<rt;nt++)_vector$9.fromBufferAttribute(this,nt),_vector$9.applyMatrix3(_e),this.setXYZ(nt,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(_e){for(let nt=0,rt=this.count;nt<rt;nt++)_vector$9.fromBufferAttribute(this,nt),_vector$9.applyMatrix4(_e),this.setXYZ(nt,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(_e){for(let nt=0,rt=this.count;nt<rt;nt++)_vector$9.fromBufferAttribute(this,nt),_vector$9.applyNormalMatrix(_e),this.setXYZ(nt,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(_e){for(let nt=0,rt=this.count;nt<rt;nt++)_vector$9.fromBufferAttribute(this,nt),_vector$9.transformDirection(_e),this.setXYZ(nt,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(_e,nt=0){return this.array.set(_e,nt),this}getComponent(_e,nt){let rt=this.array[_e*this.itemSize+nt];return this.normalized&&(rt=denormalize(rt,this.array)),rt}setComponent(_e,nt,rt){return this.normalized&&(rt=normalize(rt,this.array)),this.array[_e*this.itemSize+nt]=rt,this}getX(_e){let nt=this.array[_e*this.itemSize];return this.normalized&&(nt=denormalize(nt,this.array)),nt}setX(_e,nt){return this.normalized&&(nt=normalize(nt,this.array)),this.array[_e*this.itemSize]=nt,this}getY(_e){let nt=this.array[_e*this.itemSize+1];return this.normalized&&(nt=denormalize(nt,this.array)),nt}setY(_e,nt){return this.normalized&&(nt=normalize(nt,this.array)),this.array[_e*this.itemSize+1]=nt,this}getZ(_e){let nt=this.array[_e*this.itemSize+2];return this.normalized&&(nt=denormalize(nt,this.array)),nt}setZ(_e,nt){return this.normalized&&(nt=normalize(nt,this.array)),this.array[_e*this.itemSize+2]=nt,this}getW(_e){let nt=this.array[_e*this.itemSize+3];return this.normalized&&(nt=denormalize(nt,this.array)),nt}setW(_e,nt){return this.normalized&&(nt=normalize(nt,this.array)),this.array[_e*this.itemSize+3]=nt,this}setXY(_e,nt,rt){return _e*=this.itemSize,this.normalized&&(nt=normalize(nt,this.array),rt=normalize(rt,this.array)),this.array[_e+0]=nt,this.array[_e+1]=rt,this}setXYZ(_e,nt,rt,it){return _e*=this.itemSize,this.normalized&&(nt=normalize(nt,this.array),rt=normalize(rt,this.array),it=normalize(it,this.array)),this.array[_e+0]=nt,this.array[_e+1]=rt,this.array[_e+2]=it,this}setXYZW(_e,nt,rt,it,st){return _e*=this.itemSize,this.normalized&&(nt=normalize(nt,this.array),rt=normalize(rt,this.array),it=normalize(it,this.array),st=normalize(st,this.array)),this.array[_e+0]=nt,this.array[_e+1]=rt,this.array[_e+2]=it,this.array[_e+3]=st,this}onUpload(_e){return this.onUploadCallback=_e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const _e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(_e.name=this.name),this.usage!==StaticDrawUsage&&(_e.usage=this.usage),_e}}class Int8BufferAttribute extends BufferAttribute{constructor(_e,nt,rt){super(new Int8Array(_e),nt,rt)}}class Uint8BufferAttribute extends BufferAttribute{constructor(_e,nt,rt){super(new Uint8Array(_e),nt,rt)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor(_e,nt,rt){super(new Uint8ClampedArray(_e),nt,rt)}}class Int16BufferAttribute extends BufferAttribute{constructor(_e,nt,rt){super(new Int16Array(_e),nt,rt)}}class Uint16BufferAttribute extends BufferAttribute{constructor(_e,nt,rt){super(new Uint16Array(_e),nt,rt)}}class Int32BufferAttribute extends BufferAttribute{constructor(_e,nt,rt){super(new Int32Array(_e),nt,rt)}}class Uint32BufferAttribute extends BufferAttribute{constructor(_e,nt,rt){super(new Uint32Array(_e),nt,rt)}}class Float16BufferAttribute extends BufferAttribute{constructor(_e,nt,rt){super(new Uint16Array(_e),nt,rt),this.isFloat16BufferAttribute=!0}getX(_e){let nt=fromHalfFloat(this.array[_e*this.itemSize]);return this.normalized&&(nt=denormalize(nt,this.array)),nt}setX(_e,nt){return this.normalized&&(nt=normalize(nt,this.array)),this.array[_e*this.itemSize]=toHalfFloat(nt),this}getY(_e){let nt=fromHalfFloat(this.array[_e*this.itemSize+1]);return this.normalized&&(nt=denormalize(nt,this.array)),nt}setY(_e,nt){return this.normalized&&(nt=normalize(nt,this.array)),this.array[_e*this.itemSize+1]=toHalfFloat(nt),this}getZ(_e){let nt=fromHalfFloat(this.array[_e*this.itemSize+2]);return this.normalized&&(nt=denormalize(nt,this.array)),nt}setZ(_e,nt){return this.normalized&&(nt=normalize(nt,this.array)),this.array[_e*this.itemSize+2]=toHalfFloat(nt),this}getW(_e){let nt=fromHalfFloat(this.array[_e*this.itemSize+3]);return this.normalized&&(nt=denormalize(nt,this.array)),nt}setW(_e,nt){return this.normalized&&(nt=normalize(nt,this.array)),this.array[_e*this.itemSize+3]=toHalfFloat(nt),this}setXY(_e,nt,rt){return _e*=this.itemSize,this.normalized&&(nt=normalize(nt,this.array),rt=normalize(rt,this.array)),this.array[_e+0]=toHalfFloat(nt),this.array[_e+1]=toHalfFloat(rt),this}setXYZ(_e,nt,rt,it){return _e*=this.itemSize,this.normalized&&(nt=normalize(nt,this.array),rt=normalize(rt,this.array),it=normalize(it,this.array)),this.array[_e+0]=toHalfFloat(nt),this.array[_e+1]=toHalfFloat(rt),this.array[_e+2]=toHalfFloat(it),this}setXYZW(_e,nt,rt,it,st){return _e*=this.itemSize,this.normalized&&(nt=normalize(nt,this.array),rt=normalize(rt,this.array),it=normalize(it,this.array),st=normalize(st,this.array)),this.array[_e+0]=toHalfFloat(nt),this.array[_e+1]=toHalfFloat(rt),this.array[_e+2]=toHalfFloat(it),this.array[_e+3]=toHalfFloat(st),this}}class Float32BufferAttribute extends BufferAttribute{constructor(_e,nt,rt){super(new Float32Array(_e),nt,rt)}}let _id$2=0;const _m1$2=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$2=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$2++}),this.uuid=generateUUID$1(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(_e){return Array.isArray(_e)?this.index=new(arrayNeedsUint32(_e)?Uint32BufferAttribute:Uint16BufferAttribute)(_e,1):this.index=_e,this}setIndirect(_e){return this.indirect=_e,this}getIndirect(){return this.indirect}getAttribute(_e){return this.attributes[_e]}setAttribute(_e,nt){return this.attributes[_e]=nt,this}deleteAttribute(_e){return delete this.attributes[_e],this}hasAttribute(_e){return this.attributes[_e]!==void 0}addGroup(_e,nt,rt=0){this.groups.push({start:_e,count:nt,materialIndex:rt})}clearGroups(){this.groups=[]}setDrawRange(_e,nt){this.drawRange.start=_e,this.drawRange.count=nt}applyMatrix4(_e){const nt=this.attributes.position;nt!==void 0&&(nt.applyMatrix4(_e),nt.needsUpdate=!0);const rt=this.attributes.normal;if(rt!==void 0){const st=new Matrix3().getNormalMatrix(_e);rt.applyNormalMatrix(st),rt.needsUpdate=!0}const it=this.attributes.tangent;return it!==void 0&&(it.transformDirection(_e),it.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(_e){return _m1$2.makeRotationFromQuaternion(_e),this.applyMatrix4(_m1$2),this}rotateX(_e){return _m1$2.makeRotationX(_e),this.applyMatrix4(_m1$2),this}rotateY(_e){return _m1$2.makeRotationY(_e),this.applyMatrix4(_m1$2),this}rotateZ(_e){return _m1$2.makeRotationZ(_e),this.applyMatrix4(_m1$2),this}translate(_e,nt,rt){return _m1$2.makeTranslation(_e,nt,rt),this.applyMatrix4(_m1$2),this}scale(_e,nt,rt){return _m1$2.makeScale(_e,nt,rt),this.applyMatrix4(_m1$2),this}lookAt(_e){return _obj.lookAt(_e),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(_e){const nt=this.getAttribute("position");if(nt===void 0){const rt=[];for(let it=0,st=_e.length;it<st;it++){const at=_e[it];rt.push(at.x,at.y,at.z||0)}this.setAttribute("position",new Float32BufferAttribute(rt,3))}else{for(let rt=0,it=nt.count;rt<it;rt++){const st=_e[rt];nt.setXYZ(rt,st.x,st.y,st.z||0)}_e.length>nt.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),nt.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const _e=this.attributes.position,nt=this.morphAttributes.position;if(_e&&_e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(_e!==void 0){if(this.boundingBox.setFromBufferAttribute(_e),nt)for(let rt=0,it=nt.length;rt<it;rt++){const st=nt[rt];_box$2.setFromBufferAttribute(st),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$2.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$2.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$2.min),this.boundingBox.expandByPoint(_box$2.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const _e=this.attributes.position,nt=this.morphAttributes.position;if(_e&&_e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Vector3,1/0);return}if(_e){const rt=this.boundingSphere.center;if(_box$2.setFromBufferAttribute(_e),nt)for(let st=0,at=nt.length;st<at;st++){const ot=nt[st];_boxMorphTargets.setFromBufferAttribute(ot),this.morphTargetsRelative?(_vector$8.addVectors(_box$2.min,_boxMorphTargets.min),_box$2.expandByPoint(_vector$8),_vector$8.addVectors(_box$2.max,_boxMorphTargets.max),_box$2.expandByPoint(_vector$8)):(_box$2.expandByPoint(_boxMorphTargets.min),_box$2.expandByPoint(_boxMorphTargets.max))}_box$2.getCenter(rt);let it=0;for(let st=0,at=_e.count;st<at;st++)_vector$8.fromBufferAttribute(_e,st),it=Math.max(it,rt.distanceToSquared(_vector$8));if(nt)for(let st=0,at=nt.length;st<at;st++){const ot=nt[st],lt=this.morphTargetsRelative;for(let ct=0,ut=ot.count;ct<ut;ct++)_vector$8.fromBufferAttribute(ot,ct),lt&&(_offset.fromBufferAttribute(_e,ct),_vector$8.add(_offset)),it=Math.max(it,rt.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(it),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const _e=this.index,nt=this.attributes;if(_e===null||nt.position===void 0||nt.normal===void 0||nt.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const rt=nt.position,it=nt.normal,st=nt.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*rt.count),4));const at=this.getAttribute("tangent"),ot=[],lt=[];for(let Ct=0;Ct<rt.count;Ct++)ot[Ct]=new Vector3,lt[Ct]=new Vector3;const ct=new Vector3,ut=new Vector3,ft=new Vector3,ht=new Vector2,pt=new Vector2,dt=new Vector2,gt=new Vector3,vt=new Vector3;function mt(Ct,Pt,It){ct.fromBufferAttribute(rt,Ct),ut.fromBufferAttribute(rt,Pt),ft.fromBufferAttribute(rt,It),ht.fromBufferAttribute(st,Ct),pt.fromBufferAttribute(st,Pt),dt.fromBufferAttribute(st,It),ut.sub(ct),ft.sub(ct),pt.sub(ht),dt.sub(ht);const Lt=1/(pt.x*dt.y-dt.x*pt.y);isFinite(Lt)&&(gt.copy(ut).multiplyScalar(dt.y).addScaledVector(ft,-pt.y).multiplyScalar(Lt),vt.copy(ft).multiplyScalar(pt.x).addScaledVector(ut,-dt.x).multiplyScalar(Lt),ot[Ct].add(gt),ot[Pt].add(gt),ot[It].add(gt),lt[Ct].add(vt),lt[Pt].add(vt),lt[It].add(vt))}let xt=this.groups;xt.length===0&&(xt=[{start:0,count:_e.count}]);for(let Ct=0,Pt=xt.length;Ct<Pt;++Ct){const It=xt[Ct],Lt=It.start,Vt=It.count;for(let Ut=Lt,Ot=Lt+Vt;Ut<Ot;Ut+=3)mt(_e.getX(Ut+0),_e.getX(Ut+1),_e.getX(Ut+2))}const St=new Vector3,Et=new Vector3,bt=new Vector3,Tt=new Vector3;function At(Ct){bt.fromBufferAttribute(it,Ct),Tt.copy(bt);const Pt=ot[Ct];St.copy(Pt),St.sub(bt.multiplyScalar(bt.dot(Pt))).normalize(),Et.crossVectors(Tt,Pt);const Lt=Et.dot(lt[Ct])<0?-1:1;at.setXYZW(Ct,St.x,St.y,St.z,Lt)}for(let Ct=0,Pt=xt.length;Ct<Pt;++Ct){const It=xt[Ct],Lt=It.start,Vt=It.count;for(let Ut=Lt,Ot=Lt+Vt;Ut<Ot;Ut+=3)At(_e.getX(Ut+0)),At(_e.getX(Ut+1)),At(_e.getX(Ut+2))}}computeVertexNormals(){const _e=this.index,nt=this.getAttribute("position");if(nt!==void 0){let rt=this.getAttribute("normal");if(rt===void 0)rt=new BufferAttribute(new Float32Array(nt.count*3),3),this.setAttribute("normal",rt);else for(let ht=0,pt=rt.count;ht<pt;ht++)rt.setXYZ(ht,0,0,0);const it=new Vector3,st=new Vector3,at=new Vector3,ot=new Vector3,lt=new Vector3,ct=new Vector3,ut=new Vector3,ft=new Vector3;if(_e)for(let ht=0,pt=_e.count;ht<pt;ht+=3){const dt=_e.getX(ht+0),gt=_e.getX(ht+1),vt=_e.getX(ht+2);it.fromBufferAttribute(nt,dt),st.fromBufferAttribute(nt,gt),at.fromBufferAttribute(nt,vt),ut.subVectors(at,st),ft.subVectors(it,st),ut.cross(ft),ot.fromBufferAttribute(rt,dt),lt.fromBufferAttribute(rt,gt),ct.fromBufferAttribute(rt,vt),ot.add(ut),lt.add(ut),ct.add(ut),rt.setXYZ(dt,ot.x,ot.y,ot.z),rt.setXYZ(gt,lt.x,lt.y,lt.z),rt.setXYZ(vt,ct.x,ct.y,ct.z)}else for(let ht=0,pt=nt.count;ht<pt;ht+=3)it.fromBufferAttribute(nt,ht+0),st.fromBufferAttribute(nt,ht+1),at.fromBufferAttribute(nt,ht+2),ut.subVectors(at,st),ft.subVectors(it,st),ut.cross(ft),rt.setXYZ(ht+0,ut.x,ut.y,ut.z),rt.setXYZ(ht+1,ut.x,ut.y,ut.z),rt.setXYZ(ht+2,ut.x,ut.y,ut.z);this.normalizeNormals(),rt.needsUpdate=!0}}normalizeNormals(){const _e=this.attributes.normal;for(let nt=0,rt=_e.count;nt<rt;nt++)_vector$8.fromBufferAttribute(_e,nt),_vector$8.normalize(),_e.setXYZ(nt,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function _e(ot,lt){const ct=ot.array,ut=ot.itemSize,ft=ot.normalized,ht=new ct.constructor(lt.length*ut);let pt=0,dt=0;for(let gt=0,vt=lt.length;gt<vt;gt++){ot.isInterleavedBufferAttribute?pt=lt[gt]*ot.data.stride+ot.offset:pt=lt[gt]*ut;for(let mt=0;mt<ut;mt++)ht[dt++]=ct[pt++]}return new BufferAttribute(ht,ut,ft)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const nt=new BufferGeometry,rt=this.index.array,it=this.attributes;for(const ot in it){const lt=it[ot],ct=_e(lt,rt);nt.setAttribute(ot,ct)}const st=this.morphAttributes;for(const ot in st){const lt=[],ct=st[ot];for(let ut=0,ft=ct.length;ut<ft;ut++){const ht=ct[ut],pt=_e(ht,rt);lt.push(pt)}nt.morphAttributes[ot]=lt}nt.morphTargetsRelative=this.morphTargetsRelative;const at=this.groups;for(let ot=0,lt=at.length;ot<lt;ot++){const ct=at[ot];nt.addGroup(ct.start,ct.count,ct.materialIndex)}return nt}toJSON(){const _e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(_e.uuid=this.uuid,_e.type=this.type,this.name!==""&&(_e.name=this.name),Object.keys(this.userData).length>0&&(_e.userData=this.userData),this.parameters!==void 0){const lt=this.parameters;for(const ct in lt)lt[ct]!==void 0&&(_e[ct]=lt[ct]);return _e}_e.data={attributes:{}};const nt=this.index;nt!==null&&(_e.data.index={type:nt.array.constructor.name,array:Array.prototype.slice.call(nt.array)});const rt=this.attributes;for(const lt in rt){const ct=rt[lt];_e.data.attributes[lt]=ct.toJSON(_e.data)}const it={};let st=!1;for(const lt in this.morphAttributes){const ct=this.morphAttributes[lt],ut=[];for(let ft=0,ht=ct.length;ft<ht;ft++){const pt=ct[ft];ut.push(pt.toJSON(_e.data))}ut.length>0&&(it[lt]=ut,st=!0)}st&&(_e.data.morphAttributes=it,_e.data.morphTargetsRelative=this.morphTargetsRelative);const at=this.groups;at.length>0&&(_e.data.groups=JSON.parse(JSON.stringify(at)));const ot=this.boundingSphere;return ot!==null&&(_e.data.boundingSphere={center:ot.center.toArray(),radius:ot.radius}),_e}clone(){return new this.constructor().copy(this)}copy(_e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const nt={};this.name=_e.name;const rt=_e.index;rt!==null&&this.setIndex(rt.clone(nt));const it=_e.attributes;for(const ct in it){const ut=it[ct];this.setAttribute(ct,ut.clone(nt))}const st=_e.morphAttributes;for(const ct in st){const ut=[],ft=st[ct];for(let ht=0,pt=ft.length;ht<pt;ht++)ut.push(ft[ht].clone(nt));this.morphAttributes[ct]=ut}this.morphTargetsRelative=_e.morphTargetsRelative;const at=_e.groups;for(let ct=0,ut=at.length;ct<ut;ct++){const ft=at[ct];this.addGroup(ft.start,ft.count,ft.materialIndex)}const ot=_e.boundingBox;ot!==null&&(this.boundingBox=ot.clone());const lt=_e.boundingSphere;return lt!==null&&(this.boundingSphere=lt.clone()),this.drawRange.start=_e.drawRange.start,this.drawRange.count=_e.drawRange.count,this.userData=_e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$3=new Matrix4,_ray$3=new Ray,_sphere$6=new Sphere,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(_e=new BufferGeometry,nt=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=_e,this.material=nt,this.updateMorphTargets()}copy(_e,nt){return super.copy(_e,nt),_e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=_e.morphTargetInfluences.slice()),_e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},_e.morphTargetDictionary)),this.material=Array.isArray(_e.material)?_e.material.slice():_e.material,this.geometry=_e.geometry,this}updateMorphTargets(){const nt=this.geometry.morphAttributes,rt=Object.keys(nt);if(rt.length>0){const it=nt[rt[0]];if(it!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let st=0,at=it.length;st<at;st++){const ot=it[st].name||String(st);this.morphTargetInfluences.push(0),this.morphTargetDictionary[ot]=st}}}}getVertexPosition(_e,nt){const rt=this.geometry,it=rt.attributes.position,st=rt.morphAttributes.position,at=rt.morphTargetsRelative;nt.fromBufferAttribute(it,_e);const ot=this.morphTargetInfluences;if(st&&ot){_morphA.set(0,0,0);for(let lt=0,ct=st.length;lt<ct;lt++){const ut=ot[lt],ft=st[lt];ut!==0&&(_tempA.fromBufferAttribute(ft,_e),at?_morphA.addScaledVector(_tempA,ut):_morphA.addScaledVector(_tempA.sub(nt),ut))}nt.add(_morphA)}return nt}raycast(_e,nt){const rt=this.geometry,it=this.material,st=this.matrixWorld;it!==void 0&&(rt.boundingSphere===null&&rt.computeBoundingSphere(),_sphere$6.copy(rt.boundingSphere),_sphere$6.applyMatrix4(st),_ray$3.copy(_e.ray).recast(_e.near),!(_sphere$6.containsPoint(_ray$3.origin)===!1&&(_ray$3.intersectSphere(_sphere$6,_sphereHitAt)===null||_ray$3.origin.distanceToSquared(_sphereHitAt)>(_e.far-_e.near)**2))&&(_inverseMatrix$3.copy(st).invert(),_ray$3.copy(_e.ray).applyMatrix4(_inverseMatrix$3),!(rt.boundingBox!==null&&_ray$3.intersectsBox(rt.boundingBox)===!1)&&this._computeIntersections(_e,nt,_ray$3)))}_computeIntersections(_e,nt,rt){let it;const st=this.geometry,at=this.material,ot=st.index,lt=st.attributes.position,ct=st.attributes.uv,ut=st.attributes.uv1,ft=st.attributes.normal,ht=st.groups,pt=st.drawRange;if(ot!==null)if(Array.isArray(at))for(let dt=0,gt=ht.length;dt<gt;dt++){const vt=ht[dt],mt=at[vt.materialIndex],xt=Math.max(vt.start,pt.start),St=Math.min(ot.count,Math.min(vt.start+vt.count,pt.start+pt.count));for(let Et=xt,bt=St;Et<bt;Et+=3){const Tt=ot.getX(Et),At=ot.getX(Et+1),Ct=ot.getX(Et+2);it=checkGeometryIntersection(this,mt,_e,rt,ct,ut,ft,Tt,At,Ct),it&&(it.faceIndex=Math.floor(Et/3),it.face.materialIndex=vt.materialIndex,nt.push(it))}}else{const dt=Math.max(0,pt.start),gt=Math.min(ot.count,pt.start+pt.count);for(let vt=dt,mt=gt;vt<mt;vt+=3){const xt=ot.getX(vt),St=ot.getX(vt+1),Et=ot.getX(vt+2);it=checkGeometryIntersection(this,at,_e,rt,ct,ut,ft,xt,St,Et),it&&(it.faceIndex=Math.floor(vt/3),nt.push(it))}}else if(lt!==void 0)if(Array.isArray(at))for(let dt=0,gt=ht.length;dt<gt;dt++){const vt=ht[dt],mt=at[vt.materialIndex],xt=Math.max(vt.start,pt.start),St=Math.min(lt.count,Math.min(vt.start+vt.count,pt.start+pt.count));for(let Et=xt,bt=St;Et<bt;Et+=3){const Tt=Et,At=Et+1,Ct=Et+2;it=checkGeometryIntersection(this,mt,_e,rt,ct,ut,ft,Tt,At,Ct),it&&(it.faceIndex=Math.floor(Et/3),it.face.materialIndex=vt.materialIndex,nt.push(it))}}else{const dt=Math.max(0,pt.start),gt=Math.min(lt.count,pt.start+pt.count);for(let vt=dt,mt=gt;vt<mt;vt+=3){const xt=vt,St=vt+1,Et=vt+2;it=checkGeometryIntersection(this,at,_e,rt,ct,ut,ft,xt,St,Et),it&&(it.faceIndex=Math.floor(vt/3),nt.push(it))}}}}function checkIntersection$1(tt,_e,nt,rt,it,st,at,ot){let lt;if(_e.side===BackSide?lt=rt.intersectTriangle(at,st,it,!0,ot):lt=rt.intersectTriangle(it,st,at,_e.side===FrontSide,ot),lt===null)return null;_intersectionPointWorld.copy(ot),_intersectionPointWorld.applyMatrix4(tt.matrixWorld);const ct=nt.ray.origin.distanceTo(_intersectionPointWorld);return ct<nt.near||ct>nt.far?null:{distance:ct,point:_intersectionPointWorld.clone(),object:tt}}function checkGeometryIntersection(tt,_e,nt,rt,it,st,at,ot,lt,ct){tt.getVertexPosition(ot,_vA$1),tt.getVertexPosition(lt,_vB$1),tt.getVertexPosition(ct,_vC$1);const ut=checkIntersection$1(tt,_e,nt,rt,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(ut){const ft=new Vector3;Triangle.getBarycoord(_intersectionPoint,_vA$1,_vB$1,_vC$1,ft),it&&(ut.uv=Triangle.getInterpolatedAttribute(it,ot,lt,ct,ft,new Vector2)),st&&(ut.uv1=Triangle.getInterpolatedAttribute(st,ot,lt,ct,ft,new Vector2)),at&&(ut.normal=Triangle.getInterpolatedAttribute(at,ot,lt,ct,ft,new Vector3),ut.normal.dot(rt.direction)>0&&ut.normal.multiplyScalar(-1));const ht={a:ot,b:lt,c:ct,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,ht.normal),ut.face=ht,ut.barycoord=ft}return ut}class BoxGeometry extends BufferGeometry{constructor(_e=1,nt=1,rt=1,it=1,st=1,at=1){super(),this.type="BoxGeometry",this.parameters={width:_e,height:nt,depth:rt,widthSegments:it,heightSegments:st,depthSegments:at};const ot=this;it=Math.floor(it),st=Math.floor(st),at=Math.floor(at);const lt=[],ct=[],ut=[],ft=[];let ht=0,pt=0;dt("z","y","x",-1,-1,rt,nt,_e,at,st,0),dt("z","y","x",1,-1,rt,nt,-_e,at,st,1),dt("x","z","y",1,1,_e,rt,nt,it,at,2),dt("x","z","y",1,-1,_e,rt,-nt,it,at,3),dt("x","y","z",1,-1,_e,nt,rt,it,st,4),dt("x","y","z",-1,-1,_e,nt,-rt,it,st,5),this.setIndex(lt),this.setAttribute("position",new Float32BufferAttribute(ct,3)),this.setAttribute("normal",new Float32BufferAttribute(ut,3)),this.setAttribute("uv",new Float32BufferAttribute(ft,2));function dt(gt,vt,mt,xt,St,Et,bt,Tt,At,Ct,Pt){const It=Et/At,Lt=bt/Ct,Vt=Et/2,Ut=bt/2,Ot=Tt/2,zt=At+1,Dt=Ct+1;let $t=0,Mt=0;const Rt=new Vector3;for(let Nt=0;Nt<Dt;Nt++){const Ft=Nt*Lt-Ut;for(let qt=0;qt<zt;qt++){const Qt=qt*It-Vt;Rt[gt]=Qt*xt,Rt[vt]=Ft*St,Rt[mt]=Ot,ct.push(Rt.x,Rt.y,Rt.z),Rt[gt]=0,Rt[vt]=0,Rt[mt]=Tt>0?1:-1,ut.push(Rt.x,Rt.y,Rt.z),ft.push(qt/At),ft.push(1-Nt/Ct),$t+=1}}for(let Nt=0;Nt<Ct;Nt++)for(let Ft=0;Ft<At;Ft++){const qt=ht+Ft+zt*Nt,Qt=ht+Ft+zt*(Nt+1),Kt=ht+(Ft+1)+zt*(Nt+1),Zt=ht+(Ft+1)+zt*Nt;lt.push(qt,Qt,Zt),lt.push(Qt,Kt,Zt),Mt+=6}ot.addGroup(pt,Mt,Pt),pt+=Mt,ht+=$t}}copy(_e){return super.copy(_e),this.parameters=Object.assign({},_e.parameters),this}static fromJSON(_e){return new BoxGeometry(_e.width,_e.height,_e.depth,_e.widthSegments,_e.heightSegments,_e.depthSegments)}}function cloneUniforms(tt){const _e={};for(const nt in tt){_e[nt]={};for(const rt in tt[nt]){const it=tt[nt][rt];it&&(it.isColor||it.isMatrix3||it.isMatrix4||it.isVector2||it.isVector3||it.isVector4||it.isTexture||it.isQuaternion)?it.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),_e[nt][rt]=null):_e[nt][rt]=it.clone():Array.isArray(it)?_e[nt][rt]=it.slice():_e[nt][rt]=it}}return _e}function mergeUniforms(tt){const _e={};for(let nt=0;nt<tt.length;nt++){const rt=cloneUniforms(tt[nt]);for(const it in rt)_e[it]=rt[it]}return _e}function cloneUniformsGroups(tt){const _e=[];for(let nt=0;nt<tt.length;nt++)_e.push(tt[nt].clone());return _e}function getUnlitUniformColorSpace(tt){const _e=tt.getRenderTarget();return _e===null?tt.outputColorSpace:_e.isXRRenderTarget===!0?_e.texture.colorSpace:ColorManagement.workingColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{static get type(){return"ShaderMaterial"}constructor(_e){super(),this.isShaderMaterial=!0,this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,_e!==void 0&&this.setValues(_e)}copy(_e){return super.copy(_e),this.fragmentShader=_e.fragmentShader,this.vertexShader=_e.vertexShader,this.uniforms=cloneUniforms(_e.uniforms),this.uniformsGroups=cloneUniformsGroups(_e.uniformsGroups),this.defines=Object.assign({},_e.defines),this.wireframe=_e.wireframe,this.wireframeLinewidth=_e.wireframeLinewidth,this.fog=_e.fog,this.lights=_e.lights,this.clipping=_e.clipping,this.extensions=Object.assign({},_e.extensions),this.glslVersion=_e.glslVersion,this}toJSON(_e){const nt=super.toJSON(_e);nt.glslVersion=this.glslVersion,nt.uniforms={};for(const it in this.uniforms){const at=this.uniforms[it].value;at&&at.isTexture?nt.uniforms[it]={type:"t",value:at.toJSON(_e).uuid}:at&&at.isColor?nt.uniforms[it]={type:"c",value:at.getHex()}:at&&at.isVector2?nt.uniforms[it]={type:"v2",value:at.toArray()}:at&&at.isVector3?nt.uniforms[it]={type:"v3",value:at.toArray()}:at&&at.isVector4?nt.uniforms[it]={type:"v4",value:at.toArray()}:at&&at.isMatrix3?nt.uniforms[it]={type:"m3",value:at.toArray()}:at&&at.isMatrix4?nt.uniforms[it]={type:"m4",value:at.toArray()}:nt.uniforms[it]={value:at}}Object.keys(this.defines).length>0&&(nt.defines=this.defines),nt.vertexShader=this.vertexShader,nt.fragmentShader=this.fragmentShader,nt.lights=this.lights,nt.clipping=this.clipping;const rt={};for(const it in this.extensions)this.extensions[it]===!0&&(rt[it]=!0);return Object.keys(rt).length>0&&(nt.extensions=rt),nt}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4,this.coordinateSystem=WebGLCoordinateSystem}copy(_e,nt){return super.copy(_e,nt),this.matrixWorldInverse.copy(_e.matrixWorldInverse),this.projectionMatrix.copy(_e.projectionMatrix),this.projectionMatrixInverse.copy(_e.projectionMatrixInverse),this.coordinateSystem=_e.coordinateSystem,this}getWorldDirection(_e){return super.getWorldDirection(_e).negate()}updateMatrixWorld(_e){super.updateMatrixWorld(_e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(_e,nt){super.updateWorldMatrix(_e,nt),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const _v3$1=new Vector3,_minTarget=new Vector2,_maxTarget=new Vector2;class PerspectiveCamera extends Camera{constructor(_e=50,nt=1,rt=.1,it=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=_e,this.zoom=1,this.near=rt,this.far=it,this.focus=10,this.aspect=nt,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(_e,nt){return super.copy(_e,nt),this.fov=_e.fov,this.zoom=_e.zoom,this.near=_e.near,this.far=_e.far,this.focus=_e.focus,this.aspect=_e.aspect,this.view=_e.view===null?null:Object.assign({},_e.view),this.filmGauge=_e.filmGauge,this.filmOffset=_e.filmOffset,this}setFocalLength(_e){const nt=.5*this.getFilmHeight()/_e;this.fov=RAD2DEG*2*Math.atan(nt),this.updateProjectionMatrix()}getFocalLength(){const _e=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/_e}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(_e,nt,rt){_v3$1.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),nt.set(_v3$1.x,_v3$1.y).multiplyScalar(-_e/_v3$1.z),_v3$1.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),rt.set(_v3$1.x,_v3$1.y).multiplyScalar(-_e/_v3$1.z)}getViewSize(_e,nt){return this.getViewBounds(_e,_minTarget,_maxTarget),nt.subVectors(_maxTarget,_minTarget)}setViewOffset(_e,nt,rt,it,st,at){this.aspect=_e/nt,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=_e,this.view.fullHeight=nt,this.view.offsetX=rt,this.view.offsetY=it,this.view.width=st,this.view.height=at,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const _e=this.near;let nt=_e*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,rt=2*nt,it=this.aspect*rt,st=-.5*it;const at=this.view;if(this.view!==null&&this.view.enabled){const lt=at.fullWidth,ct=at.fullHeight;st+=at.offsetX*it/lt,nt-=at.offsetY*rt/ct,it*=at.width/lt,rt*=at.height/ct}const ot=this.filmOffset;ot!==0&&(st+=_e*ot/this.getFilmWidth()),this.projectionMatrix.makePerspective(st,st+it,nt,nt-rt,_e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(_e){const nt=super.toJSON(_e);return nt.object.fov=this.fov,nt.object.zoom=this.zoom,nt.object.near=this.near,nt.object.far=this.far,nt.object.focus=this.focus,nt.object.aspect=this.aspect,this.view!==null&&(nt.object.view=Object.assign({},this.view)),nt.object.filmGauge=this.filmGauge,nt.object.filmOffset=this.filmOffset,nt}}const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(_e,nt,rt){super(),this.type="CubeCamera",this.renderTarget=rt,this.coordinateSystem=null,this.activeMipmapLevel=0;const it=new PerspectiveCamera(fov,aspect,_e,nt);it.layers=this.layers,this.add(it);const st=new PerspectiveCamera(fov,aspect,_e,nt);st.layers=this.layers,this.add(st);const at=new PerspectiveCamera(fov,aspect,_e,nt);at.layers=this.layers,this.add(at);const ot=new PerspectiveCamera(fov,aspect,_e,nt);ot.layers=this.layers,this.add(ot);const lt=new PerspectiveCamera(fov,aspect,_e,nt);lt.layers=this.layers,this.add(lt);const ct=new PerspectiveCamera(fov,aspect,_e,nt);ct.layers=this.layers,this.add(ct)}updateCoordinateSystem(){const _e=this.coordinateSystem,nt=this.children.concat(),[rt,it,st,at,ot,lt]=nt;for(const ct of nt)this.remove(ct);if(_e===WebGLCoordinateSystem)rt.up.set(0,1,0),rt.lookAt(1,0,0),it.up.set(0,1,0),it.lookAt(-1,0,0),st.up.set(0,0,-1),st.lookAt(0,1,0),at.up.set(0,0,1),at.lookAt(0,-1,0),ot.up.set(0,1,0),ot.lookAt(0,0,1),lt.up.set(0,1,0),lt.lookAt(0,0,-1);else if(_e===WebGPUCoordinateSystem)rt.up.set(0,-1,0),rt.lookAt(-1,0,0),it.up.set(0,-1,0),it.lookAt(1,0,0),st.up.set(0,0,1),st.lookAt(0,1,0),at.up.set(0,0,-1),at.lookAt(0,-1,0),ot.up.set(0,-1,0),ot.lookAt(0,0,1),lt.up.set(0,-1,0),lt.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+_e);for(const ct of nt)this.add(ct),ct.updateMatrixWorld()}update(_e,nt){this.parent===null&&this.updateMatrixWorld();const{renderTarget:rt,activeMipmapLevel:it}=this;this.coordinateSystem!==_e.coordinateSystem&&(this.coordinateSystem=_e.coordinateSystem,this.updateCoordinateSystem());const[st,at,ot,lt,ct,ut]=this.children,ft=_e.getRenderTarget(),ht=_e.getActiveCubeFace(),pt=_e.getActiveMipmapLevel(),dt=_e.xr.enabled;_e.xr.enabled=!1;const gt=rt.texture.generateMipmaps;rt.texture.generateMipmaps=!1,_e.setRenderTarget(rt,0,it),_e.render(nt,st),_e.setRenderTarget(rt,1,it),_e.render(nt,at),_e.setRenderTarget(rt,2,it),_e.render(nt,ot),_e.setRenderTarget(rt,3,it),_e.render(nt,lt),_e.setRenderTarget(rt,4,it),_e.render(nt,ct),rt.texture.generateMipmaps=gt,_e.setRenderTarget(rt,5,it),_e.render(nt,ut),_e.setRenderTarget(ft,ht,pt),_e.xr.enabled=dt,rt.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(_e,nt,rt,it,st,at,ot,lt,ct,ut){_e=_e!==void 0?_e:[],nt=nt!==void 0?nt:CubeReflectionMapping,super(_e,nt,rt,it,st,at,ot,lt,ct,ut),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(_e){this.image=_e}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(_e=1,nt={}){super(_e,_e,nt),this.isWebGLCubeRenderTarget=!0;const rt={width:_e,height:_e,depth:1},it=[rt,rt,rt,rt,rt,rt];this.texture=new CubeTexture(it,nt.mapping,nt.wrapS,nt.wrapT,nt.magFilter,nt.minFilter,nt.format,nt.type,nt.anisotropy,nt.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=nt.generateMipmaps!==void 0?nt.generateMipmaps:!1,this.texture.minFilter=nt.minFilter!==void 0?nt.minFilter:LinearFilter}fromEquirectangularTexture(_e,nt){this.texture.type=nt.type,this.texture.colorSpace=nt.colorSpace,this.texture.generateMipmaps=nt.generateMipmaps,this.texture.minFilter=nt.minFilter,this.texture.magFilter=nt.magFilter;const rt={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},it=new BoxGeometry(5,5,5),st=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(rt.uniforms),vertexShader:rt.vertexShader,fragmentShader:rt.fragmentShader,side:BackSide,blending:NoBlending});st.uniforms.tEquirect.value=nt;const at=new Mesh(it,st),ot=nt.minFilter;return nt.minFilter===LinearMipmapLinearFilter&&(nt.minFilter=LinearFilter),new CubeCamera(1,10,this).update(_e,at),nt.minFilter=ot,at.geometry.dispose(),at.material.dispose(),this}clear(_e,nt,rt,it){const st=_e.getRenderTarget();for(let at=0;at<6;at++)_e.setRenderTarget(this,at),_e.clear(nt,rt,it);_e.setRenderTarget(st)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(_e=new Vector3(1,0,0),nt=0){this.isPlane=!0,this.normal=_e,this.constant=nt}set(_e,nt){return this.normal.copy(_e),this.constant=nt,this}setComponents(_e,nt,rt,it){return this.normal.set(_e,nt,rt),this.constant=it,this}setFromNormalAndCoplanarPoint(_e,nt){return this.normal.copy(_e),this.constant=-nt.dot(this.normal),this}setFromCoplanarPoints(_e,nt,rt){const it=_vector1.subVectors(rt,nt).cross(_vector2.subVectors(_e,nt)).normalize();return this.setFromNormalAndCoplanarPoint(it,_e),this}copy(_e){return this.normal.copy(_e.normal),this.constant=_e.constant,this}normalize(){const _e=1/this.normal.length();return this.normal.multiplyScalar(_e),this.constant*=_e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(_e){return this.normal.dot(_e)+this.constant}distanceToSphere(_e){return this.distanceToPoint(_e.center)-_e.radius}projectPoint(_e,nt){return nt.copy(_e).addScaledVector(this.normal,-this.distanceToPoint(_e))}intersectLine(_e,nt){const rt=_e.delta(_vector1),it=this.normal.dot(rt);if(it===0)return this.distanceToPoint(_e.start)===0?nt.copy(_e.start):null;const st=-(_e.start.dot(this.normal)+this.constant)/it;return st<0||st>1?null:nt.copy(_e.start).addScaledVector(rt,st)}intersectsLine(_e){const nt=this.distanceToPoint(_e.start),rt=this.distanceToPoint(_e.end);return nt<0&&rt>0||rt<0&&nt>0}intersectsBox(_e){return _e.intersectsPlane(this)}intersectsSphere(_e){return _e.intersectsPlane(this)}coplanarPoint(_e){return _e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(_e,nt){const rt=nt||_normalMatrix.getNormalMatrix(_e),it=this.coplanarPoint(_vector1).applyMatrix4(_e),st=this.normal.applyMatrix3(rt).normalize();return this.constant=-it.dot(st),this}translate(_e){return this.constant-=_e.dot(this.normal),this}equals(_e){return _e.normal.equals(this.normal)&&_e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$5=new Sphere,_vector$7=new Vector3;class Frustum{constructor(_e=new Plane,nt=new Plane,rt=new Plane,it=new Plane,st=new Plane,at=new Plane){this.planes=[_e,nt,rt,it,st,at]}set(_e,nt,rt,it,st,at){const ot=this.planes;return ot[0].copy(_e),ot[1].copy(nt),ot[2].copy(rt),ot[3].copy(it),ot[4].copy(st),ot[5].copy(at),this}copy(_e){const nt=this.planes;for(let rt=0;rt<6;rt++)nt[rt].copy(_e.planes[rt]);return this}setFromProjectionMatrix(_e,nt=WebGLCoordinateSystem){const rt=this.planes,it=_e.elements,st=it[0],at=it[1],ot=it[2],lt=it[3],ct=it[4],ut=it[5],ft=it[6],ht=it[7],pt=it[8],dt=it[9],gt=it[10],vt=it[11],mt=it[12],xt=it[13],St=it[14],Et=it[15];if(rt[0].setComponents(lt-st,ht-ct,vt-pt,Et-mt).normalize(),rt[1].setComponents(lt+st,ht+ct,vt+pt,Et+mt).normalize(),rt[2].setComponents(lt+at,ht+ut,vt+dt,Et+xt).normalize(),rt[3].setComponents(lt-at,ht-ut,vt-dt,Et-xt).normalize(),rt[4].setComponents(lt-ot,ht-ft,vt-gt,Et-St).normalize(),nt===WebGLCoordinateSystem)rt[5].setComponents(lt+ot,ht+ft,vt+gt,Et+St).normalize();else if(nt===WebGPUCoordinateSystem)rt[5].setComponents(ot,ft,gt,St).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+nt);return this}intersectsObject(_e){if(_e.boundingSphere!==void 0)_e.boundingSphere===null&&_e.computeBoundingSphere(),_sphere$5.copy(_e.boundingSphere).applyMatrix4(_e.matrixWorld);else{const nt=_e.geometry;nt.boundingSphere===null&&nt.computeBoundingSphere(),_sphere$5.copy(nt.boundingSphere).applyMatrix4(_e.matrixWorld)}return this.intersectsSphere(_sphere$5)}intersectsSprite(_e){return _sphere$5.center.set(0,0,0),_sphere$5.radius=.7071067811865476,_sphere$5.applyMatrix4(_e.matrixWorld),this.intersectsSphere(_sphere$5)}intersectsSphere(_e){const nt=this.planes,rt=_e.center,it=-_e.radius;for(let st=0;st<6;st++)if(nt[st].distanceToPoint(rt)<it)return!1;return!0}intersectsBox(_e){const nt=this.planes;for(let rt=0;rt<6;rt++){const it=nt[rt];if(_vector$7.x=it.normal.x>0?_e.max.x:_e.min.x,_vector$7.y=it.normal.y>0?_e.max.y:_e.min.y,_vector$7.z=it.normal.z>0?_e.max.z:_e.min.z,it.distanceToPoint(_vector$7)<0)return!1}return!0}containsPoint(_e){const nt=this.planes;for(let rt=0;rt<6;rt++)if(nt[rt].distanceToPoint(_e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let tt=null,_e=!1,nt=null,rt=null;function it(st,at){nt(st,at),rt=tt.requestAnimationFrame(it)}return{start:function(){_e!==!0&&nt!==null&&(rt=tt.requestAnimationFrame(it),_e=!0)},stop:function(){tt.cancelAnimationFrame(rt),_e=!1},setAnimationLoop:function(st){nt=st},setContext:function(st){tt=st}}}function WebGLAttributes(tt){const _e=new WeakMap;function nt(ot,lt){const ct=ot.array,ut=ot.usage,ft=ct.byteLength,ht=tt.createBuffer();tt.bindBuffer(lt,ht),tt.bufferData(lt,ct,ut),ot.onUploadCallback();let pt;if(ct instanceof Float32Array)pt=tt.FLOAT;else if(ct instanceof Uint16Array)ot.isFloat16BufferAttribute?pt=tt.HALF_FLOAT:pt=tt.UNSIGNED_SHORT;else if(ct instanceof Int16Array)pt=tt.SHORT;else if(ct instanceof Uint32Array)pt=tt.UNSIGNED_INT;else if(ct instanceof Int32Array)pt=tt.INT;else if(ct instanceof Int8Array)pt=tt.BYTE;else if(ct instanceof Uint8Array)pt=tt.UNSIGNED_BYTE;else if(ct instanceof Uint8ClampedArray)pt=tt.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+ct);return{buffer:ht,type:pt,bytesPerElement:ct.BYTES_PER_ELEMENT,version:ot.version,size:ft}}function rt(ot,lt,ct){const ut=lt.array,ft=lt.updateRanges;if(tt.bindBuffer(ct,ot),ft.length===0)tt.bufferSubData(ct,0,ut);else{ft.sort((pt,dt)=>pt.start-dt.start);let ht=0;for(let pt=1;pt<ft.length;pt++){const dt=ft[ht],gt=ft[pt];gt.start<=dt.start+dt.count+1?dt.count=Math.max(dt.count,gt.start+gt.count-dt.start):(++ht,ft[ht]=gt)}ft.length=ht+1;for(let pt=0,dt=ft.length;pt<dt;pt++){const gt=ft[pt];tt.bufferSubData(ct,gt.start*ut.BYTES_PER_ELEMENT,ut,gt.start,gt.count)}lt.clearUpdateRanges()}lt.onUploadCallback()}function it(ot){return ot.isInterleavedBufferAttribute&&(ot=ot.data),_e.get(ot)}function st(ot){ot.isInterleavedBufferAttribute&&(ot=ot.data);const lt=_e.get(ot);lt&&(tt.deleteBuffer(lt.buffer),_e.delete(ot))}function at(ot,lt){if(ot.isInterleavedBufferAttribute&&(ot=ot.data),ot.isGLBufferAttribute){const ut=_e.get(ot);(!ut||ut.version<ot.version)&&_e.set(ot,{buffer:ot.buffer,type:ot.type,bytesPerElement:ot.elementSize,version:ot.version});return}const ct=_e.get(ot);if(ct===void 0)_e.set(ot,nt(ot,lt));else if(ct.version<ot.version){if(ct.size!==ot.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");rt(ct.buffer,ot,lt),ct.version=ot.version}}return{get:it,remove:st,update:at}}class PlaneGeometry extends BufferGeometry{constructor(_e=1,nt=1,rt=1,it=1){super(),this.type="PlaneGeometry",this.parameters={width:_e,height:nt,widthSegments:rt,heightSegments:it};const st=_e/2,at=nt/2,ot=Math.floor(rt),lt=Math.floor(it),ct=ot+1,ut=lt+1,ft=_e/ot,ht=nt/lt,pt=[],dt=[],gt=[],vt=[];for(let mt=0;mt<ut;mt++){const xt=mt*ht-at;for(let St=0;St<ct;St++){const Et=St*ft-st;dt.push(Et,-xt,0),gt.push(0,0,1),vt.push(St/ot),vt.push(1-mt/lt)}}for(let mt=0;mt<lt;mt++)for(let xt=0;xt<ot;xt++){const St=xt+ct*mt,Et=xt+ct*(mt+1),bt=xt+1+ct*(mt+1),Tt=xt+1+ct*mt;pt.push(St,Et,Tt),pt.push(Et,bt,Tt)}this.setIndex(pt),this.setAttribute("position",new Float32BufferAttribute(dt,3)),this.setAttribute("normal",new Float32BufferAttribute(gt,3)),this.setAttribute("uv",new Float32BufferAttribute(vt,2))}copy(_e){return super.copy(_e),this.parameters=Object.assign({},_e.parameters),this}static fromJSON(_e){return new PlaneGeometry(_e.width,_e.height,_e.widthSegments,_e.heightSegments)}}var alphahash_fragment=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,alphahash_pars_fragment=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,batching_pars_vertex=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,batching_vertex=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,begin_vertex=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,colorspace_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphinstance_vertex=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,normal_fragment_maps=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,opaque_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uv_pars_fragment=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_pars_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphahash_fragment,alphahash_pars_fragment,alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,batching_pars_vertex,batching_vertex,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,colorspace_fragment,colorspace_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphinstance_vertex,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,opaque_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Matrix3}},envmap:{envMap:{value:null},envMapRotation:{value:new Matrix3},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Matrix3}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Matrix3}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Matrix3},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Matrix3},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Matrix3},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Matrix3}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Matrix3}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Matrix3}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Matrix3}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Matrix3},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Matrix3},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Matrix3},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Matrix3},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Matrix3},sheen:{value:0},sheenColor:{value:new Color(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Matrix3},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Matrix3},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Matrix3},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Matrix3},attenuationDistance:{value:0},attenuationColor:{value:new Color(0)},specularColor:{value:new Color(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Matrix3},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Matrix3},anisotropyVector:{value:new Vector2},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Matrix3}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0},_e1$1=new Euler,_m1$1=new Matrix4;function WebGLBackground(tt,_e,nt,rt,it,st,at){const ot=new Color(0);let lt=st===!0?0:1,ct,ut,ft=null,ht=0,pt=null;function dt(xt){let St=xt.isScene===!0?xt.background:null;return St&&St.isTexture&&(St=(xt.backgroundBlurriness>0?nt:_e).get(St)),St}function gt(xt){let St=!1;const Et=dt(xt);Et===null?mt(ot,lt):Et&&Et.isColor&&(mt(Et,1),St=!0);const bt=tt.xr.getEnvironmentBlendMode();bt==="additive"?rt.buffers.color.setClear(0,0,0,1,at):bt==="alpha-blend"&&rt.buffers.color.setClear(0,0,0,0,at),(tt.autoClear||St)&&(rt.buffers.depth.setTest(!0),rt.buffers.depth.setMask(!0),rt.buffers.color.setMask(!0),tt.clear(tt.autoClearColor,tt.autoClearDepth,tt.autoClearStencil))}function vt(xt,St){const Et=dt(St);Et&&(Et.isCubeTexture||Et.mapping===CubeUVReflectionMapping)?(ut===void 0&&(ut=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),ut.geometry.deleteAttribute("normal"),ut.geometry.deleteAttribute("uv"),ut.onBeforeRender=function(bt,Tt,At){this.matrixWorld.copyPosition(At.matrixWorld)},Object.defineProperty(ut.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),it.update(ut)),_e1$1.copy(St.backgroundRotation),_e1$1.x*=-1,_e1$1.y*=-1,_e1$1.z*=-1,Et.isCubeTexture&&Et.isRenderTargetTexture===!1&&(_e1$1.y*=-1,_e1$1.z*=-1),ut.material.uniforms.envMap.value=Et,ut.material.uniforms.flipEnvMap.value=Et.isCubeTexture&&Et.isRenderTargetTexture===!1?-1:1,ut.material.uniforms.backgroundBlurriness.value=St.backgroundBlurriness,ut.material.uniforms.backgroundIntensity.value=St.backgroundIntensity,ut.material.uniforms.backgroundRotation.value.setFromMatrix4(_m1$1.makeRotationFromEuler(_e1$1)),ut.material.toneMapped=ColorManagement.getTransfer(Et.colorSpace)!==SRGBTransfer,(ft!==Et||ht!==Et.version||pt!==tt.toneMapping)&&(ut.material.needsUpdate=!0,ft=Et,ht=Et.version,pt=tt.toneMapping),ut.layers.enableAll(),xt.unshift(ut,ut.geometry,ut.material,0,0,null)):Et&&Et.isTexture&&(ct===void 0&&(ct=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),ct.geometry.deleteAttribute("normal"),Object.defineProperty(ct.material,"map",{get:function(){return this.uniforms.t2D.value}}),it.update(ct)),ct.material.uniforms.t2D.value=Et,ct.material.uniforms.backgroundIntensity.value=St.backgroundIntensity,ct.material.toneMapped=ColorManagement.getTransfer(Et.colorSpace)!==SRGBTransfer,Et.matrixAutoUpdate===!0&&Et.updateMatrix(),ct.material.uniforms.uvTransform.value.copy(Et.matrix),(ft!==Et||ht!==Et.version||pt!==tt.toneMapping)&&(ct.material.needsUpdate=!0,ft=Et,ht=Et.version,pt=tt.toneMapping),ct.layers.enableAll(),xt.unshift(ct,ct.geometry,ct.material,0,0,null))}function mt(xt,St){xt.getRGB(_rgb,getUnlitUniformColorSpace(tt)),rt.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,St,at)}return{getClearColor:function(){return ot},setClearColor:function(xt,St=1){ot.set(xt),lt=St,mt(ot,lt)},getClearAlpha:function(){return lt},setClearAlpha:function(xt){lt=xt,mt(ot,lt)},render:gt,addToRenderList:vt}}function WebGLBindingStates(tt,_e){const nt=tt.getParameter(tt.MAX_VERTEX_ATTRIBS),rt={},it=ht(null);let st=it,at=!1;function ot(It,Lt,Vt,Ut,Ot){let zt=!1;const Dt=ft(Ut,Vt,Lt);st!==Dt&&(st=Dt,ct(st.object)),zt=pt(It,Ut,Vt,Ot),zt&&dt(It,Ut,Vt,Ot),Ot!==null&&_e.update(Ot,tt.ELEMENT_ARRAY_BUFFER),(zt||at)&&(at=!1,Et(It,Lt,Vt,Ut),Ot!==null&&tt.bindBuffer(tt.ELEMENT_ARRAY_BUFFER,_e.get(Ot).buffer))}function lt(){return tt.createVertexArray()}function ct(It){return tt.bindVertexArray(It)}function ut(It){return tt.deleteVertexArray(It)}function ft(It,Lt,Vt){const Ut=Vt.wireframe===!0;let Ot=rt[It.id];Ot===void 0&&(Ot={},rt[It.id]=Ot);let zt=Ot[Lt.id];zt===void 0&&(zt={},Ot[Lt.id]=zt);let Dt=zt[Ut];return Dt===void 0&&(Dt=ht(lt()),zt[Ut]=Dt),Dt}function ht(It){const Lt=[],Vt=[],Ut=[];for(let Ot=0;Ot<nt;Ot++)Lt[Ot]=0,Vt[Ot]=0,Ut[Ot]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Lt,enabledAttributes:Vt,attributeDivisors:Ut,object:It,attributes:{},index:null}}function pt(It,Lt,Vt,Ut){const Ot=st.attributes,zt=Lt.attributes;let Dt=0;const $t=Vt.getAttributes();for(const Mt in $t)if($t[Mt].location>=0){const Nt=Ot[Mt];let Ft=zt[Mt];if(Ft===void 0&&(Mt==="instanceMatrix"&&It.instanceMatrix&&(Ft=It.instanceMatrix),Mt==="instanceColor"&&It.instanceColor&&(Ft=It.instanceColor)),Nt===void 0||Nt.attribute!==Ft||Ft&&Nt.data!==Ft.data)return!0;Dt++}return st.attributesNum!==Dt||st.index!==Ut}function dt(It,Lt,Vt,Ut){const Ot={},zt=Lt.attributes;let Dt=0;const $t=Vt.getAttributes();for(const Mt in $t)if($t[Mt].location>=0){let Nt=zt[Mt];Nt===void 0&&(Mt==="instanceMatrix"&&It.instanceMatrix&&(Nt=It.instanceMatrix),Mt==="instanceColor"&&It.instanceColor&&(Nt=It.instanceColor));const Ft={};Ft.attribute=Nt,Nt&&Nt.data&&(Ft.data=Nt.data),Ot[Mt]=Ft,Dt++}st.attributes=Ot,st.attributesNum=Dt,st.index=Ut}function gt(){const It=st.newAttributes;for(let Lt=0,Vt=It.length;Lt<Vt;Lt++)It[Lt]=0}function vt(It){mt(It,0)}function mt(It,Lt){const Vt=st.newAttributes,Ut=st.enabledAttributes,Ot=st.attributeDivisors;Vt[It]=1,Ut[It]===0&&(tt.enableVertexAttribArray(It),Ut[It]=1),Ot[It]!==Lt&&(tt.vertexAttribDivisor(It,Lt),Ot[It]=Lt)}function xt(){const It=st.newAttributes,Lt=st.enabledAttributes;for(let Vt=0,Ut=Lt.length;Vt<Ut;Vt++)Lt[Vt]!==It[Vt]&&(tt.disableVertexAttribArray(Vt),Lt[Vt]=0)}function St(It,Lt,Vt,Ut,Ot,zt,Dt){Dt===!0?tt.vertexAttribIPointer(It,Lt,Vt,Ot,zt):tt.vertexAttribPointer(It,Lt,Vt,Ut,Ot,zt)}function Et(It,Lt,Vt,Ut){gt();const Ot=Ut.attributes,zt=Vt.getAttributes(),Dt=Lt.defaultAttributeValues;for(const $t in zt){const Mt=zt[$t];if(Mt.location>=0){let Rt=Ot[$t];if(Rt===void 0&&($t==="instanceMatrix"&&It.instanceMatrix&&(Rt=It.instanceMatrix),$t==="instanceColor"&&It.instanceColor&&(Rt=It.instanceColor)),Rt!==void 0){const Nt=Rt.normalized,Ft=Rt.itemSize,qt=_e.get(Rt);if(qt===void 0)continue;const Qt=qt.buffer,Kt=qt.type,Zt=qt.bytesPerElement,tn=Kt===tt.INT||Kt===tt.UNSIGNED_INT||Rt.gpuType===IntType;if(Rt.isInterleavedBufferAttribute){const en=Rt.data,un=en.stride,Cn=Rt.offset;if(en.isInstancedInterleavedBuffer){for(let Rn=0;Rn<Mt.locationSize;Rn++)mt(Mt.location+Rn,en.meshPerAttribute);It.isInstancedMesh!==!0&&Ut._maxInstanceCount===void 0&&(Ut._maxInstanceCount=en.meshPerAttribute*en.count)}else for(let Rn=0;Rn<Mt.locationSize;Rn++)vt(Mt.location+Rn);tt.bindBuffer(tt.ARRAY_BUFFER,Qt);for(let Rn=0;Rn<Mt.locationSize;Rn++)St(Mt.location+Rn,Ft/Mt.locationSize,Kt,Nt,un*Zt,(Cn+Ft/Mt.locationSize*Rn)*Zt,tn)}else{if(Rt.isInstancedBufferAttribute){for(let en=0;en<Mt.locationSize;en++)mt(Mt.location+en,Rt.meshPerAttribute);It.isInstancedMesh!==!0&&Ut._maxInstanceCount===void 0&&(Ut._maxInstanceCount=Rt.meshPerAttribute*Rt.count)}else for(let en=0;en<Mt.locationSize;en++)vt(Mt.location+en);tt.bindBuffer(tt.ARRAY_BUFFER,Qt);for(let en=0;en<Mt.locationSize;en++)St(Mt.location+en,Ft/Mt.locationSize,Kt,Nt,Ft*Zt,Ft/Mt.locationSize*en*Zt,tn)}}else if(Dt!==void 0){const Nt=Dt[$t];if(Nt!==void 0)switch(Nt.length){case 2:tt.vertexAttrib2fv(Mt.location,Nt);break;case 3:tt.vertexAttrib3fv(Mt.location,Nt);break;case 4:tt.vertexAttrib4fv(Mt.location,Nt);break;default:tt.vertexAttrib1fv(Mt.location,Nt)}}}}xt()}function bt(){Ct();for(const It in rt){const Lt=rt[It];for(const Vt in Lt){const Ut=Lt[Vt];for(const Ot in Ut)ut(Ut[Ot].object),delete Ut[Ot];delete Lt[Vt]}delete rt[It]}}function Tt(It){if(rt[It.id]===void 0)return;const Lt=rt[It.id];for(const Vt in Lt){const Ut=Lt[Vt];for(const Ot in Ut)ut(Ut[Ot].object),delete Ut[Ot];delete Lt[Vt]}delete rt[It.id]}function At(It){for(const Lt in rt){const Vt=rt[Lt];if(Vt[It.id]===void 0)continue;const Ut=Vt[It.id];for(const Ot in Ut)ut(Ut[Ot].object),delete Ut[Ot];delete Vt[It.id]}}function Ct(){Pt(),at=!0,st!==it&&(st=it,ct(st.object))}function Pt(){it.geometry=null,it.program=null,it.wireframe=!1}return{setup:ot,reset:Ct,resetDefaultState:Pt,dispose:bt,releaseStatesOfGeometry:Tt,releaseStatesOfProgram:At,initAttributes:gt,enableAttribute:vt,disableUnusedAttributes:xt}}function WebGLBufferRenderer(tt,_e,nt){let rt;function it(ct){rt=ct}function st(ct,ut){tt.drawArrays(rt,ct,ut),nt.update(ut,rt,1)}function at(ct,ut,ft){ft!==0&&(tt.drawArraysInstanced(rt,ct,ut,ft),nt.update(ut,rt,ft))}function ot(ct,ut,ft){if(ft===0)return;_e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(rt,ct,0,ut,0,ft);let pt=0;for(let dt=0;dt<ft;dt++)pt+=ut[dt];nt.update(pt,rt,1)}function lt(ct,ut,ft,ht){if(ft===0)return;const pt=_e.get("WEBGL_multi_draw");if(pt===null)for(let dt=0;dt<ct.length;dt++)at(ct[dt],ut[dt],ht[dt]);else{pt.multiDrawArraysInstancedWEBGL(rt,ct,0,ut,0,ht,0,ft);let dt=0;for(let gt=0;gt<ft;gt++)dt+=ut[gt]*ht[gt];nt.update(dt,rt,1)}}this.setMode=it,this.render=st,this.renderInstances=at,this.renderMultiDraw=ot,this.renderMultiDrawInstances=lt}function WebGLCapabilities(tt,_e,nt,rt){let it;function st(){if(it!==void 0)return it;if(_e.has("EXT_texture_filter_anisotropic")===!0){const At=_e.get("EXT_texture_filter_anisotropic");it=tt.getParameter(At.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else it=0;return it}function at(At){return!(At!==RGBAFormat&&rt.convert(At)!==tt.getParameter(tt.IMPLEMENTATION_COLOR_READ_FORMAT))}function ot(At){const Ct=At===HalfFloatType&&(_e.has("EXT_color_buffer_half_float")||_e.has("EXT_color_buffer_float"));return!(At!==UnsignedByteType&&rt.convert(At)!==tt.getParameter(tt.IMPLEMENTATION_COLOR_READ_TYPE)&&At!==FloatType&&!Ct)}function lt(At){if(At==="highp"){if(tt.getShaderPrecisionFormat(tt.VERTEX_SHADER,tt.HIGH_FLOAT).precision>0&&tt.getShaderPrecisionFormat(tt.FRAGMENT_SHADER,tt.HIGH_FLOAT).precision>0)return"highp";At="mediump"}return At==="mediump"&&tt.getShaderPrecisionFormat(tt.VERTEX_SHADER,tt.MEDIUM_FLOAT).precision>0&&tt.getShaderPrecisionFormat(tt.FRAGMENT_SHADER,tt.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let ct=nt.precision!==void 0?nt.precision:"highp";const ut=lt(ct);ut!==ct&&(console.warn("THREE.WebGLRenderer:",ct,"not supported, using",ut,"instead."),ct=ut);const ft=nt.logarithmicDepthBuffer===!0,ht=nt.reverseDepthBuffer===!0&&_e.has("EXT_clip_control"),pt=tt.getParameter(tt.MAX_TEXTURE_IMAGE_UNITS),dt=tt.getParameter(tt.MAX_VERTEX_TEXTURE_IMAGE_UNITS),gt=tt.getParameter(tt.MAX_TEXTURE_SIZE),vt=tt.getParameter(tt.MAX_CUBE_MAP_TEXTURE_SIZE),mt=tt.getParameter(tt.MAX_VERTEX_ATTRIBS),xt=tt.getParameter(tt.MAX_VERTEX_UNIFORM_VECTORS),St=tt.getParameter(tt.MAX_VARYING_VECTORS),Et=tt.getParameter(tt.MAX_FRAGMENT_UNIFORM_VECTORS),bt=dt>0,Tt=tt.getParameter(tt.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:st,getMaxPrecision:lt,textureFormatReadable:at,textureTypeReadable:ot,precision:ct,logarithmicDepthBuffer:ft,reverseDepthBuffer:ht,maxTextures:pt,maxVertexTextures:dt,maxTextureSize:gt,maxCubemapSize:vt,maxAttributes:mt,maxVertexUniforms:xt,maxVaryings:St,maxFragmentUniforms:Et,vertexTextures:bt,maxSamples:Tt}}function WebGLClipping(tt){const _e=this;let nt=null,rt=0,it=!1,st=!1;const at=new Plane,ot=new Matrix3,lt={value:null,needsUpdate:!1};this.uniform=lt,this.numPlanes=0,this.numIntersection=0,this.init=function(ft,ht){const pt=ft.length!==0||ht||rt!==0||it;return it=ht,rt=ft.length,pt},this.beginShadows=function(){st=!0,ut(null)},this.endShadows=function(){st=!1},this.setGlobalState=function(ft,ht){nt=ut(ft,ht,0)},this.setState=function(ft,ht,pt){const dt=ft.clippingPlanes,gt=ft.clipIntersection,vt=ft.clipShadows,mt=tt.get(ft);if(!it||dt===null||dt.length===0||st&&!vt)st?ut(null):ct();else{const xt=st?0:rt,St=xt*4;let Et=mt.clippingState||null;lt.value=Et,Et=ut(dt,ht,St,pt);for(let bt=0;bt!==St;++bt)Et[bt]=nt[bt];mt.clippingState=Et,this.numIntersection=gt?this.numPlanes:0,this.numPlanes+=xt}};function ct(){lt.value!==nt&&(lt.value=nt,lt.needsUpdate=rt>0),_e.numPlanes=rt,_e.numIntersection=0}function ut(ft,ht,pt,dt){const gt=ft!==null?ft.length:0;let vt=null;if(gt!==0){if(vt=lt.value,dt!==!0||vt===null){const mt=pt+gt*4,xt=ht.matrixWorldInverse;ot.getNormalMatrix(xt),(vt===null||vt.length<mt)&&(vt=new Float32Array(mt));for(let St=0,Et=pt;St!==gt;++St,Et+=4)at.copy(ft[St]).applyMatrix4(xt,ot),at.normal.toArray(vt,Et),vt[Et+3]=at.constant}lt.value=vt,lt.needsUpdate=!0}return _e.numPlanes=gt,_e.numIntersection=0,vt}}function WebGLCubeMaps(tt){let _e=new WeakMap;function nt(at,ot){return ot===EquirectangularReflectionMapping?at.mapping=CubeReflectionMapping:ot===EquirectangularRefractionMapping&&(at.mapping=CubeRefractionMapping),at}function rt(at){if(at&&at.isTexture){const ot=at.mapping;if(ot===EquirectangularReflectionMapping||ot===EquirectangularRefractionMapping)if(_e.has(at)){const lt=_e.get(at).texture;return nt(lt,at.mapping)}else{const lt=at.image;if(lt&&lt.height>0){const ct=new WebGLCubeRenderTarget(lt.height);return ct.fromEquirectangularTexture(tt,at),_e.set(at,ct),at.addEventListener("dispose",it),nt(ct.texture,at.mapping)}else return null}}return at}function it(at){const ot=at.target;ot.removeEventListener("dispose",it);const lt=_e.get(ot);lt!==void 0&&(_e.delete(ot),lt.dispose())}function st(){_e=new WeakMap}return{get:rt,dispose:st}}class OrthographicCamera extends Camera{constructor(_e=-1,nt=1,rt=1,it=-1,st=.1,at=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=_e,this.right=nt,this.top=rt,this.bottom=it,this.near=st,this.far=at,this.updateProjectionMatrix()}copy(_e,nt){return super.copy(_e,nt),this.left=_e.left,this.right=_e.right,this.top=_e.top,this.bottom=_e.bottom,this.near=_e.near,this.far=_e.far,this.zoom=_e.zoom,this.view=_e.view===null?null:Object.assign({},_e.view),this}setViewOffset(_e,nt,rt,it,st,at){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=_e,this.view.fullHeight=nt,this.view.offsetX=rt,this.view.offsetY=it,this.view.width=st,this.view.height=at,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const _e=(this.right-this.left)/(2*this.zoom),nt=(this.top-this.bottom)/(2*this.zoom),rt=(this.right+this.left)/2,it=(this.top+this.bottom)/2;let st=rt-_e,at=rt+_e,ot=it+nt,lt=it-nt;if(this.view!==null&&this.view.enabled){const ct=(this.right-this.left)/this.view.fullWidth/this.zoom,ut=(this.top-this.bottom)/this.view.fullHeight/this.zoom;st+=ct*this.view.offsetX,at=st+ct*this.view.width,ot-=ut*this.view.offsetY,lt=ot-ut*this.view.height}this.projectionMatrix.makeOrthographic(st,at,ot,lt,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(_e){const nt=super.toJSON(_e);return nt.object.zoom=this.zoom,nt.object.left=this.left,nt.object.right=this.right,nt.object.top=this.top,nt.object.bottom=this.bottom,nt.object.near=this.near,nt.object.far=this.far,this.view!==null&&(nt.object.view=Object.assign({},this.view)),nt}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color;let _oldTarget=null,_oldActiveCubeFace=0,_oldActiveMipmapLevel=0,_oldXrEnabled=!1;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(-PHI,INV_PHI,0),new Vector3(PHI,INV_PHI,0),new Vector3(-INV_PHI,0,PHI),new Vector3(INV_PHI,0,PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(0,PHI,INV_PHI),new Vector3(-1,1,-1),new Vector3(1,1,-1),new Vector3(-1,1,1),new Vector3(1,1,1)];class PMREMGenerator{constructor(_e){this._renderer=_e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(_e,nt=0,rt=.1,it=100){_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const st=this._allocateTargets();return st.depthBuffer=!0,this._sceneToCubeUV(_e,rt,it,st),nt>0&&this._blur(st,0,0,nt),this._applyPMREM(st),this._cleanup(st),st}fromEquirectangular(_e,nt=null){return this._fromTexture(_e,nt)}fromCubemap(_e,nt=null){return this._fromTexture(_e,nt)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(_e){this._lodMax=Math.floor(Math.log2(_e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let _e=0;_e<this._lodPlanes.length;_e++)this._lodPlanes[_e].dispose()}_cleanup(_e){this._renderer.setRenderTarget(_oldTarget,_oldActiveCubeFace,_oldActiveMipmapLevel),this._renderer.xr.enabled=_oldXrEnabled,_e.scissorTest=!1,_setViewport(_e,0,0,_e.width,_e.height)}_fromTexture(_e,nt){_e.mapping===CubeReflectionMapping||_e.mapping===CubeRefractionMapping?this._setSize(_e.image.length===0?16:_e.image[0].width||_e.image[0].image.width):this._setSize(_e.image.width/4),_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),_oldXrEnabled=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const rt=nt||this._allocateTargets();return this._textureToCubeUV(_e,rt),this._applyPMREM(rt),this._cleanup(rt),rt}_allocateTargets(){const _e=3*Math.max(this._cubeSize,112),nt=4*this._cubeSize,rt={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,colorSpace:LinearSRGBColorSpace,depthBuffer:!1},it=_createRenderTarget(_e,nt,rt);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==_e||this._pingPongRenderTarget.height!==nt){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(_e,nt,rt);const{_lodMax:st}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(st)),this._blurMaterial=_getBlurShader(st,_e,nt)}return it}_compileMaterial(_e){const nt=new Mesh(this._lodPlanes[0],_e);this._renderer.compile(nt,_flatCamera)}_sceneToCubeUV(_e,nt,rt,it){const ot=new PerspectiveCamera(90,1,nt,rt),lt=[1,-1,1,1,1,1],ct=[1,1,1,-1,-1,-1],ut=this._renderer,ft=ut.autoClear,ht=ut.toneMapping;ut.getClearColor(_clearColor),ut.toneMapping=NoToneMapping,ut.autoClear=!1;const pt=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),dt=new Mesh(new BoxGeometry,pt);let gt=!1;const vt=_e.background;vt?vt.isColor&&(pt.color.copy(vt),_e.background=null,gt=!0):(pt.color.copy(_clearColor),gt=!0);for(let mt=0;mt<6;mt++){const xt=mt%3;xt===0?(ot.up.set(0,lt[mt],0),ot.lookAt(ct[mt],0,0)):xt===1?(ot.up.set(0,0,lt[mt]),ot.lookAt(0,ct[mt],0)):(ot.up.set(0,lt[mt],0),ot.lookAt(0,0,ct[mt]));const St=this._cubeSize;_setViewport(it,xt*St,mt>2?St:0,St,St),ut.setRenderTarget(it),gt&&ut.render(dt,ot),ut.render(_e,ot)}dt.geometry.dispose(),dt.material.dispose(),ut.toneMapping=ht,ut.autoClear=ft,_e.background=vt}_textureToCubeUV(_e,nt){const rt=this._renderer,it=_e.mapping===CubeReflectionMapping||_e.mapping===CubeRefractionMapping;it?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=_e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const st=it?this._cubemapMaterial:this._equirectMaterial,at=new Mesh(this._lodPlanes[0],st),ot=st.uniforms;ot.envMap.value=_e;const lt=this._cubeSize;_setViewport(nt,0,0,3*lt,2*lt),rt.setRenderTarget(nt),rt.render(at,_flatCamera)}_applyPMREM(_e){const nt=this._renderer,rt=nt.autoClear;nt.autoClear=!1;const it=this._lodPlanes.length;for(let st=1;st<it;st++){const at=Math.sqrt(this._sigmas[st]*this._sigmas[st]-this._sigmas[st-1]*this._sigmas[st-1]),ot=_axisDirections[(it-st-1)%_axisDirections.length];this._blur(_e,st-1,st,at,ot)}nt.autoClear=rt}_blur(_e,nt,rt,it,st){const at=this._pingPongRenderTarget;this._halfBlur(_e,at,nt,rt,it,"latitudinal",st),this._halfBlur(at,_e,rt,rt,it,"longitudinal",st)}_halfBlur(_e,nt,rt,it,st,at,ot){const lt=this._renderer,ct=this._blurMaterial;at!=="latitudinal"&&at!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const ut=3,ft=new Mesh(this._lodPlanes[it],ct),ht=ct.uniforms,pt=this._sizeLods[rt]-1,dt=isFinite(st)?Math.PI/(2*pt):2*Math.PI/(2*MAX_SAMPLES-1),gt=st/dt,vt=isFinite(st)?1+Math.floor(ut*gt):MAX_SAMPLES;vt>MAX_SAMPLES&&console.warn(`sigmaRadians, ${st}, is too large and will clip, as it requested ${vt} samples when the maximum is set to ${MAX_SAMPLES}`);const mt=[];let xt=0;for(let At=0;At<MAX_SAMPLES;++At){const Ct=At/gt,Pt=Math.exp(-Ct*Ct/2);mt.push(Pt),At===0?xt+=Pt:At<vt&&(xt+=2*Pt)}for(let At=0;At<mt.length;At++)mt[At]=mt[At]/xt;ht.envMap.value=_e.texture,ht.samples.value=vt,ht.weights.value=mt,ht.latitudinal.value=at==="latitudinal",ot&&(ht.poleAxis.value=ot);const{_lodMax:St}=this;ht.dTheta.value=dt,ht.mipInt.value=St-rt;const Et=this._sizeLods[it],bt=3*Et*(it>St-LOD_MIN?it-St+LOD_MIN:0),Tt=4*(this._cubeSize-Et);_setViewport(nt,bt,Tt,3*Et,2*Et),lt.setRenderTarget(nt),lt.render(ft,_flatCamera)}}function _createPlanes(tt){const _e=[],nt=[],rt=[];let it=tt;const st=tt-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let at=0;at<st;at++){const ot=Math.pow(2,it);nt.push(ot);let lt=1/ot;at>tt-LOD_MIN?lt=EXTRA_LOD_SIGMA[at-tt+LOD_MIN-1]:at===0&&(lt=0),rt.push(lt);const ct=1/(ot-2),ut=-ct,ft=1+ct,ht=[ut,ut,ft,ut,ft,ft,ut,ut,ft,ft,ut,ft],pt=6,dt=6,gt=3,vt=2,mt=1,xt=new Float32Array(gt*dt*pt),St=new Float32Array(vt*dt*pt),Et=new Float32Array(mt*dt*pt);for(let Tt=0;Tt<pt;Tt++){const At=Tt%3*2/3-1,Ct=Tt>2?0:-1,Pt=[At,Ct,0,At+2/3,Ct,0,At+2/3,Ct+1,0,At,Ct,0,At+2/3,Ct+1,0,At,Ct+1,0];xt.set(Pt,gt*dt*Tt),St.set(ht,vt*dt*Tt);const It=[Tt,Tt,Tt,Tt,Tt,Tt];Et.set(It,mt*dt*Tt)}const bt=new BufferGeometry;bt.setAttribute("position",new BufferAttribute(xt,gt)),bt.setAttribute("uv",new BufferAttribute(St,vt)),bt.setAttribute("faceIndex",new BufferAttribute(Et,mt)),_e.push(bt),it>LOD_MIN&&it--}return{lodPlanes:_e,sizeLods:nt,sigmas:rt}}function _createRenderTarget(tt,_e,nt){const rt=new WebGLRenderTarget(tt,_e,nt);return rt.texture.mapping=CubeUVReflectionMapping,rt.texture.name="PMREM.cubeUv",rt.scissorTest=!0,rt}function _setViewport(tt,_e,nt,rt,it){tt.viewport.set(_e,nt,rt,it),tt.scissor.set(_e,nt,rt,it)}function _getBlurShader(tt,_e,nt){const rt=new Float32Array(MAX_SAMPLES),it=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/_e,CUBEUV_TEXEL_HEIGHT:1/nt,CUBEUV_MAX_MIP:`${tt}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:rt},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:it}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(tt){let _e=new WeakMap,nt=null;function rt(ot){if(ot&&ot.isTexture){const lt=ot.mapping,ct=lt===EquirectangularReflectionMapping||lt===EquirectangularRefractionMapping,ut=lt===CubeReflectionMapping||lt===CubeRefractionMapping;if(ct||ut){let ft=_e.get(ot);const ht=ft!==void 0?ft.texture.pmremVersion:0;if(ot.isRenderTargetTexture&&ot.pmremVersion!==ht)return nt===null&&(nt=new PMREMGenerator(tt)),ft=ct?nt.fromEquirectangular(ot,ft):nt.fromCubemap(ot,ft),ft.texture.pmremVersion=ot.pmremVersion,_e.set(ot,ft),ft.texture;if(ft!==void 0)return ft.texture;{const pt=ot.image;return ct&&pt&&pt.height>0||ut&&pt&&it(pt)?(nt===null&&(nt=new PMREMGenerator(tt)),ft=ct?nt.fromEquirectangular(ot):nt.fromCubemap(ot),ft.texture.pmremVersion=ot.pmremVersion,_e.set(ot,ft),ot.addEventListener("dispose",st),ft.texture):null}}}return ot}function it(ot){let lt=0;const ct=6;for(let ut=0;ut<ct;ut++)ot[ut]!==void 0&&lt++;return lt===ct}function st(ot){const lt=ot.target;lt.removeEventListener("dispose",st);const ct=_e.get(lt);ct!==void 0&&(_e.delete(lt),ct.dispose())}function at(){_e=new WeakMap,nt!==null&&(nt.dispose(),nt=null)}return{get:rt,dispose:at}}function WebGLExtensions(tt){const _e={};function nt(rt){if(_e[rt]!==void 0)return _e[rt];let it;switch(rt){case"WEBGL_depth_texture":it=tt.getExtension("WEBGL_depth_texture")||tt.getExtension("MOZ_WEBGL_depth_texture")||tt.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":it=tt.getExtension("EXT_texture_filter_anisotropic")||tt.getExtension("MOZ_EXT_texture_filter_anisotropic")||tt.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":it=tt.getExtension("WEBGL_compressed_texture_s3tc")||tt.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||tt.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":it=tt.getExtension("WEBGL_compressed_texture_pvrtc")||tt.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:it=tt.getExtension(rt)}return _e[rt]=it,it}return{has:function(rt){return nt(rt)!==null},init:function(){nt("EXT_color_buffer_float"),nt("WEBGL_clip_cull_distance"),nt("OES_texture_float_linear"),nt("EXT_color_buffer_half_float"),nt("WEBGL_multisampled_render_to_texture"),nt("WEBGL_render_shared_exponent")},get:function(rt){const it=nt(rt);return it===null&&warnOnce("THREE.WebGLRenderer: "+rt+" extension not supported."),it}}}function WebGLGeometries(tt,_e,nt,rt){const it={},st=new WeakMap;function at(ft){const ht=ft.target;ht.index!==null&&_e.remove(ht.index);for(const dt in ht.attributes)_e.remove(ht.attributes[dt]);for(const dt in ht.morphAttributes){const gt=ht.morphAttributes[dt];for(let vt=0,mt=gt.length;vt<mt;vt++)_e.remove(gt[vt])}ht.removeEventListener("dispose",at),delete it[ht.id];const pt=st.get(ht);pt&&(_e.remove(pt),st.delete(ht)),rt.releaseStatesOfGeometry(ht),ht.isInstancedBufferGeometry===!0&&delete ht._maxInstanceCount,nt.memory.geometries--}function ot(ft,ht){return it[ht.id]===!0||(ht.addEventListener("dispose",at),it[ht.id]=!0,nt.memory.geometries++),ht}function lt(ft){const ht=ft.attributes;for(const dt in ht)_e.update(ht[dt],tt.ARRAY_BUFFER);const pt=ft.morphAttributes;for(const dt in pt){const gt=pt[dt];for(let vt=0,mt=gt.length;vt<mt;vt++)_e.update(gt[vt],tt.ARRAY_BUFFER)}}function ct(ft){const ht=[],pt=ft.index,dt=ft.attributes.position;let gt=0;if(pt!==null){const xt=pt.array;gt=pt.version;for(let St=0,Et=xt.length;St<Et;St+=3){const bt=xt[St+0],Tt=xt[St+1],At=xt[St+2];ht.push(bt,Tt,Tt,At,At,bt)}}else if(dt!==void 0){const xt=dt.array;gt=dt.version;for(let St=0,Et=xt.length/3-1;St<Et;St+=3){const bt=St+0,Tt=St+1,At=St+2;ht.push(bt,Tt,Tt,At,At,bt)}}else return;const vt=new(arrayNeedsUint32(ht)?Uint32BufferAttribute:Uint16BufferAttribute)(ht,1);vt.version=gt;const mt=st.get(ft);mt&&_e.remove(mt),st.set(ft,vt)}function ut(ft){const ht=st.get(ft);if(ht){const pt=ft.index;pt!==null&&ht.version<pt.version&&ct(ft)}else ct(ft);return st.get(ft)}return{get:ot,update:lt,getWireframeAttribute:ut}}function WebGLIndexedBufferRenderer(tt,_e,nt){let rt;function it(ht){rt=ht}let st,at;function ot(ht){st=ht.type,at=ht.bytesPerElement}function lt(ht,pt){tt.drawElements(rt,pt,st,ht*at),nt.update(pt,rt,1)}function ct(ht,pt,dt){dt!==0&&(tt.drawElementsInstanced(rt,pt,st,ht*at,dt),nt.update(pt,rt,dt))}function ut(ht,pt,dt){if(dt===0)return;_e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(rt,pt,0,st,ht,0,dt);let vt=0;for(let mt=0;mt<dt;mt++)vt+=pt[mt];nt.update(vt,rt,1)}function ft(ht,pt,dt,gt){if(dt===0)return;const vt=_e.get("WEBGL_multi_draw");if(vt===null)for(let mt=0;mt<ht.length;mt++)ct(ht[mt]/at,pt[mt],gt[mt]);else{vt.multiDrawElementsInstancedWEBGL(rt,pt,0,st,ht,0,gt,0,dt);let mt=0;for(let xt=0;xt<dt;xt++)mt+=pt[xt]*gt[xt];nt.update(mt,rt,1)}}this.setMode=it,this.setIndex=ot,this.render=lt,this.renderInstances=ct,this.renderMultiDraw=ut,this.renderMultiDrawInstances=ft}function WebGLInfo(tt){const _e={geometries:0,textures:0},nt={frame:0,calls:0,triangles:0,points:0,lines:0};function rt(st,at,ot){switch(nt.calls++,at){case tt.TRIANGLES:nt.triangles+=ot*(st/3);break;case tt.LINES:nt.lines+=ot*(st/2);break;case tt.LINE_STRIP:nt.lines+=ot*(st-1);break;case tt.LINE_LOOP:nt.lines+=ot*st;break;case tt.POINTS:nt.points+=ot*st;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",at);break}}function it(){nt.calls=0,nt.triangles=0,nt.points=0,nt.lines=0}return{memory:_e,render:nt,programs:null,autoReset:!0,reset:it,update:rt}}function WebGLMorphtargets(tt,_e,nt){const rt=new WeakMap,it=new Vector4;function st(at,ot,lt){const ct=at.morphTargetInfluences,ut=ot.morphAttributes.position||ot.morphAttributes.normal||ot.morphAttributes.color,ft=ut!==void 0?ut.length:0;let ht=rt.get(ot);if(ht===void 0||ht.count!==ft){let It=function(){Ct.dispose(),rt.delete(ot),ot.removeEventListener("dispose",It)};var pt=It;ht!==void 0&&ht.texture.dispose();const dt=ot.morphAttributes.position!==void 0,gt=ot.morphAttributes.normal!==void 0,vt=ot.morphAttributes.color!==void 0,mt=ot.morphAttributes.position||[],xt=ot.morphAttributes.normal||[],St=ot.morphAttributes.color||[];let Et=0;dt===!0&&(Et=1),gt===!0&&(Et=2),vt===!0&&(Et=3);let bt=ot.attributes.position.count*Et,Tt=1;bt>_e.maxTextureSize&&(Tt=Math.ceil(bt/_e.maxTextureSize),bt=_e.maxTextureSize);const At=new Float32Array(bt*Tt*4*ft),Ct=new DataArrayTexture(At,bt,Tt,ft);Ct.type=FloatType,Ct.needsUpdate=!0;const Pt=Et*4;for(let Lt=0;Lt<ft;Lt++){const Vt=mt[Lt],Ut=xt[Lt],Ot=St[Lt],zt=bt*Tt*4*Lt;for(let Dt=0;Dt<Vt.count;Dt++){const $t=Dt*Pt;dt===!0&&(it.fromBufferAttribute(Vt,Dt),At[zt+$t+0]=it.x,At[zt+$t+1]=it.y,At[zt+$t+2]=it.z,At[zt+$t+3]=0),gt===!0&&(it.fromBufferAttribute(Ut,Dt),At[zt+$t+4]=it.x,At[zt+$t+5]=it.y,At[zt+$t+6]=it.z,At[zt+$t+7]=0),vt===!0&&(it.fromBufferAttribute(Ot,Dt),At[zt+$t+8]=it.x,At[zt+$t+9]=it.y,At[zt+$t+10]=it.z,At[zt+$t+11]=Ot.itemSize===4?it.w:1)}}ht={count:ft,texture:Ct,size:new Vector2(bt,Tt)},rt.set(ot,ht),ot.addEventListener("dispose",It)}if(at.isInstancedMesh===!0&&at.morphTexture!==null)lt.getUniforms().setValue(tt,"morphTexture",at.morphTexture,nt);else{let dt=0;for(let vt=0;vt<ct.length;vt++)dt+=ct[vt];const gt=ot.morphTargetsRelative?1:1-dt;lt.getUniforms().setValue(tt,"morphTargetBaseInfluence",gt),lt.getUniforms().setValue(tt,"morphTargetInfluences",ct)}lt.getUniforms().setValue(tt,"morphTargetsTexture",ht.texture,nt),lt.getUniforms().setValue(tt,"morphTargetsTextureSize",ht.size)}return{update:st}}function WebGLObjects(tt,_e,nt,rt){let it=new WeakMap;function st(lt){const ct=rt.render.frame,ut=lt.geometry,ft=_e.get(lt,ut);if(it.get(ft)!==ct&&(_e.update(ft),it.set(ft,ct)),lt.isInstancedMesh&&(lt.hasEventListener("dispose",ot)===!1&&lt.addEventListener("dispose",ot),it.get(lt)!==ct&&(nt.update(lt.instanceMatrix,tt.ARRAY_BUFFER),lt.instanceColor!==null&&nt.update(lt.instanceColor,tt.ARRAY_BUFFER),it.set(lt,ct))),lt.isSkinnedMesh){const ht=lt.skeleton;it.get(ht)!==ct&&(ht.update(),it.set(ht,ct))}return ft}function at(){it=new WeakMap}function ot(lt){const ct=lt.target;ct.removeEventListener("dispose",ot),nt.remove(ct.instanceMatrix),ct.instanceColor!==null&&nt.remove(ct.instanceColor)}return{update:st,dispose:at}}class DepthTexture extends Texture{constructor(_e,nt,rt,it,st,at,ot,lt,ct,ut=DepthFormat){if(ut!==DepthFormat&&ut!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");rt===void 0&&ut===DepthFormat&&(rt=UnsignedIntType),rt===void 0&&ut===DepthStencilFormat&&(rt=UnsignedInt248Type),super(null,it,st,at,ot,lt,ut,rt,ct),this.isDepthTexture=!0,this.image={width:_e,height:nt},this.magFilter=ot!==void 0?ot:NearestFilter,this.minFilter=lt!==void 0?lt:NearestFilter,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(_e){return super.copy(_e),this.compareFunction=_e.compareFunction,this}toJSON(_e){const nt=super.toJSON(_e);return this.compareFunction!==null&&(nt.compareFunction=this.compareFunction),nt}}const emptyTexture=new Texture,emptyShadowTexture=new DepthTexture(1,1),emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(tt,_e,nt){const rt=tt[0];if(rt<=0||rt>0)return tt;const it=_e*nt;let st=arrayCacheF32[it];if(st===void 0&&(st=new Float32Array(it),arrayCacheF32[it]=st),_e!==0){rt.toArray(st,0);for(let at=1,ot=0;at!==_e;++at)ot+=nt,tt[at].toArray(st,ot)}return st}function arraysEqual(tt,_e){if(tt.length!==_e.length)return!1;for(let nt=0,rt=tt.length;nt<rt;nt++)if(tt[nt]!==_e[nt])return!1;return!0}function copyArray(tt,_e){for(let nt=0,rt=_e.length;nt<rt;nt++)tt[nt]=_e[nt]}function allocTexUnits(tt,_e){let nt=arrayCacheI32[_e];nt===void 0&&(nt=new Int32Array(_e),arrayCacheI32[_e]=nt);for(let rt=0;rt!==_e;++rt)nt[rt]=tt.allocateTextureUnit();return nt}function setValueV1f(tt,_e){const nt=this.cache;nt[0]!==_e&&(tt.uniform1f(this.addr,_e),nt[0]=_e)}function setValueV2f(tt,_e){const nt=this.cache;if(_e.x!==void 0)(nt[0]!==_e.x||nt[1]!==_e.y)&&(tt.uniform2f(this.addr,_e.x,_e.y),nt[0]=_e.x,nt[1]=_e.y);else{if(arraysEqual(nt,_e))return;tt.uniform2fv(this.addr,_e),copyArray(nt,_e)}}function setValueV3f(tt,_e){const nt=this.cache;if(_e.x!==void 0)(nt[0]!==_e.x||nt[1]!==_e.y||nt[2]!==_e.z)&&(tt.uniform3f(this.addr,_e.x,_e.y,_e.z),nt[0]=_e.x,nt[1]=_e.y,nt[2]=_e.z);else if(_e.r!==void 0)(nt[0]!==_e.r||nt[1]!==_e.g||nt[2]!==_e.b)&&(tt.uniform3f(this.addr,_e.r,_e.g,_e.b),nt[0]=_e.r,nt[1]=_e.g,nt[2]=_e.b);else{if(arraysEqual(nt,_e))return;tt.uniform3fv(this.addr,_e),copyArray(nt,_e)}}function setValueV4f(tt,_e){const nt=this.cache;if(_e.x!==void 0)(nt[0]!==_e.x||nt[1]!==_e.y||nt[2]!==_e.z||nt[3]!==_e.w)&&(tt.uniform4f(this.addr,_e.x,_e.y,_e.z,_e.w),nt[0]=_e.x,nt[1]=_e.y,nt[2]=_e.z,nt[3]=_e.w);else{if(arraysEqual(nt,_e))return;tt.uniform4fv(this.addr,_e),copyArray(nt,_e)}}function setValueM2(tt,_e){const nt=this.cache,rt=_e.elements;if(rt===void 0){if(arraysEqual(nt,_e))return;tt.uniformMatrix2fv(this.addr,!1,_e),copyArray(nt,_e)}else{if(arraysEqual(nt,rt))return;mat2array.set(rt),tt.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(nt,rt)}}function setValueM3(tt,_e){const nt=this.cache,rt=_e.elements;if(rt===void 0){if(arraysEqual(nt,_e))return;tt.uniformMatrix3fv(this.addr,!1,_e),copyArray(nt,_e)}else{if(arraysEqual(nt,rt))return;mat3array.set(rt),tt.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(nt,rt)}}function setValueM4(tt,_e){const nt=this.cache,rt=_e.elements;if(rt===void 0){if(arraysEqual(nt,_e))return;tt.uniformMatrix4fv(this.addr,!1,_e),copyArray(nt,_e)}else{if(arraysEqual(nt,rt))return;mat4array.set(rt),tt.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(nt,rt)}}function setValueV1i(tt,_e){const nt=this.cache;nt[0]!==_e&&(tt.uniform1i(this.addr,_e),nt[0]=_e)}function setValueV2i(tt,_e){const nt=this.cache;if(_e.x!==void 0)(nt[0]!==_e.x||nt[1]!==_e.y)&&(tt.uniform2i(this.addr,_e.x,_e.y),nt[0]=_e.x,nt[1]=_e.y);else{if(arraysEqual(nt,_e))return;tt.uniform2iv(this.addr,_e),copyArray(nt,_e)}}function setValueV3i(tt,_e){const nt=this.cache;if(_e.x!==void 0)(nt[0]!==_e.x||nt[1]!==_e.y||nt[2]!==_e.z)&&(tt.uniform3i(this.addr,_e.x,_e.y,_e.z),nt[0]=_e.x,nt[1]=_e.y,nt[2]=_e.z);else{if(arraysEqual(nt,_e))return;tt.uniform3iv(this.addr,_e),copyArray(nt,_e)}}function setValueV4i(tt,_e){const nt=this.cache;if(_e.x!==void 0)(nt[0]!==_e.x||nt[1]!==_e.y||nt[2]!==_e.z||nt[3]!==_e.w)&&(tt.uniform4i(this.addr,_e.x,_e.y,_e.z,_e.w),nt[0]=_e.x,nt[1]=_e.y,nt[2]=_e.z,nt[3]=_e.w);else{if(arraysEqual(nt,_e))return;tt.uniform4iv(this.addr,_e),copyArray(nt,_e)}}function setValueV1ui(tt,_e){const nt=this.cache;nt[0]!==_e&&(tt.uniform1ui(this.addr,_e),nt[0]=_e)}function setValueV2ui(tt,_e){const nt=this.cache;if(_e.x!==void 0)(nt[0]!==_e.x||nt[1]!==_e.y)&&(tt.uniform2ui(this.addr,_e.x,_e.y),nt[0]=_e.x,nt[1]=_e.y);else{if(arraysEqual(nt,_e))return;tt.uniform2uiv(this.addr,_e),copyArray(nt,_e)}}function setValueV3ui(tt,_e){const nt=this.cache;if(_e.x!==void 0)(nt[0]!==_e.x||nt[1]!==_e.y||nt[2]!==_e.z)&&(tt.uniform3ui(this.addr,_e.x,_e.y,_e.z),nt[0]=_e.x,nt[1]=_e.y,nt[2]=_e.z);else{if(arraysEqual(nt,_e))return;tt.uniform3uiv(this.addr,_e),copyArray(nt,_e)}}function setValueV4ui(tt,_e){const nt=this.cache;if(_e.x!==void 0)(nt[0]!==_e.x||nt[1]!==_e.y||nt[2]!==_e.z||nt[3]!==_e.w)&&(tt.uniform4ui(this.addr,_e.x,_e.y,_e.z,_e.w),nt[0]=_e.x,nt[1]=_e.y,nt[2]=_e.z,nt[3]=_e.w);else{if(arraysEqual(nt,_e))return;tt.uniform4uiv(this.addr,_e),copyArray(nt,_e)}}function setValueT1(tt,_e,nt){const rt=this.cache,it=nt.allocateTextureUnit();rt[0]!==it&&(tt.uniform1i(this.addr,it),rt[0]=it);let st;this.type===tt.SAMPLER_2D_SHADOW?(emptyShadowTexture.compareFunction=LessEqualCompare,st=emptyShadowTexture):st=emptyTexture,nt.setTexture2D(_e||st,it)}function setValueT3D1(tt,_e,nt){const rt=this.cache,it=nt.allocateTextureUnit();rt[0]!==it&&(tt.uniform1i(this.addr,it),rt[0]=it),nt.setTexture3D(_e||empty3dTexture,it)}function setValueT6(tt,_e,nt){const rt=this.cache,it=nt.allocateTextureUnit();rt[0]!==it&&(tt.uniform1i(this.addr,it),rt[0]=it),nt.setTextureCube(_e||emptyCubeTexture,it)}function setValueT2DArray1(tt,_e,nt){const rt=this.cache,it=nt.allocateTextureUnit();rt[0]!==it&&(tt.uniform1i(this.addr,it),rt[0]=it),nt.setTexture2DArray(_e||emptyArrayTexture,it)}function getSingularSetter(tt){switch(tt){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(tt,_e){tt.uniform1fv(this.addr,_e)}function setValueV2fArray(tt,_e){const nt=flatten(_e,this.size,2);tt.uniform2fv(this.addr,nt)}function setValueV3fArray(tt,_e){const nt=flatten(_e,this.size,3);tt.uniform3fv(this.addr,nt)}function setValueV4fArray(tt,_e){const nt=flatten(_e,this.size,4);tt.uniform4fv(this.addr,nt)}function setValueM2Array(tt,_e){const nt=flatten(_e,this.size,4);tt.uniformMatrix2fv(this.addr,!1,nt)}function setValueM3Array(tt,_e){const nt=flatten(_e,this.size,9);tt.uniformMatrix3fv(this.addr,!1,nt)}function setValueM4Array(tt,_e){const nt=flatten(_e,this.size,16);tt.uniformMatrix4fv(this.addr,!1,nt)}function setValueV1iArray(tt,_e){tt.uniform1iv(this.addr,_e)}function setValueV2iArray(tt,_e){tt.uniform2iv(this.addr,_e)}function setValueV3iArray(tt,_e){tt.uniform3iv(this.addr,_e)}function setValueV4iArray(tt,_e){tt.uniform4iv(this.addr,_e)}function setValueV1uiArray(tt,_e){tt.uniform1uiv(this.addr,_e)}function setValueV2uiArray(tt,_e){tt.uniform2uiv(this.addr,_e)}function setValueV3uiArray(tt,_e){tt.uniform3uiv(this.addr,_e)}function setValueV4uiArray(tt,_e){tt.uniform4uiv(this.addr,_e)}function setValueT1Array(tt,_e,nt){const rt=this.cache,it=_e.length,st=allocTexUnits(nt,it);arraysEqual(rt,st)||(tt.uniform1iv(this.addr,st),copyArray(rt,st));for(let at=0;at!==it;++at)nt.setTexture2D(_e[at]||emptyTexture,st[at])}function setValueT3DArray(tt,_e,nt){const rt=this.cache,it=_e.length,st=allocTexUnits(nt,it);arraysEqual(rt,st)||(tt.uniform1iv(this.addr,st),copyArray(rt,st));for(let at=0;at!==it;++at)nt.setTexture3D(_e[at]||empty3dTexture,st[at])}function setValueT6Array(tt,_e,nt){const rt=this.cache,it=_e.length,st=allocTexUnits(nt,it);arraysEqual(rt,st)||(tt.uniform1iv(this.addr,st),copyArray(rt,st));for(let at=0;at!==it;++at)nt.setTextureCube(_e[at]||emptyCubeTexture,st[at])}function setValueT2DArrayArray(tt,_e,nt){const rt=this.cache,it=_e.length,st=allocTexUnits(nt,it);arraysEqual(rt,st)||(tt.uniform1iv(this.addr,st),copyArray(rt,st));for(let at=0;at!==it;++at)nt.setTexture2DArray(_e[at]||emptyArrayTexture,st[at])}function getPureArraySetter(tt){switch(tt){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(_e,nt,rt){this.id=_e,this.addr=rt,this.cache=[],this.type=nt.type,this.setValue=getSingularSetter(nt.type)}}class PureArrayUniform{constructor(_e,nt,rt){this.id=_e,this.addr=rt,this.cache=[],this.type=nt.type,this.size=nt.size,this.setValue=getPureArraySetter(nt.type)}}class StructuredUniform{constructor(_e){this.id=_e,this.seq=[],this.map={}}setValue(_e,nt,rt){const it=this.seq;for(let st=0,at=it.length;st!==at;++st){const ot=it[st];ot.setValue(_e,nt[ot.id],rt)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(tt,_e){tt.seq.push(_e),tt.map[_e.id]=_e}function parseUniform(tt,_e,nt){const rt=tt.name,it=rt.length;for(RePathPart.lastIndex=0;;){const st=RePathPart.exec(rt),at=RePathPart.lastIndex;let ot=st[1];const lt=st[2]==="]",ct=st[3];if(lt&&(ot=ot|0),ct===void 0||ct==="["&&at+2===it){addUniform(nt,ct===void 0?new SingleUniform(ot,tt,_e):new PureArrayUniform(ot,tt,_e));break}else{let ft=nt.map[ot];ft===void 0&&(ft=new StructuredUniform(ot),addUniform(nt,ft)),nt=ft}}}class WebGLUniforms{constructor(_e,nt){this.seq=[],this.map={};const rt=_e.getProgramParameter(nt,_e.ACTIVE_UNIFORMS);for(let it=0;it<rt;++it){const st=_e.getActiveUniform(nt,it),at=_e.getUniformLocation(nt,st.name);parseUniform(st,at,this)}}setValue(_e,nt,rt,it){const st=this.map[nt];st!==void 0&&st.setValue(_e,rt,it)}setOptional(_e,nt,rt){const it=nt[rt];it!==void 0&&this.setValue(_e,rt,it)}static upload(_e,nt,rt,it){for(let st=0,at=nt.length;st!==at;++st){const ot=nt[st],lt=rt[ot.id];lt.needsUpdate!==!1&&ot.setValue(_e,lt.value,it)}}static seqWithValue(_e,nt){const rt=[];for(let it=0,st=_e.length;it!==st;++it){const at=_e[it];at.id in nt&&rt.push(at)}return rt}}function WebGLShader(tt,_e,nt){const rt=tt.createShader(_e);return tt.shaderSource(rt,nt),tt.compileShader(rt),rt}const COMPLETION_STATUS_KHR=37297;let programIdCount=0;function handleSource(tt,_e){const nt=tt.split(`
`),rt=[],it=Math.max(_e-6,0),st=Math.min(_e+6,nt.length);for(let at=it;at<st;at++){const ot=at+1;rt.push(`${ot===_e?">":" "} ${ot}: ${nt[at]}`)}return rt.join(`
`)}const _m0=new Matrix3;function getEncodingComponents(tt){ColorManagement._getMatrix(_m0,ColorManagement.workingColorSpace,tt);const _e=`mat3( ${_m0.elements.map(nt=>nt.toFixed(4))} )`;switch(ColorManagement.getTransfer(tt)){case LinearTransfer:return[_e,"LinearTransferOETF"];case SRGBTransfer:return[_e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",tt),[_e,"LinearTransferOETF"]}}function getShaderErrors(tt,_e,nt){const rt=tt.getShaderParameter(_e,tt.COMPILE_STATUS),it=tt.getShaderInfoLog(_e).trim();if(rt&&it==="")return"";const st=/ERROR: 0:(\d+)/.exec(it);if(st){const at=parseInt(st[1]);return nt.toUpperCase()+`

`+it+`

`+handleSource(tt.getShaderSource(_e),at)}else return it}function getTexelEncodingFunction(tt,_e){const nt=getEncodingComponents(_e);return[`vec4 ${tt}( vec4 value ) {`,`	return ${nt[1]}( vec4( value.rgb * ${nt[0]}, value.a ) );`,"}"].join(`
`)}function getToneMappingFunction(tt,_e){let nt;switch(_e){case LinearToneMapping:nt="Linear";break;case ReinhardToneMapping:nt="Reinhard";break;case CineonToneMapping:nt="Cineon";break;case ACESFilmicToneMapping:nt="ACESFilmic";break;case AgXToneMapping:nt="AgX";break;case NeutralToneMapping:nt="Neutral";break;case CustomToneMapping:nt="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",_e),nt="Linear"}return"vec3 "+tt+"( vec3 color ) { return "+nt+"ToneMapping( color ); }"}const _v0$1=new Vector3;function getLuminanceFunction(){ColorManagement.getLuminanceCoefficients(_v0$1);const tt=_v0$1.x.toFixed(4),_e=_v0$1.y.toFixed(4),nt=_v0$1.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${tt}, ${_e}, ${nt} );`,"	return dot( weights, rgb );","}"].join(`
`)}function generateVertexExtensions(tt){return[tt.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",tt.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(filterEmptyLine).join(`
`)}function generateDefines(tt){const _e=[];for(const nt in tt){const rt=tt[nt];rt!==!1&&_e.push("#define "+nt+" "+rt)}return _e.join(`
`)}function fetchAttributeLocations(tt,_e){const nt={},rt=tt.getProgramParameter(_e,tt.ACTIVE_ATTRIBUTES);for(let it=0;it<rt;it++){const st=tt.getActiveAttrib(_e,it),at=st.name;let ot=1;st.type===tt.FLOAT_MAT2&&(ot=2),st.type===tt.FLOAT_MAT3&&(ot=3),st.type===tt.FLOAT_MAT4&&(ot=4),nt[at]={type:st.type,location:tt.getAttribLocation(_e,at),locationSize:ot}}return nt}function filterEmptyLine(tt){return tt!==""}function replaceLightNums(tt,_e){const nt=_e.numSpotLightShadows+_e.numSpotLightMaps-_e.numSpotLightShadowsWithMaps;return tt.replace(/NUM_DIR_LIGHTS/g,_e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,_e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,_e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,nt).replace(/NUM_RECT_AREA_LIGHTS/g,_e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,_e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,_e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,_e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,_e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,_e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,_e.numPointLightShadows)}function replaceClippingPlaneNums(tt,_e){return tt.replace(/NUM_CLIPPING_PLANES/g,_e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,_e.numClippingPlanes-_e.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(tt){return tt.replace(includePattern,includeReplacer)}const shaderChunkMap=new Map;function includeReplacer(tt,_e){let nt=ShaderChunk[_e];if(nt===void 0){const rt=shaderChunkMap.get(_e);if(rt!==void 0)nt=ShaderChunk[rt],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',_e,rt);else throw new Error("Can not resolve #include <"+_e+">")}return resolveIncludes(nt)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(tt){return tt.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(tt,_e,nt,rt){let it="";for(let st=parseInt(_e);st<parseInt(nt);st++)it+=rt.replace(/\[\s*i\s*\]/g,"[ "+st+" ]").replace(/UNROLLED_LOOP_INDEX/g,st);return it}function generatePrecision(tt){let _e=`precision ${tt.precision} float;
	precision ${tt.precision} int;
	precision ${tt.precision} sampler2D;
	precision ${tt.precision} samplerCube;
	precision ${tt.precision} sampler3D;
	precision ${tt.precision} sampler2DArray;
	precision ${tt.precision} sampler2DShadow;
	precision ${tt.precision} samplerCubeShadow;
	precision ${tt.precision} sampler2DArrayShadow;
	precision ${tt.precision} isampler2D;
	precision ${tt.precision} isampler3D;
	precision ${tt.precision} isamplerCube;
	precision ${tt.precision} isampler2DArray;
	precision ${tt.precision} usampler2D;
	precision ${tt.precision} usampler3D;
	precision ${tt.precision} usamplerCube;
	precision ${tt.precision} usampler2DArray;
	`;return tt.precision==="highp"?_e+=`
#define HIGH_PRECISION`:tt.precision==="mediump"?_e+=`
#define MEDIUM_PRECISION`:tt.precision==="lowp"&&(_e+=`
#define LOW_PRECISION`),_e}function generateShadowMapTypeDefine(tt){let _e="SHADOWMAP_TYPE_BASIC";return tt.shadowMapType===PCFShadowMap?_e="SHADOWMAP_TYPE_PCF":tt.shadowMapType===PCFSoftShadowMap?_e="SHADOWMAP_TYPE_PCF_SOFT":tt.shadowMapType===VSMShadowMap&&(_e="SHADOWMAP_TYPE_VSM"),_e}function generateEnvMapTypeDefine(tt){let _e="ENVMAP_TYPE_CUBE";if(tt.envMap)switch(tt.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:_e="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:_e="ENVMAP_TYPE_CUBE_UV";break}return _e}function generateEnvMapModeDefine(tt){let _e="ENVMAP_MODE_REFLECTION";if(tt.envMap)switch(tt.envMapMode){case CubeRefractionMapping:_e="ENVMAP_MODE_REFRACTION";break}return _e}function generateEnvMapBlendingDefine(tt){let _e="ENVMAP_BLENDING_NONE";if(tt.envMap)switch(tt.combine){case MultiplyOperation:_e="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:_e="ENVMAP_BLENDING_MIX";break;case AddOperation:_e="ENVMAP_BLENDING_ADD";break}return _e}function generateCubeUVSize(tt){const _e=tt.envMapCubeUVHeight;if(_e===null)return null;const nt=Math.log2(_e)-2,rt=1/_e;return{texelWidth:1/(3*Math.max(Math.pow(2,nt),7*16)),texelHeight:rt,maxMip:nt}}function WebGLProgram(tt,_e,nt,rt){const it=tt.getContext(),st=nt.defines;let at=nt.vertexShader,ot=nt.fragmentShader;const lt=generateShadowMapTypeDefine(nt),ct=generateEnvMapTypeDefine(nt),ut=generateEnvMapModeDefine(nt),ft=generateEnvMapBlendingDefine(nt),ht=generateCubeUVSize(nt),pt=generateVertexExtensions(nt),dt=generateDefines(st),gt=it.createProgram();let vt,mt,xt=nt.glslVersion?"#version "+nt.glslVersion+`
`:"";nt.isRawShaderMaterial?(vt=["#define SHADER_TYPE "+nt.shaderType,"#define SHADER_NAME "+nt.shaderName,dt].filter(filterEmptyLine).join(`
`),vt.length>0&&(vt+=`
`),mt=["#define SHADER_TYPE "+nt.shaderType,"#define SHADER_NAME "+nt.shaderName,dt].filter(filterEmptyLine).join(`
`),mt.length>0&&(mt+=`
`)):(vt=[generatePrecision(nt),"#define SHADER_TYPE "+nt.shaderType,"#define SHADER_NAME "+nt.shaderName,dt,nt.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",nt.batching?"#define USE_BATCHING":"",nt.batchingColor?"#define USE_BATCHING_COLOR":"",nt.instancing?"#define USE_INSTANCING":"",nt.instancingColor?"#define USE_INSTANCING_COLOR":"",nt.instancingMorph?"#define USE_INSTANCING_MORPH":"",nt.useFog&&nt.fog?"#define USE_FOG":"",nt.useFog&&nt.fogExp2?"#define FOG_EXP2":"",nt.map?"#define USE_MAP":"",nt.envMap?"#define USE_ENVMAP":"",nt.envMap?"#define "+ut:"",nt.lightMap?"#define USE_LIGHTMAP":"",nt.aoMap?"#define USE_AOMAP":"",nt.bumpMap?"#define USE_BUMPMAP":"",nt.normalMap?"#define USE_NORMALMAP":"",nt.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",nt.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",nt.displacementMap?"#define USE_DISPLACEMENTMAP":"",nt.emissiveMap?"#define USE_EMISSIVEMAP":"",nt.anisotropy?"#define USE_ANISOTROPY":"",nt.anisotropyMap?"#define USE_ANISOTROPYMAP":"",nt.clearcoatMap?"#define USE_CLEARCOATMAP":"",nt.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",nt.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",nt.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",nt.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",nt.specularMap?"#define USE_SPECULARMAP":"",nt.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",nt.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",nt.roughnessMap?"#define USE_ROUGHNESSMAP":"",nt.metalnessMap?"#define USE_METALNESSMAP":"",nt.alphaMap?"#define USE_ALPHAMAP":"",nt.alphaHash?"#define USE_ALPHAHASH":"",nt.transmission?"#define USE_TRANSMISSION":"",nt.transmissionMap?"#define USE_TRANSMISSIONMAP":"",nt.thicknessMap?"#define USE_THICKNESSMAP":"",nt.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",nt.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",nt.mapUv?"#define MAP_UV "+nt.mapUv:"",nt.alphaMapUv?"#define ALPHAMAP_UV "+nt.alphaMapUv:"",nt.lightMapUv?"#define LIGHTMAP_UV "+nt.lightMapUv:"",nt.aoMapUv?"#define AOMAP_UV "+nt.aoMapUv:"",nt.emissiveMapUv?"#define EMISSIVEMAP_UV "+nt.emissiveMapUv:"",nt.bumpMapUv?"#define BUMPMAP_UV "+nt.bumpMapUv:"",nt.normalMapUv?"#define NORMALMAP_UV "+nt.normalMapUv:"",nt.displacementMapUv?"#define DISPLACEMENTMAP_UV "+nt.displacementMapUv:"",nt.metalnessMapUv?"#define METALNESSMAP_UV "+nt.metalnessMapUv:"",nt.roughnessMapUv?"#define ROUGHNESSMAP_UV "+nt.roughnessMapUv:"",nt.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+nt.anisotropyMapUv:"",nt.clearcoatMapUv?"#define CLEARCOATMAP_UV "+nt.clearcoatMapUv:"",nt.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+nt.clearcoatNormalMapUv:"",nt.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+nt.clearcoatRoughnessMapUv:"",nt.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+nt.iridescenceMapUv:"",nt.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+nt.iridescenceThicknessMapUv:"",nt.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+nt.sheenColorMapUv:"",nt.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+nt.sheenRoughnessMapUv:"",nt.specularMapUv?"#define SPECULARMAP_UV "+nt.specularMapUv:"",nt.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+nt.specularColorMapUv:"",nt.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+nt.specularIntensityMapUv:"",nt.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+nt.transmissionMapUv:"",nt.thicknessMapUv?"#define THICKNESSMAP_UV "+nt.thicknessMapUv:"",nt.vertexTangents&&nt.flatShading===!1?"#define USE_TANGENT":"",nt.vertexColors?"#define USE_COLOR":"",nt.vertexAlphas?"#define USE_COLOR_ALPHA":"",nt.vertexUv1s?"#define USE_UV1":"",nt.vertexUv2s?"#define USE_UV2":"",nt.vertexUv3s?"#define USE_UV3":"",nt.pointsUvs?"#define USE_POINTS_UV":"",nt.flatShading?"#define FLAT_SHADED":"",nt.skinning?"#define USE_SKINNING":"",nt.morphTargets?"#define USE_MORPHTARGETS":"",nt.morphNormals&&nt.flatShading===!1?"#define USE_MORPHNORMALS":"",nt.morphColors?"#define USE_MORPHCOLORS":"",nt.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+nt.morphTextureStride:"",nt.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+nt.morphTargetsCount:"",nt.doubleSided?"#define DOUBLE_SIDED":"",nt.flipSided?"#define FLIP_SIDED":"",nt.shadowMapEnabled?"#define USE_SHADOWMAP":"",nt.shadowMapEnabled?"#define "+lt:"",nt.sizeAttenuation?"#define USE_SIZEATTENUATION":"",nt.numLightProbes>0?"#define USE_LIGHT_PROBES":"",nt.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",nt.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),mt=[generatePrecision(nt),"#define SHADER_TYPE "+nt.shaderType,"#define SHADER_NAME "+nt.shaderName,dt,nt.useFog&&nt.fog?"#define USE_FOG":"",nt.useFog&&nt.fogExp2?"#define FOG_EXP2":"",nt.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",nt.map?"#define USE_MAP":"",nt.matcap?"#define USE_MATCAP":"",nt.envMap?"#define USE_ENVMAP":"",nt.envMap?"#define "+ct:"",nt.envMap?"#define "+ut:"",nt.envMap?"#define "+ft:"",ht?"#define CUBEUV_TEXEL_WIDTH "+ht.texelWidth:"",ht?"#define CUBEUV_TEXEL_HEIGHT "+ht.texelHeight:"",ht?"#define CUBEUV_MAX_MIP "+ht.maxMip+".0":"",nt.lightMap?"#define USE_LIGHTMAP":"",nt.aoMap?"#define USE_AOMAP":"",nt.bumpMap?"#define USE_BUMPMAP":"",nt.normalMap?"#define USE_NORMALMAP":"",nt.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",nt.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",nt.emissiveMap?"#define USE_EMISSIVEMAP":"",nt.anisotropy?"#define USE_ANISOTROPY":"",nt.anisotropyMap?"#define USE_ANISOTROPYMAP":"",nt.clearcoat?"#define USE_CLEARCOAT":"",nt.clearcoatMap?"#define USE_CLEARCOATMAP":"",nt.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",nt.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",nt.dispersion?"#define USE_DISPERSION":"",nt.iridescence?"#define USE_IRIDESCENCE":"",nt.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",nt.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",nt.specularMap?"#define USE_SPECULARMAP":"",nt.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",nt.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",nt.roughnessMap?"#define USE_ROUGHNESSMAP":"",nt.metalnessMap?"#define USE_METALNESSMAP":"",nt.alphaMap?"#define USE_ALPHAMAP":"",nt.alphaTest?"#define USE_ALPHATEST":"",nt.alphaHash?"#define USE_ALPHAHASH":"",nt.sheen?"#define USE_SHEEN":"",nt.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",nt.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",nt.transmission?"#define USE_TRANSMISSION":"",nt.transmissionMap?"#define USE_TRANSMISSIONMAP":"",nt.thicknessMap?"#define USE_THICKNESSMAP":"",nt.vertexTangents&&nt.flatShading===!1?"#define USE_TANGENT":"",nt.vertexColors||nt.instancingColor||nt.batchingColor?"#define USE_COLOR":"",nt.vertexAlphas?"#define USE_COLOR_ALPHA":"",nt.vertexUv1s?"#define USE_UV1":"",nt.vertexUv2s?"#define USE_UV2":"",nt.vertexUv3s?"#define USE_UV3":"",nt.pointsUvs?"#define USE_POINTS_UV":"",nt.gradientMap?"#define USE_GRADIENTMAP":"",nt.flatShading?"#define FLAT_SHADED":"",nt.doubleSided?"#define DOUBLE_SIDED":"",nt.flipSided?"#define FLIP_SIDED":"",nt.shadowMapEnabled?"#define USE_SHADOWMAP":"",nt.shadowMapEnabled?"#define "+lt:"",nt.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",nt.numLightProbes>0?"#define USE_LIGHT_PROBES":"",nt.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",nt.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",nt.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",nt.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",nt.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",nt.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",nt.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",nt.toneMapping):"",nt.dithering?"#define DITHERING":"",nt.opaque?"#define OPAQUE":"",ShaderChunk.colorspace_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",nt.outputColorSpace),getLuminanceFunction(),nt.useDepthPacking?"#define DEPTH_PACKING "+nt.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),at=resolveIncludes(at),at=replaceLightNums(at,nt),at=replaceClippingPlaneNums(at,nt),ot=resolveIncludes(ot),ot=replaceLightNums(ot,nt),ot=replaceClippingPlaneNums(ot,nt),at=unrollLoops(at),ot=unrollLoops(ot),nt.isRawShaderMaterial!==!0&&(xt=`#version 300 es
`,vt=[pt,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+vt,mt=["#define varying in",nt.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",nt.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+mt);const St=xt+vt+at,Et=xt+mt+ot,bt=WebGLShader(it,it.VERTEX_SHADER,St),Tt=WebGLShader(it,it.FRAGMENT_SHADER,Et);it.attachShader(gt,bt),it.attachShader(gt,Tt),nt.index0AttributeName!==void 0?it.bindAttribLocation(gt,0,nt.index0AttributeName):nt.morphTargets===!0&&it.bindAttribLocation(gt,0,"position"),it.linkProgram(gt);function At(Lt){if(tt.debug.checkShaderErrors){const Vt=it.getProgramInfoLog(gt).trim(),Ut=it.getShaderInfoLog(bt).trim(),Ot=it.getShaderInfoLog(Tt).trim();let zt=!0,Dt=!0;if(it.getProgramParameter(gt,it.LINK_STATUS)===!1)if(zt=!1,typeof tt.debug.onShaderError=="function")tt.debug.onShaderError(it,gt,bt,Tt);else{const $t=getShaderErrors(it,bt,"vertex"),Mt=getShaderErrors(it,Tt,"fragment");console.error("THREE.WebGLProgram: Shader Error "+it.getError()+" - VALIDATE_STATUS "+it.getProgramParameter(gt,it.VALIDATE_STATUS)+`

Material Name: `+Lt.name+`
Material Type: `+Lt.type+`

Program Info Log: `+Vt+`
`+$t+`
`+Mt)}else Vt!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Vt):(Ut===""||Ot==="")&&(Dt=!1);Dt&&(Lt.diagnostics={runnable:zt,programLog:Vt,vertexShader:{log:Ut,prefix:vt},fragmentShader:{log:Ot,prefix:mt}})}it.deleteShader(bt),it.deleteShader(Tt),Ct=new WebGLUniforms(it,gt),Pt=fetchAttributeLocations(it,gt)}let Ct;this.getUniforms=function(){return Ct===void 0&&At(this),Ct};let Pt;this.getAttributes=function(){return Pt===void 0&&At(this),Pt};let It=nt.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return It===!1&&(It=it.getProgramParameter(gt,COMPLETION_STATUS_KHR)),It},this.destroy=function(){rt.releaseStatesOfProgram(this),it.deleteProgram(gt),this.program=void 0},this.type=nt.shaderType,this.name=nt.shaderName,this.id=programIdCount++,this.cacheKey=_e,this.usedTimes=1,this.program=gt,this.vertexShader=bt,this.fragmentShader=Tt,this}let _id$1=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(_e){const nt=_e.vertexShader,rt=_e.fragmentShader,it=this._getShaderStage(nt),st=this._getShaderStage(rt),at=this._getShaderCacheForMaterial(_e);return at.has(it)===!1&&(at.add(it),it.usedTimes++),at.has(st)===!1&&(at.add(st),st.usedTimes++),this}remove(_e){const nt=this.materialCache.get(_e);for(const rt of nt)rt.usedTimes--,rt.usedTimes===0&&this.shaderCache.delete(rt.code);return this.materialCache.delete(_e),this}getVertexShaderID(_e){return this._getShaderStage(_e.vertexShader).id}getFragmentShaderID(_e){return this._getShaderStage(_e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(_e){const nt=this.materialCache;let rt=nt.get(_e);return rt===void 0&&(rt=new Set,nt.set(_e,rt)),rt}_getShaderStage(_e){const nt=this.shaderCache;let rt=nt.get(_e);return rt===void 0&&(rt=new WebGLShaderStage(_e),nt.set(_e,rt)),rt}}class WebGLShaderStage{constructor(_e){this.id=_id$1++,this.code=_e,this.usedTimes=0}}function WebGLPrograms(tt,_e,nt,rt,it,st,at){const ot=new Layers,lt=new WebGLShaderCache,ct=new Set,ut=[],ft=it.logarithmicDepthBuffer,ht=it.vertexTextures;let pt=it.precision;const dt={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function gt(Pt){return ct.add(Pt),Pt===0?"uv":`uv${Pt}`}function vt(Pt,It,Lt,Vt,Ut){const Ot=Vt.fog,zt=Ut.geometry,Dt=Pt.isMeshStandardMaterial?Vt.environment:null,$t=(Pt.isMeshStandardMaterial?nt:_e).get(Pt.envMap||Dt),Mt=$t&&$t.mapping===CubeUVReflectionMapping?$t.image.height:null,Rt=dt[Pt.type];Pt.precision!==null&&(pt=it.getMaxPrecision(Pt.precision),pt!==Pt.precision&&console.warn("THREE.WebGLProgram.getParameters:",Pt.precision,"not supported, using",pt,"instead."));const Nt=zt.morphAttributes.position||zt.morphAttributes.normal||zt.morphAttributes.color,Ft=Nt!==void 0?Nt.length:0;let qt=0;zt.morphAttributes.position!==void 0&&(qt=1),zt.morphAttributes.normal!==void 0&&(qt=2),zt.morphAttributes.color!==void 0&&(qt=3);let Qt,Kt,Zt,tn;if(Rt){const gr=ShaderLib[Rt];Qt=gr.vertexShader,Kt=gr.fragmentShader}else Qt=Pt.vertexShader,Kt=Pt.fragmentShader,lt.update(Pt),Zt=lt.getVertexShaderID(Pt),tn=lt.getFragmentShaderID(Pt);const en=tt.getRenderTarget(),un=tt.state.buffers.depth.getReversed(),Cn=Ut.isInstancedMesh===!0,Rn=Ut.isBatchedMesh===!0,Mn=!!Pt.map,ln=!!Pt.matcap,gn=!!$t,Yt=!!Pt.aoMap,Fn=!!Pt.lightMap,wn=!!Pt.bumpMap,Vn=!!Pt.normalMap,xn=!!Pt.displacementMap,Bn=!!Pt.emissiveMap,Tn=!!Pt.metalnessMap,Wt=!!Pt.roughnessMap,Ht=Pt.anisotropy>0,an=Pt.clearcoat>0,dn=Pt.dispersion>0,mn=Pt.iridescence>0,En=Pt.sheen>0,Dn=Pt.transmission>0,kn=Ht&&!!Pt.anisotropyMap,Nn=an&&!!Pt.clearcoatMap,tr=an&&!!Pt.clearcoatNormalMap,Un=an&&!!Pt.clearcoatRoughnessMap,Kn=mn&&!!Pt.iridescenceMap,Yn=mn&&!!Pt.iridescenceThicknessMap,Wn=En&&!!Pt.sheenColorMap,On=En&&!!Pt.sheenRoughnessMap,rr=!!Pt.specularMap,nr=!!Pt.specularColorMap,pr=!!Pt.specularIntensityMap,fn=Dn&&!!Pt.transmissionMap,vn=Dn&&!!Pt.thicknessMap,bn=!!Pt.gradientMap,zn=!!Pt.alphaMap,qn=Pt.alphaTest>0,Gn=!!Pt.alphaHash,cr=!!Pt.extensions;let Er=NoToneMapping;Pt.toneMapped&&(en===null||en.isXRRenderTarget===!0)&&(Er=tt.toneMapping);const fr={shaderID:Rt,shaderType:Pt.type,shaderName:Pt.name,vertexShader:Qt,fragmentShader:Kt,defines:Pt.defines,customVertexShaderID:Zt,customFragmentShaderID:tn,isRawShaderMaterial:Pt.isRawShaderMaterial===!0,glslVersion:Pt.glslVersion,precision:pt,batching:Rn,batchingColor:Rn&&Ut._colorsTexture!==null,instancing:Cn,instancingColor:Cn&&Ut.instanceColor!==null,instancingMorph:Cn&&Ut.morphTexture!==null,supportsVertexTextures:ht,outputColorSpace:en===null?tt.outputColorSpace:en.isXRRenderTarget===!0?en.texture.colorSpace:LinearSRGBColorSpace,alphaToCoverage:!!Pt.alphaToCoverage,map:Mn,matcap:ln,envMap:gn,envMapMode:gn&&$t.mapping,envMapCubeUVHeight:Mt,aoMap:Yt,lightMap:Fn,bumpMap:wn,normalMap:Vn,displacementMap:ht&&xn,emissiveMap:Bn,normalMapObjectSpace:Vn&&Pt.normalMapType===ObjectSpaceNormalMap,normalMapTangentSpace:Vn&&Pt.normalMapType===TangentSpaceNormalMap,metalnessMap:Tn,roughnessMap:Wt,anisotropy:Ht,anisotropyMap:kn,clearcoat:an,clearcoatMap:Nn,clearcoatNormalMap:tr,clearcoatRoughnessMap:Un,dispersion:dn,iridescence:mn,iridescenceMap:Kn,iridescenceThicknessMap:Yn,sheen:En,sheenColorMap:Wn,sheenRoughnessMap:On,specularMap:rr,specularColorMap:nr,specularIntensityMap:pr,transmission:Dn,transmissionMap:fn,thicknessMap:vn,gradientMap:bn,opaque:Pt.transparent===!1&&Pt.blending===NormalBlending&&Pt.alphaToCoverage===!1,alphaMap:zn,alphaTest:qn,alphaHash:Gn,combine:Pt.combine,mapUv:Mn&&gt(Pt.map.channel),aoMapUv:Yt&&gt(Pt.aoMap.channel),lightMapUv:Fn&&gt(Pt.lightMap.channel),bumpMapUv:wn&&gt(Pt.bumpMap.channel),normalMapUv:Vn&&gt(Pt.normalMap.channel),displacementMapUv:xn&&gt(Pt.displacementMap.channel),emissiveMapUv:Bn&&gt(Pt.emissiveMap.channel),metalnessMapUv:Tn&&gt(Pt.metalnessMap.channel),roughnessMapUv:Wt&&gt(Pt.roughnessMap.channel),anisotropyMapUv:kn&&gt(Pt.anisotropyMap.channel),clearcoatMapUv:Nn&&gt(Pt.clearcoatMap.channel),clearcoatNormalMapUv:tr&&gt(Pt.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Un&&gt(Pt.clearcoatRoughnessMap.channel),iridescenceMapUv:Kn&&gt(Pt.iridescenceMap.channel),iridescenceThicknessMapUv:Yn&&gt(Pt.iridescenceThicknessMap.channel),sheenColorMapUv:Wn&&gt(Pt.sheenColorMap.channel),sheenRoughnessMapUv:On&&gt(Pt.sheenRoughnessMap.channel),specularMapUv:rr&&gt(Pt.specularMap.channel),specularColorMapUv:nr&&gt(Pt.specularColorMap.channel),specularIntensityMapUv:pr&&gt(Pt.specularIntensityMap.channel),transmissionMapUv:fn&&gt(Pt.transmissionMap.channel),thicknessMapUv:vn&&gt(Pt.thicknessMap.channel),alphaMapUv:zn&&gt(Pt.alphaMap.channel),vertexTangents:!!zt.attributes.tangent&&(Vn||Ht),vertexColors:Pt.vertexColors,vertexAlphas:Pt.vertexColors===!0&&!!zt.attributes.color&&zt.attributes.color.itemSize===4,pointsUvs:Ut.isPoints===!0&&!!zt.attributes.uv&&(Mn||zn),fog:!!Ot,useFog:Pt.fog===!0,fogExp2:!!Ot&&Ot.isFogExp2,flatShading:Pt.flatShading===!0,sizeAttenuation:Pt.sizeAttenuation===!0,logarithmicDepthBuffer:ft,reverseDepthBuffer:un,skinning:Ut.isSkinnedMesh===!0,morphTargets:zt.morphAttributes.position!==void 0,morphNormals:zt.morphAttributes.normal!==void 0,morphColors:zt.morphAttributes.color!==void 0,morphTargetsCount:Ft,morphTextureStride:qt,numDirLights:It.directional.length,numPointLights:It.point.length,numSpotLights:It.spot.length,numSpotLightMaps:It.spotLightMap.length,numRectAreaLights:It.rectArea.length,numHemiLights:It.hemi.length,numDirLightShadows:It.directionalShadowMap.length,numPointLightShadows:It.pointShadowMap.length,numSpotLightShadows:It.spotShadowMap.length,numSpotLightShadowsWithMaps:It.numSpotLightShadowsWithMaps,numLightProbes:It.numLightProbes,numClippingPlanes:at.numPlanes,numClipIntersection:at.numIntersection,dithering:Pt.dithering,shadowMapEnabled:tt.shadowMap.enabled&&Lt.length>0,shadowMapType:tt.shadowMap.type,toneMapping:Er,decodeVideoTexture:Mn&&Pt.map.isVideoTexture===!0&&ColorManagement.getTransfer(Pt.map.colorSpace)===SRGBTransfer,decodeVideoTextureEmissive:Bn&&Pt.emissiveMap.isVideoTexture===!0&&ColorManagement.getTransfer(Pt.emissiveMap.colorSpace)===SRGBTransfer,premultipliedAlpha:Pt.premultipliedAlpha,doubleSided:Pt.side===DoubleSide,flipSided:Pt.side===BackSide,useDepthPacking:Pt.depthPacking>=0,depthPacking:Pt.depthPacking||0,index0AttributeName:Pt.index0AttributeName,extensionClipCullDistance:cr&&Pt.extensions.clipCullDistance===!0&&rt.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(cr&&Pt.extensions.multiDraw===!0||Rn)&&rt.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:rt.has("KHR_parallel_shader_compile"),customProgramCacheKey:Pt.customProgramCacheKey()};return fr.vertexUv1s=ct.has(1),fr.vertexUv2s=ct.has(2),fr.vertexUv3s=ct.has(3),ct.clear(),fr}function mt(Pt){const It=[];if(Pt.shaderID?It.push(Pt.shaderID):(It.push(Pt.customVertexShaderID),It.push(Pt.customFragmentShaderID)),Pt.defines!==void 0)for(const Lt in Pt.defines)It.push(Lt),It.push(Pt.defines[Lt]);return Pt.isRawShaderMaterial===!1&&(xt(It,Pt),St(It,Pt),It.push(tt.outputColorSpace)),It.push(Pt.customProgramCacheKey),It.join()}function xt(Pt,It){Pt.push(It.precision),Pt.push(It.outputColorSpace),Pt.push(It.envMapMode),Pt.push(It.envMapCubeUVHeight),Pt.push(It.mapUv),Pt.push(It.alphaMapUv),Pt.push(It.lightMapUv),Pt.push(It.aoMapUv),Pt.push(It.bumpMapUv),Pt.push(It.normalMapUv),Pt.push(It.displacementMapUv),Pt.push(It.emissiveMapUv),Pt.push(It.metalnessMapUv),Pt.push(It.roughnessMapUv),Pt.push(It.anisotropyMapUv),Pt.push(It.clearcoatMapUv),Pt.push(It.clearcoatNormalMapUv),Pt.push(It.clearcoatRoughnessMapUv),Pt.push(It.iridescenceMapUv),Pt.push(It.iridescenceThicknessMapUv),Pt.push(It.sheenColorMapUv),Pt.push(It.sheenRoughnessMapUv),Pt.push(It.specularMapUv),Pt.push(It.specularColorMapUv),Pt.push(It.specularIntensityMapUv),Pt.push(It.transmissionMapUv),Pt.push(It.thicknessMapUv),Pt.push(It.combine),Pt.push(It.fogExp2),Pt.push(It.sizeAttenuation),Pt.push(It.morphTargetsCount),Pt.push(It.morphAttributeCount),Pt.push(It.numDirLights),Pt.push(It.numPointLights),Pt.push(It.numSpotLights),Pt.push(It.numSpotLightMaps),Pt.push(It.numHemiLights),Pt.push(It.numRectAreaLights),Pt.push(It.numDirLightShadows),Pt.push(It.numPointLightShadows),Pt.push(It.numSpotLightShadows),Pt.push(It.numSpotLightShadowsWithMaps),Pt.push(It.numLightProbes),Pt.push(It.shadowMapType),Pt.push(It.toneMapping),Pt.push(It.numClippingPlanes),Pt.push(It.numClipIntersection),Pt.push(It.depthPacking)}function St(Pt,It){ot.disableAll(),It.supportsVertexTextures&&ot.enable(0),It.instancing&&ot.enable(1),It.instancingColor&&ot.enable(2),It.instancingMorph&&ot.enable(3),It.matcap&&ot.enable(4),It.envMap&&ot.enable(5),It.normalMapObjectSpace&&ot.enable(6),It.normalMapTangentSpace&&ot.enable(7),It.clearcoat&&ot.enable(8),It.iridescence&&ot.enable(9),It.alphaTest&&ot.enable(10),It.vertexColors&&ot.enable(11),It.vertexAlphas&&ot.enable(12),It.vertexUv1s&&ot.enable(13),It.vertexUv2s&&ot.enable(14),It.vertexUv3s&&ot.enable(15),It.vertexTangents&&ot.enable(16),It.anisotropy&&ot.enable(17),It.alphaHash&&ot.enable(18),It.batching&&ot.enable(19),It.dispersion&&ot.enable(20),It.batchingColor&&ot.enable(21),Pt.push(ot.mask),ot.disableAll(),It.fog&&ot.enable(0),It.useFog&&ot.enable(1),It.flatShading&&ot.enable(2),It.logarithmicDepthBuffer&&ot.enable(3),It.reverseDepthBuffer&&ot.enable(4),It.skinning&&ot.enable(5),It.morphTargets&&ot.enable(6),It.morphNormals&&ot.enable(7),It.morphColors&&ot.enable(8),It.premultipliedAlpha&&ot.enable(9),It.shadowMapEnabled&&ot.enable(10),It.doubleSided&&ot.enable(11),It.flipSided&&ot.enable(12),It.useDepthPacking&&ot.enable(13),It.dithering&&ot.enable(14),It.transmission&&ot.enable(15),It.sheen&&ot.enable(16),It.opaque&&ot.enable(17),It.pointsUvs&&ot.enable(18),It.decodeVideoTexture&&ot.enable(19),It.decodeVideoTextureEmissive&&ot.enable(20),It.alphaToCoverage&&ot.enable(21),Pt.push(ot.mask)}function Et(Pt){const It=dt[Pt.type];let Lt;if(It){const Vt=ShaderLib[It];Lt=UniformsUtils.clone(Vt.uniforms)}else Lt=Pt.uniforms;return Lt}function bt(Pt,It){let Lt;for(let Vt=0,Ut=ut.length;Vt<Ut;Vt++){const Ot=ut[Vt];if(Ot.cacheKey===It){Lt=Ot,++Lt.usedTimes;break}}return Lt===void 0&&(Lt=new WebGLProgram(tt,It,Pt,st),ut.push(Lt)),Lt}function Tt(Pt){if(--Pt.usedTimes===0){const It=ut.indexOf(Pt);ut[It]=ut[ut.length-1],ut.pop(),Pt.destroy()}}function At(Pt){lt.remove(Pt)}function Ct(){lt.dispose()}return{getParameters:vt,getProgramCacheKey:mt,getUniforms:Et,acquireProgram:bt,releaseProgram:Tt,releaseShaderCache:At,programs:ut,dispose:Ct}}function WebGLProperties(){let tt=new WeakMap;function _e(at){return tt.has(at)}function nt(at){let ot=tt.get(at);return ot===void 0&&(ot={},tt.set(at,ot)),ot}function rt(at){tt.delete(at)}function it(at,ot,lt){tt.get(at)[ot]=lt}function st(){tt=new WeakMap}return{has:_e,get:nt,remove:rt,update:it,dispose:st}}function painterSortStable(tt,_e){return tt.groupOrder!==_e.groupOrder?tt.groupOrder-_e.groupOrder:tt.renderOrder!==_e.renderOrder?tt.renderOrder-_e.renderOrder:tt.material.id!==_e.material.id?tt.material.id-_e.material.id:tt.z!==_e.z?tt.z-_e.z:tt.id-_e.id}function reversePainterSortStable(tt,_e){return tt.groupOrder!==_e.groupOrder?tt.groupOrder-_e.groupOrder:tt.renderOrder!==_e.renderOrder?tt.renderOrder-_e.renderOrder:tt.z!==_e.z?_e.z-tt.z:tt.id-_e.id}function WebGLRenderList(){const tt=[];let _e=0;const nt=[],rt=[],it=[];function st(){_e=0,nt.length=0,rt.length=0,it.length=0}function at(ft,ht,pt,dt,gt,vt){let mt=tt[_e];return mt===void 0?(mt={id:ft.id,object:ft,geometry:ht,material:pt,groupOrder:dt,renderOrder:ft.renderOrder,z:gt,group:vt},tt[_e]=mt):(mt.id=ft.id,mt.object=ft,mt.geometry=ht,mt.material=pt,mt.groupOrder=dt,mt.renderOrder=ft.renderOrder,mt.z=gt,mt.group=vt),_e++,mt}function ot(ft,ht,pt,dt,gt,vt){const mt=at(ft,ht,pt,dt,gt,vt);pt.transmission>0?rt.push(mt):pt.transparent===!0?it.push(mt):nt.push(mt)}function lt(ft,ht,pt,dt,gt,vt){const mt=at(ft,ht,pt,dt,gt,vt);pt.transmission>0?rt.unshift(mt):pt.transparent===!0?it.unshift(mt):nt.unshift(mt)}function ct(ft,ht){nt.length>1&&nt.sort(ft||painterSortStable),rt.length>1&&rt.sort(ht||reversePainterSortStable),it.length>1&&it.sort(ht||reversePainterSortStable)}function ut(){for(let ft=_e,ht=tt.length;ft<ht;ft++){const pt=tt[ft];if(pt.id===null)break;pt.id=null,pt.object=null,pt.geometry=null,pt.material=null,pt.group=null}}return{opaque:nt,transmissive:rt,transparent:it,init:st,push:ot,unshift:lt,finish:ut,sort:ct}}function WebGLRenderLists(){let tt=new WeakMap;function _e(rt,it){const st=tt.get(rt);let at;return st===void 0?(at=new WebGLRenderList,tt.set(rt,[at])):it>=st.length?(at=new WebGLRenderList,st.push(at)):at=st[it],at}function nt(){tt=new WeakMap}return{get:_e,dispose:nt}}function UniformsCache(){const tt={};return{get:function(_e){if(tt[_e.id]!==void 0)return tt[_e.id];let nt;switch(_e.type){case"DirectionalLight":nt={direction:new Vector3,color:new Color};break;case"SpotLight":nt={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":nt={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":nt={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":nt={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return tt[_e.id]=nt,nt}}}function ShadowUniformsCache(){const tt={};return{get:function(_e){if(tt[_e.id]!==void 0)return tt[_e.id];let nt;switch(_e.type){case"DirectionalLight":nt={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":nt={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":nt={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return tt[_e.id]=nt,nt}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(tt,_e){return(_e.castShadow?2:0)-(tt.castShadow?2:0)+(_e.map?1:0)-(tt.map?1:0)}function WebGLLights(tt){const _e=new UniformsCache,nt=ShadowUniformsCache(),rt={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let ct=0;ct<9;ct++)rt.probe.push(new Vector3);const it=new Vector3,st=new Matrix4,at=new Matrix4;function ot(ct){let ut=0,ft=0,ht=0;for(let Pt=0;Pt<9;Pt++)rt.probe[Pt].set(0,0,0);let pt=0,dt=0,gt=0,vt=0,mt=0,xt=0,St=0,Et=0,bt=0,Tt=0,At=0;ct.sort(shadowCastingAndTexturingLightsFirst);for(let Pt=0,It=ct.length;Pt<It;Pt++){const Lt=ct[Pt],Vt=Lt.color,Ut=Lt.intensity,Ot=Lt.distance,zt=Lt.shadow&&Lt.shadow.map?Lt.shadow.map.texture:null;if(Lt.isAmbientLight)ut+=Vt.r*Ut,ft+=Vt.g*Ut,ht+=Vt.b*Ut;else if(Lt.isLightProbe){for(let Dt=0;Dt<9;Dt++)rt.probe[Dt].addScaledVector(Lt.sh.coefficients[Dt],Ut);At++}else if(Lt.isDirectionalLight){const Dt=_e.get(Lt);if(Dt.color.copy(Lt.color).multiplyScalar(Lt.intensity),Lt.castShadow){const $t=Lt.shadow,Mt=nt.get(Lt);Mt.shadowIntensity=$t.intensity,Mt.shadowBias=$t.bias,Mt.shadowNormalBias=$t.normalBias,Mt.shadowRadius=$t.radius,Mt.shadowMapSize=$t.mapSize,rt.directionalShadow[pt]=Mt,rt.directionalShadowMap[pt]=zt,rt.directionalShadowMatrix[pt]=Lt.shadow.matrix,xt++}rt.directional[pt]=Dt,pt++}else if(Lt.isSpotLight){const Dt=_e.get(Lt);Dt.position.setFromMatrixPosition(Lt.matrixWorld),Dt.color.copy(Vt).multiplyScalar(Ut),Dt.distance=Ot,Dt.coneCos=Math.cos(Lt.angle),Dt.penumbraCos=Math.cos(Lt.angle*(1-Lt.penumbra)),Dt.decay=Lt.decay,rt.spot[gt]=Dt;const $t=Lt.shadow;if(Lt.map&&(rt.spotLightMap[bt]=Lt.map,bt++,$t.updateMatrices(Lt),Lt.castShadow&&Tt++),rt.spotLightMatrix[gt]=$t.matrix,Lt.castShadow){const Mt=nt.get(Lt);Mt.shadowIntensity=$t.intensity,Mt.shadowBias=$t.bias,Mt.shadowNormalBias=$t.normalBias,Mt.shadowRadius=$t.radius,Mt.shadowMapSize=$t.mapSize,rt.spotShadow[gt]=Mt,rt.spotShadowMap[gt]=zt,Et++}gt++}else if(Lt.isRectAreaLight){const Dt=_e.get(Lt);Dt.color.copy(Vt).multiplyScalar(Ut),Dt.halfWidth.set(Lt.width*.5,0,0),Dt.halfHeight.set(0,Lt.height*.5,0),rt.rectArea[vt]=Dt,vt++}else if(Lt.isPointLight){const Dt=_e.get(Lt);if(Dt.color.copy(Lt.color).multiplyScalar(Lt.intensity),Dt.distance=Lt.distance,Dt.decay=Lt.decay,Lt.castShadow){const $t=Lt.shadow,Mt=nt.get(Lt);Mt.shadowIntensity=$t.intensity,Mt.shadowBias=$t.bias,Mt.shadowNormalBias=$t.normalBias,Mt.shadowRadius=$t.radius,Mt.shadowMapSize=$t.mapSize,Mt.shadowCameraNear=$t.camera.near,Mt.shadowCameraFar=$t.camera.far,rt.pointShadow[dt]=Mt,rt.pointShadowMap[dt]=zt,rt.pointShadowMatrix[dt]=Lt.shadow.matrix,St++}rt.point[dt]=Dt,dt++}else if(Lt.isHemisphereLight){const Dt=_e.get(Lt);Dt.skyColor.copy(Lt.color).multiplyScalar(Ut),Dt.groundColor.copy(Lt.groundColor).multiplyScalar(Ut),rt.hemi[mt]=Dt,mt++}}vt>0&&(tt.has("OES_texture_float_linear")===!0?(rt.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,rt.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):(rt.rectAreaLTC1=UniformsLib.LTC_HALF_1,rt.rectAreaLTC2=UniformsLib.LTC_HALF_2)),rt.ambient[0]=ut,rt.ambient[1]=ft,rt.ambient[2]=ht;const Ct=rt.hash;(Ct.directionalLength!==pt||Ct.pointLength!==dt||Ct.spotLength!==gt||Ct.rectAreaLength!==vt||Ct.hemiLength!==mt||Ct.numDirectionalShadows!==xt||Ct.numPointShadows!==St||Ct.numSpotShadows!==Et||Ct.numSpotMaps!==bt||Ct.numLightProbes!==At)&&(rt.directional.length=pt,rt.spot.length=gt,rt.rectArea.length=vt,rt.point.length=dt,rt.hemi.length=mt,rt.directionalShadow.length=xt,rt.directionalShadowMap.length=xt,rt.pointShadow.length=St,rt.pointShadowMap.length=St,rt.spotShadow.length=Et,rt.spotShadowMap.length=Et,rt.directionalShadowMatrix.length=xt,rt.pointShadowMatrix.length=St,rt.spotLightMatrix.length=Et+bt-Tt,rt.spotLightMap.length=bt,rt.numSpotLightShadowsWithMaps=Tt,rt.numLightProbes=At,Ct.directionalLength=pt,Ct.pointLength=dt,Ct.spotLength=gt,Ct.rectAreaLength=vt,Ct.hemiLength=mt,Ct.numDirectionalShadows=xt,Ct.numPointShadows=St,Ct.numSpotShadows=Et,Ct.numSpotMaps=bt,Ct.numLightProbes=At,rt.version=nextVersion++)}function lt(ct,ut){let ft=0,ht=0,pt=0,dt=0,gt=0;const vt=ut.matrixWorldInverse;for(let mt=0,xt=ct.length;mt<xt;mt++){const St=ct[mt];if(St.isDirectionalLight){const Et=rt.directional[ft];Et.direction.setFromMatrixPosition(St.matrixWorld),it.setFromMatrixPosition(St.target.matrixWorld),Et.direction.sub(it),Et.direction.transformDirection(vt),ft++}else if(St.isSpotLight){const Et=rt.spot[pt];Et.position.setFromMatrixPosition(St.matrixWorld),Et.position.applyMatrix4(vt),Et.direction.setFromMatrixPosition(St.matrixWorld),it.setFromMatrixPosition(St.target.matrixWorld),Et.direction.sub(it),Et.direction.transformDirection(vt),pt++}else if(St.isRectAreaLight){const Et=rt.rectArea[dt];Et.position.setFromMatrixPosition(St.matrixWorld),Et.position.applyMatrix4(vt),at.identity(),st.copy(St.matrixWorld),st.premultiply(vt),at.extractRotation(st),Et.halfWidth.set(St.width*.5,0,0),Et.halfHeight.set(0,St.height*.5,0),Et.halfWidth.applyMatrix4(at),Et.halfHeight.applyMatrix4(at),dt++}else if(St.isPointLight){const Et=rt.point[ht];Et.position.setFromMatrixPosition(St.matrixWorld),Et.position.applyMatrix4(vt),ht++}else if(St.isHemisphereLight){const Et=rt.hemi[gt];Et.direction.setFromMatrixPosition(St.matrixWorld),Et.direction.transformDirection(vt),gt++}}}return{setup:ot,setupView:lt,state:rt}}function WebGLRenderState(tt){const _e=new WebGLLights(tt),nt=[],rt=[];function it(ut){ct.camera=ut,nt.length=0,rt.length=0}function st(ut){nt.push(ut)}function at(ut){rt.push(ut)}function ot(){_e.setup(nt)}function lt(ut){_e.setupView(nt,ut)}const ct={lightsArray:nt,shadowsArray:rt,camera:null,lights:_e,transmissionRenderTarget:{}};return{init:it,state:ct,setupLights:ot,setupLightsView:lt,pushLight:st,pushShadow:at}}function WebGLRenderStates(tt){let _e=new WeakMap;function nt(it,st=0){const at=_e.get(it);let ot;return at===void 0?(ot=new WebGLRenderState(tt),_e.set(it,[ot])):st>=at.length?(ot=new WebGLRenderState(tt),at.push(ot)):ot=at[st],ot}function rt(){_e=new WeakMap}return{get:nt,dispose:rt}}class MeshDepthMaterial extends Material{static get type(){return"MeshDepthMaterial"}constructor(_e){super(),this.isMeshDepthMaterial=!0,this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(_e)}copy(_e){return super.copy(_e),this.depthPacking=_e.depthPacking,this.map=_e.map,this.alphaMap=_e.alphaMap,this.displacementMap=_e.displacementMap,this.displacementScale=_e.displacementScale,this.displacementBias=_e.displacementBias,this.wireframe=_e.wireframe,this.wireframeLinewidth=_e.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{static get type(){return"MeshDistanceMaterial"}constructor(_e){super(),this.isMeshDistanceMaterial=!0,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(_e)}copy(_e){return super.copy(_e),this.map=_e.map,this.alphaMap=_e.alphaMap,this.displacementMap=_e.displacementMap,this.displacementScale=_e.displacementScale,this.displacementBias=_e.displacementBias,this}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(tt,_e,nt){let rt=new Frustum;const it=new Vector2,st=new Vector2,at=new Vector4,ot=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),lt=new MeshDistanceMaterial,ct={},ut=nt.maxTextureSize,ft={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},ht=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),pt=ht.clone();pt.defines.HORIZONTAL_PASS=1;const dt=new BufferGeometry;dt.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const gt=new Mesh(dt,ht),vt=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap;let mt=this.type;this.render=function(Tt,At,Ct){if(vt.enabled===!1||vt.autoUpdate===!1&&vt.needsUpdate===!1||Tt.length===0)return;const Pt=tt.getRenderTarget(),It=tt.getActiveCubeFace(),Lt=tt.getActiveMipmapLevel(),Vt=tt.state;Vt.setBlending(NoBlending),Vt.buffers.color.setClear(1,1,1,1),Vt.buffers.depth.setTest(!0),Vt.setScissorTest(!1);const Ut=mt!==VSMShadowMap&&this.type===VSMShadowMap,Ot=mt===VSMShadowMap&&this.type!==VSMShadowMap;for(let zt=0,Dt=Tt.length;zt<Dt;zt++){const $t=Tt[zt],Mt=$t.shadow;if(Mt===void 0){console.warn("THREE.WebGLShadowMap:",$t,"has no shadow.");continue}if(Mt.autoUpdate===!1&&Mt.needsUpdate===!1)continue;it.copy(Mt.mapSize);const Rt=Mt.getFrameExtents();if(it.multiply(Rt),st.copy(Mt.mapSize),(it.x>ut||it.y>ut)&&(it.x>ut&&(st.x=Math.floor(ut/Rt.x),it.x=st.x*Rt.x,Mt.mapSize.x=st.x),it.y>ut&&(st.y=Math.floor(ut/Rt.y),it.y=st.y*Rt.y,Mt.mapSize.y=st.y)),Mt.map===null||Ut===!0||Ot===!0){const Ft=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};Mt.map!==null&&Mt.map.dispose(),Mt.map=new WebGLRenderTarget(it.x,it.y,Ft),Mt.map.texture.name=$t.name+".shadowMap",Mt.camera.updateProjectionMatrix()}tt.setRenderTarget(Mt.map),tt.clear();const Nt=Mt.getViewportCount();for(let Ft=0;Ft<Nt;Ft++){const qt=Mt.getViewport(Ft);at.set(st.x*qt.x,st.y*qt.y,st.x*qt.z,st.y*qt.w),Vt.viewport(at),Mt.updateMatrices($t,Ft),rt=Mt.getFrustum(),Et(At,Ct,Mt.camera,$t,this.type)}Mt.isPointLightShadow!==!0&&this.type===VSMShadowMap&&xt(Mt,Ct),Mt.needsUpdate=!1}mt=this.type,vt.needsUpdate=!1,tt.setRenderTarget(Pt,It,Lt)};function xt(Tt,At){const Ct=_e.update(gt);ht.defines.VSM_SAMPLES!==Tt.blurSamples&&(ht.defines.VSM_SAMPLES=Tt.blurSamples,pt.defines.VSM_SAMPLES=Tt.blurSamples,ht.needsUpdate=!0,pt.needsUpdate=!0),Tt.mapPass===null&&(Tt.mapPass=new WebGLRenderTarget(it.x,it.y)),ht.uniforms.shadow_pass.value=Tt.map.texture,ht.uniforms.resolution.value=Tt.mapSize,ht.uniforms.radius.value=Tt.radius,tt.setRenderTarget(Tt.mapPass),tt.clear(),tt.renderBufferDirect(At,null,Ct,ht,gt,null),pt.uniforms.shadow_pass.value=Tt.mapPass.texture,pt.uniforms.resolution.value=Tt.mapSize,pt.uniforms.radius.value=Tt.radius,tt.setRenderTarget(Tt.map),tt.clear(),tt.renderBufferDirect(At,null,Ct,pt,gt,null)}function St(Tt,At,Ct,Pt){let It=null;const Lt=Ct.isPointLight===!0?Tt.customDistanceMaterial:Tt.customDepthMaterial;if(Lt!==void 0)It=Lt;else if(It=Ct.isPointLight===!0?lt:ot,tt.localClippingEnabled&&At.clipShadows===!0&&Array.isArray(At.clippingPlanes)&&At.clippingPlanes.length!==0||At.displacementMap&&At.displacementScale!==0||At.alphaMap&&At.alphaTest>0||At.map&&At.alphaTest>0){const Vt=It.uuid,Ut=At.uuid;let Ot=ct[Vt];Ot===void 0&&(Ot={},ct[Vt]=Ot);let zt=Ot[Ut];zt===void 0&&(zt=It.clone(),Ot[Ut]=zt,At.addEventListener("dispose",bt)),It=zt}if(It.visible=At.visible,It.wireframe=At.wireframe,Pt===VSMShadowMap?It.side=At.shadowSide!==null?At.shadowSide:At.side:It.side=At.shadowSide!==null?At.shadowSide:ft[At.side],It.alphaMap=At.alphaMap,It.alphaTest=At.alphaTest,It.map=At.map,It.clipShadows=At.clipShadows,It.clippingPlanes=At.clippingPlanes,It.clipIntersection=At.clipIntersection,It.displacementMap=At.displacementMap,It.displacementScale=At.displacementScale,It.displacementBias=At.displacementBias,It.wireframeLinewidth=At.wireframeLinewidth,It.linewidth=At.linewidth,Ct.isPointLight===!0&&It.isMeshDistanceMaterial===!0){const Vt=tt.properties.get(It);Vt.light=Ct}return It}function Et(Tt,At,Ct,Pt,It){if(Tt.visible===!1)return;if(Tt.layers.test(At.layers)&&(Tt.isMesh||Tt.isLine||Tt.isPoints)&&(Tt.castShadow||Tt.receiveShadow&&It===VSMShadowMap)&&(!Tt.frustumCulled||rt.intersectsObject(Tt))){Tt.modelViewMatrix.multiplyMatrices(Ct.matrixWorldInverse,Tt.matrixWorld);const Ut=_e.update(Tt),Ot=Tt.material;if(Array.isArray(Ot)){const zt=Ut.groups;for(let Dt=0,$t=zt.length;Dt<$t;Dt++){const Mt=zt[Dt],Rt=Ot[Mt.materialIndex];if(Rt&&Rt.visible){const Nt=St(Tt,Rt,Pt,It);Tt.onBeforeShadow(tt,Tt,At,Ct,Ut,Nt,Mt),tt.renderBufferDirect(Ct,null,Ut,Nt,Tt,Mt),Tt.onAfterShadow(tt,Tt,At,Ct,Ut,Nt,Mt)}}}else if(Ot.visible){const zt=St(Tt,Ot,Pt,It);Tt.onBeforeShadow(tt,Tt,At,Ct,Ut,zt,null),tt.renderBufferDirect(Ct,null,Ut,zt,Tt,null),Tt.onAfterShadow(tt,Tt,At,Ct,Ut,zt,null)}}const Vt=Tt.children;for(let Ut=0,Ot=Vt.length;Ut<Ot;Ut++)Et(Vt[Ut],At,Ct,Pt,It)}function bt(Tt){Tt.target.removeEventListener("dispose",bt);for(const Ct in ct){const Pt=ct[Ct],It=Tt.target.uuid;It in Pt&&(Pt[It].dispose(),delete Pt[It])}}}const reversedFuncs={[NeverDepth]:AlwaysDepth,[LessDepth]:GreaterDepth,[EqualDepth]:NotEqualDepth,[LessEqualDepth]:GreaterEqualDepth,[AlwaysDepth]:NeverDepth,[GreaterDepth]:LessDepth,[NotEqualDepth]:EqualDepth,[GreaterEqualDepth]:LessEqualDepth};function WebGLState(tt,_e){function nt(){let fn=!1;const vn=new Vector4;let bn=null;const zn=new Vector4(0,0,0,0);return{setMask:function(qn){bn!==qn&&!fn&&(tt.colorMask(qn,qn,qn,qn),bn=qn)},setLocked:function(qn){fn=qn},setClear:function(qn,Gn,cr,Er,fr){fr===!0&&(qn*=Er,Gn*=Er,cr*=Er),vn.set(qn,Gn,cr,Er),zn.equals(vn)===!1&&(tt.clearColor(qn,Gn,cr,Er),zn.copy(vn))},reset:function(){fn=!1,bn=null,zn.set(-1,0,0,0)}}}function rt(){let fn=!1,vn=!1,bn=null,zn=null,qn=null;return{setReversed:function(Gn){if(vn!==Gn){const cr=_e.get("EXT_clip_control");vn?cr.clipControlEXT(cr.LOWER_LEFT_EXT,cr.ZERO_TO_ONE_EXT):cr.clipControlEXT(cr.LOWER_LEFT_EXT,cr.NEGATIVE_ONE_TO_ONE_EXT);const Er=qn;qn=null,this.setClear(Er)}vn=Gn},getReversed:function(){return vn},setTest:function(Gn){Gn?en(tt.DEPTH_TEST):un(tt.DEPTH_TEST)},setMask:function(Gn){bn!==Gn&&!fn&&(tt.depthMask(Gn),bn=Gn)},setFunc:function(Gn){if(vn&&(Gn=reversedFuncs[Gn]),zn!==Gn){switch(Gn){case NeverDepth:tt.depthFunc(tt.NEVER);break;case AlwaysDepth:tt.depthFunc(tt.ALWAYS);break;case LessDepth:tt.depthFunc(tt.LESS);break;case LessEqualDepth:tt.depthFunc(tt.LEQUAL);break;case EqualDepth:tt.depthFunc(tt.EQUAL);break;case GreaterEqualDepth:tt.depthFunc(tt.GEQUAL);break;case GreaterDepth:tt.depthFunc(tt.GREATER);break;case NotEqualDepth:tt.depthFunc(tt.NOTEQUAL);break;default:tt.depthFunc(tt.LEQUAL)}zn=Gn}},setLocked:function(Gn){fn=Gn},setClear:function(Gn){qn!==Gn&&(vn&&(Gn=1-Gn),tt.clearDepth(Gn),qn=Gn)},reset:function(){fn=!1,bn=null,zn=null,qn=null,vn=!1}}}function it(){let fn=!1,vn=null,bn=null,zn=null,qn=null,Gn=null,cr=null,Er=null,fr=null;return{setTest:function(gr){fn||(gr?en(tt.STENCIL_TEST):un(tt.STENCIL_TEST))},setMask:function(gr){vn!==gr&&!fn&&(tt.stencilMask(gr),vn=gr)},setFunc:function(gr,Fr,$r){(bn!==gr||zn!==Fr||qn!==$r)&&(tt.stencilFunc(gr,Fr,$r),bn=gr,zn=Fr,qn=$r)},setOp:function(gr,Fr,$r){(Gn!==gr||cr!==Fr||Er!==$r)&&(tt.stencilOp(gr,Fr,$r),Gn=gr,cr=Fr,Er=$r)},setLocked:function(gr){fn=gr},setClear:function(gr){fr!==gr&&(tt.clearStencil(gr),fr=gr)},reset:function(){fn=!1,vn=null,bn=null,zn=null,qn=null,Gn=null,cr=null,Er=null,fr=null}}}const st=new nt,at=new rt,ot=new it,lt=new WeakMap,ct=new WeakMap;let ut={},ft={},ht=new WeakMap,pt=[],dt=null,gt=!1,vt=null,mt=null,xt=null,St=null,Et=null,bt=null,Tt=null,At=new Color(0,0,0),Ct=0,Pt=!1,It=null,Lt=null,Vt=null,Ut=null,Ot=null;const zt=tt.getParameter(tt.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Dt=!1,$t=0;const Mt=tt.getParameter(tt.VERSION);Mt.indexOf("WebGL")!==-1?($t=parseFloat(/^WebGL (\d)/.exec(Mt)[1]),Dt=$t>=1):Mt.indexOf("OpenGL ES")!==-1&&($t=parseFloat(/^OpenGL ES (\d)/.exec(Mt)[1]),Dt=$t>=2);let Rt=null,Nt={};const Ft=tt.getParameter(tt.SCISSOR_BOX),qt=tt.getParameter(tt.VIEWPORT),Qt=new Vector4().fromArray(Ft),Kt=new Vector4().fromArray(qt);function Zt(fn,vn,bn,zn){const qn=new Uint8Array(4),Gn=tt.createTexture();tt.bindTexture(fn,Gn),tt.texParameteri(fn,tt.TEXTURE_MIN_FILTER,tt.NEAREST),tt.texParameteri(fn,tt.TEXTURE_MAG_FILTER,tt.NEAREST);for(let cr=0;cr<bn;cr++)fn===tt.TEXTURE_3D||fn===tt.TEXTURE_2D_ARRAY?tt.texImage3D(vn,0,tt.RGBA,1,1,zn,0,tt.RGBA,tt.UNSIGNED_BYTE,qn):tt.texImage2D(vn+cr,0,tt.RGBA,1,1,0,tt.RGBA,tt.UNSIGNED_BYTE,qn);return Gn}const tn={};tn[tt.TEXTURE_2D]=Zt(tt.TEXTURE_2D,tt.TEXTURE_2D,1),tn[tt.TEXTURE_CUBE_MAP]=Zt(tt.TEXTURE_CUBE_MAP,tt.TEXTURE_CUBE_MAP_POSITIVE_X,6),tn[tt.TEXTURE_2D_ARRAY]=Zt(tt.TEXTURE_2D_ARRAY,tt.TEXTURE_2D_ARRAY,1,1),tn[tt.TEXTURE_3D]=Zt(tt.TEXTURE_3D,tt.TEXTURE_3D,1,1),st.setClear(0,0,0,1),at.setClear(1),ot.setClear(0),en(tt.DEPTH_TEST),at.setFunc(LessEqualDepth),wn(!1),Vn(CullFaceBack),en(tt.CULL_FACE),Yt(NoBlending);function en(fn){ut[fn]!==!0&&(tt.enable(fn),ut[fn]=!0)}function un(fn){ut[fn]!==!1&&(tt.disable(fn),ut[fn]=!1)}function Cn(fn,vn){return ft[fn]!==vn?(tt.bindFramebuffer(fn,vn),ft[fn]=vn,fn===tt.DRAW_FRAMEBUFFER&&(ft[tt.FRAMEBUFFER]=vn),fn===tt.FRAMEBUFFER&&(ft[tt.DRAW_FRAMEBUFFER]=vn),!0):!1}function Rn(fn,vn){let bn=pt,zn=!1;if(fn){bn=ht.get(vn),bn===void 0&&(bn=[],ht.set(vn,bn));const qn=fn.textures;if(bn.length!==qn.length||bn[0]!==tt.COLOR_ATTACHMENT0){for(let Gn=0,cr=qn.length;Gn<cr;Gn++)bn[Gn]=tt.COLOR_ATTACHMENT0+Gn;bn.length=qn.length,zn=!0}}else bn[0]!==tt.BACK&&(bn[0]=tt.BACK,zn=!0);zn&&tt.drawBuffers(bn)}function Mn(fn){return dt!==fn?(tt.useProgram(fn),dt=fn,!0):!1}const ln={[AddEquation]:tt.FUNC_ADD,[SubtractEquation]:tt.FUNC_SUBTRACT,[ReverseSubtractEquation]:tt.FUNC_REVERSE_SUBTRACT};ln[MinEquation]=tt.MIN,ln[MaxEquation]=tt.MAX;const gn={[ZeroFactor]:tt.ZERO,[OneFactor]:tt.ONE,[SrcColorFactor]:tt.SRC_COLOR,[SrcAlphaFactor]:tt.SRC_ALPHA,[SrcAlphaSaturateFactor]:tt.SRC_ALPHA_SATURATE,[DstColorFactor]:tt.DST_COLOR,[DstAlphaFactor]:tt.DST_ALPHA,[OneMinusSrcColorFactor]:tt.ONE_MINUS_SRC_COLOR,[OneMinusSrcAlphaFactor]:tt.ONE_MINUS_SRC_ALPHA,[OneMinusDstColorFactor]:tt.ONE_MINUS_DST_COLOR,[OneMinusDstAlphaFactor]:tt.ONE_MINUS_DST_ALPHA,[ConstantColorFactor]:tt.CONSTANT_COLOR,[OneMinusConstantColorFactor]:tt.ONE_MINUS_CONSTANT_COLOR,[ConstantAlphaFactor]:tt.CONSTANT_ALPHA,[OneMinusConstantAlphaFactor]:tt.ONE_MINUS_CONSTANT_ALPHA};function Yt(fn,vn,bn,zn,qn,Gn,cr,Er,fr,gr){if(fn===NoBlending){gt===!0&&(un(tt.BLEND),gt=!1);return}if(gt===!1&&(en(tt.BLEND),gt=!0),fn!==CustomBlending){if(fn!==vt||gr!==Pt){if((mt!==AddEquation||Et!==AddEquation)&&(tt.blendEquation(tt.FUNC_ADD),mt=AddEquation,Et=AddEquation),gr)switch(fn){case NormalBlending:tt.blendFuncSeparate(tt.ONE,tt.ONE_MINUS_SRC_ALPHA,tt.ONE,tt.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:tt.blendFunc(tt.ONE,tt.ONE);break;case SubtractiveBlending:tt.blendFuncSeparate(tt.ZERO,tt.ONE_MINUS_SRC_COLOR,tt.ZERO,tt.ONE);break;case MultiplyBlending:tt.blendFuncSeparate(tt.ZERO,tt.SRC_COLOR,tt.ZERO,tt.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",fn);break}else switch(fn){case NormalBlending:tt.blendFuncSeparate(tt.SRC_ALPHA,tt.ONE_MINUS_SRC_ALPHA,tt.ONE,tt.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:tt.blendFunc(tt.SRC_ALPHA,tt.ONE);break;case SubtractiveBlending:tt.blendFuncSeparate(tt.ZERO,tt.ONE_MINUS_SRC_COLOR,tt.ZERO,tt.ONE);break;case MultiplyBlending:tt.blendFunc(tt.ZERO,tt.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",fn);break}xt=null,St=null,bt=null,Tt=null,At.set(0,0,0),Ct=0,vt=fn,Pt=gr}return}qn=qn||vn,Gn=Gn||bn,cr=cr||zn,(vn!==mt||qn!==Et)&&(tt.blendEquationSeparate(ln[vn],ln[qn]),mt=vn,Et=qn),(bn!==xt||zn!==St||Gn!==bt||cr!==Tt)&&(tt.blendFuncSeparate(gn[bn],gn[zn],gn[Gn],gn[cr]),xt=bn,St=zn,bt=Gn,Tt=cr),(Er.equals(At)===!1||fr!==Ct)&&(tt.blendColor(Er.r,Er.g,Er.b,fr),At.copy(Er),Ct=fr),vt=fn,Pt=!1}function Fn(fn,vn){fn.side===DoubleSide?un(tt.CULL_FACE):en(tt.CULL_FACE);let bn=fn.side===BackSide;vn&&(bn=!bn),wn(bn),fn.blending===NormalBlending&&fn.transparent===!1?Yt(NoBlending):Yt(fn.blending,fn.blendEquation,fn.blendSrc,fn.blendDst,fn.blendEquationAlpha,fn.blendSrcAlpha,fn.blendDstAlpha,fn.blendColor,fn.blendAlpha,fn.premultipliedAlpha),at.setFunc(fn.depthFunc),at.setTest(fn.depthTest),at.setMask(fn.depthWrite),st.setMask(fn.colorWrite);const zn=fn.stencilWrite;ot.setTest(zn),zn&&(ot.setMask(fn.stencilWriteMask),ot.setFunc(fn.stencilFunc,fn.stencilRef,fn.stencilFuncMask),ot.setOp(fn.stencilFail,fn.stencilZFail,fn.stencilZPass)),Bn(fn.polygonOffset,fn.polygonOffsetFactor,fn.polygonOffsetUnits),fn.alphaToCoverage===!0?en(tt.SAMPLE_ALPHA_TO_COVERAGE):un(tt.SAMPLE_ALPHA_TO_COVERAGE)}function wn(fn){It!==fn&&(fn?tt.frontFace(tt.CW):tt.frontFace(tt.CCW),It=fn)}function Vn(fn){fn!==CullFaceNone?(en(tt.CULL_FACE),fn!==Lt&&(fn===CullFaceBack?tt.cullFace(tt.BACK):fn===CullFaceFront?tt.cullFace(tt.FRONT):tt.cullFace(tt.FRONT_AND_BACK))):un(tt.CULL_FACE),Lt=fn}function xn(fn){fn!==Vt&&(Dt&&tt.lineWidth(fn),Vt=fn)}function Bn(fn,vn,bn){fn?(en(tt.POLYGON_OFFSET_FILL),(Ut!==vn||Ot!==bn)&&(tt.polygonOffset(vn,bn),Ut=vn,Ot=bn)):un(tt.POLYGON_OFFSET_FILL)}function Tn(fn){fn?en(tt.SCISSOR_TEST):un(tt.SCISSOR_TEST)}function Wt(fn){fn===void 0&&(fn=tt.TEXTURE0+zt-1),Rt!==fn&&(tt.activeTexture(fn),Rt=fn)}function Ht(fn,vn,bn){bn===void 0&&(Rt===null?bn=tt.TEXTURE0+zt-1:bn=Rt);let zn=Nt[bn];zn===void 0&&(zn={type:void 0,texture:void 0},Nt[bn]=zn),(zn.type!==fn||zn.texture!==vn)&&(Rt!==bn&&(tt.activeTexture(bn),Rt=bn),tt.bindTexture(fn,vn||tn[fn]),zn.type=fn,zn.texture=vn)}function an(){const fn=Nt[Rt];fn!==void 0&&fn.type!==void 0&&(tt.bindTexture(fn.type,null),fn.type=void 0,fn.texture=void 0)}function dn(){try{tt.compressedTexImage2D.apply(tt,arguments)}catch(fn){console.error("THREE.WebGLState:",fn)}}function mn(){try{tt.compressedTexImage3D.apply(tt,arguments)}catch(fn){console.error("THREE.WebGLState:",fn)}}function En(){try{tt.texSubImage2D.apply(tt,arguments)}catch(fn){console.error("THREE.WebGLState:",fn)}}function Dn(){try{tt.texSubImage3D.apply(tt,arguments)}catch(fn){console.error("THREE.WebGLState:",fn)}}function kn(){try{tt.compressedTexSubImage2D.apply(tt,arguments)}catch(fn){console.error("THREE.WebGLState:",fn)}}function Nn(){try{tt.compressedTexSubImage3D.apply(tt,arguments)}catch(fn){console.error("THREE.WebGLState:",fn)}}function tr(){try{tt.texStorage2D.apply(tt,arguments)}catch(fn){console.error("THREE.WebGLState:",fn)}}function Un(){try{tt.texStorage3D.apply(tt,arguments)}catch(fn){console.error("THREE.WebGLState:",fn)}}function Kn(){try{tt.texImage2D.apply(tt,arguments)}catch(fn){console.error("THREE.WebGLState:",fn)}}function Yn(){try{tt.texImage3D.apply(tt,arguments)}catch(fn){console.error("THREE.WebGLState:",fn)}}function Wn(fn){Qt.equals(fn)===!1&&(tt.scissor(fn.x,fn.y,fn.z,fn.w),Qt.copy(fn))}function On(fn){Kt.equals(fn)===!1&&(tt.viewport(fn.x,fn.y,fn.z,fn.w),Kt.copy(fn))}function rr(fn,vn){let bn=ct.get(vn);bn===void 0&&(bn=new WeakMap,ct.set(vn,bn));let zn=bn.get(fn);zn===void 0&&(zn=tt.getUniformBlockIndex(vn,fn.name),bn.set(fn,zn))}function nr(fn,vn){const zn=ct.get(vn).get(fn);lt.get(vn)!==zn&&(tt.uniformBlockBinding(vn,zn,fn.__bindingPointIndex),lt.set(vn,zn))}function pr(){tt.disable(tt.BLEND),tt.disable(tt.CULL_FACE),tt.disable(tt.DEPTH_TEST),tt.disable(tt.POLYGON_OFFSET_FILL),tt.disable(tt.SCISSOR_TEST),tt.disable(tt.STENCIL_TEST),tt.disable(tt.SAMPLE_ALPHA_TO_COVERAGE),tt.blendEquation(tt.FUNC_ADD),tt.blendFunc(tt.ONE,tt.ZERO),tt.blendFuncSeparate(tt.ONE,tt.ZERO,tt.ONE,tt.ZERO),tt.blendColor(0,0,0,0),tt.colorMask(!0,!0,!0,!0),tt.clearColor(0,0,0,0),tt.depthMask(!0),tt.depthFunc(tt.LESS),at.setReversed(!1),tt.clearDepth(1),tt.stencilMask(4294967295),tt.stencilFunc(tt.ALWAYS,0,4294967295),tt.stencilOp(tt.KEEP,tt.KEEP,tt.KEEP),tt.clearStencil(0),tt.cullFace(tt.BACK),tt.frontFace(tt.CCW),tt.polygonOffset(0,0),tt.activeTexture(tt.TEXTURE0),tt.bindFramebuffer(tt.FRAMEBUFFER,null),tt.bindFramebuffer(tt.DRAW_FRAMEBUFFER,null),tt.bindFramebuffer(tt.READ_FRAMEBUFFER,null),tt.useProgram(null),tt.lineWidth(1),tt.scissor(0,0,tt.canvas.width,tt.canvas.height),tt.viewport(0,0,tt.canvas.width,tt.canvas.height),ut={},Rt=null,Nt={},ft={},ht=new WeakMap,pt=[],dt=null,gt=!1,vt=null,mt=null,xt=null,St=null,Et=null,bt=null,Tt=null,At=new Color(0,0,0),Ct=0,Pt=!1,It=null,Lt=null,Vt=null,Ut=null,Ot=null,Qt.set(0,0,tt.canvas.width,tt.canvas.height),Kt.set(0,0,tt.canvas.width,tt.canvas.height),st.reset(),at.reset(),ot.reset()}return{buffers:{color:st,depth:at,stencil:ot},enable:en,disable:un,bindFramebuffer:Cn,drawBuffers:Rn,useProgram:Mn,setBlending:Yt,setMaterial:Fn,setFlipSided:wn,setCullFace:Vn,setLineWidth:xn,setPolygonOffset:Bn,setScissorTest:Tn,activeTexture:Wt,bindTexture:Ht,unbindTexture:an,compressedTexImage2D:dn,compressedTexImage3D:mn,texImage2D:Kn,texImage3D:Yn,updateUBOMapping:rr,uniformBlockBinding:nr,texStorage2D:tr,texStorage3D:Un,texSubImage2D:En,texSubImage3D:Dn,compressedTexSubImage2D:kn,compressedTexSubImage3D:Nn,scissor:Wn,viewport:On,reset:pr}}function contain(tt,_e){const nt=tt.image&&tt.image.width?tt.image.width/tt.image.height:1;return nt>_e?(tt.repeat.x=1,tt.repeat.y=nt/_e,tt.offset.x=0,tt.offset.y=(1-tt.repeat.y)/2):(tt.repeat.x=_e/nt,tt.repeat.y=1,tt.offset.x=(1-tt.repeat.x)/2,tt.offset.y=0),tt}function cover(tt,_e){const nt=tt.image&&tt.image.width?tt.image.width/tt.image.height:1;return nt>_e?(tt.repeat.x=_e/nt,tt.repeat.y=1,tt.offset.x=(1-tt.repeat.x)/2,tt.offset.y=0):(tt.repeat.x=1,tt.repeat.y=nt/_e,tt.offset.x=0,tt.offset.y=(1-tt.repeat.y)/2),tt}function fill(tt){return tt.repeat.x=1,tt.repeat.y=1,tt.offset.x=0,tt.offset.y=0,tt}function getByteLength(tt,_e,nt,rt){const it=getTextureTypeByteLength(rt);switch(nt){case AlphaFormat:return tt*_e;case LuminanceFormat:return tt*_e;case LuminanceAlphaFormat:return tt*_e*2;case RedFormat:return tt*_e/it.components*it.byteLength;case RedIntegerFormat:return tt*_e/it.components*it.byteLength;case RGFormat:return tt*_e*2/it.components*it.byteLength;case RGIntegerFormat:return tt*_e*2/it.components*it.byteLength;case RGBFormat:return tt*_e*3/it.components*it.byteLength;case RGBAFormat:return tt*_e*4/it.components*it.byteLength;case RGBAIntegerFormat:return tt*_e*4/it.components*it.byteLength;case RGB_S3TC_DXT1_Format:case RGBA_S3TC_DXT1_Format:return Math.floor((tt+3)/4)*Math.floor((_e+3)/4)*8;case RGBA_S3TC_DXT3_Format:case RGBA_S3TC_DXT5_Format:return Math.floor((tt+3)/4)*Math.floor((_e+3)/4)*16;case RGB_PVRTC_2BPPV1_Format:case RGBA_PVRTC_2BPPV1_Format:return Math.max(tt,16)*Math.max(_e,8)/4;case RGB_PVRTC_4BPPV1_Format:case RGBA_PVRTC_4BPPV1_Format:return Math.max(tt,8)*Math.max(_e,8)/2;case RGB_ETC1_Format:case RGB_ETC2_Format:return Math.floor((tt+3)/4)*Math.floor((_e+3)/4)*8;case RGBA_ETC2_EAC_Format:return Math.floor((tt+3)/4)*Math.floor((_e+3)/4)*16;case RGBA_ASTC_4x4_Format:return Math.floor((tt+3)/4)*Math.floor((_e+3)/4)*16;case RGBA_ASTC_5x4_Format:return Math.floor((tt+4)/5)*Math.floor((_e+3)/4)*16;case RGBA_ASTC_5x5_Format:return Math.floor((tt+4)/5)*Math.floor((_e+4)/5)*16;case RGBA_ASTC_6x5_Format:return Math.floor((tt+5)/6)*Math.floor((_e+4)/5)*16;case RGBA_ASTC_6x6_Format:return Math.floor((tt+5)/6)*Math.floor((_e+5)/6)*16;case RGBA_ASTC_8x5_Format:return Math.floor((tt+7)/8)*Math.floor((_e+4)/5)*16;case RGBA_ASTC_8x6_Format:return Math.floor((tt+7)/8)*Math.floor((_e+5)/6)*16;case RGBA_ASTC_8x8_Format:return Math.floor((tt+7)/8)*Math.floor((_e+7)/8)*16;case RGBA_ASTC_10x5_Format:return Math.floor((tt+9)/10)*Math.floor((_e+4)/5)*16;case RGBA_ASTC_10x6_Format:return Math.floor((tt+9)/10)*Math.floor((_e+5)/6)*16;case RGBA_ASTC_10x8_Format:return Math.floor((tt+9)/10)*Math.floor((_e+7)/8)*16;case RGBA_ASTC_10x10_Format:return Math.floor((tt+9)/10)*Math.floor((_e+9)/10)*16;case RGBA_ASTC_12x10_Format:return Math.floor((tt+11)/12)*Math.floor((_e+9)/10)*16;case RGBA_ASTC_12x12_Format:return Math.floor((tt+11)/12)*Math.floor((_e+11)/12)*16;case RGBA_BPTC_Format:case RGB_BPTC_SIGNED_Format:case RGB_BPTC_UNSIGNED_Format:return Math.ceil(tt/4)*Math.ceil(_e/4)*16;case RED_RGTC1_Format:case SIGNED_RED_RGTC1_Format:return Math.ceil(tt/4)*Math.ceil(_e/4)*8;case RED_GREEN_RGTC2_Format:case SIGNED_RED_GREEN_RGTC2_Format:return Math.ceil(tt/4)*Math.ceil(_e/4)*16}throw new Error(`Unable to determine texture byte length for ${nt} format.`)}function getTextureTypeByteLength(tt){switch(tt){case UnsignedByteType:case ByteType:return{byteLength:1,components:1};case UnsignedShortType:case ShortType:case HalfFloatType:return{byteLength:2,components:1};case UnsignedShort4444Type:case UnsignedShort5551Type:return{byteLength:2,components:4};case UnsignedIntType:case IntType:case FloatType:return{byteLength:4,components:1};case UnsignedInt5999Type:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${tt}.`)}const TextureUtils={contain,cover,fill,getByteLength};function WebGLTextures(tt,_e,nt,rt,it,st,at){const ot=_e.has("WEBGL_multisampled_render_to_texture")?_e.get("WEBGL_multisampled_render_to_texture"):null,lt=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),ct=new Vector2,ut=new WeakMap;let ft;const ht=new WeakMap;let pt=!1;try{pt=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function dt(Wt,Ht){return pt?new OffscreenCanvas(Wt,Ht):createElementNS("canvas")}function gt(Wt,Ht,an){let dn=1;const mn=Tn(Wt);if((mn.width>an||mn.height>an)&&(dn=an/Math.max(mn.width,mn.height)),dn<1)if(typeof HTMLImageElement<"u"&&Wt instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Wt instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Wt instanceof ImageBitmap||typeof VideoFrame<"u"&&Wt instanceof VideoFrame){const En=Math.floor(dn*mn.width),Dn=Math.floor(dn*mn.height);ft===void 0&&(ft=dt(En,Dn));const kn=Ht?dt(En,Dn):ft;return kn.width=En,kn.height=Dn,kn.getContext("2d").drawImage(Wt,0,0,En,Dn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+mn.width+"x"+mn.height+") to ("+En+"x"+Dn+")."),kn}else return"data"in Wt&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+mn.width+"x"+mn.height+")."),Wt;return Wt}function vt(Wt){return Wt.generateMipmaps}function mt(Wt){tt.generateMipmap(Wt)}function xt(Wt){return Wt.isWebGLCubeRenderTarget?tt.TEXTURE_CUBE_MAP:Wt.isWebGL3DRenderTarget?tt.TEXTURE_3D:Wt.isWebGLArrayRenderTarget||Wt.isCompressedArrayTexture?tt.TEXTURE_2D_ARRAY:tt.TEXTURE_2D}function St(Wt,Ht,an,dn,mn=!1){if(Wt!==null){if(tt[Wt]!==void 0)return tt[Wt];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Wt+"'")}let En=Ht;if(Ht===tt.RED&&(an===tt.FLOAT&&(En=tt.R32F),an===tt.HALF_FLOAT&&(En=tt.R16F),an===tt.UNSIGNED_BYTE&&(En=tt.R8)),Ht===tt.RED_INTEGER&&(an===tt.UNSIGNED_BYTE&&(En=tt.R8UI),an===tt.UNSIGNED_SHORT&&(En=tt.R16UI),an===tt.UNSIGNED_INT&&(En=tt.R32UI),an===tt.BYTE&&(En=tt.R8I),an===tt.SHORT&&(En=tt.R16I),an===tt.INT&&(En=tt.R32I)),Ht===tt.RG&&(an===tt.FLOAT&&(En=tt.RG32F),an===tt.HALF_FLOAT&&(En=tt.RG16F),an===tt.UNSIGNED_BYTE&&(En=tt.RG8)),Ht===tt.RG_INTEGER&&(an===tt.UNSIGNED_BYTE&&(En=tt.RG8UI),an===tt.UNSIGNED_SHORT&&(En=tt.RG16UI),an===tt.UNSIGNED_INT&&(En=tt.RG32UI),an===tt.BYTE&&(En=tt.RG8I),an===tt.SHORT&&(En=tt.RG16I),an===tt.INT&&(En=tt.RG32I)),Ht===tt.RGB_INTEGER&&(an===tt.UNSIGNED_BYTE&&(En=tt.RGB8UI),an===tt.UNSIGNED_SHORT&&(En=tt.RGB16UI),an===tt.UNSIGNED_INT&&(En=tt.RGB32UI),an===tt.BYTE&&(En=tt.RGB8I),an===tt.SHORT&&(En=tt.RGB16I),an===tt.INT&&(En=tt.RGB32I)),Ht===tt.RGBA_INTEGER&&(an===tt.UNSIGNED_BYTE&&(En=tt.RGBA8UI),an===tt.UNSIGNED_SHORT&&(En=tt.RGBA16UI),an===tt.UNSIGNED_INT&&(En=tt.RGBA32UI),an===tt.BYTE&&(En=tt.RGBA8I),an===tt.SHORT&&(En=tt.RGBA16I),an===tt.INT&&(En=tt.RGBA32I)),Ht===tt.RGB&&an===tt.UNSIGNED_INT_5_9_9_9_REV&&(En=tt.RGB9_E5),Ht===tt.RGBA){const Dn=mn?LinearTransfer:ColorManagement.getTransfer(dn);an===tt.FLOAT&&(En=tt.RGBA32F),an===tt.HALF_FLOAT&&(En=tt.RGBA16F),an===tt.UNSIGNED_BYTE&&(En=Dn===SRGBTransfer?tt.SRGB8_ALPHA8:tt.RGBA8),an===tt.UNSIGNED_SHORT_4_4_4_4&&(En=tt.RGBA4),an===tt.UNSIGNED_SHORT_5_5_5_1&&(En=tt.RGB5_A1)}return(En===tt.R16F||En===tt.R32F||En===tt.RG16F||En===tt.RG32F||En===tt.RGBA16F||En===tt.RGBA32F)&&_e.get("EXT_color_buffer_float"),En}function Et(Wt,Ht){let an;return Wt?Ht===null||Ht===UnsignedIntType||Ht===UnsignedInt248Type?an=tt.DEPTH24_STENCIL8:Ht===FloatType?an=tt.DEPTH32F_STENCIL8:Ht===UnsignedShortType&&(an=tt.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Ht===null||Ht===UnsignedIntType||Ht===UnsignedInt248Type?an=tt.DEPTH_COMPONENT24:Ht===FloatType?an=tt.DEPTH_COMPONENT32F:Ht===UnsignedShortType&&(an=tt.DEPTH_COMPONENT16),an}function bt(Wt,Ht){return vt(Wt)===!0||Wt.isFramebufferTexture&&Wt.minFilter!==NearestFilter&&Wt.minFilter!==LinearFilter?Math.log2(Math.max(Ht.width,Ht.height))+1:Wt.mipmaps!==void 0&&Wt.mipmaps.length>0?Wt.mipmaps.length:Wt.isCompressedTexture&&Array.isArray(Wt.image)?Ht.mipmaps.length:1}function Tt(Wt){const Ht=Wt.target;Ht.removeEventListener("dispose",Tt),Ct(Ht),Ht.isVideoTexture&&ut.delete(Ht)}function At(Wt){const Ht=Wt.target;Ht.removeEventListener("dispose",At),It(Ht)}function Ct(Wt){const Ht=rt.get(Wt);if(Ht.__webglInit===void 0)return;const an=Wt.source,dn=ht.get(an);if(dn){const mn=dn[Ht.__cacheKey];mn.usedTimes--,mn.usedTimes===0&&Pt(Wt),Object.keys(dn).length===0&&ht.delete(an)}rt.remove(Wt)}function Pt(Wt){const Ht=rt.get(Wt);tt.deleteTexture(Ht.__webglTexture);const an=Wt.source,dn=ht.get(an);delete dn[Ht.__cacheKey],at.memory.textures--}function It(Wt){const Ht=rt.get(Wt);if(Wt.depthTexture&&(Wt.depthTexture.dispose(),rt.remove(Wt.depthTexture)),Wt.isWebGLCubeRenderTarget)for(let dn=0;dn<6;dn++){if(Array.isArray(Ht.__webglFramebuffer[dn]))for(let mn=0;mn<Ht.__webglFramebuffer[dn].length;mn++)tt.deleteFramebuffer(Ht.__webglFramebuffer[dn][mn]);else tt.deleteFramebuffer(Ht.__webglFramebuffer[dn]);Ht.__webglDepthbuffer&&tt.deleteRenderbuffer(Ht.__webglDepthbuffer[dn])}else{if(Array.isArray(Ht.__webglFramebuffer))for(let dn=0;dn<Ht.__webglFramebuffer.length;dn++)tt.deleteFramebuffer(Ht.__webglFramebuffer[dn]);else tt.deleteFramebuffer(Ht.__webglFramebuffer);if(Ht.__webglDepthbuffer&&tt.deleteRenderbuffer(Ht.__webglDepthbuffer),Ht.__webglMultisampledFramebuffer&&tt.deleteFramebuffer(Ht.__webglMultisampledFramebuffer),Ht.__webglColorRenderbuffer)for(let dn=0;dn<Ht.__webglColorRenderbuffer.length;dn++)Ht.__webglColorRenderbuffer[dn]&&tt.deleteRenderbuffer(Ht.__webglColorRenderbuffer[dn]);Ht.__webglDepthRenderbuffer&&tt.deleteRenderbuffer(Ht.__webglDepthRenderbuffer)}const an=Wt.textures;for(let dn=0,mn=an.length;dn<mn;dn++){const En=rt.get(an[dn]);En.__webglTexture&&(tt.deleteTexture(En.__webglTexture),at.memory.textures--),rt.remove(an[dn])}rt.remove(Wt)}let Lt=0;function Vt(){Lt=0}function Ut(){const Wt=Lt;return Wt>=it.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Wt+" texture units while this GPU supports only "+it.maxTextures),Lt+=1,Wt}function Ot(Wt){const Ht=[];return Ht.push(Wt.wrapS),Ht.push(Wt.wrapT),Ht.push(Wt.wrapR||0),Ht.push(Wt.magFilter),Ht.push(Wt.minFilter),Ht.push(Wt.anisotropy),Ht.push(Wt.internalFormat),Ht.push(Wt.format),Ht.push(Wt.type),Ht.push(Wt.generateMipmaps),Ht.push(Wt.premultiplyAlpha),Ht.push(Wt.flipY),Ht.push(Wt.unpackAlignment),Ht.push(Wt.colorSpace),Ht.join()}function zt(Wt,Ht){const an=rt.get(Wt);if(Wt.isVideoTexture&&xn(Wt),Wt.isRenderTargetTexture===!1&&Wt.version>0&&an.__version!==Wt.version){const dn=Wt.image;if(dn===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(dn.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Kt(an,Wt,Ht);return}}nt.bindTexture(tt.TEXTURE_2D,an.__webglTexture,tt.TEXTURE0+Ht)}function Dt(Wt,Ht){const an=rt.get(Wt);if(Wt.version>0&&an.__version!==Wt.version){Kt(an,Wt,Ht);return}nt.bindTexture(tt.TEXTURE_2D_ARRAY,an.__webglTexture,tt.TEXTURE0+Ht)}function $t(Wt,Ht){const an=rt.get(Wt);if(Wt.version>0&&an.__version!==Wt.version){Kt(an,Wt,Ht);return}nt.bindTexture(tt.TEXTURE_3D,an.__webglTexture,tt.TEXTURE0+Ht)}function Mt(Wt,Ht){const an=rt.get(Wt);if(Wt.version>0&&an.__version!==Wt.version){Zt(an,Wt,Ht);return}nt.bindTexture(tt.TEXTURE_CUBE_MAP,an.__webglTexture,tt.TEXTURE0+Ht)}const Rt={[RepeatWrapping]:tt.REPEAT,[ClampToEdgeWrapping]:tt.CLAMP_TO_EDGE,[MirroredRepeatWrapping]:tt.MIRRORED_REPEAT},Nt={[NearestFilter]:tt.NEAREST,[NearestMipmapNearestFilter]:tt.NEAREST_MIPMAP_NEAREST,[NearestMipmapLinearFilter]:tt.NEAREST_MIPMAP_LINEAR,[LinearFilter]:tt.LINEAR,[LinearMipmapNearestFilter]:tt.LINEAR_MIPMAP_NEAREST,[LinearMipmapLinearFilter]:tt.LINEAR_MIPMAP_LINEAR},Ft={[NeverCompare]:tt.NEVER,[AlwaysCompare]:tt.ALWAYS,[LessCompare]:tt.LESS,[LessEqualCompare]:tt.LEQUAL,[EqualCompare]:tt.EQUAL,[GreaterEqualCompare]:tt.GEQUAL,[GreaterCompare]:tt.GREATER,[NotEqualCompare]:tt.NOTEQUAL};function qt(Wt,Ht){if(Ht.type===FloatType&&_e.has("OES_texture_float_linear")===!1&&(Ht.magFilter===LinearFilter||Ht.magFilter===LinearMipmapNearestFilter||Ht.magFilter===NearestMipmapLinearFilter||Ht.magFilter===LinearMipmapLinearFilter||Ht.minFilter===LinearFilter||Ht.minFilter===LinearMipmapNearestFilter||Ht.minFilter===NearestMipmapLinearFilter||Ht.minFilter===LinearMipmapLinearFilter)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),tt.texParameteri(Wt,tt.TEXTURE_WRAP_S,Rt[Ht.wrapS]),tt.texParameteri(Wt,tt.TEXTURE_WRAP_T,Rt[Ht.wrapT]),(Wt===tt.TEXTURE_3D||Wt===tt.TEXTURE_2D_ARRAY)&&tt.texParameteri(Wt,tt.TEXTURE_WRAP_R,Rt[Ht.wrapR]),tt.texParameteri(Wt,tt.TEXTURE_MAG_FILTER,Nt[Ht.magFilter]),tt.texParameteri(Wt,tt.TEXTURE_MIN_FILTER,Nt[Ht.minFilter]),Ht.compareFunction&&(tt.texParameteri(Wt,tt.TEXTURE_COMPARE_MODE,tt.COMPARE_REF_TO_TEXTURE),tt.texParameteri(Wt,tt.TEXTURE_COMPARE_FUNC,Ft[Ht.compareFunction])),_e.has("EXT_texture_filter_anisotropic")===!0){if(Ht.magFilter===NearestFilter||Ht.minFilter!==NearestMipmapLinearFilter&&Ht.minFilter!==LinearMipmapLinearFilter||Ht.type===FloatType&&_e.has("OES_texture_float_linear")===!1)return;if(Ht.anisotropy>1||rt.get(Ht).__currentAnisotropy){const an=_e.get("EXT_texture_filter_anisotropic");tt.texParameterf(Wt,an.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Ht.anisotropy,it.getMaxAnisotropy())),rt.get(Ht).__currentAnisotropy=Ht.anisotropy}}}function Qt(Wt,Ht){let an=!1;Wt.__webglInit===void 0&&(Wt.__webglInit=!0,Ht.addEventListener("dispose",Tt));const dn=Ht.source;let mn=ht.get(dn);mn===void 0&&(mn={},ht.set(dn,mn));const En=Ot(Ht);if(En!==Wt.__cacheKey){mn[En]===void 0&&(mn[En]={texture:tt.createTexture(),usedTimes:0},at.memory.textures++,an=!0),mn[En].usedTimes++;const Dn=mn[Wt.__cacheKey];Dn!==void 0&&(mn[Wt.__cacheKey].usedTimes--,Dn.usedTimes===0&&Pt(Ht)),Wt.__cacheKey=En,Wt.__webglTexture=mn[En].texture}return an}function Kt(Wt,Ht,an){let dn=tt.TEXTURE_2D;(Ht.isDataArrayTexture||Ht.isCompressedArrayTexture)&&(dn=tt.TEXTURE_2D_ARRAY),Ht.isData3DTexture&&(dn=tt.TEXTURE_3D);const mn=Qt(Wt,Ht),En=Ht.source;nt.bindTexture(dn,Wt.__webglTexture,tt.TEXTURE0+an);const Dn=rt.get(En);if(En.version!==Dn.__version||mn===!0){nt.activeTexture(tt.TEXTURE0+an);const kn=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),Nn=Ht.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(Ht.colorSpace),tr=Ht.colorSpace===NoColorSpace||kn===Nn?tt.NONE:tt.BROWSER_DEFAULT_WEBGL;tt.pixelStorei(tt.UNPACK_FLIP_Y_WEBGL,Ht.flipY),tt.pixelStorei(tt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ht.premultiplyAlpha),tt.pixelStorei(tt.UNPACK_ALIGNMENT,Ht.unpackAlignment),tt.pixelStorei(tt.UNPACK_COLORSPACE_CONVERSION_WEBGL,tr);let Un=gt(Ht.image,!1,it.maxTextureSize);Un=Bn(Ht,Un);const Kn=st.convert(Ht.format,Ht.colorSpace),Yn=st.convert(Ht.type);let Wn=St(Ht.internalFormat,Kn,Yn,Ht.colorSpace,Ht.isVideoTexture);qt(dn,Ht);let On;const rr=Ht.mipmaps,nr=Ht.isVideoTexture!==!0,pr=Dn.__version===void 0||mn===!0,fn=En.dataReady,vn=bt(Ht,Un);if(Ht.isDepthTexture)Wn=Et(Ht.format===DepthStencilFormat,Ht.type),pr&&(nr?nt.texStorage2D(tt.TEXTURE_2D,1,Wn,Un.width,Un.height):nt.texImage2D(tt.TEXTURE_2D,0,Wn,Un.width,Un.height,0,Kn,Yn,null));else if(Ht.isDataTexture)if(rr.length>0){nr&&pr&&nt.texStorage2D(tt.TEXTURE_2D,vn,Wn,rr[0].width,rr[0].height);for(let bn=0,zn=rr.length;bn<zn;bn++)On=rr[bn],nr?fn&&nt.texSubImage2D(tt.TEXTURE_2D,bn,0,0,On.width,On.height,Kn,Yn,On.data):nt.texImage2D(tt.TEXTURE_2D,bn,Wn,On.width,On.height,0,Kn,Yn,On.data);Ht.generateMipmaps=!1}else nr?(pr&&nt.texStorage2D(tt.TEXTURE_2D,vn,Wn,Un.width,Un.height),fn&&nt.texSubImage2D(tt.TEXTURE_2D,0,0,0,Un.width,Un.height,Kn,Yn,Un.data)):nt.texImage2D(tt.TEXTURE_2D,0,Wn,Un.width,Un.height,0,Kn,Yn,Un.data);else if(Ht.isCompressedTexture)if(Ht.isCompressedArrayTexture){nr&&pr&&nt.texStorage3D(tt.TEXTURE_2D_ARRAY,vn,Wn,rr[0].width,rr[0].height,Un.depth);for(let bn=0,zn=rr.length;bn<zn;bn++)if(On=rr[bn],Ht.format!==RGBAFormat)if(Kn!==null)if(nr){if(fn)if(Ht.layerUpdates.size>0){const qn=getByteLength(On.width,On.height,Ht.format,Ht.type);for(const Gn of Ht.layerUpdates){const cr=On.data.subarray(Gn*qn/On.data.BYTES_PER_ELEMENT,(Gn+1)*qn/On.data.BYTES_PER_ELEMENT);nt.compressedTexSubImage3D(tt.TEXTURE_2D_ARRAY,bn,0,0,Gn,On.width,On.height,1,Kn,cr)}Ht.clearLayerUpdates()}else nt.compressedTexSubImage3D(tt.TEXTURE_2D_ARRAY,bn,0,0,0,On.width,On.height,Un.depth,Kn,On.data)}else nt.compressedTexImage3D(tt.TEXTURE_2D_ARRAY,bn,Wn,On.width,On.height,Un.depth,0,On.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else nr?fn&&nt.texSubImage3D(tt.TEXTURE_2D_ARRAY,bn,0,0,0,On.width,On.height,Un.depth,Kn,Yn,On.data):nt.texImage3D(tt.TEXTURE_2D_ARRAY,bn,Wn,On.width,On.height,Un.depth,0,Kn,Yn,On.data)}else{nr&&pr&&nt.texStorage2D(tt.TEXTURE_2D,vn,Wn,rr[0].width,rr[0].height);for(let bn=0,zn=rr.length;bn<zn;bn++)On=rr[bn],Ht.format!==RGBAFormat?Kn!==null?nr?fn&&nt.compressedTexSubImage2D(tt.TEXTURE_2D,bn,0,0,On.width,On.height,Kn,On.data):nt.compressedTexImage2D(tt.TEXTURE_2D,bn,Wn,On.width,On.height,0,On.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):nr?fn&&nt.texSubImage2D(tt.TEXTURE_2D,bn,0,0,On.width,On.height,Kn,Yn,On.data):nt.texImage2D(tt.TEXTURE_2D,bn,Wn,On.width,On.height,0,Kn,Yn,On.data)}else if(Ht.isDataArrayTexture)if(nr){if(pr&&nt.texStorage3D(tt.TEXTURE_2D_ARRAY,vn,Wn,Un.width,Un.height,Un.depth),fn)if(Ht.layerUpdates.size>0){const bn=getByteLength(Un.width,Un.height,Ht.format,Ht.type);for(const zn of Ht.layerUpdates){const qn=Un.data.subarray(zn*bn/Un.data.BYTES_PER_ELEMENT,(zn+1)*bn/Un.data.BYTES_PER_ELEMENT);nt.texSubImage3D(tt.TEXTURE_2D_ARRAY,0,0,0,zn,Un.width,Un.height,1,Kn,Yn,qn)}Ht.clearLayerUpdates()}else nt.texSubImage3D(tt.TEXTURE_2D_ARRAY,0,0,0,0,Un.width,Un.height,Un.depth,Kn,Yn,Un.data)}else nt.texImage3D(tt.TEXTURE_2D_ARRAY,0,Wn,Un.width,Un.height,Un.depth,0,Kn,Yn,Un.data);else if(Ht.isData3DTexture)nr?(pr&&nt.texStorage3D(tt.TEXTURE_3D,vn,Wn,Un.width,Un.height,Un.depth),fn&&nt.texSubImage3D(tt.TEXTURE_3D,0,0,0,0,Un.width,Un.height,Un.depth,Kn,Yn,Un.data)):nt.texImage3D(tt.TEXTURE_3D,0,Wn,Un.width,Un.height,Un.depth,0,Kn,Yn,Un.data);else if(Ht.isFramebufferTexture){if(pr)if(nr)nt.texStorage2D(tt.TEXTURE_2D,vn,Wn,Un.width,Un.height);else{let bn=Un.width,zn=Un.height;for(let qn=0;qn<vn;qn++)nt.texImage2D(tt.TEXTURE_2D,qn,Wn,bn,zn,0,Kn,Yn,null),bn>>=1,zn>>=1}}else if(rr.length>0){if(nr&&pr){const bn=Tn(rr[0]);nt.texStorage2D(tt.TEXTURE_2D,vn,Wn,bn.width,bn.height)}for(let bn=0,zn=rr.length;bn<zn;bn++)On=rr[bn],nr?fn&&nt.texSubImage2D(tt.TEXTURE_2D,bn,0,0,Kn,Yn,On):nt.texImage2D(tt.TEXTURE_2D,bn,Wn,Kn,Yn,On);Ht.generateMipmaps=!1}else if(nr){if(pr){const bn=Tn(Un);nt.texStorage2D(tt.TEXTURE_2D,vn,Wn,bn.width,bn.height)}fn&&nt.texSubImage2D(tt.TEXTURE_2D,0,0,0,Kn,Yn,Un)}else nt.texImage2D(tt.TEXTURE_2D,0,Wn,Kn,Yn,Un);vt(Ht)&&mt(dn),Dn.__version=En.version,Ht.onUpdate&&Ht.onUpdate(Ht)}Wt.__version=Ht.version}function Zt(Wt,Ht,an){if(Ht.image.length!==6)return;const dn=Qt(Wt,Ht),mn=Ht.source;nt.bindTexture(tt.TEXTURE_CUBE_MAP,Wt.__webglTexture,tt.TEXTURE0+an);const En=rt.get(mn);if(mn.version!==En.__version||dn===!0){nt.activeTexture(tt.TEXTURE0+an);const Dn=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),kn=Ht.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(Ht.colorSpace),Nn=Ht.colorSpace===NoColorSpace||Dn===kn?tt.NONE:tt.BROWSER_DEFAULT_WEBGL;tt.pixelStorei(tt.UNPACK_FLIP_Y_WEBGL,Ht.flipY),tt.pixelStorei(tt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ht.premultiplyAlpha),tt.pixelStorei(tt.UNPACK_ALIGNMENT,Ht.unpackAlignment),tt.pixelStorei(tt.UNPACK_COLORSPACE_CONVERSION_WEBGL,Nn);const tr=Ht.isCompressedTexture||Ht.image[0].isCompressedTexture,Un=Ht.image[0]&&Ht.image[0].isDataTexture,Kn=[];for(let zn=0;zn<6;zn++)!tr&&!Un?Kn[zn]=gt(Ht.image[zn],!0,it.maxCubemapSize):Kn[zn]=Un?Ht.image[zn].image:Ht.image[zn],Kn[zn]=Bn(Ht,Kn[zn]);const Yn=Kn[0],Wn=st.convert(Ht.format,Ht.colorSpace),On=st.convert(Ht.type),rr=St(Ht.internalFormat,Wn,On,Ht.colorSpace),nr=Ht.isVideoTexture!==!0,pr=En.__version===void 0||dn===!0,fn=mn.dataReady;let vn=bt(Ht,Yn);qt(tt.TEXTURE_CUBE_MAP,Ht);let bn;if(tr){nr&&pr&&nt.texStorage2D(tt.TEXTURE_CUBE_MAP,vn,rr,Yn.width,Yn.height);for(let zn=0;zn<6;zn++){bn=Kn[zn].mipmaps;for(let qn=0;qn<bn.length;qn++){const Gn=bn[qn];Ht.format!==RGBAFormat?Wn!==null?nr?fn&&nt.compressedTexSubImage2D(tt.TEXTURE_CUBE_MAP_POSITIVE_X+zn,qn,0,0,Gn.width,Gn.height,Wn,Gn.data):nt.compressedTexImage2D(tt.TEXTURE_CUBE_MAP_POSITIVE_X+zn,qn,rr,Gn.width,Gn.height,0,Gn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):nr?fn&&nt.texSubImage2D(tt.TEXTURE_CUBE_MAP_POSITIVE_X+zn,qn,0,0,Gn.width,Gn.height,Wn,On,Gn.data):nt.texImage2D(tt.TEXTURE_CUBE_MAP_POSITIVE_X+zn,qn,rr,Gn.width,Gn.height,0,Wn,On,Gn.data)}}}else{if(bn=Ht.mipmaps,nr&&pr){bn.length>0&&vn++;const zn=Tn(Kn[0]);nt.texStorage2D(tt.TEXTURE_CUBE_MAP,vn,rr,zn.width,zn.height)}for(let zn=0;zn<6;zn++)if(Un){nr?fn&&nt.texSubImage2D(tt.TEXTURE_CUBE_MAP_POSITIVE_X+zn,0,0,0,Kn[zn].width,Kn[zn].height,Wn,On,Kn[zn].data):nt.texImage2D(tt.TEXTURE_CUBE_MAP_POSITIVE_X+zn,0,rr,Kn[zn].width,Kn[zn].height,0,Wn,On,Kn[zn].data);for(let qn=0;qn<bn.length;qn++){const cr=bn[qn].image[zn].image;nr?fn&&nt.texSubImage2D(tt.TEXTURE_CUBE_MAP_POSITIVE_X+zn,qn+1,0,0,cr.width,cr.height,Wn,On,cr.data):nt.texImage2D(tt.TEXTURE_CUBE_MAP_POSITIVE_X+zn,qn+1,rr,cr.width,cr.height,0,Wn,On,cr.data)}}else{nr?fn&&nt.texSubImage2D(tt.TEXTURE_CUBE_MAP_POSITIVE_X+zn,0,0,0,Wn,On,Kn[zn]):nt.texImage2D(tt.TEXTURE_CUBE_MAP_POSITIVE_X+zn,0,rr,Wn,On,Kn[zn]);for(let qn=0;qn<bn.length;qn++){const Gn=bn[qn];nr?fn&&nt.texSubImage2D(tt.TEXTURE_CUBE_MAP_POSITIVE_X+zn,qn+1,0,0,Wn,On,Gn.image[zn]):nt.texImage2D(tt.TEXTURE_CUBE_MAP_POSITIVE_X+zn,qn+1,rr,Wn,On,Gn.image[zn])}}}vt(Ht)&&mt(tt.TEXTURE_CUBE_MAP),En.__version=mn.version,Ht.onUpdate&&Ht.onUpdate(Ht)}Wt.__version=Ht.version}function tn(Wt,Ht,an,dn,mn,En){const Dn=st.convert(an.format,an.colorSpace),kn=st.convert(an.type),Nn=St(an.internalFormat,Dn,kn,an.colorSpace),tr=rt.get(Ht),Un=rt.get(an);if(Un.__renderTarget=Ht,!tr.__hasExternalTextures){const Kn=Math.max(1,Ht.width>>En),Yn=Math.max(1,Ht.height>>En);mn===tt.TEXTURE_3D||mn===tt.TEXTURE_2D_ARRAY?nt.texImage3D(mn,En,Nn,Kn,Yn,Ht.depth,0,Dn,kn,null):nt.texImage2D(mn,En,Nn,Kn,Yn,0,Dn,kn,null)}nt.bindFramebuffer(tt.FRAMEBUFFER,Wt),Vn(Ht)?ot.framebufferTexture2DMultisampleEXT(tt.FRAMEBUFFER,dn,mn,Un.__webglTexture,0,wn(Ht)):(mn===tt.TEXTURE_2D||mn>=tt.TEXTURE_CUBE_MAP_POSITIVE_X&&mn<=tt.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&tt.framebufferTexture2D(tt.FRAMEBUFFER,dn,mn,Un.__webglTexture,En),nt.bindFramebuffer(tt.FRAMEBUFFER,null)}function en(Wt,Ht,an){if(tt.bindRenderbuffer(tt.RENDERBUFFER,Wt),Ht.depthBuffer){const dn=Ht.depthTexture,mn=dn&&dn.isDepthTexture?dn.type:null,En=Et(Ht.stencilBuffer,mn),Dn=Ht.stencilBuffer?tt.DEPTH_STENCIL_ATTACHMENT:tt.DEPTH_ATTACHMENT,kn=wn(Ht);Vn(Ht)?ot.renderbufferStorageMultisampleEXT(tt.RENDERBUFFER,kn,En,Ht.width,Ht.height):an?tt.renderbufferStorageMultisample(tt.RENDERBUFFER,kn,En,Ht.width,Ht.height):tt.renderbufferStorage(tt.RENDERBUFFER,En,Ht.width,Ht.height),tt.framebufferRenderbuffer(tt.FRAMEBUFFER,Dn,tt.RENDERBUFFER,Wt)}else{const dn=Ht.textures;for(let mn=0;mn<dn.length;mn++){const En=dn[mn],Dn=st.convert(En.format,En.colorSpace),kn=st.convert(En.type),Nn=St(En.internalFormat,Dn,kn,En.colorSpace),tr=wn(Ht);an&&Vn(Ht)===!1?tt.renderbufferStorageMultisample(tt.RENDERBUFFER,tr,Nn,Ht.width,Ht.height):Vn(Ht)?ot.renderbufferStorageMultisampleEXT(tt.RENDERBUFFER,tr,Nn,Ht.width,Ht.height):tt.renderbufferStorage(tt.RENDERBUFFER,Nn,Ht.width,Ht.height)}}tt.bindRenderbuffer(tt.RENDERBUFFER,null)}function un(Wt,Ht){if(Ht&&Ht.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(nt.bindFramebuffer(tt.FRAMEBUFFER,Wt),!(Ht.depthTexture&&Ht.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const dn=rt.get(Ht.depthTexture);dn.__renderTarget=Ht,(!dn.__webglTexture||Ht.depthTexture.image.width!==Ht.width||Ht.depthTexture.image.height!==Ht.height)&&(Ht.depthTexture.image.width=Ht.width,Ht.depthTexture.image.height=Ht.height,Ht.depthTexture.needsUpdate=!0),zt(Ht.depthTexture,0);const mn=dn.__webglTexture,En=wn(Ht);if(Ht.depthTexture.format===DepthFormat)Vn(Ht)?ot.framebufferTexture2DMultisampleEXT(tt.FRAMEBUFFER,tt.DEPTH_ATTACHMENT,tt.TEXTURE_2D,mn,0,En):tt.framebufferTexture2D(tt.FRAMEBUFFER,tt.DEPTH_ATTACHMENT,tt.TEXTURE_2D,mn,0);else if(Ht.depthTexture.format===DepthStencilFormat)Vn(Ht)?ot.framebufferTexture2DMultisampleEXT(tt.FRAMEBUFFER,tt.DEPTH_STENCIL_ATTACHMENT,tt.TEXTURE_2D,mn,0,En):tt.framebufferTexture2D(tt.FRAMEBUFFER,tt.DEPTH_STENCIL_ATTACHMENT,tt.TEXTURE_2D,mn,0);else throw new Error("Unknown depthTexture format")}function Cn(Wt){const Ht=rt.get(Wt),an=Wt.isWebGLCubeRenderTarget===!0;if(Ht.__boundDepthTexture!==Wt.depthTexture){const dn=Wt.depthTexture;if(Ht.__depthDisposeCallback&&Ht.__depthDisposeCallback(),dn){const mn=()=>{delete Ht.__boundDepthTexture,delete Ht.__depthDisposeCallback,dn.removeEventListener("dispose",mn)};dn.addEventListener("dispose",mn),Ht.__depthDisposeCallback=mn}Ht.__boundDepthTexture=dn}if(Wt.depthTexture&&!Ht.__autoAllocateDepthBuffer){if(an)throw new Error("target.depthTexture not supported in Cube render targets");un(Ht.__webglFramebuffer,Wt)}else if(an){Ht.__webglDepthbuffer=[];for(let dn=0;dn<6;dn++)if(nt.bindFramebuffer(tt.FRAMEBUFFER,Ht.__webglFramebuffer[dn]),Ht.__webglDepthbuffer[dn]===void 0)Ht.__webglDepthbuffer[dn]=tt.createRenderbuffer(),en(Ht.__webglDepthbuffer[dn],Wt,!1);else{const mn=Wt.stencilBuffer?tt.DEPTH_STENCIL_ATTACHMENT:tt.DEPTH_ATTACHMENT,En=Ht.__webglDepthbuffer[dn];tt.bindRenderbuffer(tt.RENDERBUFFER,En),tt.framebufferRenderbuffer(tt.FRAMEBUFFER,mn,tt.RENDERBUFFER,En)}}else if(nt.bindFramebuffer(tt.FRAMEBUFFER,Ht.__webglFramebuffer),Ht.__webglDepthbuffer===void 0)Ht.__webglDepthbuffer=tt.createRenderbuffer(),en(Ht.__webglDepthbuffer,Wt,!1);else{const dn=Wt.stencilBuffer?tt.DEPTH_STENCIL_ATTACHMENT:tt.DEPTH_ATTACHMENT,mn=Ht.__webglDepthbuffer;tt.bindRenderbuffer(tt.RENDERBUFFER,mn),tt.framebufferRenderbuffer(tt.FRAMEBUFFER,dn,tt.RENDERBUFFER,mn)}nt.bindFramebuffer(tt.FRAMEBUFFER,null)}function Rn(Wt,Ht,an){const dn=rt.get(Wt);Ht!==void 0&&tn(dn.__webglFramebuffer,Wt,Wt.texture,tt.COLOR_ATTACHMENT0,tt.TEXTURE_2D,0),an!==void 0&&Cn(Wt)}function Mn(Wt){const Ht=Wt.texture,an=rt.get(Wt),dn=rt.get(Ht);Wt.addEventListener("dispose",At);const mn=Wt.textures,En=Wt.isWebGLCubeRenderTarget===!0,Dn=mn.length>1;if(Dn||(dn.__webglTexture===void 0&&(dn.__webglTexture=tt.createTexture()),dn.__version=Ht.version,at.memory.textures++),En){an.__webglFramebuffer=[];for(let kn=0;kn<6;kn++)if(Ht.mipmaps&&Ht.mipmaps.length>0){an.__webglFramebuffer[kn]=[];for(let Nn=0;Nn<Ht.mipmaps.length;Nn++)an.__webglFramebuffer[kn][Nn]=tt.createFramebuffer()}else an.__webglFramebuffer[kn]=tt.createFramebuffer()}else{if(Ht.mipmaps&&Ht.mipmaps.length>0){an.__webglFramebuffer=[];for(let kn=0;kn<Ht.mipmaps.length;kn++)an.__webglFramebuffer[kn]=tt.createFramebuffer()}else an.__webglFramebuffer=tt.createFramebuffer();if(Dn)for(let kn=0,Nn=mn.length;kn<Nn;kn++){const tr=rt.get(mn[kn]);tr.__webglTexture===void 0&&(tr.__webglTexture=tt.createTexture(),at.memory.textures++)}if(Wt.samples>0&&Vn(Wt)===!1){an.__webglMultisampledFramebuffer=tt.createFramebuffer(),an.__webglColorRenderbuffer=[],nt.bindFramebuffer(tt.FRAMEBUFFER,an.__webglMultisampledFramebuffer);for(let kn=0;kn<mn.length;kn++){const Nn=mn[kn];an.__webglColorRenderbuffer[kn]=tt.createRenderbuffer(),tt.bindRenderbuffer(tt.RENDERBUFFER,an.__webglColorRenderbuffer[kn]);const tr=st.convert(Nn.format,Nn.colorSpace),Un=st.convert(Nn.type),Kn=St(Nn.internalFormat,tr,Un,Nn.colorSpace,Wt.isXRRenderTarget===!0),Yn=wn(Wt);tt.renderbufferStorageMultisample(tt.RENDERBUFFER,Yn,Kn,Wt.width,Wt.height),tt.framebufferRenderbuffer(tt.FRAMEBUFFER,tt.COLOR_ATTACHMENT0+kn,tt.RENDERBUFFER,an.__webglColorRenderbuffer[kn])}tt.bindRenderbuffer(tt.RENDERBUFFER,null),Wt.depthBuffer&&(an.__webglDepthRenderbuffer=tt.createRenderbuffer(),en(an.__webglDepthRenderbuffer,Wt,!0)),nt.bindFramebuffer(tt.FRAMEBUFFER,null)}}if(En){nt.bindTexture(tt.TEXTURE_CUBE_MAP,dn.__webglTexture),qt(tt.TEXTURE_CUBE_MAP,Ht);for(let kn=0;kn<6;kn++)if(Ht.mipmaps&&Ht.mipmaps.length>0)for(let Nn=0;Nn<Ht.mipmaps.length;Nn++)tn(an.__webglFramebuffer[kn][Nn],Wt,Ht,tt.COLOR_ATTACHMENT0,tt.TEXTURE_CUBE_MAP_POSITIVE_X+kn,Nn);else tn(an.__webglFramebuffer[kn],Wt,Ht,tt.COLOR_ATTACHMENT0,tt.TEXTURE_CUBE_MAP_POSITIVE_X+kn,0);vt(Ht)&&mt(tt.TEXTURE_CUBE_MAP),nt.unbindTexture()}else if(Dn){for(let kn=0,Nn=mn.length;kn<Nn;kn++){const tr=mn[kn],Un=rt.get(tr);nt.bindTexture(tt.TEXTURE_2D,Un.__webglTexture),qt(tt.TEXTURE_2D,tr),tn(an.__webglFramebuffer,Wt,tr,tt.COLOR_ATTACHMENT0+kn,tt.TEXTURE_2D,0),vt(tr)&&mt(tt.TEXTURE_2D)}nt.unbindTexture()}else{let kn=tt.TEXTURE_2D;if((Wt.isWebGL3DRenderTarget||Wt.isWebGLArrayRenderTarget)&&(kn=Wt.isWebGL3DRenderTarget?tt.TEXTURE_3D:tt.TEXTURE_2D_ARRAY),nt.bindTexture(kn,dn.__webglTexture),qt(kn,Ht),Ht.mipmaps&&Ht.mipmaps.length>0)for(let Nn=0;Nn<Ht.mipmaps.length;Nn++)tn(an.__webglFramebuffer[Nn],Wt,Ht,tt.COLOR_ATTACHMENT0,kn,Nn);else tn(an.__webglFramebuffer,Wt,Ht,tt.COLOR_ATTACHMENT0,kn,0);vt(Ht)&&mt(kn),nt.unbindTexture()}Wt.depthBuffer&&Cn(Wt)}function ln(Wt){const Ht=Wt.textures;for(let an=0,dn=Ht.length;an<dn;an++){const mn=Ht[an];if(vt(mn)){const En=xt(Wt),Dn=rt.get(mn).__webglTexture;nt.bindTexture(En,Dn),mt(En),nt.unbindTexture()}}}const gn=[],Yt=[];function Fn(Wt){if(Wt.samples>0){if(Vn(Wt)===!1){const Ht=Wt.textures,an=Wt.width,dn=Wt.height;let mn=tt.COLOR_BUFFER_BIT;const En=Wt.stencilBuffer?tt.DEPTH_STENCIL_ATTACHMENT:tt.DEPTH_ATTACHMENT,Dn=rt.get(Wt),kn=Ht.length>1;if(kn)for(let Nn=0;Nn<Ht.length;Nn++)nt.bindFramebuffer(tt.FRAMEBUFFER,Dn.__webglMultisampledFramebuffer),tt.framebufferRenderbuffer(tt.FRAMEBUFFER,tt.COLOR_ATTACHMENT0+Nn,tt.RENDERBUFFER,null),nt.bindFramebuffer(tt.FRAMEBUFFER,Dn.__webglFramebuffer),tt.framebufferTexture2D(tt.DRAW_FRAMEBUFFER,tt.COLOR_ATTACHMENT0+Nn,tt.TEXTURE_2D,null,0);nt.bindFramebuffer(tt.READ_FRAMEBUFFER,Dn.__webglMultisampledFramebuffer),nt.bindFramebuffer(tt.DRAW_FRAMEBUFFER,Dn.__webglFramebuffer);for(let Nn=0;Nn<Ht.length;Nn++){if(Wt.resolveDepthBuffer&&(Wt.depthBuffer&&(mn|=tt.DEPTH_BUFFER_BIT),Wt.stencilBuffer&&Wt.resolveStencilBuffer&&(mn|=tt.STENCIL_BUFFER_BIT)),kn){tt.framebufferRenderbuffer(tt.READ_FRAMEBUFFER,tt.COLOR_ATTACHMENT0,tt.RENDERBUFFER,Dn.__webglColorRenderbuffer[Nn]);const tr=rt.get(Ht[Nn]).__webglTexture;tt.framebufferTexture2D(tt.DRAW_FRAMEBUFFER,tt.COLOR_ATTACHMENT0,tt.TEXTURE_2D,tr,0)}tt.blitFramebuffer(0,0,an,dn,0,0,an,dn,mn,tt.NEAREST),lt===!0&&(gn.length=0,Yt.length=0,gn.push(tt.COLOR_ATTACHMENT0+Nn),Wt.depthBuffer&&Wt.resolveDepthBuffer===!1&&(gn.push(En),Yt.push(En),tt.invalidateFramebuffer(tt.DRAW_FRAMEBUFFER,Yt)),tt.invalidateFramebuffer(tt.READ_FRAMEBUFFER,gn))}if(nt.bindFramebuffer(tt.READ_FRAMEBUFFER,null),nt.bindFramebuffer(tt.DRAW_FRAMEBUFFER,null),kn)for(let Nn=0;Nn<Ht.length;Nn++){nt.bindFramebuffer(tt.FRAMEBUFFER,Dn.__webglMultisampledFramebuffer),tt.framebufferRenderbuffer(tt.FRAMEBUFFER,tt.COLOR_ATTACHMENT0+Nn,tt.RENDERBUFFER,Dn.__webglColorRenderbuffer[Nn]);const tr=rt.get(Ht[Nn]).__webglTexture;nt.bindFramebuffer(tt.FRAMEBUFFER,Dn.__webglFramebuffer),tt.framebufferTexture2D(tt.DRAW_FRAMEBUFFER,tt.COLOR_ATTACHMENT0+Nn,tt.TEXTURE_2D,tr,0)}nt.bindFramebuffer(tt.DRAW_FRAMEBUFFER,Dn.__webglMultisampledFramebuffer)}else if(Wt.depthBuffer&&Wt.resolveDepthBuffer===!1&&lt){const Ht=Wt.stencilBuffer?tt.DEPTH_STENCIL_ATTACHMENT:tt.DEPTH_ATTACHMENT;tt.invalidateFramebuffer(tt.DRAW_FRAMEBUFFER,[Ht])}}}function wn(Wt){return Math.min(it.maxSamples,Wt.samples)}function Vn(Wt){const Ht=rt.get(Wt);return Wt.samples>0&&_e.has("WEBGL_multisampled_render_to_texture")===!0&&Ht.__useRenderToTexture!==!1}function xn(Wt){const Ht=at.render.frame;ut.get(Wt)!==Ht&&(ut.set(Wt,Ht),Wt.update())}function Bn(Wt,Ht){const an=Wt.colorSpace,dn=Wt.format,mn=Wt.type;return Wt.isCompressedTexture===!0||Wt.isVideoTexture===!0||an!==LinearSRGBColorSpace&&an!==NoColorSpace&&(ColorManagement.getTransfer(an)===SRGBTransfer?(dn!==RGBAFormat||mn!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",an)),Ht}function Tn(Wt){return typeof HTMLImageElement<"u"&&Wt instanceof HTMLImageElement?(ct.width=Wt.naturalWidth||Wt.width,ct.height=Wt.naturalHeight||Wt.height):typeof VideoFrame<"u"&&Wt instanceof VideoFrame?(ct.width=Wt.displayWidth,ct.height=Wt.displayHeight):(ct.width=Wt.width,ct.height=Wt.height),ct}this.allocateTextureUnit=Ut,this.resetTextureUnits=Vt,this.setTexture2D=zt,this.setTexture2DArray=Dt,this.setTexture3D=$t,this.setTextureCube=Mt,this.rebindTextures=Rn,this.setupRenderTarget=Mn,this.updateRenderTargetMipmap=ln,this.updateMultisampleRenderTarget=Fn,this.setupDepthRenderbuffer=Cn,this.setupFrameBufferTexture=tn,this.useMultisampledRTT=Vn}function WebGLUtils(tt,_e){function nt(rt,it=NoColorSpace){let st;const at=ColorManagement.getTransfer(it);if(rt===UnsignedByteType)return tt.UNSIGNED_BYTE;if(rt===UnsignedShort4444Type)return tt.UNSIGNED_SHORT_4_4_4_4;if(rt===UnsignedShort5551Type)return tt.UNSIGNED_SHORT_5_5_5_1;if(rt===UnsignedInt5999Type)return tt.UNSIGNED_INT_5_9_9_9_REV;if(rt===ByteType)return tt.BYTE;if(rt===ShortType)return tt.SHORT;if(rt===UnsignedShortType)return tt.UNSIGNED_SHORT;if(rt===IntType)return tt.INT;if(rt===UnsignedIntType)return tt.UNSIGNED_INT;if(rt===FloatType)return tt.FLOAT;if(rt===HalfFloatType)return tt.HALF_FLOAT;if(rt===AlphaFormat)return tt.ALPHA;if(rt===RGBFormat)return tt.RGB;if(rt===RGBAFormat)return tt.RGBA;if(rt===LuminanceFormat)return tt.LUMINANCE;if(rt===LuminanceAlphaFormat)return tt.LUMINANCE_ALPHA;if(rt===DepthFormat)return tt.DEPTH_COMPONENT;if(rt===DepthStencilFormat)return tt.DEPTH_STENCIL;if(rt===RedFormat)return tt.RED;if(rt===RedIntegerFormat)return tt.RED_INTEGER;if(rt===RGFormat)return tt.RG;if(rt===RGIntegerFormat)return tt.RG_INTEGER;if(rt===RGBAIntegerFormat)return tt.RGBA_INTEGER;if(rt===RGB_S3TC_DXT1_Format||rt===RGBA_S3TC_DXT1_Format||rt===RGBA_S3TC_DXT3_Format||rt===RGBA_S3TC_DXT5_Format)if(at===SRGBTransfer)if(st=_e.get("WEBGL_compressed_texture_s3tc_srgb"),st!==null){if(rt===RGB_S3TC_DXT1_Format)return st.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(rt===RGBA_S3TC_DXT1_Format)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(rt===RGBA_S3TC_DXT3_Format)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(rt===RGBA_S3TC_DXT5_Format)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(st=_e.get("WEBGL_compressed_texture_s3tc"),st!==null){if(rt===RGB_S3TC_DXT1_Format)return st.COMPRESSED_RGB_S3TC_DXT1_EXT;if(rt===RGBA_S3TC_DXT1_Format)return st.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(rt===RGBA_S3TC_DXT3_Format)return st.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(rt===RGBA_S3TC_DXT5_Format)return st.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(rt===RGB_PVRTC_4BPPV1_Format||rt===RGB_PVRTC_2BPPV1_Format||rt===RGBA_PVRTC_4BPPV1_Format||rt===RGBA_PVRTC_2BPPV1_Format)if(st=_e.get("WEBGL_compressed_texture_pvrtc"),st!==null){if(rt===RGB_PVRTC_4BPPV1_Format)return st.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(rt===RGB_PVRTC_2BPPV1_Format)return st.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(rt===RGBA_PVRTC_4BPPV1_Format)return st.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(rt===RGBA_PVRTC_2BPPV1_Format)return st.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(rt===RGB_ETC1_Format||rt===RGB_ETC2_Format||rt===RGBA_ETC2_EAC_Format)if(st=_e.get("WEBGL_compressed_texture_etc"),st!==null){if(rt===RGB_ETC1_Format||rt===RGB_ETC2_Format)return at===SRGBTransfer?st.COMPRESSED_SRGB8_ETC2:st.COMPRESSED_RGB8_ETC2;if(rt===RGBA_ETC2_EAC_Format)return at===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:st.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(rt===RGBA_ASTC_4x4_Format||rt===RGBA_ASTC_5x4_Format||rt===RGBA_ASTC_5x5_Format||rt===RGBA_ASTC_6x5_Format||rt===RGBA_ASTC_6x6_Format||rt===RGBA_ASTC_8x5_Format||rt===RGBA_ASTC_8x6_Format||rt===RGBA_ASTC_8x8_Format||rt===RGBA_ASTC_10x5_Format||rt===RGBA_ASTC_10x6_Format||rt===RGBA_ASTC_10x8_Format||rt===RGBA_ASTC_10x10_Format||rt===RGBA_ASTC_12x10_Format||rt===RGBA_ASTC_12x12_Format)if(st=_e.get("WEBGL_compressed_texture_astc"),st!==null){if(rt===RGBA_ASTC_4x4_Format)return at===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:st.COMPRESSED_RGBA_ASTC_4x4_KHR;if(rt===RGBA_ASTC_5x4_Format)return at===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:st.COMPRESSED_RGBA_ASTC_5x4_KHR;if(rt===RGBA_ASTC_5x5_Format)return at===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:st.COMPRESSED_RGBA_ASTC_5x5_KHR;if(rt===RGBA_ASTC_6x5_Format)return at===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:st.COMPRESSED_RGBA_ASTC_6x5_KHR;if(rt===RGBA_ASTC_6x6_Format)return at===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:st.COMPRESSED_RGBA_ASTC_6x6_KHR;if(rt===RGBA_ASTC_8x5_Format)return at===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:st.COMPRESSED_RGBA_ASTC_8x5_KHR;if(rt===RGBA_ASTC_8x6_Format)return at===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:st.COMPRESSED_RGBA_ASTC_8x6_KHR;if(rt===RGBA_ASTC_8x8_Format)return at===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:st.COMPRESSED_RGBA_ASTC_8x8_KHR;if(rt===RGBA_ASTC_10x5_Format)return at===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:st.COMPRESSED_RGBA_ASTC_10x5_KHR;if(rt===RGBA_ASTC_10x6_Format)return at===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:st.COMPRESSED_RGBA_ASTC_10x6_KHR;if(rt===RGBA_ASTC_10x8_Format)return at===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:st.COMPRESSED_RGBA_ASTC_10x8_KHR;if(rt===RGBA_ASTC_10x10_Format)return at===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:st.COMPRESSED_RGBA_ASTC_10x10_KHR;if(rt===RGBA_ASTC_12x10_Format)return at===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:st.COMPRESSED_RGBA_ASTC_12x10_KHR;if(rt===RGBA_ASTC_12x12_Format)return at===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:st.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(rt===RGBA_BPTC_Format||rt===RGB_BPTC_SIGNED_Format||rt===RGB_BPTC_UNSIGNED_Format)if(st=_e.get("EXT_texture_compression_bptc"),st!==null){if(rt===RGBA_BPTC_Format)return at===SRGBTransfer?st.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:st.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(rt===RGB_BPTC_SIGNED_Format)return st.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(rt===RGB_BPTC_UNSIGNED_Format)return st.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(rt===RED_RGTC1_Format||rt===SIGNED_RED_RGTC1_Format||rt===RED_GREEN_RGTC2_Format||rt===SIGNED_RED_GREEN_RGTC2_Format)if(st=_e.get("EXT_texture_compression_rgtc"),st!==null){if(rt===RGBA_BPTC_Format)return st.COMPRESSED_RED_RGTC1_EXT;if(rt===SIGNED_RED_RGTC1_Format)return st.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(rt===RED_GREEN_RGTC2_Format)return st.COMPRESSED_RED_GREEN_RGTC2_EXT;if(rt===SIGNED_RED_GREEN_RGTC2_Format)return st.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return rt===UnsignedInt248Type?tt.UNSIGNED_INT_24_8:tt[rt]!==void 0?tt[rt]:null}return{convert:nt}}class ArrayCamera extends PerspectiveCamera{constructor(_e=[]){super(),this.isArrayCamera=!0,this.cameras=_e}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(_e){return this._targetRay!==null&&this._targetRay.dispatchEvent(_e),this._grip!==null&&this._grip.dispatchEvent(_e),this._hand!==null&&this._hand.dispatchEvent(_e),this}connect(_e){if(_e&&_e.hand){const nt=this._hand;if(nt)for(const rt of _e.hand.values())this._getHandJoint(nt,rt)}return this.dispatchEvent({type:"connected",data:_e}),this}disconnect(_e){return this.dispatchEvent({type:"disconnected",data:_e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(_e,nt,rt){let it=null,st=null,at=null;const ot=this._targetRay,lt=this._grip,ct=this._hand;if(_e&&nt.session.visibilityState!=="visible-blurred"){if(ct&&_e.hand){at=!0;for(const gt of _e.hand.values()){const vt=nt.getJointPose(gt,rt),mt=this._getHandJoint(ct,gt);vt!==null&&(mt.matrix.fromArray(vt.transform.matrix),mt.matrix.decompose(mt.position,mt.rotation,mt.scale),mt.matrixWorldNeedsUpdate=!0,mt.jointRadius=vt.radius),mt.visible=vt!==null}const ut=ct.joints["index-finger-tip"],ft=ct.joints["thumb-tip"],ht=ut.position.distanceTo(ft.position),pt=.02,dt=.005;ct.inputState.pinching&&ht>pt+dt?(ct.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:_e.handedness,target:this})):!ct.inputState.pinching&&ht<=pt-dt&&(ct.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:_e.handedness,target:this}))}else lt!==null&&_e.gripSpace&&(st=nt.getPose(_e.gripSpace,rt),st!==null&&(lt.matrix.fromArray(st.transform.matrix),lt.matrix.decompose(lt.position,lt.rotation,lt.scale),lt.matrixWorldNeedsUpdate=!0,st.linearVelocity?(lt.hasLinearVelocity=!0,lt.linearVelocity.copy(st.linearVelocity)):lt.hasLinearVelocity=!1,st.angularVelocity?(lt.hasAngularVelocity=!0,lt.angularVelocity.copy(st.angularVelocity)):lt.hasAngularVelocity=!1));ot!==null&&(it=nt.getPose(_e.targetRaySpace,rt),it===null&&st!==null&&(it=st),it!==null&&(ot.matrix.fromArray(it.transform.matrix),ot.matrix.decompose(ot.position,ot.rotation,ot.scale),ot.matrixWorldNeedsUpdate=!0,it.linearVelocity?(ot.hasLinearVelocity=!0,ot.linearVelocity.copy(it.linearVelocity)):ot.hasLinearVelocity=!1,it.angularVelocity?(ot.hasAngularVelocity=!0,ot.angularVelocity.copy(it.angularVelocity)):ot.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return ot!==null&&(ot.visible=it!==null),lt!==null&&(lt.visible=st!==null),ct!==null&&(ct.visible=at!==null),this}_getHandJoint(_e,nt){if(_e.joints[nt.jointName]===void 0){const rt=new Group;rt.matrixAutoUpdate=!1,rt.visible=!1,_e.joints[nt.jointName]=rt,_e.add(rt)}return _e.joints[nt.jointName]}}const _occlusion_vertex=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,_occlusion_fragment=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class WebXRDepthSensing{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(_e,nt,rt){if(this.texture===null){const it=new Texture,st=_e.properties.get(it);st.__webglTexture=nt.texture,(nt.depthNear!=rt.depthNear||nt.depthFar!=rt.depthFar)&&(this.depthNear=nt.depthNear,this.depthFar=nt.depthFar),this.texture=it}}getMesh(_e){if(this.texture!==null&&this.mesh===null){const nt=_e.cameras[0].viewport,rt=new ShaderMaterial({vertexShader:_occlusion_vertex,fragmentShader:_occlusion_fragment,uniforms:{depthColor:{value:this.texture},depthWidth:{value:nt.z},depthHeight:{value:nt.w}}});this.mesh=new Mesh(new PlaneGeometry(20,20),rt)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class WebXRManager extends EventDispatcher{constructor(_e,nt){super();const rt=this;let it=null,st=1,at=null,ot="local-floor",lt=1,ct=null,ut=null,ft=null,ht=null,pt=null,dt=null;const gt=new WebXRDepthSensing,vt=nt.getContextAttributes();let mt=null,xt=null;const St=[],Et=[],bt=new Vector2;let Tt=null;const At=new PerspectiveCamera;At.viewport=new Vector4;const Ct=new PerspectiveCamera;Ct.viewport=new Vector4;const Pt=[At,Ct],It=new ArrayCamera;let Lt=null,Vt=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Kt){let Zt=St[Kt];return Zt===void 0&&(Zt=new WebXRController,St[Kt]=Zt),Zt.getTargetRaySpace()},this.getControllerGrip=function(Kt){let Zt=St[Kt];return Zt===void 0&&(Zt=new WebXRController,St[Kt]=Zt),Zt.getGripSpace()},this.getHand=function(Kt){let Zt=St[Kt];return Zt===void 0&&(Zt=new WebXRController,St[Kt]=Zt),Zt.getHandSpace()};function Ut(Kt){const Zt=Et.indexOf(Kt.inputSource);if(Zt===-1)return;const tn=St[Zt];tn!==void 0&&(tn.update(Kt.inputSource,Kt.frame,ct||at),tn.dispatchEvent({type:Kt.type,data:Kt.inputSource}))}function Ot(){it.removeEventListener("select",Ut),it.removeEventListener("selectstart",Ut),it.removeEventListener("selectend",Ut),it.removeEventListener("squeeze",Ut),it.removeEventListener("squeezestart",Ut),it.removeEventListener("squeezeend",Ut),it.removeEventListener("end",Ot),it.removeEventListener("inputsourceschange",zt);for(let Kt=0;Kt<St.length;Kt++){const Zt=Et[Kt];Zt!==null&&(Et[Kt]=null,St[Kt].disconnect(Zt))}Lt=null,Vt=null,gt.reset(),_e.setRenderTarget(mt),pt=null,ht=null,ft=null,it=null,xt=null,Qt.stop(),rt.isPresenting=!1,_e.setPixelRatio(Tt),_e.setSize(bt.width,bt.height,!1),rt.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Kt){st=Kt,rt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Kt){ot=Kt,rt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return ct||at},this.setReferenceSpace=function(Kt){ct=Kt},this.getBaseLayer=function(){return ht!==null?ht:pt},this.getBinding=function(){return ft},this.getFrame=function(){return dt},this.getSession=function(){return it},this.setSession=async function(Kt){if(it=Kt,it!==null){if(mt=_e.getRenderTarget(),it.addEventListener("select",Ut),it.addEventListener("selectstart",Ut),it.addEventListener("selectend",Ut),it.addEventListener("squeeze",Ut),it.addEventListener("squeezestart",Ut),it.addEventListener("squeezeend",Ut),it.addEventListener("end",Ot),it.addEventListener("inputsourceschange",zt),vt.xrCompatible!==!0&&await nt.makeXRCompatible(),Tt=_e.getPixelRatio(),_e.getSize(bt),it.renderState.layers===void 0){const Zt={antialias:vt.antialias,alpha:!0,depth:vt.depth,stencil:vt.stencil,framebufferScaleFactor:st};pt=new XRWebGLLayer(it,nt,Zt),it.updateRenderState({baseLayer:pt}),_e.setPixelRatio(1),_e.setSize(pt.framebufferWidth,pt.framebufferHeight,!1),xt=new WebGLRenderTarget(pt.framebufferWidth,pt.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,colorSpace:_e.outputColorSpace,stencilBuffer:vt.stencil})}else{let Zt=null,tn=null,en=null;vt.depth&&(en=vt.stencil?nt.DEPTH24_STENCIL8:nt.DEPTH_COMPONENT24,Zt=vt.stencil?DepthStencilFormat:DepthFormat,tn=vt.stencil?UnsignedInt248Type:UnsignedIntType);const un={colorFormat:nt.RGBA8,depthFormat:en,scaleFactor:st};ft=new XRWebGLBinding(it,nt),ht=ft.createProjectionLayer(un),it.updateRenderState({layers:[ht]}),_e.setPixelRatio(1),_e.setSize(ht.textureWidth,ht.textureHeight,!1),xt=new WebGLRenderTarget(ht.textureWidth,ht.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(ht.textureWidth,ht.textureHeight,tn,void 0,void 0,void 0,void 0,void 0,void 0,Zt),stencilBuffer:vt.stencil,colorSpace:_e.outputColorSpace,samples:vt.antialias?4:0,resolveDepthBuffer:ht.ignoreDepthValues===!1})}xt.isXRRenderTarget=!0,this.setFoveation(lt),ct=null,at=await it.requestReferenceSpace(ot),Qt.setContext(it),Qt.start(),rt.isPresenting=!0,rt.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(it!==null)return it.environmentBlendMode},this.getDepthTexture=function(){return gt.getDepthTexture()};function zt(Kt){for(let Zt=0;Zt<Kt.removed.length;Zt++){const tn=Kt.removed[Zt],en=Et.indexOf(tn);en>=0&&(Et[en]=null,St[en].disconnect(tn))}for(let Zt=0;Zt<Kt.added.length;Zt++){const tn=Kt.added[Zt];let en=Et.indexOf(tn);if(en===-1){for(let Cn=0;Cn<St.length;Cn++)if(Cn>=Et.length){Et.push(tn),en=Cn;break}else if(Et[Cn]===null){Et[Cn]=tn,en=Cn;break}if(en===-1)break}const un=St[en];un&&un.connect(tn)}}const Dt=new Vector3,$t=new Vector3;function Mt(Kt,Zt,tn){Dt.setFromMatrixPosition(Zt.matrixWorld),$t.setFromMatrixPosition(tn.matrixWorld);const en=Dt.distanceTo($t),un=Zt.projectionMatrix.elements,Cn=tn.projectionMatrix.elements,Rn=un[14]/(un[10]-1),Mn=un[14]/(un[10]+1),ln=(un[9]+1)/un[5],gn=(un[9]-1)/un[5],Yt=(un[8]-1)/un[0],Fn=(Cn[8]+1)/Cn[0],wn=Rn*Yt,Vn=Rn*Fn,xn=en/(-Yt+Fn),Bn=xn*-Yt;if(Zt.matrixWorld.decompose(Kt.position,Kt.quaternion,Kt.scale),Kt.translateX(Bn),Kt.translateZ(xn),Kt.matrixWorld.compose(Kt.position,Kt.quaternion,Kt.scale),Kt.matrixWorldInverse.copy(Kt.matrixWorld).invert(),un[10]===-1)Kt.projectionMatrix.copy(Zt.projectionMatrix),Kt.projectionMatrixInverse.copy(Zt.projectionMatrixInverse);else{const Tn=Rn+xn,Wt=Mn+xn,Ht=wn-Bn,an=Vn+(en-Bn),dn=ln*Mn/Wt*Tn,mn=gn*Mn/Wt*Tn;Kt.projectionMatrix.makePerspective(Ht,an,dn,mn,Tn,Wt),Kt.projectionMatrixInverse.copy(Kt.projectionMatrix).invert()}}function Rt(Kt,Zt){Zt===null?Kt.matrixWorld.copy(Kt.matrix):Kt.matrixWorld.multiplyMatrices(Zt.matrixWorld,Kt.matrix),Kt.matrixWorldInverse.copy(Kt.matrixWorld).invert()}this.updateCamera=function(Kt){if(it===null)return;let Zt=Kt.near,tn=Kt.far;gt.texture!==null&&(gt.depthNear>0&&(Zt=gt.depthNear),gt.depthFar>0&&(tn=gt.depthFar)),It.near=Ct.near=At.near=Zt,It.far=Ct.far=At.far=tn,(Lt!==It.near||Vt!==It.far)&&(it.updateRenderState({depthNear:It.near,depthFar:It.far}),Lt=It.near,Vt=It.far),At.layers.mask=Kt.layers.mask|2,Ct.layers.mask=Kt.layers.mask|4,It.layers.mask=At.layers.mask|Ct.layers.mask;const en=Kt.parent,un=It.cameras;Rt(It,en);for(let Cn=0;Cn<un.length;Cn++)Rt(un[Cn],en);un.length===2?Mt(It,At,Ct):It.projectionMatrix.copy(At.projectionMatrix),Nt(Kt,It,en)};function Nt(Kt,Zt,tn){tn===null?Kt.matrix.copy(Zt.matrixWorld):(Kt.matrix.copy(tn.matrixWorld),Kt.matrix.invert(),Kt.matrix.multiply(Zt.matrixWorld)),Kt.matrix.decompose(Kt.position,Kt.quaternion,Kt.scale),Kt.updateMatrixWorld(!0),Kt.projectionMatrix.copy(Zt.projectionMatrix),Kt.projectionMatrixInverse.copy(Zt.projectionMatrixInverse),Kt.isPerspectiveCamera&&(Kt.fov=RAD2DEG*2*Math.atan(1/Kt.projectionMatrix.elements[5]),Kt.zoom=1)}this.getCamera=function(){return It},this.getFoveation=function(){if(!(ht===null&&pt===null))return lt},this.setFoveation=function(Kt){lt=Kt,ht!==null&&(ht.fixedFoveation=Kt),pt!==null&&pt.fixedFoveation!==void 0&&(pt.fixedFoveation=Kt)},this.hasDepthSensing=function(){return gt.texture!==null},this.getDepthSensingMesh=function(){return gt.getMesh(It)};let Ft=null;function qt(Kt,Zt){if(ut=Zt.getViewerPose(ct||at),dt=Zt,ut!==null){const tn=ut.views;pt!==null&&(_e.setRenderTargetFramebuffer(xt,pt.framebuffer),_e.setRenderTarget(xt));let en=!1;tn.length!==It.cameras.length&&(It.cameras.length=0,en=!0);for(let Cn=0;Cn<tn.length;Cn++){const Rn=tn[Cn];let Mn=null;if(pt!==null)Mn=pt.getViewport(Rn);else{const gn=ft.getViewSubImage(ht,Rn);Mn=gn.viewport,Cn===0&&(_e.setRenderTargetTextures(xt,gn.colorTexture,ht.ignoreDepthValues?void 0:gn.depthStencilTexture),_e.setRenderTarget(xt))}let ln=Pt[Cn];ln===void 0&&(ln=new PerspectiveCamera,ln.layers.enable(Cn),ln.viewport=new Vector4,Pt[Cn]=ln),ln.matrix.fromArray(Rn.transform.matrix),ln.matrix.decompose(ln.position,ln.quaternion,ln.scale),ln.projectionMatrix.fromArray(Rn.projectionMatrix),ln.projectionMatrixInverse.copy(ln.projectionMatrix).invert(),ln.viewport.set(Mn.x,Mn.y,Mn.width,Mn.height),Cn===0&&(It.matrix.copy(ln.matrix),It.matrix.decompose(It.position,It.quaternion,It.scale)),en===!0&&It.cameras.push(ln)}const un=it.enabledFeatures;if(un&&un.includes("depth-sensing")){const Cn=ft.getDepthInformation(tn[0]);Cn&&Cn.isValid&&Cn.texture&&gt.init(_e,Cn,it.renderState)}}for(let tn=0;tn<St.length;tn++){const en=Et[tn],un=St[tn];en!==null&&un!==void 0&&un.update(en,Zt,ct||at)}Ft&&Ft(Kt,Zt),Zt.detectedPlanes&&rt.dispatchEvent({type:"planesdetected",data:Zt}),dt=null}const Qt=new WebGLAnimation;Qt.setAnimationLoop(qt),this.setAnimationLoop=function(Kt){Ft=Kt},this.dispose=function(){}}}const _e1=new Euler,_m1=new Matrix4;function WebGLMaterials(tt,_e){function nt(vt,mt){vt.matrixAutoUpdate===!0&&vt.updateMatrix(),mt.value.copy(vt.matrix)}function rt(vt,mt){mt.color.getRGB(vt.fogColor.value,getUnlitUniformColorSpace(tt)),mt.isFog?(vt.fogNear.value=mt.near,vt.fogFar.value=mt.far):mt.isFogExp2&&(vt.fogDensity.value=mt.density)}function it(vt,mt,xt,St,Et){mt.isMeshBasicMaterial||mt.isMeshLambertMaterial?st(vt,mt):mt.isMeshToonMaterial?(st(vt,mt),ft(vt,mt)):mt.isMeshPhongMaterial?(st(vt,mt),ut(vt,mt)):mt.isMeshStandardMaterial?(st(vt,mt),ht(vt,mt),mt.isMeshPhysicalMaterial&&pt(vt,mt,Et)):mt.isMeshMatcapMaterial?(st(vt,mt),dt(vt,mt)):mt.isMeshDepthMaterial?st(vt,mt):mt.isMeshDistanceMaterial?(st(vt,mt),gt(vt,mt)):mt.isMeshNormalMaterial?st(vt,mt):mt.isLineBasicMaterial?(at(vt,mt),mt.isLineDashedMaterial&&ot(vt,mt)):mt.isPointsMaterial?lt(vt,mt,xt,St):mt.isSpriteMaterial?ct(vt,mt):mt.isShadowMaterial?(vt.color.value.copy(mt.color),vt.opacity.value=mt.opacity):mt.isShaderMaterial&&(mt.uniformsNeedUpdate=!1)}function st(vt,mt){vt.opacity.value=mt.opacity,mt.color&&vt.diffuse.value.copy(mt.color),mt.emissive&&vt.emissive.value.copy(mt.emissive).multiplyScalar(mt.emissiveIntensity),mt.map&&(vt.map.value=mt.map,nt(mt.map,vt.mapTransform)),mt.alphaMap&&(vt.alphaMap.value=mt.alphaMap,nt(mt.alphaMap,vt.alphaMapTransform)),mt.bumpMap&&(vt.bumpMap.value=mt.bumpMap,nt(mt.bumpMap,vt.bumpMapTransform),vt.bumpScale.value=mt.bumpScale,mt.side===BackSide&&(vt.bumpScale.value*=-1)),mt.normalMap&&(vt.normalMap.value=mt.normalMap,nt(mt.normalMap,vt.normalMapTransform),vt.normalScale.value.copy(mt.normalScale),mt.side===BackSide&&vt.normalScale.value.negate()),mt.displacementMap&&(vt.displacementMap.value=mt.displacementMap,nt(mt.displacementMap,vt.displacementMapTransform),vt.displacementScale.value=mt.displacementScale,vt.displacementBias.value=mt.displacementBias),mt.emissiveMap&&(vt.emissiveMap.value=mt.emissiveMap,nt(mt.emissiveMap,vt.emissiveMapTransform)),mt.specularMap&&(vt.specularMap.value=mt.specularMap,nt(mt.specularMap,vt.specularMapTransform)),mt.alphaTest>0&&(vt.alphaTest.value=mt.alphaTest);const xt=_e.get(mt),St=xt.envMap,Et=xt.envMapRotation;St&&(vt.envMap.value=St,_e1.copy(Et),_e1.x*=-1,_e1.y*=-1,_e1.z*=-1,St.isCubeTexture&&St.isRenderTargetTexture===!1&&(_e1.y*=-1,_e1.z*=-1),vt.envMapRotation.value.setFromMatrix4(_m1.makeRotationFromEuler(_e1)),vt.flipEnvMap.value=St.isCubeTexture&&St.isRenderTargetTexture===!1?-1:1,vt.reflectivity.value=mt.reflectivity,vt.ior.value=mt.ior,vt.refractionRatio.value=mt.refractionRatio),mt.lightMap&&(vt.lightMap.value=mt.lightMap,vt.lightMapIntensity.value=mt.lightMapIntensity,nt(mt.lightMap,vt.lightMapTransform)),mt.aoMap&&(vt.aoMap.value=mt.aoMap,vt.aoMapIntensity.value=mt.aoMapIntensity,nt(mt.aoMap,vt.aoMapTransform))}function at(vt,mt){vt.diffuse.value.copy(mt.color),vt.opacity.value=mt.opacity,mt.map&&(vt.map.value=mt.map,nt(mt.map,vt.mapTransform))}function ot(vt,mt){vt.dashSize.value=mt.dashSize,vt.totalSize.value=mt.dashSize+mt.gapSize,vt.scale.value=mt.scale}function lt(vt,mt,xt,St){vt.diffuse.value.copy(mt.color),vt.opacity.value=mt.opacity,vt.size.value=mt.size*xt,vt.scale.value=St*.5,mt.map&&(vt.map.value=mt.map,nt(mt.map,vt.uvTransform)),mt.alphaMap&&(vt.alphaMap.value=mt.alphaMap,nt(mt.alphaMap,vt.alphaMapTransform)),mt.alphaTest>0&&(vt.alphaTest.value=mt.alphaTest)}function ct(vt,mt){vt.diffuse.value.copy(mt.color),vt.opacity.value=mt.opacity,vt.rotation.value=mt.rotation,mt.map&&(vt.map.value=mt.map,nt(mt.map,vt.mapTransform)),mt.alphaMap&&(vt.alphaMap.value=mt.alphaMap,nt(mt.alphaMap,vt.alphaMapTransform)),mt.alphaTest>0&&(vt.alphaTest.value=mt.alphaTest)}function ut(vt,mt){vt.specular.value.copy(mt.specular),vt.shininess.value=Math.max(mt.shininess,1e-4)}function ft(vt,mt){mt.gradientMap&&(vt.gradientMap.value=mt.gradientMap)}function ht(vt,mt){vt.metalness.value=mt.metalness,mt.metalnessMap&&(vt.metalnessMap.value=mt.metalnessMap,nt(mt.metalnessMap,vt.metalnessMapTransform)),vt.roughness.value=mt.roughness,mt.roughnessMap&&(vt.roughnessMap.value=mt.roughnessMap,nt(mt.roughnessMap,vt.roughnessMapTransform)),mt.envMap&&(vt.envMapIntensity.value=mt.envMapIntensity)}function pt(vt,mt,xt){vt.ior.value=mt.ior,mt.sheen>0&&(vt.sheenColor.value.copy(mt.sheenColor).multiplyScalar(mt.sheen),vt.sheenRoughness.value=mt.sheenRoughness,mt.sheenColorMap&&(vt.sheenColorMap.value=mt.sheenColorMap,nt(mt.sheenColorMap,vt.sheenColorMapTransform)),mt.sheenRoughnessMap&&(vt.sheenRoughnessMap.value=mt.sheenRoughnessMap,nt(mt.sheenRoughnessMap,vt.sheenRoughnessMapTransform))),mt.clearcoat>0&&(vt.clearcoat.value=mt.clearcoat,vt.clearcoatRoughness.value=mt.clearcoatRoughness,mt.clearcoatMap&&(vt.clearcoatMap.value=mt.clearcoatMap,nt(mt.clearcoatMap,vt.clearcoatMapTransform)),mt.clearcoatRoughnessMap&&(vt.clearcoatRoughnessMap.value=mt.clearcoatRoughnessMap,nt(mt.clearcoatRoughnessMap,vt.clearcoatRoughnessMapTransform)),mt.clearcoatNormalMap&&(vt.clearcoatNormalMap.value=mt.clearcoatNormalMap,nt(mt.clearcoatNormalMap,vt.clearcoatNormalMapTransform),vt.clearcoatNormalScale.value.copy(mt.clearcoatNormalScale),mt.side===BackSide&&vt.clearcoatNormalScale.value.negate())),mt.dispersion>0&&(vt.dispersion.value=mt.dispersion),mt.iridescence>0&&(vt.iridescence.value=mt.iridescence,vt.iridescenceIOR.value=mt.iridescenceIOR,vt.iridescenceThicknessMinimum.value=mt.iridescenceThicknessRange[0],vt.iridescenceThicknessMaximum.value=mt.iridescenceThicknessRange[1],mt.iridescenceMap&&(vt.iridescenceMap.value=mt.iridescenceMap,nt(mt.iridescenceMap,vt.iridescenceMapTransform)),mt.iridescenceThicknessMap&&(vt.iridescenceThicknessMap.value=mt.iridescenceThicknessMap,nt(mt.iridescenceThicknessMap,vt.iridescenceThicknessMapTransform))),mt.transmission>0&&(vt.transmission.value=mt.transmission,vt.transmissionSamplerMap.value=xt.texture,vt.transmissionSamplerSize.value.set(xt.width,xt.height),mt.transmissionMap&&(vt.transmissionMap.value=mt.transmissionMap,nt(mt.transmissionMap,vt.transmissionMapTransform)),vt.thickness.value=mt.thickness,mt.thicknessMap&&(vt.thicknessMap.value=mt.thicknessMap,nt(mt.thicknessMap,vt.thicknessMapTransform)),vt.attenuationDistance.value=mt.attenuationDistance,vt.attenuationColor.value.copy(mt.attenuationColor)),mt.anisotropy>0&&(vt.anisotropyVector.value.set(mt.anisotropy*Math.cos(mt.anisotropyRotation),mt.anisotropy*Math.sin(mt.anisotropyRotation)),mt.anisotropyMap&&(vt.anisotropyMap.value=mt.anisotropyMap,nt(mt.anisotropyMap,vt.anisotropyMapTransform))),vt.specularIntensity.value=mt.specularIntensity,vt.specularColor.value.copy(mt.specularColor),mt.specularColorMap&&(vt.specularColorMap.value=mt.specularColorMap,nt(mt.specularColorMap,vt.specularColorMapTransform)),mt.specularIntensityMap&&(vt.specularIntensityMap.value=mt.specularIntensityMap,nt(mt.specularIntensityMap,vt.specularIntensityMapTransform))}function dt(vt,mt){mt.matcap&&(vt.matcap.value=mt.matcap)}function gt(vt,mt){const xt=_e.get(mt).light;vt.referencePosition.value.setFromMatrixPosition(xt.matrixWorld),vt.nearDistance.value=xt.shadow.camera.near,vt.farDistance.value=xt.shadow.camera.far}return{refreshFogUniforms:rt,refreshMaterialUniforms:it}}function WebGLUniformsGroups(tt,_e,nt,rt){let it={},st={},at=[];const ot=tt.getParameter(tt.MAX_UNIFORM_BUFFER_BINDINGS);function lt(xt,St){const Et=St.program;rt.uniformBlockBinding(xt,Et)}function ct(xt,St){let Et=it[xt.id];Et===void 0&&(dt(xt),Et=ut(xt),it[xt.id]=Et,xt.addEventListener("dispose",vt));const bt=St.program;rt.updateUBOMapping(xt,bt);const Tt=_e.render.frame;st[xt.id]!==Tt&&(ht(xt),st[xt.id]=Tt)}function ut(xt){const St=ft();xt.__bindingPointIndex=St;const Et=tt.createBuffer(),bt=xt.__size,Tt=xt.usage;return tt.bindBuffer(tt.UNIFORM_BUFFER,Et),tt.bufferData(tt.UNIFORM_BUFFER,bt,Tt),tt.bindBuffer(tt.UNIFORM_BUFFER,null),tt.bindBufferBase(tt.UNIFORM_BUFFER,St,Et),Et}function ft(){for(let xt=0;xt<ot;xt++)if(at.indexOf(xt)===-1)return at.push(xt),xt;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function ht(xt){const St=it[xt.id],Et=xt.uniforms,bt=xt.__cache;tt.bindBuffer(tt.UNIFORM_BUFFER,St);for(let Tt=0,At=Et.length;Tt<At;Tt++){const Ct=Array.isArray(Et[Tt])?Et[Tt]:[Et[Tt]];for(let Pt=0,It=Ct.length;Pt<It;Pt++){const Lt=Ct[Pt];if(pt(Lt,Tt,Pt,bt)===!0){const Vt=Lt.__offset,Ut=Array.isArray(Lt.value)?Lt.value:[Lt.value];let Ot=0;for(let zt=0;zt<Ut.length;zt++){const Dt=Ut[zt],$t=gt(Dt);typeof Dt=="number"||typeof Dt=="boolean"?(Lt.__data[0]=Dt,tt.bufferSubData(tt.UNIFORM_BUFFER,Vt+Ot,Lt.__data)):Dt.isMatrix3?(Lt.__data[0]=Dt.elements[0],Lt.__data[1]=Dt.elements[1],Lt.__data[2]=Dt.elements[2],Lt.__data[3]=0,Lt.__data[4]=Dt.elements[3],Lt.__data[5]=Dt.elements[4],Lt.__data[6]=Dt.elements[5],Lt.__data[7]=0,Lt.__data[8]=Dt.elements[6],Lt.__data[9]=Dt.elements[7],Lt.__data[10]=Dt.elements[8],Lt.__data[11]=0):(Dt.toArray(Lt.__data,Ot),Ot+=$t.storage/Float32Array.BYTES_PER_ELEMENT)}tt.bufferSubData(tt.UNIFORM_BUFFER,Vt,Lt.__data)}}}tt.bindBuffer(tt.UNIFORM_BUFFER,null)}function pt(xt,St,Et,bt){const Tt=xt.value,At=St+"_"+Et;if(bt[At]===void 0)return typeof Tt=="number"||typeof Tt=="boolean"?bt[At]=Tt:bt[At]=Tt.clone(),!0;{const Ct=bt[At];if(typeof Tt=="number"||typeof Tt=="boolean"){if(Ct!==Tt)return bt[At]=Tt,!0}else if(Ct.equals(Tt)===!1)return Ct.copy(Tt),!0}return!1}function dt(xt){const St=xt.uniforms;let Et=0;const bt=16;for(let At=0,Ct=St.length;At<Ct;At++){const Pt=Array.isArray(St[At])?St[At]:[St[At]];for(let It=0,Lt=Pt.length;It<Lt;It++){const Vt=Pt[It],Ut=Array.isArray(Vt.value)?Vt.value:[Vt.value];for(let Ot=0,zt=Ut.length;Ot<zt;Ot++){const Dt=Ut[Ot],$t=gt(Dt),Mt=Et%bt,Rt=Mt%$t.boundary,Nt=Mt+Rt;Et+=Rt,Nt!==0&&bt-Nt<$t.storage&&(Et+=bt-Nt),Vt.__data=new Float32Array($t.storage/Float32Array.BYTES_PER_ELEMENT),Vt.__offset=Et,Et+=$t.storage}}}const Tt=Et%bt;return Tt>0&&(Et+=bt-Tt),xt.__size=Et,xt.__cache={},this}function gt(xt){const St={boundary:0,storage:0};return typeof xt=="number"||typeof xt=="boolean"?(St.boundary=4,St.storage=4):xt.isVector2?(St.boundary=8,St.storage=8):xt.isVector3||xt.isColor?(St.boundary=16,St.storage=12):xt.isVector4?(St.boundary=16,St.storage=16):xt.isMatrix3?(St.boundary=48,St.storage=48):xt.isMatrix4?(St.boundary=64,St.storage=64):xt.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",xt),St}function vt(xt){const St=xt.target;St.removeEventListener("dispose",vt);const Et=at.indexOf(St.__bindingPointIndex);at.splice(Et,1),tt.deleteBuffer(it[St.id]),delete it[St.id],delete st[St.id]}function mt(){for(const xt in it)tt.deleteBuffer(it[xt]);at=[],it={},st={}}return{bind:lt,update:ct,dispose:mt}}class WebGLRenderer{constructor(_e={}){const{canvas:nt=createCanvasElement(),context:rt=null,depth:it=!0,stencil:st=!1,alpha:at=!1,antialias:ot=!1,premultipliedAlpha:lt=!0,preserveDrawingBuffer:ct=!1,powerPreference:ut="default",failIfMajorPerformanceCaveat:ft=!1,reverseDepthBuffer:ht=!1}=_e;this.isWebGLRenderer=!0;let pt;if(rt!==null){if(typeof WebGLRenderingContext<"u"&&rt instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");pt=rt.getContextAttributes().alpha}else pt=at;const dt=new Uint32Array(4),gt=new Int32Array(4);let vt=null,mt=null;const xt=[],St=[];this.domElement=nt,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=SRGBColorSpace,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const Et=this;let bt=!1,Tt=0,At=0,Ct=null,Pt=-1,It=null;const Lt=new Vector4,Vt=new Vector4;let Ut=null;const Ot=new Color(0);let zt=0,Dt=nt.width,$t=nt.height,Mt=1,Rt=null,Nt=null;const Ft=new Vector4(0,0,Dt,$t),qt=new Vector4(0,0,Dt,$t);let Qt=!1;const Kt=new Frustum;let Zt=!1,tn=!1;const en=new Matrix4,un=new Matrix4,Cn=new Vector3,Rn=new Vector4,Mn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ln=!1;function gn(){return Ct===null?Mt:1}let Yt=rt;function Fn(Gt,nn){return nt.getContext(Gt,nn)}try{const Gt={alpha:!0,depth:it,stencil:st,antialias:ot,premultipliedAlpha:lt,preserveDrawingBuffer:ct,powerPreference:ut,failIfMajorPerformanceCaveat:ft};if("setAttribute"in nt&&nt.setAttribute("data-engine",`three.js r${REVISION}`),nt.addEventListener("webglcontextlost",zn,!1),nt.addEventListener("webglcontextrestored",qn,!1),nt.addEventListener("webglcontextcreationerror",Gn,!1),Yt===null){const nn="webgl2";if(Yt=Fn(nn,Gt),Yt===null)throw Fn(nn)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Gt){throw console.error("THREE.WebGLRenderer: "+Gt.message),Gt}let wn,Vn,xn,Bn,Tn,Wt,Ht,an,dn,mn,En,Dn,kn,Nn,tr,Un,Kn,Yn,Wn,On,rr,nr,pr,fn;function vn(){wn=new WebGLExtensions(Yt),wn.init(),nr=new WebGLUtils(Yt,wn),Vn=new WebGLCapabilities(Yt,wn,_e,nr),xn=new WebGLState(Yt,wn),Vn.reverseDepthBuffer&&ht&&xn.buffers.depth.setReversed(!0),Bn=new WebGLInfo(Yt),Tn=new WebGLProperties,Wt=new WebGLTextures(Yt,wn,xn,Tn,Vn,nr,Bn),Ht=new WebGLCubeMaps(Et),an=new WebGLCubeUVMaps(Et),dn=new WebGLAttributes(Yt),pr=new WebGLBindingStates(Yt,dn),mn=new WebGLGeometries(Yt,dn,Bn,pr),En=new WebGLObjects(Yt,mn,dn,Bn),Wn=new WebGLMorphtargets(Yt,Vn,Wt),Un=new WebGLClipping(Tn),Dn=new WebGLPrograms(Et,Ht,an,wn,Vn,pr,Un),kn=new WebGLMaterials(Et,Tn),Nn=new WebGLRenderLists,tr=new WebGLRenderStates(wn),Yn=new WebGLBackground(Et,Ht,an,xn,En,pt,lt),Kn=new WebGLShadowMap(Et,En,Vn),fn=new WebGLUniformsGroups(Yt,Bn,Vn,xn),On=new WebGLBufferRenderer(Yt,wn,Bn),rr=new WebGLIndexedBufferRenderer(Yt,wn,Bn),Bn.programs=Dn.programs,Et.capabilities=Vn,Et.extensions=wn,Et.properties=Tn,Et.renderLists=Nn,Et.shadowMap=Kn,Et.state=xn,Et.info=Bn}vn();const bn=new WebXRManager(Et,Yt);this.xr=bn,this.getContext=function(){return Yt},this.getContextAttributes=function(){return Yt.getContextAttributes()},this.forceContextLoss=function(){const Gt=wn.get("WEBGL_lose_context");Gt&&Gt.loseContext()},this.forceContextRestore=function(){const Gt=wn.get("WEBGL_lose_context");Gt&&Gt.restoreContext()},this.getPixelRatio=function(){return Mt},this.setPixelRatio=function(Gt){Gt!==void 0&&(Mt=Gt,this.setSize(Dt,$t,!1))},this.getSize=function(Gt){return Gt.set(Dt,$t)},this.setSize=function(Gt,nn,on=!0){if(bn.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Dt=Gt,$t=nn,nt.width=Math.floor(Gt*Mt),nt.height=Math.floor(nn*Mt),on===!0&&(nt.style.width=Gt+"px",nt.style.height=nn+"px"),this.setViewport(0,0,Gt,nn)},this.getDrawingBufferSize=function(Gt){return Gt.set(Dt*Mt,$t*Mt).floor()},this.setDrawingBufferSize=function(Gt,nn,on){Dt=Gt,$t=nn,Mt=on,nt.width=Math.floor(Gt*on),nt.height=Math.floor(nn*on),this.setViewport(0,0,Gt,nn)},this.getCurrentViewport=function(Gt){return Gt.copy(Lt)},this.getViewport=function(Gt){return Gt.copy(Ft)},this.setViewport=function(Gt,nn,on,cn){Gt.isVector4?Ft.set(Gt.x,Gt.y,Gt.z,Gt.w):Ft.set(Gt,nn,on,cn),xn.viewport(Lt.copy(Ft).multiplyScalar(Mt).round())},this.getScissor=function(Gt){return Gt.copy(qt)},this.setScissor=function(Gt,nn,on,cn){Gt.isVector4?qt.set(Gt.x,Gt.y,Gt.z,Gt.w):qt.set(Gt,nn,on,cn),xn.scissor(Vt.copy(qt).multiplyScalar(Mt).round())},this.getScissorTest=function(){return Qt},this.setScissorTest=function(Gt){xn.setScissorTest(Qt=Gt)},this.setOpaqueSort=function(Gt){Rt=Gt},this.setTransparentSort=function(Gt){Nt=Gt},this.getClearColor=function(Gt){return Gt.copy(Yn.getClearColor())},this.setClearColor=function(){Yn.setClearColor.apply(Yn,arguments)},this.getClearAlpha=function(){return Yn.getClearAlpha()},this.setClearAlpha=function(){Yn.setClearAlpha.apply(Yn,arguments)},this.clear=function(Gt=!0,nn=!0,on=!0){let cn=0;if(Gt){let rn=!1;if(Ct!==null){const Sn=Ct.texture.format;rn=Sn===RGBAIntegerFormat||Sn===RGIntegerFormat||Sn===RedIntegerFormat}if(rn){const Sn=Ct.texture.type,pn=Sn===UnsignedByteType||Sn===UnsignedIntType||Sn===UnsignedShortType||Sn===UnsignedInt248Type||Sn===UnsignedShort4444Type||Sn===UnsignedShort5551Type,Zn=Yn.getClearColor(),jn=Yn.getClearAlpha(),Hn=Zn.r,Jn=Zn.g,Xn=Zn.b;pn?(dt[0]=Hn,dt[1]=Jn,dt[2]=Xn,dt[3]=jn,Yt.clearBufferuiv(Yt.COLOR,0,dt)):(gt[0]=Hn,gt[1]=Jn,gt[2]=Xn,gt[3]=jn,Yt.clearBufferiv(Yt.COLOR,0,gt))}else cn|=Yt.COLOR_BUFFER_BIT}nn&&(cn|=Yt.DEPTH_BUFFER_BIT),on&&(cn|=Yt.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Yt.clear(cn)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){nt.removeEventListener("webglcontextlost",zn,!1),nt.removeEventListener("webglcontextrestored",qn,!1),nt.removeEventListener("webglcontextcreationerror",Gn,!1),Nn.dispose(),tr.dispose(),Tn.dispose(),Ht.dispose(),an.dispose(),En.dispose(),pr.dispose(),fn.dispose(),Dn.dispose(),bn.dispose(),bn.removeEventListener("sessionstart",jr),bn.removeEventListener("sessionend",as),zr.stop()};function zn(Gt){Gt.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),bt=!0}function qn(){console.log("THREE.WebGLRenderer: Context Restored."),bt=!1;const Gt=Bn.autoReset,nn=Kn.enabled,on=Kn.autoUpdate,cn=Kn.needsUpdate,rn=Kn.type;vn(),Bn.autoReset=Gt,Kn.enabled=nn,Kn.autoUpdate=on,Kn.needsUpdate=cn,Kn.type=rn}function Gn(Gt){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Gt.statusMessage)}function cr(Gt){const nn=Gt.target;nn.removeEventListener("dispose",cr),Er(nn)}function Er(Gt){fr(Gt),Tn.remove(Gt)}function fr(Gt){const nn=Tn.get(Gt).programs;nn!==void 0&&(nn.forEach(function(on){Dn.releaseProgram(on)}),Gt.isShaderMaterial&&Dn.releaseShaderCache(Gt))}this.renderBufferDirect=function(Gt,nn,on,cn,rn,Sn){nn===null&&(nn=Mn);const pn=rn.isMesh&&rn.matrixWorld.determinant()<0,Zn=hn(Gt,nn,on,cn,rn);xn.setMaterial(cn,pn);let jn=on.index,Hn=1;if(cn.wireframe===!0){if(jn=mn.getWireframeAttribute(on),jn===void 0)return;Hn=2}const Jn=on.drawRange,Xn=on.attributes.position;let or=Jn.start*Hn,ur=(Jn.start+Jn.count)*Hn;Sn!==null&&(or=Math.max(or,Sn.start*Hn),ur=Math.min(ur,(Sn.start+Sn.count)*Hn)),jn!==null?(or=Math.max(or,0),ur=Math.min(ur,jn.count)):Xn!=null&&(or=Math.max(or,0),ur=Math.min(ur,Xn.count));const ir=ur-or;if(ir<0||ir===1/0)return;pr.setup(rn,cn,Zn,on,jn);let dr,lr=On;if(jn!==null&&(dr=dn.get(jn),lr=rr,lr.setIndex(dr)),rn.isMesh)cn.wireframe===!0?(xn.setLineWidth(cn.wireframeLinewidth*gn()),lr.setMode(Yt.LINES)):lr.setMode(Yt.TRIANGLES);else if(rn.isLine){let er=cn.linewidth;er===void 0&&(er=1),xn.setLineWidth(er*gn()),rn.isLineSegments?lr.setMode(Yt.LINES):rn.isLineLoop?lr.setMode(Yt.LINE_LOOP):lr.setMode(Yt.LINE_STRIP)}else rn.isPoints?lr.setMode(Yt.POINTS):rn.isSprite&&lr.setMode(Yt.TRIANGLES);if(rn.isBatchedMesh)if(rn._multiDrawInstances!==null)lr.renderMultiDrawInstances(rn._multiDrawStarts,rn._multiDrawCounts,rn._multiDrawCount,rn._multiDrawInstances);else if(wn.get("WEBGL_multi_draw"))lr.renderMultiDraw(rn._multiDrawStarts,rn._multiDrawCounts,rn._multiDrawCount);else{const er=rn._multiDrawStarts,xr=rn._multiDrawCounts,mr=rn._multiDrawCount,Lr=jn?dn.get(jn).bytesPerElement:1,Vr=Tn.get(cn).currentProgram.getUniforms();for(let kr=0;kr<mr;kr++)Vr.setValue(Yt,"_gl_DrawID",kr),lr.render(er[kr]/Lr,xr[kr])}else if(rn.isInstancedMesh)lr.renderInstances(or,ir,rn.count);else if(on.isInstancedBufferGeometry){const er=on._maxInstanceCount!==void 0?on._maxInstanceCount:1/0,xr=Math.min(on.instanceCount,er);lr.renderInstances(or,ir,xr)}else lr.render(or,ir)};function gr(Gt,nn,on){Gt.transparent===!0&&Gt.side===DoubleSide&&Gt.forceSinglePass===!1?(Gt.side=BackSide,Gt.needsUpdate=!0,fs(Gt,nn,on),Gt.side=FrontSide,Gt.needsUpdate=!0,fs(Gt,nn,on),Gt.side=DoubleSide):fs(Gt,nn,on)}this.compile=function(Gt,nn,on=null){on===null&&(on=Gt),mt=tr.get(on),mt.init(nn),St.push(mt),on.traverseVisible(function(rn){rn.isLight&&rn.layers.test(nn.layers)&&(mt.pushLight(rn),rn.castShadow&&mt.pushShadow(rn))}),Gt!==on&&Gt.traverseVisible(function(rn){rn.isLight&&rn.layers.test(nn.layers)&&(mt.pushLight(rn),rn.castShadow&&mt.pushShadow(rn))}),mt.setupLights();const cn=new Set;return Gt.traverse(function(rn){if(!(rn.isMesh||rn.isPoints||rn.isLine||rn.isSprite))return;const Sn=rn.material;if(Sn)if(Array.isArray(Sn))for(let pn=0;pn<Sn.length;pn++){const Zn=Sn[pn];gr(Zn,on,rn),cn.add(Zn)}else gr(Sn,on,rn),cn.add(Sn)}),St.pop(),mt=null,cn},this.compileAsync=function(Gt,nn,on=null){const cn=this.compile(Gt,nn,on);return new Promise(rn=>{function Sn(){if(cn.forEach(function(pn){Tn.get(pn).currentProgram.isReady()&&cn.delete(pn)}),cn.size===0){rn(Gt);return}setTimeout(Sn,10)}wn.get("KHR_parallel_shader_compile")!==null?Sn():setTimeout(Sn,10)})};let Fr=null;function $r(Gt){Fr&&Fr(Gt)}function jr(){zr.stop()}function as(){zr.start()}const zr=new WebGLAnimation;zr.setAnimationLoop($r),typeof self<"u"&&zr.setContext(self),this.setAnimationLoop=function(Gt){Fr=Gt,bn.setAnimationLoop(Gt),Gt===null?zr.stop():zr.start()},bn.addEventListener("sessionstart",jr),bn.addEventListener("sessionend",as),this.render=function(Gt,nn){if(nn!==void 0&&nn.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(bt===!0)return;if(Gt.matrixWorldAutoUpdate===!0&&Gt.updateMatrixWorld(),nn.parent===null&&nn.matrixWorldAutoUpdate===!0&&nn.updateMatrixWorld(),bn.enabled===!0&&bn.isPresenting===!0&&(bn.cameraAutoUpdate===!0&&bn.updateCamera(nn),nn=bn.getCamera()),Gt.isScene===!0&&Gt.onBeforeRender(Et,Gt,nn,Ct),mt=tr.get(Gt,St.length),mt.init(nn),St.push(mt),un.multiplyMatrices(nn.projectionMatrix,nn.matrixWorldInverse),Kt.setFromProjectionMatrix(un),tn=this.localClippingEnabled,Zt=Un.init(this.clippingPlanes,tn),vt=Nn.get(Gt,xt.length),vt.init(),xt.push(vt),bn.enabled===!0&&bn.isPresenting===!0){const Sn=Et.xr.getDepthSensingMesh();Sn!==null&&ns(Sn,nn,-1/0,Et.sortObjects)}ns(Gt,nn,0,Et.sortObjects),vt.finish(),Et.sortObjects===!0&&vt.sort(Rt,Nt),ln=bn.enabled===!1||bn.isPresenting===!1||bn.hasDepthSensing()===!1,ln&&Yn.addToRenderList(vt,Gt),this.info.render.frame++,Zt===!0&&Un.beginShadows();const on=mt.state.shadowsArray;Kn.render(on,Gt,nn),Zt===!0&&Un.endShadows(),this.info.autoReset===!0&&this.info.reset();const cn=vt.opaque,rn=vt.transmissive;if(mt.setupLights(),nn.isArrayCamera){const Sn=nn.cameras;if(rn.length>0)for(let pn=0,Zn=Sn.length;pn<Zn;pn++){const jn=Sn[pn];Yr(cn,rn,Gt,jn)}ln&&Yn.render(Gt);for(let pn=0,Zn=Sn.length;pn<Zn;pn++){const jn=Sn[pn];rs(vt,Gt,jn,jn.viewport)}}else rn.length>0&&Yr(cn,rn,Gt,nn),ln&&Yn.render(Gt),rs(vt,Gt,nn);Ct!==null&&(Wt.updateMultisampleRenderTarget(Ct),Wt.updateRenderTargetMipmap(Ct)),Gt.isScene===!0&&Gt.onAfterRender(Et,Gt,nn),pr.resetDefaultState(),Pt=-1,It=null,St.pop(),St.length>0?(mt=St[St.length-1],Zt===!0&&Un.setGlobalState(Et.clippingPlanes,mt.state.camera)):mt=null,xt.pop(),xt.length>0?vt=xt[xt.length-1]:vt=null};function ns(Gt,nn,on,cn){if(Gt.visible===!1)return;if(Gt.layers.test(nn.layers)){if(Gt.isGroup)on=Gt.renderOrder;else if(Gt.isLOD)Gt.autoUpdate===!0&&Gt.update(nn);else if(Gt.isLight)mt.pushLight(Gt),Gt.castShadow&&mt.pushShadow(Gt);else if(Gt.isSprite){if(!Gt.frustumCulled||Kt.intersectsSprite(Gt)){cn&&Rn.setFromMatrixPosition(Gt.matrixWorld).applyMatrix4(un);const pn=En.update(Gt),Zn=Gt.material;Zn.visible&&vt.push(Gt,pn,Zn,on,Rn.z,null)}}else if((Gt.isMesh||Gt.isLine||Gt.isPoints)&&(!Gt.frustumCulled||Kt.intersectsObject(Gt))){const pn=En.update(Gt),Zn=Gt.material;if(cn&&(Gt.boundingSphere!==void 0?(Gt.boundingSphere===null&&Gt.computeBoundingSphere(),Rn.copy(Gt.boundingSphere.center)):(pn.boundingSphere===null&&pn.computeBoundingSphere(),Rn.copy(pn.boundingSphere.center)),Rn.applyMatrix4(Gt.matrixWorld).applyMatrix4(un)),Array.isArray(Zn)){const jn=pn.groups;for(let Hn=0,Jn=jn.length;Hn<Jn;Hn++){const Xn=jn[Hn],or=Zn[Xn.materialIndex];or&&or.visible&&vt.push(Gt,pn,or,on,Rn.z,Xn)}}else Zn.visible&&vt.push(Gt,pn,Zn,on,Rn.z,null)}}const Sn=Gt.children;for(let pn=0,Zn=Sn.length;pn<Zn;pn++)ns(Sn[pn],nn,on,cn)}function rs(Gt,nn,on,cn){const rn=Gt.opaque,Sn=Gt.transmissive,pn=Gt.transparent;mt.setupLightsView(on),Zt===!0&&Un.setGlobalState(Et.clippingPlanes,on),cn&&xn.viewport(Lt.copy(cn)),rn.length>0&&_r(rn,nn,on),Sn.length>0&&_r(Sn,nn,on),pn.length>0&&_r(pn,nn,on),xn.buffers.depth.setTest(!0),xn.buffers.depth.setMask(!0),xn.buffers.color.setMask(!0),xn.setPolygonOffset(!1)}function Yr(Gt,nn,on,cn){if((on.isScene===!0?on.overrideMaterial:null)!==null)return;mt.state.transmissionRenderTarget[cn.id]===void 0&&(mt.state.transmissionRenderTarget[cn.id]=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:wn.has("EXT_color_buffer_half_float")||wn.has("EXT_color_buffer_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:4,stencilBuffer:st,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:ColorManagement.workingColorSpace}));const Sn=mt.state.transmissionRenderTarget[cn.id],pn=cn.viewport||Lt;Sn.setSize(pn.z,pn.w);const Zn=Et.getRenderTarget();Et.setRenderTarget(Sn),Et.getClearColor(Ot),zt=Et.getClearAlpha(),zt<1&&Et.setClearColor(16777215,.5),Et.clear(),ln&&Yn.render(on);const jn=Et.toneMapping;Et.toneMapping=NoToneMapping;const Hn=cn.viewport;if(cn.viewport!==void 0&&(cn.viewport=void 0),mt.setupLightsView(cn),Zt===!0&&Un.setGlobalState(Et.clippingPlanes,cn),_r(Gt,on,cn),Wt.updateMultisampleRenderTarget(Sn),Wt.updateRenderTargetMipmap(Sn),wn.has("WEBGL_multisampled_render_to_texture")===!1){let Jn=!1;for(let Xn=0,or=nn.length;Xn<or;Xn++){const ur=nn[Xn],ir=ur.object,dr=ur.geometry,lr=ur.material,er=ur.group;if(lr.side===DoubleSide&&ir.layers.test(cn.layers)){const xr=lr.side;lr.side=BackSide,lr.needsUpdate=!0,Hr(ir,on,cn,dr,lr,er),lr.side=xr,lr.needsUpdate=!0,Jn=!0}}Jn===!0&&(Wt.updateMultisampleRenderTarget(Sn),Wt.updateRenderTargetMipmap(Sn))}Et.setRenderTarget(Zn),Et.setClearColor(Ot,zt),Hn!==void 0&&(cn.viewport=Hn),Et.toneMapping=jn}function _r(Gt,nn,on){const cn=nn.isScene===!0?nn.overrideMaterial:null;for(let rn=0,Sn=Gt.length;rn<Sn;rn++){const pn=Gt[rn],Zn=pn.object,jn=pn.geometry,Hn=cn===null?pn.material:cn,Jn=pn.group;Zn.layers.test(on.layers)&&Hr(Zn,nn,on,jn,Hn,Jn)}}function Hr(Gt,nn,on,cn,rn,Sn){Gt.onBeforeRender(Et,nn,on,cn,rn,Sn),Gt.modelViewMatrix.multiplyMatrices(on.matrixWorldInverse,Gt.matrixWorld),Gt.normalMatrix.getNormalMatrix(Gt.modelViewMatrix),rn.onBeforeRender(Et,nn,on,cn,Gt,Sn),rn.transparent===!0&&rn.side===DoubleSide&&rn.forceSinglePass===!1?(rn.side=BackSide,rn.needsUpdate=!0,Et.renderBufferDirect(on,nn,cn,rn,Gt,Sn),rn.side=FrontSide,rn.needsUpdate=!0,Et.renderBufferDirect(on,nn,cn,rn,Gt,Sn),rn.side=DoubleSide):Et.renderBufferDirect(on,nn,cn,rn,Gt,Sn),Gt.onAfterRender(Et,nn,on,cn,rn,Sn)}function fs(Gt,nn,on){nn.isScene!==!0&&(nn=Mn);const cn=Tn.get(Gt),rn=mt.state.lights,Sn=mt.state.shadowsArray,pn=rn.state.version,Zn=Dn.getParameters(Gt,rn.state,Sn,nn,on),jn=Dn.getProgramCacheKey(Zn);let Hn=cn.programs;cn.environment=Gt.isMeshStandardMaterial?nn.environment:null,cn.fog=nn.fog,cn.envMap=(Gt.isMeshStandardMaterial?an:Ht).get(Gt.envMap||cn.environment),cn.envMapRotation=cn.environment!==null&&Gt.envMap===null?nn.environmentRotation:Gt.envMapRotation,Hn===void 0&&(Gt.addEventListener("dispose",cr),Hn=new Map,cn.programs=Hn);let Jn=Hn.get(jn);if(Jn!==void 0){if(cn.currentProgram===Jn&&cn.lightsStateVersion===pn)return Jt(Gt,Zn),Jn}else Zn.uniforms=Dn.getUniforms(Gt),Gt.onBeforeCompile(Zn,Et),Jn=Dn.acquireProgram(Zn,jn),Hn.set(jn,Jn),cn.uniforms=Zn.uniforms;const Xn=cn.uniforms;return(!Gt.isShaderMaterial&&!Gt.isRawShaderMaterial||Gt.clipping===!0)&&(Xn.clippingPlanes=Un.uniform),Jt(Gt,Zn),cn.needsLights=In(Gt),cn.lightsStateVersion=pn,cn.needsLights&&(Xn.ambientLightColor.value=rn.state.ambient,Xn.lightProbe.value=rn.state.probe,Xn.directionalLights.value=rn.state.directional,Xn.directionalLightShadows.value=rn.state.directionalShadow,Xn.spotLights.value=rn.state.spot,Xn.spotLightShadows.value=rn.state.spotShadow,Xn.rectAreaLights.value=rn.state.rectArea,Xn.ltc_1.value=rn.state.rectAreaLTC1,Xn.ltc_2.value=rn.state.rectAreaLTC2,Xn.pointLights.value=rn.state.point,Xn.pointLightShadows.value=rn.state.pointShadow,Xn.hemisphereLights.value=rn.state.hemi,Xn.directionalShadowMap.value=rn.state.directionalShadowMap,Xn.directionalShadowMatrix.value=rn.state.directionalShadowMatrix,Xn.spotShadowMap.value=rn.state.spotShadowMap,Xn.spotLightMatrix.value=rn.state.spotLightMatrix,Xn.spotLightMap.value=rn.state.spotLightMap,Xn.pointShadowMap.value=rn.state.pointShadowMap,Xn.pointShadowMatrix.value=rn.state.pointShadowMatrix),cn.currentProgram=Jn,cn.uniformsList=null,Jn}function Xt(Gt){if(Gt.uniformsList===null){const nn=Gt.currentProgram.getUniforms();Gt.uniformsList=WebGLUniforms.seqWithValue(nn.seq,Gt.uniforms)}return Gt.uniformsList}function Jt(Gt,nn){const on=Tn.get(Gt);on.outputColorSpace=nn.outputColorSpace,on.batching=nn.batching,on.batchingColor=nn.batchingColor,on.instancing=nn.instancing,on.instancingColor=nn.instancingColor,on.instancingMorph=nn.instancingMorph,on.skinning=nn.skinning,on.morphTargets=nn.morphTargets,on.morphNormals=nn.morphNormals,on.morphColors=nn.morphColors,on.morphTargetsCount=nn.morphTargetsCount,on.numClippingPlanes=nn.numClippingPlanes,on.numIntersection=nn.numClipIntersection,on.vertexAlphas=nn.vertexAlphas,on.vertexTangents=nn.vertexTangents,on.toneMapping=nn.toneMapping}function hn(Gt,nn,on,cn,rn){nn.isScene!==!0&&(nn=Mn),Wt.resetTextureUnits();const Sn=nn.fog,pn=cn.isMeshStandardMaterial?nn.environment:null,Zn=Ct===null?Et.outputColorSpace:Ct.isXRRenderTarget===!0?Ct.texture.colorSpace:LinearSRGBColorSpace,jn=(cn.isMeshStandardMaterial?an:Ht).get(cn.envMap||pn),Hn=cn.vertexColors===!0&&!!on.attributes.color&&on.attributes.color.itemSize===4,Jn=!!on.attributes.tangent&&(!!cn.normalMap||cn.anisotropy>0),Xn=!!on.morphAttributes.position,or=!!on.morphAttributes.normal,ur=!!on.morphAttributes.color;let ir=NoToneMapping;cn.toneMapped&&(Ct===null||Ct.isXRRenderTarget===!0)&&(ir=Et.toneMapping);const dr=on.morphAttributes.position||on.morphAttributes.normal||on.morphAttributes.color,lr=dr!==void 0?dr.length:0,er=Tn.get(cn),xr=mt.state.lights;if(Zt===!0&&(tn===!0||Gt!==It)){const Rr=Gt===It&&cn.id===Pt;Un.setState(cn,Gt,Rr)}let mr=!1;cn.version===er.__version?(er.needsLights&&er.lightsStateVersion!==xr.state.version||er.outputColorSpace!==Zn||rn.isBatchedMesh&&er.batching===!1||!rn.isBatchedMesh&&er.batching===!0||rn.isBatchedMesh&&er.batchingColor===!0&&rn.colorTexture===null||rn.isBatchedMesh&&er.batchingColor===!1&&rn.colorTexture!==null||rn.isInstancedMesh&&er.instancing===!1||!rn.isInstancedMesh&&er.instancing===!0||rn.isSkinnedMesh&&er.skinning===!1||!rn.isSkinnedMesh&&er.skinning===!0||rn.isInstancedMesh&&er.instancingColor===!0&&rn.instanceColor===null||rn.isInstancedMesh&&er.instancingColor===!1&&rn.instanceColor!==null||rn.isInstancedMesh&&er.instancingMorph===!0&&rn.morphTexture===null||rn.isInstancedMesh&&er.instancingMorph===!1&&rn.morphTexture!==null||er.envMap!==jn||cn.fog===!0&&er.fog!==Sn||er.numClippingPlanes!==void 0&&(er.numClippingPlanes!==Un.numPlanes||er.numIntersection!==Un.numIntersection)||er.vertexAlphas!==Hn||er.vertexTangents!==Jn||er.morphTargets!==Xn||er.morphNormals!==or||er.morphColors!==ur||er.toneMapping!==ir||er.morphTargetsCount!==lr)&&(mr=!0):(mr=!0,er.__version=cn.version);let Lr=er.currentProgram;mr===!0&&(Lr=fs(cn,nn,rn));let Vr=!1,kr=!1,Ar=!1;const br=Lr.getUniforms(),wr=er.uniforms;if(xn.useProgram(Lr.program)&&(Vr=!0,kr=!0,Ar=!0),cn.id!==Pt&&(Pt=cn.id,kr=!0),Vr||It!==Gt){xn.buffers.depth.getReversed()?(en.copy(Gt.projectionMatrix),toNormalizedProjectionMatrix(en),toReversedProjectionMatrix(en),br.setValue(Yt,"projectionMatrix",en)):br.setValue(Yt,"projectionMatrix",Gt.projectionMatrix),br.setValue(Yt,"viewMatrix",Gt.matrixWorldInverse);const Wr=br.map.cameraPosition;Wr!==void 0&&Wr.setValue(Yt,Cn.setFromMatrixPosition(Gt.matrixWorld)),Vn.logarithmicDepthBuffer&&br.setValue(Yt,"logDepthBufFC",2/(Math.log(Gt.far+1)/Math.LN2)),(cn.isMeshPhongMaterial||cn.isMeshToonMaterial||cn.isMeshLambertMaterial||cn.isMeshBasicMaterial||cn.isMeshStandardMaterial||cn.isShaderMaterial)&&br.setValue(Yt,"isOrthographic",Gt.isOrthographicCamera===!0),It!==Gt&&(It=Gt,kr=!0,Ar=!0)}if(rn.isSkinnedMesh){br.setOptional(Yt,rn,"bindMatrix"),br.setOptional(Yt,rn,"bindMatrixInverse");const Rr=rn.skeleton;Rr&&(Rr.boneTexture===null&&Rr.computeBoneTexture(),br.setValue(Yt,"boneTexture",Rr.boneTexture,Wt))}rn.isBatchedMesh&&(br.setOptional(Yt,rn,"batchingTexture"),br.setValue(Yt,"batchingTexture",rn._matricesTexture,Wt),br.setOptional(Yt,rn,"batchingIdTexture"),br.setValue(Yt,"batchingIdTexture",rn._indirectTexture,Wt),br.setOptional(Yt,rn,"batchingColorTexture"),rn._colorsTexture!==null&&br.setValue(Yt,"batchingColorTexture",rn._colorsTexture,Wt));const Mr=on.morphAttributes;if((Mr.position!==void 0||Mr.normal!==void 0||Mr.color!==void 0)&&Wn.update(rn,on,Lr),(kr||er.receiveShadow!==rn.receiveShadow)&&(er.receiveShadow=rn.receiveShadow,br.setValue(Yt,"receiveShadow",rn.receiveShadow)),cn.isMeshGouraudMaterial&&cn.envMap!==null&&(wr.envMap.value=jn,wr.flipEnvMap.value=jn.isCubeTexture&&jn.isRenderTargetTexture===!1?-1:1),cn.isMeshStandardMaterial&&cn.envMap===null&&nn.environment!==null&&(wr.envMapIntensity.value=nn.environmentIntensity),kr&&(br.setValue(Yt,"toneMappingExposure",Et.toneMappingExposure),er.needsLights&&An(wr,Ar),Sn&&cn.fog===!0&&kn.refreshFogUniforms(wr,Sn),kn.refreshMaterialUniforms(wr,cn,Mt,$t,mt.state.transmissionRenderTarget[Gt.id]),WebGLUniforms.upload(Yt,Xt(er),wr,Wt)),cn.isShaderMaterial&&cn.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(Yt,Xt(er),wr,Wt),cn.uniformsNeedUpdate=!1),cn.isSpriteMaterial&&br.setValue(Yt,"center",rn.center),br.setValue(Yt,"modelViewMatrix",rn.modelViewMatrix),br.setValue(Yt,"normalMatrix",rn.normalMatrix),br.setValue(Yt,"modelMatrix",rn.matrixWorld),cn.isShaderMaterial||cn.isRawShaderMaterial){const Rr=cn.uniformsGroups;for(let Wr=0,Or=Rr.length;Wr<Or;Wr++){const ps=Rr[Wr];fn.update(ps,Lr),fn.bind(ps,Lr)}}return Lr}function An(Gt,nn){Gt.ambientLightColor.needsUpdate=nn,Gt.lightProbe.needsUpdate=nn,Gt.directionalLights.needsUpdate=nn,Gt.directionalLightShadows.needsUpdate=nn,Gt.pointLights.needsUpdate=nn,Gt.pointLightShadows.needsUpdate=nn,Gt.spotLights.needsUpdate=nn,Gt.spotLightShadows.needsUpdate=nn,Gt.rectAreaLights.needsUpdate=nn,Gt.hemisphereLights.needsUpdate=nn}function In(Gt){return Gt.isMeshLambertMaterial||Gt.isMeshToonMaterial||Gt.isMeshPhongMaterial||Gt.isMeshStandardMaterial||Gt.isShadowMaterial||Gt.isShaderMaterial&&Gt.lights===!0}this.getActiveCubeFace=function(){return Tt},this.getActiveMipmapLevel=function(){return At},this.getRenderTarget=function(){return Ct},this.setRenderTargetTextures=function(Gt,nn,on){Tn.get(Gt.texture).__webglTexture=nn,Tn.get(Gt.depthTexture).__webglTexture=on;const cn=Tn.get(Gt);cn.__hasExternalTextures=!0,cn.__autoAllocateDepthBuffer=on===void 0,cn.__autoAllocateDepthBuffer||wn.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),cn.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(Gt,nn){const on=Tn.get(Gt);on.__webglFramebuffer=nn,on.__useDefaultFramebuffer=nn===void 0},this.setRenderTarget=function(Gt,nn=0,on=0){Ct=Gt,Tt=nn,At=on;let cn=!0,rn=null,Sn=!1,pn=!1;if(Gt){const jn=Tn.get(Gt);if(jn.__useDefaultFramebuffer!==void 0)xn.bindFramebuffer(Yt.FRAMEBUFFER,null),cn=!1;else if(jn.__webglFramebuffer===void 0)Wt.setupRenderTarget(Gt);else if(jn.__hasExternalTextures)Wt.rebindTextures(Gt,Tn.get(Gt.texture).__webglTexture,Tn.get(Gt.depthTexture).__webglTexture);else if(Gt.depthBuffer){const Xn=Gt.depthTexture;if(jn.__boundDepthTexture!==Xn){if(Xn!==null&&Tn.has(Xn)&&(Gt.width!==Xn.image.width||Gt.height!==Xn.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Wt.setupDepthRenderbuffer(Gt)}}const Hn=Gt.texture;(Hn.isData3DTexture||Hn.isDataArrayTexture||Hn.isCompressedArrayTexture)&&(pn=!0);const Jn=Tn.get(Gt).__webglFramebuffer;Gt.isWebGLCubeRenderTarget?(Array.isArray(Jn[nn])?rn=Jn[nn][on]:rn=Jn[nn],Sn=!0):Gt.samples>0&&Wt.useMultisampledRTT(Gt)===!1?rn=Tn.get(Gt).__webglMultisampledFramebuffer:Array.isArray(Jn)?rn=Jn[on]:rn=Jn,Lt.copy(Gt.viewport),Vt.copy(Gt.scissor),Ut=Gt.scissorTest}else Lt.copy(Ft).multiplyScalar(Mt).floor(),Vt.copy(qt).multiplyScalar(Mt).floor(),Ut=Qt;if(xn.bindFramebuffer(Yt.FRAMEBUFFER,rn)&&cn&&xn.drawBuffers(Gt,rn),xn.viewport(Lt),xn.scissor(Vt),xn.setScissorTest(Ut),Sn){const jn=Tn.get(Gt.texture);Yt.framebufferTexture2D(Yt.FRAMEBUFFER,Yt.COLOR_ATTACHMENT0,Yt.TEXTURE_CUBE_MAP_POSITIVE_X+nn,jn.__webglTexture,on)}else if(pn){const jn=Tn.get(Gt.texture),Hn=nn||0;Yt.framebufferTextureLayer(Yt.FRAMEBUFFER,Yt.COLOR_ATTACHMENT0,jn.__webglTexture,on||0,Hn)}Pt=-1},this.readRenderTargetPixels=function(Gt,nn,on,cn,rn,Sn,pn){if(!(Gt&&Gt.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Zn=Tn.get(Gt).__webglFramebuffer;if(Gt.isWebGLCubeRenderTarget&&pn!==void 0&&(Zn=Zn[pn]),Zn){xn.bindFramebuffer(Yt.FRAMEBUFFER,Zn);try{const jn=Gt.texture,Hn=jn.format,Jn=jn.type;if(!Vn.textureFormatReadable(Hn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Vn.textureTypeReadable(Jn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}nn>=0&&nn<=Gt.width-cn&&on>=0&&on<=Gt.height-rn&&Yt.readPixels(nn,on,cn,rn,nr.convert(Hn),nr.convert(Jn),Sn)}finally{const jn=Ct!==null?Tn.get(Ct).__webglFramebuffer:null;xn.bindFramebuffer(Yt.FRAMEBUFFER,jn)}}},this.readRenderTargetPixelsAsync=async function(Gt,nn,on,cn,rn,Sn,pn){if(!(Gt&&Gt.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Zn=Tn.get(Gt).__webglFramebuffer;if(Gt.isWebGLCubeRenderTarget&&pn!==void 0&&(Zn=Zn[pn]),Zn){const jn=Gt.texture,Hn=jn.format,Jn=jn.type;if(!Vn.textureFormatReadable(Hn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Vn.textureTypeReadable(Jn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(nn>=0&&nn<=Gt.width-cn&&on>=0&&on<=Gt.height-rn){xn.bindFramebuffer(Yt.FRAMEBUFFER,Zn);const Xn=Yt.createBuffer();Yt.bindBuffer(Yt.PIXEL_PACK_BUFFER,Xn),Yt.bufferData(Yt.PIXEL_PACK_BUFFER,Sn.byteLength,Yt.STREAM_READ),Yt.readPixels(nn,on,cn,rn,nr.convert(Hn),nr.convert(Jn),0);const or=Ct!==null?Tn.get(Ct).__webglFramebuffer:null;xn.bindFramebuffer(Yt.FRAMEBUFFER,or);const ur=Yt.fenceSync(Yt.SYNC_GPU_COMMANDS_COMPLETE,0);return Yt.flush(),await probeAsync(Yt,ur,4),Yt.bindBuffer(Yt.PIXEL_PACK_BUFFER,Xn),Yt.getBufferSubData(Yt.PIXEL_PACK_BUFFER,0,Sn),Yt.deleteBuffer(Xn),Yt.deleteSync(ur),Sn}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(Gt,nn=null,on=0){Gt.isTexture!==!0&&(warnOnce("WebGLRenderer: copyFramebufferToTexture function signature has changed."),nn=arguments[0]||null,Gt=arguments[1]);const cn=Math.pow(2,-on),rn=Math.floor(Gt.image.width*cn),Sn=Math.floor(Gt.image.height*cn),pn=nn!==null?nn.x:0,Zn=nn!==null?nn.y:0;Wt.setTexture2D(Gt,0),Yt.copyTexSubImage2D(Yt.TEXTURE_2D,on,0,0,pn,Zn,rn,Sn),xn.unbindTexture()},this.copyTextureToTexture=function(Gt,nn,on=null,cn=null,rn=0){Gt.isTexture!==!0&&(warnOnce("WebGLRenderer: copyTextureToTexture function signature has changed."),cn=arguments[0]||null,Gt=arguments[1],nn=arguments[2],rn=arguments[3]||0,on=null);let Sn,pn,Zn,jn,Hn,Jn,Xn,or,ur;const ir=Gt.isCompressedTexture?Gt.mipmaps[rn]:Gt.image;on!==null?(Sn=on.max.x-on.min.x,pn=on.max.y-on.min.y,Zn=on.isBox3?on.max.z-on.min.z:1,jn=on.min.x,Hn=on.min.y,Jn=on.isBox3?on.min.z:0):(Sn=ir.width,pn=ir.height,Zn=ir.depth||1,jn=0,Hn=0,Jn=0),cn!==null?(Xn=cn.x,or=cn.y,ur=cn.z):(Xn=0,or=0,ur=0);const dr=nr.convert(nn.format),lr=nr.convert(nn.type);let er;nn.isData3DTexture?(Wt.setTexture3D(nn,0),er=Yt.TEXTURE_3D):nn.isDataArrayTexture||nn.isCompressedArrayTexture?(Wt.setTexture2DArray(nn,0),er=Yt.TEXTURE_2D_ARRAY):(Wt.setTexture2D(nn,0),er=Yt.TEXTURE_2D),Yt.pixelStorei(Yt.UNPACK_FLIP_Y_WEBGL,nn.flipY),Yt.pixelStorei(Yt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,nn.premultiplyAlpha),Yt.pixelStorei(Yt.UNPACK_ALIGNMENT,nn.unpackAlignment);const xr=Yt.getParameter(Yt.UNPACK_ROW_LENGTH),mr=Yt.getParameter(Yt.UNPACK_IMAGE_HEIGHT),Lr=Yt.getParameter(Yt.UNPACK_SKIP_PIXELS),Vr=Yt.getParameter(Yt.UNPACK_SKIP_ROWS),kr=Yt.getParameter(Yt.UNPACK_SKIP_IMAGES);Yt.pixelStorei(Yt.UNPACK_ROW_LENGTH,ir.width),Yt.pixelStorei(Yt.UNPACK_IMAGE_HEIGHT,ir.height),Yt.pixelStorei(Yt.UNPACK_SKIP_PIXELS,jn),Yt.pixelStorei(Yt.UNPACK_SKIP_ROWS,Hn),Yt.pixelStorei(Yt.UNPACK_SKIP_IMAGES,Jn);const Ar=Gt.isDataArrayTexture||Gt.isData3DTexture,br=nn.isDataArrayTexture||nn.isData3DTexture;if(Gt.isRenderTargetTexture||Gt.isDepthTexture){const wr=Tn.get(Gt),Mr=Tn.get(nn),Rr=Tn.get(wr.__renderTarget),Wr=Tn.get(Mr.__renderTarget);xn.bindFramebuffer(Yt.READ_FRAMEBUFFER,Rr.__webglFramebuffer),xn.bindFramebuffer(Yt.DRAW_FRAMEBUFFER,Wr.__webglFramebuffer);for(let Or=0;Or<Zn;Or++)Ar&&Yt.framebufferTextureLayer(Yt.READ_FRAMEBUFFER,Yt.COLOR_ATTACHMENT0,Tn.get(Gt).__webglTexture,rn,Jn+Or),Gt.isDepthTexture?(br&&Yt.framebufferTextureLayer(Yt.DRAW_FRAMEBUFFER,Yt.COLOR_ATTACHMENT0,Tn.get(nn).__webglTexture,rn,ur+Or),Yt.blitFramebuffer(jn,Hn,Sn,pn,Xn,or,Sn,pn,Yt.DEPTH_BUFFER_BIT,Yt.NEAREST)):br?Yt.copyTexSubImage3D(er,rn,Xn,or,ur+Or,jn,Hn,Sn,pn):Yt.copyTexSubImage2D(er,rn,Xn,or,ur+Or,jn,Hn,Sn,pn);xn.bindFramebuffer(Yt.READ_FRAMEBUFFER,null),xn.bindFramebuffer(Yt.DRAW_FRAMEBUFFER,null)}else br?Gt.isDataTexture||Gt.isData3DTexture?Yt.texSubImage3D(er,rn,Xn,or,ur,Sn,pn,Zn,dr,lr,ir.data):nn.isCompressedArrayTexture?Yt.compressedTexSubImage3D(er,rn,Xn,or,ur,Sn,pn,Zn,dr,ir.data):Yt.texSubImage3D(er,rn,Xn,or,ur,Sn,pn,Zn,dr,lr,ir):Gt.isDataTexture?Yt.texSubImage2D(Yt.TEXTURE_2D,rn,Xn,or,Sn,pn,dr,lr,ir.data):Gt.isCompressedTexture?Yt.compressedTexSubImage2D(Yt.TEXTURE_2D,rn,Xn,or,ir.width,ir.height,dr,ir.data):Yt.texSubImage2D(Yt.TEXTURE_2D,rn,Xn,or,Sn,pn,dr,lr,ir);Yt.pixelStorei(Yt.UNPACK_ROW_LENGTH,xr),Yt.pixelStorei(Yt.UNPACK_IMAGE_HEIGHT,mr),Yt.pixelStorei(Yt.UNPACK_SKIP_PIXELS,Lr),Yt.pixelStorei(Yt.UNPACK_SKIP_ROWS,Vr),Yt.pixelStorei(Yt.UNPACK_SKIP_IMAGES,kr),rn===0&&nn.generateMipmaps&&Yt.generateMipmap(er),xn.unbindTexture()},this.copyTextureToTexture3D=function(Gt,nn,on=null,cn=null,rn=0){return Gt.isTexture!==!0&&(warnOnce("WebGLRenderer: copyTextureToTexture3D function signature has changed."),on=arguments[0]||null,cn=arguments[1]||null,Gt=arguments[2],nn=arguments[3],rn=arguments[4]||0),warnOnce('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(Gt,nn,on,cn,rn)},this.initRenderTarget=function(Gt){Tn.get(Gt).__webglFramebuffer===void 0&&Wt.setupRenderTarget(Gt)},this.initTexture=function(Gt){Gt.isCubeTexture?Wt.setTextureCube(Gt,0):Gt.isData3DTexture?Wt.setTexture3D(Gt,0):Gt.isDataArrayTexture||Gt.isCompressedArrayTexture?Wt.setTexture2DArray(Gt,0):Wt.setTexture2D(Gt,0),xn.unbindTexture()},this.resetState=function(){Tt=0,At=0,Ct=null,xn.reset(),pr.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return WebGLCoordinateSystem}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(_e){this._outputColorSpace=_e;const nt=this.getContext();nt.drawingBufferColorspace=ColorManagement._getDrawingBufferColorSpace(_e),nt.unpackColorSpace=ColorManagement._getUnpackColorSpace()}}class FogExp2{constructor(_e,nt=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color(_e),this.density=nt}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Fog{constructor(_e,nt=1,rt=1e3){this.isFog=!0,this.name="",this.color=new Color(_e),this.near=nt,this.far=rt}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Euler,this.environmentIntensity=1,this.environmentRotation=new Euler,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(_e,nt){return super.copy(_e,nt),_e.background!==null&&(this.background=_e.background.clone()),_e.environment!==null&&(this.environment=_e.environment.clone()),_e.fog!==null&&(this.fog=_e.fog.clone()),this.backgroundBlurriness=_e.backgroundBlurriness,this.backgroundIntensity=_e.backgroundIntensity,this.backgroundRotation.copy(_e.backgroundRotation),this.environmentIntensity=_e.environmentIntensity,this.environmentRotation.copy(_e.environmentRotation),_e.overrideMaterial!==null&&(this.overrideMaterial=_e.overrideMaterial.clone()),this.matrixAutoUpdate=_e.matrixAutoUpdate,this}toJSON(_e){const nt=super.toJSON(_e);return this.fog!==null&&(nt.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(nt.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(nt.object.backgroundIntensity=this.backgroundIntensity),nt.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(nt.object.environmentIntensity=this.environmentIntensity),nt.object.environmentRotation=this.environmentRotation.toArray(),nt}}class InterleavedBuffer{constructor(_e,nt){this.isInterleavedBuffer=!0,this.array=_e,this.stride=nt,this.count=_e!==void 0?_e.length/nt:0,this.usage=StaticDrawUsage,this.updateRanges=[],this.version=0,this.uuid=generateUUID$1()}onUploadCallback(){}set needsUpdate(_e){_e===!0&&this.version++}setUsage(_e){return this.usage=_e,this}addUpdateRange(_e,nt){this.updateRanges.push({start:_e,count:nt})}clearUpdateRanges(){this.updateRanges.length=0}copy(_e){return this.array=new _e.array.constructor(_e.array),this.count=_e.count,this.stride=_e.stride,this.usage=_e.usage,this}copyAt(_e,nt,rt){_e*=this.stride,rt*=nt.stride;for(let it=0,st=this.stride;it<st;it++)this.array[_e+it]=nt.array[rt+it];return this}set(_e,nt=0){return this.array.set(_e,nt),this}clone(_e){_e.arrayBuffers===void 0&&(_e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),_e.arrayBuffers[this.array.buffer._uuid]===void 0&&(_e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const nt=new this.array.constructor(_e.arrayBuffers[this.array.buffer._uuid]),rt=new this.constructor(nt,this.stride);return rt.setUsage(this.usage),rt}onUpload(_e){return this.onUploadCallback=_e,this}toJSON(_e){return _e.arrayBuffers===void 0&&(_e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),_e.arrayBuffers[this.array.buffer._uuid]===void 0&&(_e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$6=new Vector3;class InterleavedBufferAttribute{constructor(_e,nt,rt,it=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=_e,this.itemSize=nt,this.offset=rt,this.normalized=it}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(_e){this.data.needsUpdate=_e}applyMatrix4(_e){for(let nt=0,rt=this.data.count;nt<rt;nt++)_vector$6.fromBufferAttribute(this,nt),_vector$6.applyMatrix4(_e),this.setXYZ(nt,_vector$6.x,_vector$6.y,_vector$6.z);return this}applyNormalMatrix(_e){for(let nt=0,rt=this.count;nt<rt;nt++)_vector$6.fromBufferAttribute(this,nt),_vector$6.applyNormalMatrix(_e),this.setXYZ(nt,_vector$6.x,_vector$6.y,_vector$6.z);return this}transformDirection(_e){for(let nt=0,rt=this.count;nt<rt;nt++)_vector$6.fromBufferAttribute(this,nt),_vector$6.transformDirection(_e),this.setXYZ(nt,_vector$6.x,_vector$6.y,_vector$6.z);return this}getComponent(_e,nt){let rt=this.array[_e*this.data.stride+this.offset+nt];return this.normalized&&(rt=denormalize(rt,this.array)),rt}setComponent(_e,nt,rt){return this.normalized&&(rt=normalize(rt,this.array)),this.data.array[_e*this.data.stride+this.offset+nt]=rt,this}setX(_e,nt){return this.normalized&&(nt=normalize(nt,this.array)),this.data.array[_e*this.data.stride+this.offset]=nt,this}setY(_e,nt){return this.normalized&&(nt=normalize(nt,this.array)),this.data.array[_e*this.data.stride+this.offset+1]=nt,this}setZ(_e,nt){return this.normalized&&(nt=normalize(nt,this.array)),this.data.array[_e*this.data.stride+this.offset+2]=nt,this}setW(_e,nt){return this.normalized&&(nt=normalize(nt,this.array)),this.data.array[_e*this.data.stride+this.offset+3]=nt,this}getX(_e){let nt=this.data.array[_e*this.data.stride+this.offset];return this.normalized&&(nt=denormalize(nt,this.array)),nt}getY(_e){let nt=this.data.array[_e*this.data.stride+this.offset+1];return this.normalized&&(nt=denormalize(nt,this.array)),nt}getZ(_e){let nt=this.data.array[_e*this.data.stride+this.offset+2];return this.normalized&&(nt=denormalize(nt,this.array)),nt}getW(_e){let nt=this.data.array[_e*this.data.stride+this.offset+3];return this.normalized&&(nt=denormalize(nt,this.array)),nt}setXY(_e,nt,rt){return _e=_e*this.data.stride+this.offset,this.normalized&&(nt=normalize(nt,this.array),rt=normalize(rt,this.array)),this.data.array[_e+0]=nt,this.data.array[_e+1]=rt,this}setXYZ(_e,nt,rt,it){return _e=_e*this.data.stride+this.offset,this.normalized&&(nt=normalize(nt,this.array),rt=normalize(rt,this.array),it=normalize(it,this.array)),this.data.array[_e+0]=nt,this.data.array[_e+1]=rt,this.data.array[_e+2]=it,this}setXYZW(_e,nt,rt,it,st){return _e=_e*this.data.stride+this.offset,this.normalized&&(nt=normalize(nt,this.array),rt=normalize(rt,this.array),it=normalize(it,this.array),st=normalize(st,this.array)),this.data.array[_e+0]=nt,this.data.array[_e+1]=rt,this.data.array[_e+2]=it,this.data.array[_e+3]=st,this}clone(_e){if(_e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const nt=[];for(let rt=0;rt<this.count;rt++){const it=rt*this.data.stride+this.offset;for(let st=0;st<this.itemSize;st++)nt.push(this.data.array[it+st])}return new BufferAttribute(new this.array.constructor(nt),this.itemSize,this.normalized)}else return _e.interleavedBuffers===void 0&&(_e.interleavedBuffers={}),_e.interleavedBuffers[this.data.uuid]===void 0&&(_e.interleavedBuffers[this.data.uuid]=this.data.clone(_e)),new InterleavedBufferAttribute(_e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(_e){if(_e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const nt=[];for(let rt=0;rt<this.count;rt++){const it=rt*this.data.stride+this.offset;for(let st=0;st<this.itemSize;st++)nt.push(this.data.array[it+st])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:nt,normalized:this.normalized}}else return _e.interleavedBuffers===void 0&&(_e.interleavedBuffers={}),_e.interleavedBuffers[this.data.uuid]===void 0&&(_e.interleavedBuffers[this.data.uuid]=this.data.toJSON(_e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{static get type(){return"SpriteMaterial"}constructor(_e){super(),this.isSpriteMaterial=!0,this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.color.copy(_e.color),this.map=_e.map,this.alphaMap=_e.alphaMap,this.rotation=_e.rotation,this.sizeAttenuation=_e.sizeAttenuation,this.fog=_e.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(_e=new SpriteMaterial){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const nt=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),rt=new InterleavedBuffer(nt,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(rt,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(rt,2,3,!1))}this.geometry=_geometry,this.material=_e,this.center=new Vector2(.5,.5)}raycast(_e,nt){_e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(_e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(_e.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),_e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const rt=this.material.rotation;let it,st;rt!==0&&(st=Math.cos(rt),it=Math.sin(rt));const at=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,at,_worldScale,it,st),transformVertex(_vB.set(.5,-.5,0),_mvPosition,at,_worldScale,it,st),transformVertex(_vC.set(.5,.5,0),_mvPosition,at,_worldScale,it,st),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let ot=_e.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(ot===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,at,_worldScale,it,st),_uvB.set(0,1),ot=_e.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),ot===null))return;const lt=_e.ray.origin.distanceTo(_intersectPoint);lt<_e.near||lt>_e.far||nt.push({distance:lt,point:_intersectPoint.clone(),uv:Triangle.getInterpolation(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(_e,nt){return super.copy(_e,nt),_e.center!==void 0&&this.center.copy(_e.center),this.material=_e.material,this}}function transformVertex(tt,_e,nt,rt,it,st){_alignedPosition.subVectors(tt,nt).addScalar(.5).multiply(rt),it!==void 0?(_rotatedPosition.x=st*_alignedPosition.x-it*_alignedPosition.y,_rotatedPosition.y=it*_alignedPosition.x+st*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),tt.copy(_e),tt.x+=_rotatedPosition.x,tt.y+=_rotatedPosition.y,tt.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(_e){super.copy(_e,!1);const nt=_e.levels;for(let rt=0,it=nt.length;rt<it;rt++){const st=nt[rt];this.addLevel(st.object.clone(),st.distance,st.hysteresis)}return this.autoUpdate=_e.autoUpdate,this}addLevel(_e,nt=0,rt=0){nt=Math.abs(nt);const it=this.levels;let st;for(st=0;st<it.length&&!(nt<it[st].distance);st++);return it.splice(st,0,{distance:nt,hysteresis:rt,object:_e}),this.add(_e),this}removeLevel(_e){const nt=this.levels;for(let rt=0;rt<nt.length;rt++)if(nt[rt].distance===_e){const it=nt.splice(rt,1);return this.remove(it[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(_e){const nt=this.levels;if(nt.length>0){let rt,it;for(rt=1,it=nt.length;rt<it;rt++){let st=nt[rt].distance;if(nt[rt].object.visible&&(st-=st*nt[rt].hysteresis),_e<st)break}return nt[rt-1].object}return null}raycast(_e,nt){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const it=_e.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(it).raycast(_e,nt)}}update(_e){const nt=this.levels;if(nt.length>1){_v1$2.setFromMatrixPosition(_e.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const rt=_v1$2.distanceTo(_v2$1)/_e.zoom;nt[0].object.visible=!0;let it,st;for(it=1,st=nt.length;it<st;it++){let at=nt[it].distance;if(nt[it].object.visible&&(at-=at*nt[it].hysteresis),rt>=at)nt[it-1].object.visible=!1,nt[it].object.visible=!0;else break}for(this._currentLevel=it-1;it<st;it++)nt[it].object.visible=!1}}toJSON(_e){const nt=super.toJSON(_e);this.autoUpdate===!1&&(nt.object.autoUpdate=!1),nt.object.levels=[];const rt=this.levels;for(let it=0,st=rt.length;it<st;it++){const at=rt[it];nt.object.levels.push({object:at.object.uuid,distance:at.distance,hysteresis:at.hysteresis})}return nt}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector3=new Vector3,_matrix4=new Matrix4,_vertex=new Vector3,_sphere$4=new Sphere,_inverseMatrix$2=new Matrix4,_ray$2=new Ray;class SkinnedMesh extends Mesh{constructor(_e,nt){super(_e,nt),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=AttachedBindMode,this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const _e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Box3),this.boundingBox.makeEmpty();const nt=_e.getAttribute("position");for(let rt=0;rt<nt.count;rt++)this.getVertexPosition(rt,_vertex),this.boundingBox.expandByPoint(_vertex)}computeBoundingSphere(){const _e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Sphere),this.boundingSphere.makeEmpty();const nt=_e.getAttribute("position");for(let rt=0;rt<nt.count;rt++)this.getVertexPosition(rt,_vertex),this.boundingSphere.expandByPoint(_vertex)}copy(_e,nt){return super.copy(_e,nt),this.bindMode=_e.bindMode,this.bindMatrix.copy(_e.bindMatrix),this.bindMatrixInverse.copy(_e.bindMatrixInverse),this.skeleton=_e.skeleton,_e.boundingBox!==null&&(this.boundingBox=_e.boundingBox.clone()),_e.boundingSphere!==null&&(this.boundingSphere=_e.boundingSphere.clone()),this}raycast(_e,nt){const rt=this.material,it=this.matrixWorld;rt!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$4.copy(this.boundingSphere),_sphere$4.applyMatrix4(it),_e.ray.intersectsSphere(_sphere$4)!==!1&&(_inverseMatrix$2.copy(it).invert(),_ray$2.copy(_e.ray).applyMatrix4(_inverseMatrix$2),!(this.boundingBox!==null&&_ray$2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(_e,nt,_ray$2)))}getVertexPosition(_e,nt){return super.getVertexPosition(_e,nt),this.applyBoneTransform(_e,nt),nt}bind(_e,nt){this.skeleton=_e,nt===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),nt=this.matrixWorld),this.bindMatrix.copy(nt),this.bindMatrixInverse.copy(nt).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const _e=new Vector4,nt=this.geometry.attributes.skinWeight;for(let rt=0,it=nt.count;rt<it;rt++){_e.fromBufferAttribute(nt,rt);const st=1/_e.manhattanLength();st!==1/0?_e.multiplyScalar(st):_e.set(1,0,0,0),nt.setXYZW(rt,_e.x,_e.y,_e.z,_e.w)}}updateMatrixWorld(_e){super.updateMatrixWorld(_e),this.bindMode===AttachedBindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===DetachedBindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(_e,nt){const rt=this.skeleton,it=this.geometry;_skinIndex.fromBufferAttribute(it.attributes.skinIndex,_e),_skinWeight.fromBufferAttribute(it.attributes.skinWeight,_e),_basePosition.copy(nt).applyMatrix4(this.bindMatrix),nt.set(0,0,0);for(let st=0;st<4;st++){const at=_skinWeight.getComponent(st);if(at!==0){const ot=_skinIndex.getComponent(st);_matrix4.multiplyMatrices(rt.bones[ot].matrixWorld,rt.boneInverses[ot]),nt.addScaledVector(_vector3.copy(_basePosition).applyMatrix4(_matrix4),at)}}return nt.applyMatrix4(this.bindMatrixInverse)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor(_e=null,nt=1,rt=1,it,st,at,ot,lt,ct=NearestFilter,ut=NearestFilter,ft,ht){super(null,at,ot,lt,ct,ut,it,st,ft,ht),this.isDataTexture=!0,this.image={data:_e,width:nt,height:rt},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix=new Matrix4;class Skeleton{constructor(_e=[],nt=[]){this.uuid=generateUUID$1(),this.bones=_e.slice(0),this.boneInverses=nt,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const _e=this.bones,nt=this.boneInverses;if(this.boneMatrices=new Float32Array(_e.length*16),nt.length===0)this.calculateInverses();else if(_e.length!==nt.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let rt=0,it=this.bones.length;rt<it;rt++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let _e=0,nt=this.bones.length;_e<nt;_e++){const rt=new Matrix4;this.bones[_e]&&rt.copy(this.bones[_e].matrixWorld).invert(),this.boneInverses.push(rt)}}pose(){for(let _e=0,nt=this.bones.length;_e<nt;_e++){const rt=this.bones[_e];rt&&rt.matrixWorld.copy(this.boneInverses[_e]).invert()}for(let _e=0,nt=this.bones.length;_e<nt;_e++){const rt=this.bones[_e];rt&&(rt.parent&&rt.parent.isBone?(rt.matrix.copy(rt.parent.matrixWorld).invert(),rt.matrix.multiply(rt.matrixWorld)):rt.matrix.copy(rt.matrixWorld),rt.matrix.decompose(rt.position,rt.quaternion,rt.scale))}}update(){const _e=this.bones,nt=this.boneInverses,rt=this.boneMatrices,it=this.boneTexture;for(let st=0,at=_e.length;st<at;st++){const ot=_e[st]?_e[st].matrixWorld:_identityMatrix;_offsetMatrix.multiplyMatrices(ot,nt[st]),_offsetMatrix.toArray(rt,st*16)}it!==null&&(it.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let _e=Math.sqrt(this.bones.length*4);_e=Math.ceil(_e/4)*4,_e=Math.max(_e,4);const nt=new Float32Array(_e*_e*4);nt.set(this.boneMatrices);const rt=new DataTexture(nt,_e,_e,RGBAFormat,FloatType);return rt.needsUpdate=!0,this.boneMatrices=nt,this.boneTexture=rt,this}getBoneByName(_e){for(let nt=0,rt=this.bones.length;nt<rt;nt++){const it=this.bones[nt];if(it.name===_e)return it}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(_e,nt){this.uuid=_e.uuid;for(let rt=0,it=_e.bones.length;rt<it;rt++){const st=_e.bones[rt];let at=nt[st];at===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",st),at=new Bone),this.bones.push(at),this.boneInverses.push(new Matrix4().fromArray(_e.boneInverses[rt]))}return this.init(),this}toJSON(){const _e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};_e.uuid=this.uuid;const nt=this.bones,rt=this.boneInverses;for(let it=0,st=nt.length;it<st;it++){const at=nt[it];_e.bones.push(at.uuid);const ot=rt[it];_e.boneInverses.push(ot.toArray())}return _e}}class InstancedBufferAttribute extends BufferAttribute{constructor(_e,nt,rt,it=1){super(_e,nt,rt),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=it}copy(_e){return super.copy(_e),this.meshPerAttribute=_e.meshPerAttribute,this}toJSON(){const _e=super.toJSON();return _e.meshPerAttribute=this.meshPerAttribute,_e.isInstancedBufferAttribute=!0,_e}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_box3=new Box3,_identity=new Matrix4,_mesh$1=new Mesh,_sphere$3=new Sphere;class InstancedMesh extends Mesh{constructor(_e,nt,rt){super(_e,nt),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(rt*16),16),this.instanceColor=null,this.morphTexture=null,this.count=rt,this.boundingBox=null,this.boundingSphere=null;for(let it=0;it<rt;it++)this.setMatrixAt(it,_identity)}computeBoundingBox(){const _e=this.geometry,nt=this.count;this.boundingBox===null&&(this.boundingBox=new Box3),_e.boundingBox===null&&_e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let rt=0;rt<nt;rt++)this.getMatrixAt(rt,_instanceLocalMatrix),_box3.copy(_e.boundingBox).applyMatrix4(_instanceLocalMatrix),this.boundingBox.union(_box3)}computeBoundingSphere(){const _e=this.geometry,nt=this.count;this.boundingSphere===null&&(this.boundingSphere=new Sphere),_e.boundingSphere===null&&_e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let rt=0;rt<nt;rt++)this.getMatrixAt(rt,_instanceLocalMatrix),_sphere$3.copy(_e.boundingSphere).applyMatrix4(_instanceLocalMatrix),this.boundingSphere.union(_sphere$3)}copy(_e,nt){return super.copy(_e,nt),this.instanceMatrix.copy(_e.instanceMatrix),_e.morphTexture!==null&&(this.morphTexture=_e.morphTexture.clone()),_e.instanceColor!==null&&(this.instanceColor=_e.instanceColor.clone()),this.count=_e.count,_e.boundingBox!==null&&(this.boundingBox=_e.boundingBox.clone()),_e.boundingSphere!==null&&(this.boundingSphere=_e.boundingSphere.clone()),this}getColorAt(_e,nt){nt.fromArray(this.instanceColor.array,_e*3)}getMatrixAt(_e,nt){nt.fromArray(this.instanceMatrix.array,_e*16)}getMorphAt(_e,nt){const rt=nt.morphTargetInfluences,it=this.morphTexture.source.data.data,st=rt.length+1,at=_e*st+1;for(let ot=0;ot<rt.length;ot++)rt[ot]=it[at+ot]}raycast(_e,nt){const rt=this.matrixWorld,it=this.count;if(_mesh$1.geometry=this.geometry,_mesh$1.material=this.material,_mesh$1.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$3.copy(this.boundingSphere),_sphere$3.applyMatrix4(rt),_e.ray.intersectsSphere(_sphere$3)!==!1))for(let st=0;st<it;st++){this.getMatrixAt(st,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(rt,_instanceLocalMatrix),_mesh$1.matrixWorld=_instanceWorldMatrix,_mesh$1.raycast(_e,_instanceIntersects);for(let at=0,ot=_instanceIntersects.length;at<ot;at++){const lt=_instanceIntersects[at];lt.instanceId=st,lt.object=this,nt.push(lt)}_instanceIntersects.length=0}}setColorAt(_e,nt){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),nt.toArray(this.instanceColor.array,_e*3)}setMatrixAt(_e,nt){nt.toArray(this.instanceMatrix.array,_e*16)}setMorphAt(_e,nt){const rt=nt.morphTargetInfluences,it=rt.length+1;this.morphTexture===null&&(this.morphTexture=new DataTexture(new Float32Array(it*this.count),it,this.count,RedFormat,FloatType));const st=this.morphTexture.source.data.data;let at=0;for(let ct=0;ct<rt.length;ct++)at+=rt[ct];const ot=this.geometry.morphTargetsRelative?1:1-at,lt=it*_e;st[lt]=ot,st.set(rt,lt+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function ascIdSort(tt,_e){return tt-_e}function sortOpaque(tt,_e){return tt.z-_e.z}function sortTransparent(tt,_e){return _e.z-tt.z}class MultiDrawRenderList{constructor(){this.index=0,this.pool=[],this.list=[]}push(_e,nt,rt,it){const st=this.pool,at=this.list;this.index>=st.length&&st.push({start:-1,count:-1,z:-1,index:-1});const ot=st[this.index];at.push(ot),this.index++,ot.start=_e,ot.count=nt,ot.z=rt,ot.index=it}reset(){this.list.length=0,this.index=0}}const _matrix$1=new Matrix4,_whiteColor=new Color(1,1,1),_frustum=new Frustum,_box$1=new Box3,_sphere$2=new Sphere,_vector$5=new Vector3,_forward=new Vector3,_temp=new Vector3,_renderList=new MultiDrawRenderList,_mesh=new Mesh,_batchIntersects=[];function copyAttributeData(tt,_e,nt=0){const rt=_e.itemSize;if(tt.isInterleavedBufferAttribute||tt.array.constructor!==_e.array.constructor){const it=tt.count;for(let st=0;st<it;st++)for(let at=0;at<rt;at++)_e.setComponent(st+nt,at,tt.getComponent(st,at))}else _e.array.set(tt.array,nt*rt);_e.needsUpdate=!0}function copyArrayContents(tt,_e){if(tt.constructor!==_e.constructor){const nt=Math.min(tt.length,_e.length);for(let rt=0;rt<nt;rt++)_e[rt]=tt[rt]}else{const nt=Math.min(tt.length,_e.length);_e.set(new tt.constructor(tt.buffer,0,nt))}}class BatchedMesh extends Mesh{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(_e,nt,rt=nt*2,it){super(new BufferGeometry,it),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=_e,this._maxVertexCount=nt,this._maxIndexCount=rt,this._multiDrawCounts=new Int32Array(_e),this._multiDrawStarts=new Int32Array(_e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let _e=Math.sqrt(this._maxInstanceCount*4);_e=Math.ceil(_e/4)*4,_e=Math.max(_e,4);const nt=new Float32Array(_e*_e*4),rt=new DataTexture(nt,_e,_e,RGBAFormat,FloatType);this._matricesTexture=rt}_initIndirectTexture(){let _e=Math.sqrt(this._maxInstanceCount);_e=Math.ceil(_e);const nt=new Uint32Array(_e*_e),rt=new DataTexture(nt,_e,_e,RedIntegerFormat,UnsignedIntType);this._indirectTexture=rt}_initColorsTexture(){let _e=Math.sqrt(this._maxInstanceCount);_e=Math.ceil(_e);const nt=new Float32Array(_e*_e*4).fill(1),rt=new DataTexture(nt,_e,_e,RGBAFormat,FloatType);rt.colorSpace=ColorManagement.workingColorSpace,this._colorsTexture=rt}_initializeGeometry(_e){const nt=this.geometry,rt=this._maxVertexCount,it=this._maxIndexCount;if(this._geometryInitialized===!1){for(const st in _e.attributes){const at=_e.getAttribute(st),{array:ot,itemSize:lt,normalized:ct}=at,ut=new ot.constructor(rt*lt),ft=new BufferAttribute(ut,lt,ct);nt.setAttribute(st,ft)}if(_e.getIndex()!==null){const st=rt>65535?new Uint32Array(it):new Uint16Array(it);nt.setIndex(new BufferAttribute(st,1))}this._geometryInitialized=!0}}_validateGeometry(_e){const nt=this.geometry;if(!!_e.getIndex()!=!!nt.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const rt in nt.attributes){if(!_e.hasAttribute(rt))throw new Error(`BatchedMesh: Added geometry missing "${rt}". All geometries must have consistent attributes.`);const it=_e.getAttribute(rt),st=nt.getAttribute(rt);if(it.itemSize!==st.itemSize||it.normalized!==st.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(_e){return this.customSort=_e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const _e=this.boundingBox,nt=this._instanceInfo;_e.makeEmpty();for(let rt=0,it=nt.length;rt<it;rt++){if(nt[rt].active===!1)continue;const st=nt[rt].geometryIndex;this.getMatrixAt(rt,_matrix$1),this.getBoundingBoxAt(st,_box$1).applyMatrix4(_matrix$1),_e.union(_box$1)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const _e=this.boundingSphere,nt=this._instanceInfo;_e.makeEmpty();for(let rt=0,it=nt.length;rt<it;rt++){if(nt[rt].active===!1)continue;const st=nt[rt].geometryIndex;this.getMatrixAt(rt,_matrix$1),this.getBoundingSphereAt(st,_sphere$2).applyMatrix4(_matrix$1),_e.union(_sphere$2)}}addInstance(_e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("BatchedMesh: Maximum item count reached.");const rt={visible:!0,active:!0,geometryIndex:_e};let it=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(ascIdSort),it=this._availableInstanceIds.shift(),this._instanceInfo[it]=rt):(it=this._instanceInfo.length,this._instanceInfo.push(rt));const st=this._matricesTexture;_matrix$1.identity().toArray(st.image.data,it*16),st.needsUpdate=!0;const at=this._colorsTexture;return at&&(_whiteColor.toArray(at.image.data,it*4),at.needsUpdate=!0),this._visibilityChanged=!0,it}addGeometry(_e,nt=-1,rt=-1){this._initializeGeometry(_e),this._validateGeometry(_e);const it={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},st=this._geometryInfo;it.vertexStart=this._nextVertexStart,it.reservedVertexCount=nt===-1?_e.getAttribute("position").count:nt;const at=_e.getIndex();if(at!==null&&(it.indexStart=this._nextIndexStart,it.reservedIndexCount=rt===-1?at.count:rt),it.indexStart!==-1&&it.indexStart+it.reservedIndexCount>this._maxIndexCount||it.vertexStart+it.reservedVertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");let lt;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(ascIdSort),lt=this._availableGeometryIds.shift(),st[lt]=it):(lt=this._geometryCount,this._geometryCount++,st.push(it)),this.setGeometryAt(lt,_e),this._nextIndexStart=it.indexStart+it.reservedIndexCount,this._nextVertexStart=it.vertexStart+it.reservedVertexCount,lt}setGeometryAt(_e,nt){if(_e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(nt);const rt=this.geometry,it=rt.getIndex()!==null,st=rt.getIndex(),at=nt.getIndex(),ot=this._geometryInfo[_e];if(it&&at.count>ot.reservedIndexCount||nt.attributes.position.count>ot.reservedVertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const lt=ot.vertexStart,ct=ot.reservedVertexCount;ot.vertexCount=nt.getAttribute("position").count;for(const ut in rt.attributes){const ft=nt.getAttribute(ut),ht=rt.getAttribute(ut);copyAttributeData(ft,ht,lt);const pt=ft.itemSize;for(let dt=ft.count,gt=ct;dt<gt;dt++){const vt=lt+dt;for(let mt=0;mt<pt;mt++)ht.setComponent(vt,mt,0)}ht.needsUpdate=!0,ht.addUpdateRange(lt*pt,ct*pt)}if(it){const ut=ot.indexStart,ft=ot.reservedIndexCount;ot.indexCount=nt.getIndex().count;for(let ht=0;ht<at.count;ht++)st.setX(ut+ht,lt+at.getX(ht));for(let ht=at.count,pt=ft;ht<pt;ht++)st.setX(ut+ht,lt);st.needsUpdate=!0,st.addUpdateRange(ut,ot.reservedIndexCount)}return ot.start=it?ot.indexStart:ot.vertexStart,ot.count=it?ot.indexCount:ot.vertexCount,ot.boundingBox=null,nt.boundingBox!==null&&(ot.boundingBox=nt.boundingBox.clone()),ot.boundingSphere=null,nt.boundingSphere!==null&&(ot.boundingSphere=nt.boundingSphere.clone()),this._visibilityChanged=!0,_e}deleteGeometry(_e){const nt=this._geometryInfo;if(_e>=nt.length||nt[_e].active===!1)return this;const rt=this._instanceInfo;for(let it=0,st=rt.length;it<st;it++)rt[it].geometryIndex===_e&&this.deleteInstance(it);return nt[_e].active=!1,this._availableGeometryIds.push(_e),this._visibilityChanged=!0,this}deleteInstance(_e){const nt=this._instanceInfo;return _e>=nt.length||nt[_e].active===!1?this:(nt[_e].active=!1,this._availableInstanceIds.push(_e),this._visibilityChanged=!0,this)}optimize(){let _e=0,nt=0;const rt=this._geometryInfo,it=rt.map((at,ot)=>ot).sort((at,ot)=>rt[at].vertexStart-rt[ot].vertexStart),st=this.geometry;for(let at=0,ot=rt.length;at<ot;at++){const lt=it[at],ct=rt[lt];if(ct.active!==!1){if(st.index!==null){if(ct.indexStart!==nt){const{indexStart:ut,vertexStart:ft,reservedIndexCount:ht}=ct,pt=st.index,dt=pt.array,gt=_e-ft;for(let vt=ut;vt<ut+ht;vt++)dt[vt]=dt[vt]+gt;pt.array.copyWithin(nt,ut,ut+ht),pt.addUpdateRange(nt,ht),ct.indexStart=nt}nt+=ct.reservedIndexCount}if(ct.vertexStart!==_e){const{vertexStart:ut,reservedVertexCount:ft}=ct,ht=st.attributes;for(const pt in ht){const dt=ht[pt],{array:gt,itemSize:vt}=dt;gt.copyWithin(_e*vt,ut*vt,(ut+ft)*vt),dt.addUpdateRange(_e*vt,ft*vt)}ct.vertexStart=_e}_e+=ct.reservedVertexCount,ct.start=st.index?ct.indexStart:ct.vertexStart,this._nextIndexStart=st.index?ct.indexStart+ct.reservedIndexCount:0,this._nextVertexStart=ct.vertexStart+ct.reservedVertexCount}}return this}getBoundingBoxAt(_e,nt){if(_e>=this._geometryCount)return null;const rt=this.geometry,it=this._geometryInfo[_e];if(it.boundingBox===null){const st=new Box3,at=rt.index,ot=rt.attributes.position;for(let lt=it.start,ct=it.start+it.count;lt<ct;lt++){let ut=lt;at&&(ut=at.getX(ut)),st.expandByPoint(_vector$5.fromBufferAttribute(ot,ut))}it.boundingBox=st}return nt.copy(it.boundingBox),nt}getBoundingSphereAt(_e,nt){if(_e>=this._geometryCount)return null;const rt=this.geometry,it=this._geometryInfo[_e];if(it.boundingSphere===null){const st=new Sphere;this.getBoundingBoxAt(_e,_box$1),_box$1.getCenter(st.center);const at=rt.index,ot=rt.attributes.position;let lt=0;for(let ct=it.start,ut=it.start+it.count;ct<ut;ct++){let ft=ct;at&&(ft=at.getX(ft)),_vector$5.fromBufferAttribute(ot,ft),lt=Math.max(lt,st.center.distanceToSquared(_vector$5))}st.radius=Math.sqrt(lt),it.boundingSphere=st}return nt.copy(it.boundingSphere),nt}setMatrixAt(_e,nt){const rt=this._instanceInfo,it=this._matricesTexture,st=this._matricesTexture.image.data;return _e>=rt.length||rt[_e].active===!1?this:(nt.toArray(st,_e*16),it.needsUpdate=!0,this)}getMatrixAt(_e,nt){const rt=this._instanceInfo,it=this._matricesTexture.image.data;return _e>=rt.length||rt[_e].active===!1?null:nt.fromArray(it,_e*16)}setColorAt(_e,nt){this._colorsTexture===null&&this._initColorsTexture();const rt=this._colorsTexture,it=this._colorsTexture.image.data,st=this._instanceInfo;return _e>=st.length||st[_e].active===!1?this:(nt.toArray(it,_e*4),rt.needsUpdate=!0,this)}getColorAt(_e,nt){const rt=this._colorsTexture.image.data,it=this._instanceInfo;return _e>=it.length||it[_e].active===!1?null:nt.fromArray(rt,_e*4)}setVisibleAt(_e,nt){const rt=this._instanceInfo;return _e>=rt.length||rt[_e].active===!1||rt[_e].visible===nt?this:(rt[_e].visible=nt,this._visibilityChanged=!0,this)}getVisibleAt(_e){const nt=this._instanceInfo;return _e>=nt.length||nt[_e].active===!1?!1:nt[_e].visible}setGeometryIdAt(_e,nt){const rt=this._instanceInfo,it=this._geometryInfo;return _e>=rt.length||rt[_e].active===!1||nt>=it.length||it[nt].active===!1?null:(rt[_e].geometryIndex=nt,this)}getGeometryIdAt(_e){const nt=this._instanceInfo;return _e>=nt.length||nt[_e].active===!1?-1:nt[_e].geometryIndex}getGeometryRangeAt(_e,nt={}){if(_e<0||_e>=this._geometryCount)return null;const rt=this._geometryInfo[_e];return nt.vertexStart=rt.vertexStart,nt.vertexCount=rt.vertexCount,nt.reservedVertexCount=rt.reservedVertexCount,nt.indexStart=rt.indexStart,nt.indexCount=rt.indexCount,nt.reservedIndexCount=rt.reservedIndexCount,nt.start=rt.start,nt.count=rt.count,nt}setInstanceCount(_e){const nt=this._availableInstanceIds,rt=this._instanceInfo;for(nt.sort(ascIdSort);nt[nt.length-1]===rt.length;)rt.pop(),nt.pop();if(_e<rt.length)throw new Error(`BatchedMesh: Instance ids outside the range ${_e} are being used. Cannot shrink instance count.`);const it=new Int32Array(_e),st=new Int32Array(_e);copyArrayContents(this._multiDrawCounts,it),copyArrayContents(this._multiDrawStarts,st),this._multiDrawCounts=it,this._multiDrawStarts=st,this._maxInstanceCount=_e;const at=this._indirectTexture,ot=this._matricesTexture,lt=this._colorsTexture;at.dispose(),this._initIndirectTexture(),copyArrayContents(at.image.data,this._indirectTexture.image.data),ot.dispose(),this._initMatricesTexture(),copyArrayContents(ot.image.data,this._matricesTexture.image.data),lt&&(lt.dispose(),this._initColorsTexture(),copyArrayContents(lt.image.data,this._colorsTexture.image.data))}setGeometrySize(_e,nt){const rt=[...this._geometryInfo].filter(ot=>ot.active);if(Math.max(...rt.map(ot=>ot.vertexStart+ot.reservedVertexCount))>_e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${nt}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...rt.map(lt=>lt.indexStart+lt.reservedIndexCount))>nt)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${nt}. Cannot shrink further.`);const st=this.geometry;st.dispose(),this._maxVertexCount=_e,this._maxIndexCount=nt,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new BufferGeometry,this._initializeGeometry(st));const at=this.geometry;st.index&&copyArrayContents(st.index.array,at.index.array);for(const ot in st.attributes)copyArrayContents(st.attributes[ot].array,at.attributes[ot].array)}raycast(_e,nt){const rt=this._instanceInfo,it=this._geometryInfo,st=this.matrixWorld,at=this.geometry;_mesh.material=this.material,_mesh.geometry.index=at.index,_mesh.geometry.attributes=at.attributes,_mesh.geometry.boundingBox===null&&(_mesh.geometry.boundingBox=new Box3),_mesh.geometry.boundingSphere===null&&(_mesh.geometry.boundingSphere=new Sphere);for(let ot=0,lt=rt.length;ot<lt;ot++){if(!rt[ot].visible||!rt[ot].active)continue;const ct=rt[ot].geometryIndex,ut=it[ct];_mesh.geometry.setDrawRange(ut.start,ut.count),this.getMatrixAt(ot,_mesh.matrixWorld).premultiply(st),this.getBoundingBoxAt(ct,_mesh.geometry.boundingBox),this.getBoundingSphereAt(ct,_mesh.geometry.boundingSphere),_mesh.raycast(_e,_batchIntersects);for(let ft=0,ht=_batchIntersects.length;ft<ht;ft++){const pt=_batchIntersects[ft];pt.object=this,pt.batchId=ot,nt.push(pt)}_batchIntersects.length=0}_mesh.material=null,_mesh.geometry.index=null,_mesh.geometry.attributes={},_mesh.geometry.setDrawRange(0,1/0)}copy(_e){return super.copy(_e),this.geometry=_e.geometry.clone(),this.perObjectFrustumCulled=_e.perObjectFrustumCulled,this.sortObjects=_e.sortObjects,this.boundingBox=_e.boundingBox!==null?_e.boundingBox.clone():null,this.boundingSphere=_e.boundingSphere!==null?_e.boundingSphere.clone():null,this._geometryInfo=_e._geometryInfo.map(nt=>({...nt,boundingBox:nt.boundingBox!==null?nt.boundingBox.clone():null,boundingSphere:nt.boundingSphere!==null?nt.boundingSphere.clone():null})),this._instanceInfo=_e._instanceInfo.map(nt=>({...nt})),this._maxInstanceCount=_e._maxInstanceCount,this._maxVertexCount=_e._maxVertexCount,this._maxIndexCount=_e._maxIndexCount,this._geometryInitialized=_e._geometryInitialized,this._geometryCount=_e._geometryCount,this._multiDrawCounts=_e._multiDrawCounts.slice(),this._multiDrawStarts=_e._multiDrawStarts.slice(),this._matricesTexture=_e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=_e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(_e,nt,rt,it,st){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const at=it.getIndex(),ot=at===null?1:at.array.BYTES_PER_ELEMENT,lt=this._instanceInfo,ct=this._multiDrawStarts,ut=this._multiDrawCounts,ft=this._geometryInfo,ht=this.perObjectFrustumCulled,pt=this._indirectTexture,dt=pt.image.data;ht&&(_matrix$1.multiplyMatrices(rt.projectionMatrix,rt.matrixWorldInverse).multiply(this.matrixWorld),_frustum.setFromProjectionMatrix(_matrix$1,_e.coordinateSystem));let gt=0;if(this.sortObjects){_matrix$1.copy(this.matrixWorld).invert(),_vector$5.setFromMatrixPosition(rt.matrixWorld).applyMatrix4(_matrix$1),_forward.set(0,0,-1).transformDirection(rt.matrixWorld).transformDirection(_matrix$1);for(let xt=0,St=lt.length;xt<St;xt++)if(lt[xt].visible&&lt[xt].active){const Et=lt[xt].geometryIndex;this.getMatrixAt(xt,_matrix$1),this.getBoundingSphereAt(Et,_sphere$2).applyMatrix4(_matrix$1);let bt=!1;if(ht&&(bt=!_frustum.intersectsSphere(_sphere$2)),!bt){const Tt=ft[Et],At=_temp.subVectors(_sphere$2.center,_vector$5).dot(_forward);_renderList.push(Tt.start,Tt.count,At,xt)}}const vt=_renderList.list,mt=this.customSort;mt===null?vt.sort(st.transparent?sortTransparent:sortOpaque):mt.call(this,vt,rt);for(let xt=0,St=vt.length;xt<St;xt++){const Et=vt[xt];ct[gt]=Et.start*ot,ut[gt]=Et.count,dt[gt]=Et.index,gt++}_renderList.reset()}else for(let vt=0,mt=lt.length;vt<mt;vt++)if(lt[vt].visible&&lt[vt].active){const xt=lt[vt].geometryIndex;let St=!1;if(ht&&(this.getMatrixAt(vt,_matrix$1),this.getBoundingSphereAt(xt,_sphere$2).applyMatrix4(_matrix$1),St=!_frustum.intersectsSphere(_sphere$2)),!St){const Et=ft[xt];ct[gt]=Et.start*ot,ut[gt]=Et.count,dt[gt]=vt,gt++}}pt.needsUpdate=!0,this._multiDrawCount=gt,this._visibilityChanged=!1}onBeforeShadow(_e,nt,rt,it,st,at){this.onBeforeRender(_e,null,it,st,at)}}class LineBasicMaterial extends Material{static get type(){return"LineBasicMaterial"}constructor(_e){super(),this.isLineBasicMaterial=!0,this.color=new Color(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.color.copy(_e.color),this.map=_e.map,this.linewidth=_e.linewidth,this.linecap=_e.linecap,this.linejoin=_e.linejoin,this.fog=_e.fog,this}}const _vStart=new Vector3,_vEnd=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere,_intersectPointOnRay=new Vector3,_intersectPointOnSegment=new Vector3;class Line extends Object3D{constructor(_e=new BufferGeometry,nt=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=_e,this.material=nt,this.updateMorphTargets()}copy(_e,nt){return super.copy(_e,nt),this.material=Array.isArray(_e.material)?_e.material.slice():_e.material,this.geometry=_e.geometry,this}computeLineDistances(){const _e=this.geometry;if(_e.index===null){const nt=_e.attributes.position,rt=[0];for(let it=1,st=nt.count;it<st;it++)_vStart.fromBufferAttribute(nt,it-1),_vEnd.fromBufferAttribute(nt,it),rt[it]=rt[it-1],rt[it]+=_vStart.distanceTo(_vEnd);_e.setAttribute("lineDistance",new Float32BufferAttribute(rt,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(_e,nt){const rt=this.geometry,it=this.matrixWorld,st=_e.params.Line.threshold,at=rt.drawRange;if(rt.boundingSphere===null&&rt.computeBoundingSphere(),_sphere$1.copy(rt.boundingSphere),_sphere$1.applyMatrix4(it),_sphere$1.radius+=st,_e.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(it).invert(),_ray$1.copy(_e.ray).applyMatrix4(_inverseMatrix$1);const ot=st/((this.scale.x+this.scale.y+this.scale.z)/3),lt=ot*ot,ct=this.isLineSegments?2:1,ut=rt.index,ht=rt.attributes.position;if(ut!==null){const pt=Math.max(0,at.start),dt=Math.min(ut.count,at.start+at.count);for(let gt=pt,vt=dt-1;gt<vt;gt+=ct){const mt=ut.getX(gt),xt=ut.getX(gt+1),St=checkIntersection(this,_e,_ray$1,lt,mt,xt);St&&nt.push(St)}if(this.isLineLoop){const gt=ut.getX(dt-1),vt=ut.getX(pt),mt=checkIntersection(this,_e,_ray$1,lt,gt,vt);mt&&nt.push(mt)}}else{const pt=Math.max(0,at.start),dt=Math.min(ht.count,at.start+at.count);for(let gt=pt,vt=dt-1;gt<vt;gt+=ct){const mt=checkIntersection(this,_e,_ray$1,lt,gt,gt+1);mt&&nt.push(mt)}if(this.isLineLoop){const gt=checkIntersection(this,_e,_ray$1,lt,dt-1,pt);gt&&nt.push(gt)}}}updateMorphTargets(){const nt=this.geometry.morphAttributes,rt=Object.keys(nt);if(rt.length>0){const it=nt[rt[0]];if(it!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let st=0,at=it.length;st<at;st++){const ot=it[st].name||String(st);this.morphTargetInfluences.push(0),this.morphTargetDictionary[ot]=st}}}}}function checkIntersection(tt,_e,nt,rt,it,st){const at=tt.geometry.attributes.position;if(_vStart.fromBufferAttribute(at,it),_vEnd.fromBufferAttribute(at,st),nt.distanceSqToSegment(_vStart,_vEnd,_intersectPointOnRay,_intersectPointOnSegment)>rt)return;_intersectPointOnRay.applyMatrix4(tt.matrixWorld);const lt=_e.ray.origin.distanceTo(_intersectPointOnRay);if(!(lt<_e.near||lt>_e.far))return{distance:lt,point:_intersectPointOnSegment.clone().applyMatrix4(tt.matrixWorld),index:it,face:null,faceIndex:null,barycoord:null,object:tt}}const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(_e,nt){super(_e,nt),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const _e=this.geometry;if(_e.index===null){const nt=_e.attributes.position,rt=[];for(let it=0,st=nt.count;it<st;it+=2)_start.fromBufferAttribute(nt,it),_end.fromBufferAttribute(nt,it+1),rt[it]=it===0?0:rt[it-1],rt[it+1]=rt[it]+_start.distanceTo(_end);_e.setAttribute("lineDistance",new Float32BufferAttribute(rt,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line{constructor(_e,nt){super(_e,nt),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material{static get type(){return"PointsMaterial"}constructor(_e){super(),this.isPointsMaterial=!0,this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.color.copy(_e.color),this.map=_e.map,this.alphaMap=_e.alphaMap,this.size=_e.size,this.sizeAttenuation=_e.sizeAttenuation,this.fog=_e.fog,this}}const _inverseMatrix=new Matrix4,_ray=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(_e=new BufferGeometry,nt=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=_e,this.material=nt,this.updateMorphTargets()}copy(_e,nt){return super.copy(_e,nt),this.material=Array.isArray(_e.material)?_e.material.slice():_e.material,this.geometry=_e.geometry,this}raycast(_e,nt){const rt=this.geometry,it=this.matrixWorld,st=_e.params.Points.threshold,at=rt.drawRange;if(rt.boundingSphere===null&&rt.computeBoundingSphere(),_sphere.copy(rt.boundingSphere),_sphere.applyMatrix4(it),_sphere.radius+=st,_e.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(it).invert(),_ray.copy(_e.ray).applyMatrix4(_inverseMatrix);const ot=st/((this.scale.x+this.scale.y+this.scale.z)/3),lt=ot*ot,ct=rt.index,ft=rt.attributes.position;if(ct!==null){const ht=Math.max(0,at.start),pt=Math.min(ct.count,at.start+at.count);for(let dt=ht,gt=pt;dt<gt;dt++){const vt=ct.getX(dt);_position$2.fromBufferAttribute(ft,vt),testPoint(_position$2,vt,lt,it,_e,nt,this)}}else{const ht=Math.max(0,at.start),pt=Math.min(ft.count,at.start+at.count);for(let dt=ht,gt=pt;dt<gt;dt++)_position$2.fromBufferAttribute(ft,dt),testPoint(_position$2,dt,lt,it,_e,nt,this)}}updateMorphTargets(){const nt=this.geometry.morphAttributes,rt=Object.keys(nt);if(rt.length>0){const it=nt[rt[0]];if(it!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let st=0,at=it.length;st<at;st++){const ot=it[st].name||String(st);this.morphTargetInfluences.push(0),this.morphTargetDictionary[ot]=st}}}}}function testPoint(tt,_e,nt,rt,it,st,at){const ot=_ray.distanceSqToPoint(tt);if(ot<nt){const lt=new Vector3;_ray.closestPointToPoint(tt,lt),lt.applyMatrix4(rt);const ct=it.ray.origin.distanceTo(lt);if(ct<it.near||ct>it.far)return;st.push({distance:ct,distanceToRay:Math.sqrt(ot),point:lt,index:_e,face:null,faceIndex:null,barycoord:null,object:at})}}class VideoTexture extends Texture{constructor(_e,nt,rt,it,st,at,ot,lt,ct){super(_e,nt,rt,it,st,at,ot,lt,ct),this.isVideoTexture=!0,this.minFilter=at!==void 0?at:LinearFilter,this.magFilter=st!==void 0?st:LinearFilter,this.generateMipmaps=!1;const ut=this;function ft(){ut.needsUpdate=!0,_e.requestVideoFrameCallback(ft)}"requestVideoFrameCallback"in _e&&_e.requestVideoFrameCallback(ft)}clone(){return new this.constructor(this.image).copy(this)}update(){const _e=this.image;"requestVideoFrameCallback"in _e===!1&&_e.readyState>=_e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class FramebufferTexture extends Texture{constructor(_e,nt){super({width:_e,height:nt}),this.isFramebufferTexture=!0,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor(_e,nt,rt,it,st,at,ot,lt,ct,ut,ft,ht){super(null,at,ot,lt,ct,ut,it,st,ft,ht),this.isCompressedTexture=!0,this.image={width:nt,height:rt},this.mipmaps=_e,this.flipY=!1,this.generateMipmaps=!1}}class CompressedArrayTexture extends CompressedTexture{constructor(_e,nt,rt,it,st,at){super(_e,nt,rt,st,at),this.isCompressedArrayTexture=!0,this.image.depth=it,this.wrapR=ClampToEdgeWrapping,this.layerUpdates=new Set}addLayerUpdate(_e){this.layerUpdates.add(_e)}clearLayerUpdates(){this.layerUpdates.clear()}}class CompressedCubeTexture extends CompressedTexture{constructor(_e,nt,rt){super(void 0,_e[0].width,_e[0].height,nt,rt,CubeReflectionMapping),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=_e}}class CanvasTexture extends Texture{constructor(_e,nt,rt,it,st,at,ot,lt,ct){super(_e,nt,rt,it,st,at,ot,lt,ct),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(_e,nt){const rt=this.getUtoTmapping(_e);return this.getPoint(rt,nt)}getPoints(_e=5){const nt=[];for(let rt=0;rt<=_e;rt++)nt.push(this.getPoint(rt/_e));return nt}getSpacedPoints(_e=5){const nt=[];for(let rt=0;rt<=_e;rt++)nt.push(this.getPointAt(rt/_e));return nt}getLength(){const _e=this.getLengths();return _e[_e.length-1]}getLengths(_e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===_e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const nt=[];let rt,it=this.getPoint(0),st=0;nt.push(0);for(let at=1;at<=_e;at++)rt=this.getPoint(at/_e),st+=rt.distanceTo(it),nt.push(st),it=rt;return this.cacheArcLengths=nt,nt}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(_e,nt){const rt=this.getLengths();let it=0;const st=rt.length;let at;nt?at=nt:at=_e*rt[st-1];let ot=0,lt=st-1,ct;for(;ot<=lt;)if(it=Math.floor(ot+(lt-ot)/2),ct=rt[it]-at,ct<0)ot=it+1;else if(ct>0)lt=it-1;else{lt=it;break}if(it=lt,rt[it]===at)return it/(st-1);const ut=rt[it],ht=rt[it+1]-ut,pt=(at-ut)/ht;return(it+pt)/(st-1)}getTangent(_e,nt){let it=_e-1e-4,st=_e+1e-4;it<0&&(it=0),st>1&&(st=1);const at=this.getPoint(it),ot=this.getPoint(st),lt=nt||(at.isVector2?new Vector2:new Vector3);return lt.copy(ot).sub(at).normalize(),lt}getTangentAt(_e,nt){const rt=this.getUtoTmapping(_e);return this.getTangent(rt,nt)}computeFrenetFrames(_e,nt){const rt=new Vector3,it=[],st=[],at=[],ot=new Vector3,lt=new Matrix4;for(let pt=0;pt<=_e;pt++){const dt=pt/_e;it[pt]=this.getTangentAt(dt,new Vector3)}st[0]=new Vector3,at[0]=new Vector3;let ct=Number.MAX_VALUE;const ut=Math.abs(it[0].x),ft=Math.abs(it[0].y),ht=Math.abs(it[0].z);ut<=ct&&(ct=ut,rt.set(1,0,0)),ft<=ct&&(ct=ft,rt.set(0,1,0)),ht<=ct&&rt.set(0,0,1),ot.crossVectors(it[0],rt).normalize(),st[0].crossVectors(it[0],ot),at[0].crossVectors(it[0],st[0]);for(let pt=1;pt<=_e;pt++){if(st[pt]=st[pt-1].clone(),at[pt]=at[pt-1].clone(),ot.crossVectors(it[pt-1],it[pt]),ot.length()>Number.EPSILON){ot.normalize();const dt=Math.acos(clamp(it[pt-1].dot(it[pt]),-1,1));st[pt].applyMatrix4(lt.makeRotationAxis(ot,dt))}at[pt].crossVectors(it[pt],st[pt])}if(nt===!0){let pt=Math.acos(clamp(st[0].dot(st[_e]),-1,1));pt/=_e,it[0].dot(ot.crossVectors(st[0],st[_e]))>0&&(pt=-pt);for(let dt=1;dt<=_e;dt++)st[dt].applyMatrix4(lt.makeRotationAxis(it[dt],pt*dt)),at[dt].crossVectors(it[dt],st[dt])}return{tangents:it,normals:st,binormals:at}}clone(){return new this.constructor().copy(this)}copy(_e){return this.arcLengthDivisions=_e.arcLengthDivisions,this}toJSON(){const _e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return _e.arcLengthDivisions=this.arcLengthDivisions,_e.type=this.type,_e}fromJSON(_e){return this.arcLengthDivisions=_e.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(_e=0,nt=0,rt=1,it=1,st=0,at=Math.PI*2,ot=!1,lt=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=_e,this.aY=nt,this.xRadius=rt,this.yRadius=it,this.aStartAngle=st,this.aEndAngle=at,this.aClockwise=ot,this.aRotation=lt}getPoint(_e,nt=new Vector2){const rt=nt,it=Math.PI*2;let st=this.aEndAngle-this.aStartAngle;const at=Math.abs(st)<Number.EPSILON;for(;st<0;)st+=it;for(;st>it;)st-=it;st<Number.EPSILON&&(at?st=0:st=it),this.aClockwise===!0&&!at&&(st===it?st=-it:st=st-it);const ot=this.aStartAngle+_e*st;let lt=this.aX+this.xRadius*Math.cos(ot),ct=this.aY+this.yRadius*Math.sin(ot);if(this.aRotation!==0){const ut=Math.cos(this.aRotation),ft=Math.sin(this.aRotation),ht=lt-this.aX,pt=ct-this.aY;lt=ht*ut-pt*ft+this.aX,ct=ht*ft+pt*ut+this.aY}return rt.set(lt,ct)}copy(_e){return super.copy(_e),this.aX=_e.aX,this.aY=_e.aY,this.xRadius=_e.xRadius,this.yRadius=_e.yRadius,this.aStartAngle=_e.aStartAngle,this.aEndAngle=_e.aEndAngle,this.aClockwise=_e.aClockwise,this.aRotation=_e.aRotation,this}toJSON(){const _e=super.toJSON();return _e.aX=this.aX,_e.aY=this.aY,_e.xRadius=this.xRadius,_e.yRadius=this.yRadius,_e.aStartAngle=this.aStartAngle,_e.aEndAngle=this.aEndAngle,_e.aClockwise=this.aClockwise,_e.aRotation=this.aRotation,_e}fromJSON(_e){return super.fromJSON(_e),this.aX=_e.aX,this.aY=_e.aY,this.xRadius=_e.xRadius,this.yRadius=_e.yRadius,this.aStartAngle=_e.aStartAngle,this.aEndAngle=_e.aEndAngle,this.aClockwise=_e.aClockwise,this.aRotation=_e.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(_e,nt,rt,it,st,at){super(_e,nt,rt,rt,it,st,at),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let tt=0,_e=0,nt=0,rt=0;function it(st,at,ot,lt){tt=st,_e=ot,nt=-3*st+3*at-2*ot-lt,rt=2*st-2*at+ot+lt}return{initCatmullRom:function(st,at,ot,lt,ct){it(at,ot,ct*(ot-st),ct*(lt-at))},initNonuniformCatmullRom:function(st,at,ot,lt,ct,ut,ft){let ht=(at-st)/ct-(ot-st)/(ct+ut)+(ot-at)/ut,pt=(ot-at)/ut-(lt-at)/(ut+ft)+(lt-ot)/ft;ht*=ut,pt*=ut,it(at,ot,ht,pt)},calc:function(st){const at=st*st,ot=at*st;return tt+_e*st+nt*at+rt*ot}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(_e=[],nt=!1,rt="centripetal",it=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=_e,this.closed=nt,this.curveType=rt,this.tension=it}getPoint(_e,nt=new Vector3){const rt=nt,it=this.points,st=it.length,at=(st-(this.closed?0:1))*_e;let ot=Math.floor(at),lt=at-ot;this.closed?ot+=ot>0?0:(Math.floor(Math.abs(ot)/st)+1)*st:lt===0&&ot===st-1&&(ot=st-2,lt=1);let ct,ut;this.closed||ot>0?ct=it[(ot-1)%st]:(tmp.subVectors(it[0],it[1]).add(it[0]),ct=tmp);const ft=it[ot%st],ht=it[(ot+1)%st];if(this.closed||ot+2<st?ut=it[(ot+2)%st]:(tmp.subVectors(it[st-1],it[st-2]).add(it[st-1]),ut=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const pt=this.curveType==="chordal"?.5:.25;let dt=Math.pow(ct.distanceToSquared(ft),pt),gt=Math.pow(ft.distanceToSquared(ht),pt),vt=Math.pow(ht.distanceToSquared(ut),pt);gt<1e-4&&(gt=1),dt<1e-4&&(dt=gt),vt<1e-4&&(vt=gt),px.initNonuniformCatmullRom(ct.x,ft.x,ht.x,ut.x,dt,gt,vt),py.initNonuniformCatmullRom(ct.y,ft.y,ht.y,ut.y,dt,gt,vt),pz.initNonuniformCatmullRom(ct.z,ft.z,ht.z,ut.z,dt,gt,vt)}else this.curveType==="catmullrom"&&(px.initCatmullRom(ct.x,ft.x,ht.x,ut.x,this.tension),py.initCatmullRom(ct.y,ft.y,ht.y,ut.y,this.tension),pz.initCatmullRom(ct.z,ft.z,ht.z,ut.z,this.tension));return rt.set(px.calc(lt),py.calc(lt),pz.calc(lt)),rt}copy(_e){super.copy(_e),this.points=[];for(let nt=0,rt=_e.points.length;nt<rt;nt++){const it=_e.points[nt];this.points.push(it.clone())}return this.closed=_e.closed,this.curveType=_e.curveType,this.tension=_e.tension,this}toJSON(){const _e=super.toJSON();_e.points=[];for(let nt=0,rt=this.points.length;nt<rt;nt++){const it=this.points[nt];_e.points.push(it.toArray())}return _e.closed=this.closed,_e.curveType=this.curveType,_e.tension=this.tension,_e}fromJSON(_e){super.fromJSON(_e),this.points=[];for(let nt=0,rt=_e.points.length;nt<rt;nt++){const it=_e.points[nt];this.points.push(new Vector3().fromArray(it))}return this.closed=_e.closed,this.curveType=_e.curveType,this.tension=_e.tension,this}}function CatmullRom(tt,_e,nt,rt,it){const st=(rt-_e)*.5,at=(it-nt)*.5,ot=tt*tt,lt=tt*ot;return(2*nt-2*rt+st+at)*lt+(-3*nt+3*rt-2*st-at)*ot+st*tt+nt}function QuadraticBezierP0(tt,_e){const nt=1-tt;return nt*nt*_e}function QuadraticBezierP1(tt,_e){return 2*(1-tt)*tt*_e}function QuadraticBezierP2(tt,_e){return tt*tt*_e}function QuadraticBezier(tt,_e,nt,rt){return QuadraticBezierP0(tt,_e)+QuadraticBezierP1(tt,nt)+QuadraticBezierP2(tt,rt)}function CubicBezierP0(tt,_e){const nt=1-tt;return nt*nt*nt*_e}function CubicBezierP1(tt,_e){const nt=1-tt;return 3*nt*nt*tt*_e}function CubicBezierP2(tt,_e){return 3*(1-tt)*tt*tt*_e}function CubicBezierP3(tt,_e){return tt*tt*tt*_e}function CubicBezier(tt,_e,nt,rt,it){return CubicBezierP0(tt,_e)+CubicBezierP1(tt,nt)+CubicBezierP2(tt,rt)+CubicBezierP3(tt,it)}class CubicBezierCurve extends Curve{constructor(_e=new Vector2,nt=new Vector2,rt=new Vector2,it=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=_e,this.v1=nt,this.v2=rt,this.v3=it}getPoint(_e,nt=new Vector2){const rt=nt,it=this.v0,st=this.v1,at=this.v2,ot=this.v3;return rt.set(CubicBezier(_e,it.x,st.x,at.x,ot.x),CubicBezier(_e,it.y,st.y,at.y,ot.y)),rt}copy(_e){return super.copy(_e),this.v0.copy(_e.v0),this.v1.copy(_e.v1),this.v2.copy(_e.v2),this.v3.copy(_e.v3),this}toJSON(){const _e=super.toJSON();return _e.v0=this.v0.toArray(),_e.v1=this.v1.toArray(),_e.v2=this.v2.toArray(),_e.v3=this.v3.toArray(),_e}fromJSON(_e){return super.fromJSON(_e),this.v0.fromArray(_e.v0),this.v1.fromArray(_e.v1),this.v2.fromArray(_e.v2),this.v3.fromArray(_e.v3),this}}class CubicBezierCurve3 extends Curve{constructor(_e=new Vector3,nt=new Vector3,rt=new Vector3,it=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=_e,this.v1=nt,this.v2=rt,this.v3=it}getPoint(_e,nt=new Vector3){const rt=nt,it=this.v0,st=this.v1,at=this.v2,ot=this.v3;return rt.set(CubicBezier(_e,it.x,st.x,at.x,ot.x),CubicBezier(_e,it.y,st.y,at.y,ot.y),CubicBezier(_e,it.z,st.z,at.z,ot.z)),rt}copy(_e){return super.copy(_e),this.v0.copy(_e.v0),this.v1.copy(_e.v1),this.v2.copy(_e.v2),this.v3.copy(_e.v3),this}toJSON(){const _e=super.toJSON();return _e.v0=this.v0.toArray(),_e.v1=this.v1.toArray(),_e.v2=this.v2.toArray(),_e.v3=this.v3.toArray(),_e}fromJSON(_e){return super.fromJSON(_e),this.v0.fromArray(_e.v0),this.v1.fromArray(_e.v1),this.v2.fromArray(_e.v2),this.v3.fromArray(_e.v3),this}}class LineCurve extends Curve{constructor(_e=new Vector2,nt=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=_e,this.v2=nt}getPoint(_e,nt=new Vector2){const rt=nt;return _e===1?rt.copy(this.v2):(rt.copy(this.v2).sub(this.v1),rt.multiplyScalar(_e).add(this.v1)),rt}getPointAt(_e,nt){return this.getPoint(_e,nt)}getTangent(_e,nt=new Vector2){return nt.subVectors(this.v2,this.v1).normalize()}getTangentAt(_e,nt){return this.getTangent(_e,nt)}copy(_e){return super.copy(_e),this.v1.copy(_e.v1),this.v2.copy(_e.v2),this}toJSON(){const _e=super.toJSON();return _e.v1=this.v1.toArray(),_e.v2=this.v2.toArray(),_e}fromJSON(_e){return super.fromJSON(_e),this.v1.fromArray(_e.v1),this.v2.fromArray(_e.v2),this}}class LineCurve3 extends Curve{constructor(_e=new Vector3,nt=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=_e,this.v2=nt}getPoint(_e,nt=new Vector3){const rt=nt;return _e===1?rt.copy(this.v2):(rt.copy(this.v2).sub(this.v1),rt.multiplyScalar(_e).add(this.v1)),rt}getPointAt(_e,nt){return this.getPoint(_e,nt)}getTangent(_e,nt=new Vector3){return nt.subVectors(this.v2,this.v1).normalize()}getTangentAt(_e,nt){return this.getTangent(_e,nt)}copy(_e){return super.copy(_e),this.v1.copy(_e.v1),this.v2.copy(_e.v2),this}toJSON(){const _e=super.toJSON();return _e.v1=this.v1.toArray(),_e.v2=this.v2.toArray(),_e}fromJSON(_e){return super.fromJSON(_e),this.v1.fromArray(_e.v1),this.v2.fromArray(_e.v2),this}}class QuadraticBezierCurve extends Curve{constructor(_e=new Vector2,nt=new Vector2,rt=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=_e,this.v1=nt,this.v2=rt}getPoint(_e,nt=new Vector2){const rt=nt,it=this.v0,st=this.v1,at=this.v2;return rt.set(QuadraticBezier(_e,it.x,st.x,at.x),QuadraticBezier(_e,it.y,st.y,at.y)),rt}copy(_e){return super.copy(_e),this.v0.copy(_e.v0),this.v1.copy(_e.v1),this.v2.copy(_e.v2),this}toJSON(){const _e=super.toJSON();return _e.v0=this.v0.toArray(),_e.v1=this.v1.toArray(),_e.v2=this.v2.toArray(),_e}fromJSON(_e){return super.fromJSON(_e),this.v0.fromArray(_e.v0),this.v1.fromArray(_e.v1),this.v2.fromArray(_e.v2),this}}class QuadraticBezierCurve3 extends Curve{constructor(_e=new Vector3,nt=new Vector3,rt=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=_e,this.v1=nt,this.v2=rt}getPoint(_e,nt=new Vector3){const rt=nt,it=this.v0,st=this.v1,at=this.v2;return rt.set(QuadraticBezier(_e,it.x,st.x,at.x),QuadraticBezier(_e,it.y,st.y,at.y),QuadraticBezier(_e,it.z,st.z,at.z)),rt}copy(_e){return super.copy(_e),this.v0.copy(_e.v0),this.v1.copy(_e.v1),this.v2.copy(_e.v2),this}toJSON(){const _e=super.toJSON();return _e.v0=this.v0.toArray(),_e.v1=this.v1.toArray(),_e.v2=this.v2.toArray(),_e}fromJSON(_e){return super.fromJSON(_e),this.v0.fromArray(_e.v0),this.v1.fromArray(_e.v1),this.v2.fromArray(_e.v2),this}}class SplineCurve extends Curve{constructor(_e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=_e}getPoint(_e,nt=new Vector2){const rt=nt,it=this.points,st=(it.length-1)*_e,at=Math.floor(st),ot=st-at,lt=it[at===0?at:at-1],ct=it[at],ut=it[at>it.length-2?it.length-1:at+1],ft=it[at>it.length-3?it.length-1:at+2];return rt.set(CatmullRom(ot,lt.x,ct.x,ut.x,ft.x),CatmullRom(ot,lt.y,ct.y,ut.y,ft.y)),rt}copy(_e){super.copy(_e),this.points=[];for(let nt=0,rt=_e.points.length;nt<rt;nt++){const it=_e.points[nt];this.points.push(it.clone())}return this}toJSON(){const _e=super.toJSON();_e.points=[];for(let nt=0,rt=this.points.length;nt<rt;nt++){const it=this.points[nt];_e.points.push(it.toArray())}return _e}fromJSON(_e){super.fromJSON(_e),this.points=[];for(let nt=0,rt=_e.points.length;nt<rt;nt++){const it=_e.points[nt];this.points.push(new Vector2().fromArray(it))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(_e){this.curves.push(_e)}closePath(){const _e=this.curves[0].getPoint(0),nt=this.curves[this.curves.length-1].getPoint(1);if(!_e.equals(nt)){const rt=_e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Curves[rt](nt,_e))}return this}getPoint(_e,nt){const rt=_e*this.getLength(),it=this.getCurveLengths();let st=0;for(;st<it.length;){if(it[st]>=rt){const at=it[st]-rt,ot=this.curves[st],lt=ot.getLength(),ct=lt===0?0:1-at/lt;return ot.getPointAt(ct,nt)}st++}return null}getLength(){const _e=this.getCurveLengths();return _e[_e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const _e=[];let nt=0;for(let rt=0,it=this.curves.length;rt<it;rt++)nt+=this.curves[rt].getLength(),_e.push(nt);return this.cacheLengths=_e,_e}getSpacedPoints(_e=40){const nt=[];for(let rt=0;rt<=_e;rt++)nt.push(this.getPoint(rt/_e));return this.autoClose&&nt.push(nt[0]),nt}getPoints(_e=12){const nt=[];let rt;for(let it=0,st=this.curves;it<st.length;it++){const at=st[it],ot=at.isEllipseCurve?_e*2:at.isLineCurve||at.isLineCurve3?1:at.isSplineCurve?_e*at.points.length:_e,lt=at.getPoints(ot);for(let ct=0;ct<lt.length;ct++){const ut=lt[ct];rt&&rt.equals(ut)||(nt.push(ut),rt=ut)}}return this.autoClose&&nt.length>1&&!nt[nt.length-1].equals(nt[0])&&nt.push(nt[0]),nt}copy(_e){super.copy(_e),this.curves=[];for(let nt=0,rt=_e.curves.length;nt<rt;nt++){const it=_e.curves[nt];this.curves.push(it.clone())}return this.autoClose=_e.autoClose,this}toJSON(){const _e=super.toJSON();_e.autoClose=this.autoClose,_e.curves=[];for(let nt=0,rt=this.curves.length;nt<rt;nt++){const it=this.curves[nt];_e.curves.push(it.toJSON())}return _e}fromJSON(_e){super.fromJSON(_e),this.autoClose=_e.autoClose,this.curves=[];for(let nt=0,rt=_e.curves.length;nt<rt;nt++){const it=_e.curves[nt];this.curves.push(new Curves[it.type]().fromJSON(it))}return this}}class Path extends CurvePath{constructor(_e){super(),this.type="Path",this.currentPoint=new Vector2,_e&&this.setFromPoints(_e)}setFromPoints(_e){this.moveTo(_e[0].x,_e[0].y);for(let nt=1,rt=_e.length;nt<rt;nt++)this.lineTo(_e[nt].x,_e[nt].y);return this}moveTo(_e,nt){return this.currentPoint.set(_e,nt),this}lineTo(_e,nt){const rt=new LineCurve(this.currentPoint.clone(),new Vector2(_e,nt));return this.curves.push(rt),this.currentPoint.set(_e,nt),this}quadraticCurveTo(_e,nt,rt,it){const st=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(_e,nt),new Vector2(rt,it));return this.curves.push(st),this.currentPoint.set(rt,it),this}bezierCurveTo(_e,nt,rt,it,st,at){const ot=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(_e,nt),new Vector2(rt,it),new Vector2(st,at));return this.curves.push(ot),this.currentPoint.set(st,at),this}splineThru(_e){const nt=[this.currentPoint.clone()].concat(_e),rt=new SplineCurve(nt);return this.curves.push(rt),this.currentPoint.copy(_e[_e.length-1]),this}arc(_e,nt,rt,it,st,at){const ot=this.currentPoint.x,lt=this.currentPoint.y;return this.absarc(_e+ot,nt+lt,rt,it,st,at),this}absarc(_e,nt,rt,it,st,at){return this.absellipse(_e,nt,rt,rt,it,st,at),this}ellipse(_e,nt,rt,it,st,at,ot,lt){const ct=this.currentPoint.x,ut=this.currentPoint.y;return this.absellipse(_e+ct,nt+ut,rt,it,st,at,ot,lt),this}absellipse(_e,nt,rt,it,st,at,ot,lt){const ct=new EllipseCurve(_e,nt,rt,it,st,at,ot,lt);if(this.curves.length>0){const ft=ct.getPoint(0);ft.equals(this.currentPoint)||this.lineTo(ft.x,ft.y)}this.curves.push(ct);const ut=ct.getPoint(1);return this.currentPoint.copy(ut),this}copy(_e){return super.copy(_e),this.currentPoint.copy(_e.currentPoint),this}toJSON(){const _e=super.toJSON();return _e.currentPoint=this.currentPoint.toArray(),_e}fromJSON(_e){return super.fromJSON(_e),this.currentPoint.fromArray(_e.currentPoint),this}}class LatheGeometry extends BufferGeometry{constructor(_e=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],nt=12,rt=0,it=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:_e,segments:nt,phiStart:rt,phiLength:it},nt=Math.floor(nt),it=clamp(it,0,Math.PI*2);const st=[],at=[],ot=[],lt=[],ct=[],ut=1/nt,ft=new Vector3,ht=new Vector2,pt=new Vector3,dt=new Vector3,gt=new Vector3;let vt=0,mt=0;for(let xt=0;xt<=_e.length-1;xt++)switch(xt){case 0:vt=_e[xt+1].x-_e[xt].x,mt=_e[xt+1].y-_e[xt].y,pt.x=mt*1,pt.y=-vt,pt.z=mt*0,gt.copy(pt),pt.normalize(),lt.push(pt.x,pt.y,pt.z);break;case _e.length-1:lt.push(gt.x,gt.y,gt.z);break;default:vt=_e[xt+1].x-_e[xt].x,mt=_e[xt+1].y-_e[xt].y,pt.x=mt*1,pt.y=-vt,pt.z=mt*0,dt.copy(pt),pt.x+=gt.x,pt.y+=gt.y,pt.z+=gt.z,pt.normalize(),lt.push(pt.x,pt.y,pt.z),gt.copy(dt)}for(let xt=0;xt<=nt;xt++){const St=rt+xt*ut*it,Et=Math.sin(St),bt=Math.cos(St);for(let Tt=0;Tt<=_e.length-1;Tt++){ft.x=_e[Tt].x*Et,ft.y=_e[Tt].y,ft.z=_e[Tt].x*bt,at.push(ft.x,ft.y,ft.z),ht.x=xt/nt,ht.y=Tt/(_e.length-1),ot.push(ht.x,ht.y);const At=lt[3*Tt+0]*Et,Ct=lt[3*Tt+1],Pt=lt[3*Tt+0]*bt;ct.push(At,Ct,Pt)}}for(let xt=0;xt<nt;xt++)for(let St=0;St<_e.length-1;St++){const Et=St+xt*_e.length,bt=Et,Tt=Et+_e.length,At=Et+_e.length+1,Ct=Et+1;st.push(bt,Tt,Ct),st.push(At,Ct,Tt)}this.setIndex(st),this.setAttribute("position",new Float32BufferAttribute(at,3)),this.setAttribute("uv",new Float32BufferAttribute(ot,2)),this.setAttribute("normal",new Float32BufferAttribute(ct,3))}copy(_e){return super.copy(_e),this.parameters=Object.assign({},_e.parameters),this}static fromJSON(_e){return new LatheGeometry(_e.points,_e.segments,_e.phiStart,_e.phiLength)}}class CapsuleGeometry extends LatheGeometry{constructor(_e=1,nt=1,rt=4,it=8){const st=new Path;st.absarc(0,-nt/2,_e,Math.PI*1.5,0),st.absarc(0,nt/2,_e,0,Math.PI*.5),super(st.getPoints(rt),it),this.type="CapsuleGeometry",this.parameters={radius:_e,length:nt,capSegments:rt,radialSegments:it}}static fromJSON(_e){return new CapsuleGeometry(_e.radius,_e.length,_e.capSegments,_e.radialSegments)}}class CircleGeometry extends BufferGeometry{constructor(_e=1,nt=32,rt=0,it=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:_e,segments:nt,thetaStart:rt,thetaLength:it},nt=Math.max(3,nt);const st=[],at=[],ot=[],lt=[],ct=new Vector3,ut=new Vector2;at.push(0,0,0),ot.push(0,0,1),lt.push(.5,.5);for(let ft=0,ht=3;ft<=nt;ft++,ht+=3){const pt=rt+ft/nt*it;ct.x=_e*Math.cos(pt),ct.y=_e*Math.sin(pt),at.push(ct.x,ct.y,ct.z),ot.push(0,0,1),ut.x=(at[ht]/_e+1)/2,ut.y=(at[ht+1]/_e+1)/2,lt.push(ut.x,ut.y)}for(let ft=1;ft<=nt;ft++)st.push(ft,ft+1,0);this.setIndex(st),this.setAttribute("position",new Float32BufferAttribute(at,3)),this.setAttribute("normal",new Float32BufferAttribute(ot,3)),this.setAttribute("uv",new Float32BufferAttribute(lt,2))}copy(_e){return super.copy(_e),this.parameters=Object.assign({},_e.parameters),this}static fromJSON(_e){return new CircleGeometry(_e.radius,_e.segments,_e.thetaStart,_e.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor(_e=1,nt=1,rt=1,it=32,st=1,at=!1,ot=0,lt=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:_e,radiusBottom:nt,height:rt,radialSegments:it,heightSegments:st,openEnded:at,thetaStart:ot,thetaLength:lt};const ct=this;it=Math.floor(it),st=Math.floor(st);const ut=[],ft=[],ht=[],pt=[];let dt=0;const gt=[],vt=rt/2;let mt=0;xt(),at===!1&&(_e>0&&St(!0),nt>0&&St(!1)),this.setIndex(ut),this.setAttribute("position",new Float32BufferAttribute(ft,3)),this.setAttribute("normal",new Float32BufferAttribute(ht,3)),this.setAttribute("uv",new Float32BufferAttribute(pt,2));function xt(){const Et=new Vector3,bt=new Vector3;let Tt=0;const At=(nt-_e)/rt;for(let Ct=0;Ct<=st;Ct++){const Pt=[],It=Ct/st,Lt=It*(nt-_e)+_e;for(let Vt=0;Vt<=it;Vt++){const Ut=Vt/it,Ot=Ut*lt+ot,zt=Math.sin(Ot),Dt=Math.cos(Ot);bt.x=Lt*zt,bt.y=-It*rt+vt,bt.z=Lt*Dt,ft.push(bt.x,bt.y,bt.z),Et.set(zt,At,Dt).normalize(),ht.push(Et.x,Et.y,Et.z),pt.push(Ut,1-It),Pt.push(dt++)}gt.push(Pt)}for(let Ct=0;Ct<it;Ct++)for(let Pt=0;Pt<st;Pt++){const It=gt[Pt][Ct],Lt=gt[Pt+1][Ct],Vt=gt[Pt+1][Ct+1],Ut=gt[Pt][Ct+1];(_e>0||Pt!==0)&&(ut.push(It,Lt,Ut),Tt+=3),(nt>0||Pt!==st-1)&&(ut.push(Lt,Vt,Ut),Tt+=3)}ct.addGroup(mt,Tt,0),mt+=Tt}function St(Et){const bt=dt,Tt=new Vector2,At=new Vector3;let Ct=0;const Pt=Et===!0?_e:nt,It=Et===!0?1:-1;for(let Vt=1;Vt<=it;Vt++)ft.push(0,vt*It,0),ht.push(0,It,0),pt.push(.5,.5),dt++;const Lt=dt;for(let Vt=0;Vt<=it;Vt++){const Ot=Vt/it*lt+ot,zt=Math.cos(Ot),Dt=Math.sin(Ot);At.x=Pt*Dt,At.y=vt*It,At.z=Pt*zt,ft.push(At.x,At.y,At.z),ht.push(0,It,0),Tt.x=zt*.5+.5,Tt.y=Dt*.5*It+.5,pt.push(Tt.x,Tt.y),dt++}for(let Vt=0;Vt<it;Vt++){const Ut=bt+Vt,Ot=Lt+Vt;Et===!0?ut.push(Ot,Ot+1,Ut):ut.push(Ot+1,Ot,Ut),Ct+=3}ct.addGroup(mt,Ct,Et===!0?1:2),mt+=Ct}}copy(_e){return super.copy(_e),this.parameters=Object.assign({},_e.parameters),this}static fromJSON(_e){return new CylinderGeometry(_e.radiusTop,_e.radiusBottom,_e.height,_e.radialSegments,_e.heightSegments,_e.openEnded,_e.thetaStart,_e.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(_e=1,nt=1,rt=32,it=1,st=!1,at=0,ot=Math.PI*2){super(0,_e,nt,rt,it,st,at,ot),this.type="ConeGeometry",this.parameters={radius:_e,height:nt,radialSegments:rt,heightSegments:it,openEnded:st,thetaStart:at,thetaLength:ot}}static fromJSON(_e){return new ConeGeometry(_e.radius,_e.height,_e.radialSegments,_e.heightSegments,_e.openEnded,_e.thetaStart,_e.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(_e=[],nt=[],rt=1,it=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:_e,indices:nt,radius:rt,detail:it};const st=[],at=[];ot(it),ct(rt),ut(),this.setAttribute("position",new Float32BufferAttribute(st,3)),this.setAttribute("normal",new Float32BufferAttribute(st.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(at,2)),it===0?this.computeVertexNormals():this.normalizeNormals();function ot(xt){const St=new Vector3,Et=new Vector3,bt=new Vector3;for(let Tt=0;Tt<nt.length;Tt+=3)pt(nt[Tt+0],St),pt(nt[Tt+1],Et),pt(nt[Tt+2],bt),lt(St,Et,bt,xt)}function lt(xt,St,Et,bt){const Tt=bt+1,At=[];for(let Ct=0;Ct<=Tt;Ct++){At[Ct]=[];const Pt=xt.clone().lerp(Et,Ct/Tt),It=St.clone().lerp(Et,Ct/Tt),Lt=Tt-Ct;for(let Vt=0;Vt<=Lt;Vt++)Vt===0&&Ct===Tt?At[Ct][Vt]=Pt:At[Ct][Vt]=Pt.clone().lerp(It,Vt/Lt)}for(let Ct=0;Ct<Tt;Ct++)for(let Pt=0;Pt<2*(Tt-Ct)-1;Pt++){const It=Math.floor(Pt/2);Pt%2===0?(ht(At[Ct][It+1]),ht(At[Ct+1][It]),ht(At[Ct][It])):(ht(At[Ct][It+1]),ht(At[Ct+1][It+1]),ht(At[Ct+1][It]))}}function ct(xt){const St=new Vector3;for(let Et=0;Et<st.length;Et+=3)St.x=st[Et+0],St.y=st[Et+1],St.z=st[Et+2],St.normalize().multiplyScalar(xt),st[Et+0]=St.x,st[Et+1]=St.y,st[Et+2]=St.z}function ut(){const xt=new Vector3;for(let St=0;St<st.length;St+=3){xt.x=st[St+0],xt.y=st[St+1],xt.z=st[St+2];const Et=vt(xt)/2/Math.PI+.5,bt=mt(xt)/Math.PI+.5;at.push(Et,1-bt)}dt(),ft()}function ft(){for(let xt=0;xt<at.length;xt+=6){const St=at[xt+0],Et=at[xt+2],bt=at[xt+4],Tt=Math.max(St,Et,bt),At=Math.min(St,Et,bt);Tt>.9&&At<.1&&(St<.2&&(at[xt+0]+=1),Et<.2&&(at[xt+2]+=1),bt<.2&&(at[xt+4]+=1))}}function ht(xt){st.push(xt.x,xt.y,xt.z)}function pt(xt,St){const Et=xt*3;St.x=_e[Et+0],St.y=_e[Et+1],St.z=_e[Et+2]}function dt(){const xt=new Vector3,St=new Vector3,Et=new Vector3,bt=new Vector3,Tt=new Vector2,At=new Vector2,Ct=new Vector2;for(let Pt=0,It=0;Pt<st.length;Pt+=9,It+=6){xt.set(st[Pt+0],st[Pt+1],st[Pt+2]),St.set(st[Pt+3],st[Pt+4],st[Pt+5]),Et.set(st[Pt+6],st[Pt+7],st[Pt+8]),Tt.set(at[It+0],at[It+1]),At.set(at[It+2],at[It+3]),Ct.set(at[It+4],at[It+5]),bt.copy(xt).add(St).add(Et).divideScalar(3);const Lt=vt(bt);gt(Tt,It+0,xt,Lt),gt(At,It+2,St,Lt),gt(Ct,It+4,Et,Lt)}}function gt(xt,St,Et,bt){bt<0&&xt.x===1&&(at[St]=xt.x-1),Et.x===0&&Et.z===0&&(at[St]=bt/2/Math.PI+.5)}function vt(xt){return Math.atan2(xt.z,-xt.x)}function mt(xt){return Math.atan2(-xt.y,Math.sqrt(xt.x*xt.x+xt.z*xt.z))}}copy(_e){return super.copy(_e),this.parameters=Object.assign({},_e.parameters),this}static fromJSON(_e){return new PolyhedronGeometry(_e.vertices,_e.indices,_e.radius,_e.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor(_e=1,nt=0){const rt=(1+Math.sqrt(5))/2,it=1/rt,st=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-it,-rt,0,-it,rt,0,it,-rt,0,it,rt,-it,-rt,0,-it,rt,0,it,-rt,0,it,rt,0,-rt,0,-it,rt,0,-it,-rt,0,it,rt,0,it],at=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(st,at,_e,nt),this.type="DodecahedronGeometry",this.parameters={radius:_e,detail:nt}}static fromJSON(_e){return new DodecahedronGeometry(_e.radius,_e.detail)}}const _v0=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor(_e=null,nt=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:_e,thresholdAngle:nt},_e!==null){const it=Math.pow(10,4),st=Math.cos(DEG2RAD*nt),at=_e.getIndex(),ot=_e.getAttribute("position"),lt=at?at.count:ot.count,ct=[0,0,0],ut=["a","b","c"],ft=new Array(3),ht={},pt=[];for(let dt=0;dt<lt;dt+=3){at?(ct[0]=at.getX(dt),ct[1]=at.getX(dt+1),ct[2]=at.getX(dt+2)):(ct[0]=dt,ct[1]=dt+1,ct[2]=dt+2);const{a:gt,b:vt,c:mt}=_triangle;if(gt.fromBufferAttribute(ot,ct[0]),vt.fromBufferAttribute(ot,ct[1]),mt.fromBufferAttribute(ot,ct[2]),_triangle.getNormal(_normal),ft[0]=`${Math.round(gt.x*it)},${Math.round(gt.y*it)},${Math.round(gt.z*it)}`,ft[1]=`${Math.round(vt.x*it)},${Math.round(vt.y*it)},${Math.round(vt.z*it)}`,ft[2]=`${Math.round(mt.x*it)},${Math.round(mt.y*it)},${Math.round(mt.z*it)}`,!(ft[0]===ft[1]||ft[1]===ft[2]||ft[2]===ft[0]))for(let xt=0;xt<3;xt++){const St=(xt+1)%3,Et=ft[xt],bt=ft[St],Tt=_triangle[ut[xt]],At=_triangle[ut[St]],Ct=`${Et}_${bt}`,Pt=`${bt}_${Et}`;Pt in ht&&ht[Pt]?(_normal.dot(ht[Pt].normal)<=st&&(pt.push(Tt.x,Tt.y,Tt.z),pt.push(At.x,At.y,At.z)),ht[Pt]=null):Ct in ht||(ht[Ct]={index0:ct[xt],index1:ct[St],normal:_normal.clone()})}}for(const dt in ht)if(ht[dt]){const{index0:gt,index1:vt}=ht[dt];_v0.fromBufferAttribute(ot,gt),_v1$1.fromBufferAttribute(ot,vt),pt.push(_v0.x,_v0.y,_v0.z),pt.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute(pt,3))}}copy(_e){return super.copy(_e),this.parameters=Object.assign({},_e.parameters),this}}class Shape extends Path{constructor(_e){super(_e),this.uuid=generateUUID$1(),this.type="Shape",this.holes=[]}getPointsHoles(_e){const nt=[];for(let rt=0,it=this.holes.length;rt<it;rt++)nt[rt]=this.holes[rt].getPoints(_e);return nt}extractPoints(_e){return{shape:this.getPoints(_e),holes:this.getPointsHoles(_e)}}copy(_e){super.copy(_e),this.holes=[];for(let nt=0,rt=_e.holes.length;nt<rt;nt++){const it=_e.holes[nt];this.holes.push(it.clone())}return this}toJSON(){const _e=super.toJSON();_e.uuid=this.uuid,_e.holes=[];for(let nt=0,rt=this.holes.length;nt<rt;nt++){const it=this.holes[nt];_e.holes.push(it.toJSON())}return _e}fromJSON(_e){super.fromJSON(_e),this.uuid=_e.uuid,this.holes=[];for(let nt=0,rt=_e.holes.length;nt<rt;nt++){const it=_e.holes[nt];this.holes.push(new Path().fromJSON(it))}return this}}const Earcut={triangulate:function(tt,_e,nt=2){const rt=_e&&_e.length,it=rt?_e[0]*nt:tt.length;let st=linkedList(tt,0,it,nt,!0);const at=[];if(!st||st.next===st.prev)return at;let ot,lt,ct,ut,ft,ht,pt;if(rt&&(st=eliminateHoles(tt,_e,st,nt)),tt.length>80*nt){ot=ct=tt[0],lt=ut=tt[1];for(let dt=nt;dt<it;dt+=nt)ft=tt[dt],ht=tt[dt+1],ft<ot&&(ot=ft),ht<lt&&(lt=ht),ft>ct&&(ct=ft),ht>ut&&(ut=ht);pt=Math.max(ct-ot,ut-lt),pt=pt!==0?32767/pt:0}return earcutLinked(st,at,nt,ot,lt,pt,0),at}};function linkedList(tt,_e,nt,rt,it){let st,at;if(it===signedArea(tt,_e,nt,rt)>0)for(st=_e;st<nt;st+=rt)at=insertNode(st,tt[st],tt[st+1],at);else for(st=nt-rt;st>=_e;st-=rt)at=insertNode(st,tt[st],tt[st+1],at);return at&&equals(at,at.next)&&(removeNode(at),at=at.next),at}function filterPoints(tt,_e){if(!tt)return tt;_e||(_e=tt);let nt=tt,rt;do if(rt=!1,!nt.steiner&&(equals(nt,nt.next)||area(nt.prev,nt,nt.next)===0)){if(removeNode(nt),nt=_e=nt.prev,nt===nt.next)break;rt=!0}else nt=nt.next;while(rt||nt!==_e);return _e}function earcutLinked(tt,_e,nt,rt,it,st,at){if(!tt)return;!at&&st&&indexCurve(tt,rt,it,st);let ot=tt,lt,ct;for(;tt.prev!==tt.next;){if(lt=tt.prev,ct=tt.next,st?isEarHashed(tt,rt,it,st):isEar(tt)){_e.push(lt.i/nt|0),_e.push(tt.i/nt|0),_e.push(ct.i/nt|0),removeNode(tt),tt=ct.next,ot=ct.next;continue}if(tt=ct,tt===ot){at?at===1?(tt=cureLocalIntersections(filterPoints(tt),_e,nt),earcutLinked(tt,_e,nt,rt,it,st,2)):at===2&&splitEarcut(tt,_e,nt,rt,it,st):earcutLinked(filterPoints(tt),_e,nt,rt,it,st,1);break}}}function isEar(tt){const _e=tt.prev,nt=tt,rt=tt.next;if(area(_e,nt,rt)>=0)return!1;const it=_e.x,st=nt.x,at=rt.x,ot=_e.y,lt=nt.y,ct=rt.y,ut=it<st?it<at?it:at:st<at?st:at,ft=ot<lt?ot<ct?ot:ct:lt<ct?lt:ct,ht=it>st?it>at?it:at:st>at?st:at,pt=ot>lt?ot>ct?ot:ct:lt>ct?lt:ct;let dt=rt.next;for(;dt!==_e;){if(dt.x>=ut&&dt.x<=ht&&dt.y>=ft&&dt.y<=pt&&pointInTriangle(it,ot,st,lt,at,ct,dt.x,dt.y)&&area(dt.prev,dt,dt.next)>=0)return!1;dt=dt.next}return!0}function isEarHashed(tt,_e,nt,rt){const it=tt.prev,st=tt,at=tt.next;if(area(it,st,at)>=0)return!1;const ot=it.x,lt=st.x,ct=at.x,ut=it.y,ft=st.y,ht=at.y,pt=ot<lt?ot<ct?ot:ct:lt<ct?lt:ct,dt=ut<ft?ut<ht?ut:ht:ft<ht?ft:ht,gt=ot>lt?ot>ct?ot:ct:lt>ct?lt:ct,vt=ut>ft?ut>ht?ut:ht:ft>ht?ft:ht,mt=zOrder(pt,dt,_e,nt,rt),xt=zOrder(gt,vt,_e,nt,rt);let St=tt.prevZ,Et=tt.nextZ;for(;St&&St.z>=mt&&Et&&Et.z<=xt;){if(St.x>=pt&&St.x<=gt&&St.y>=dt&&St.y<=vt&&St!==it&&St!==at&&pointInTriangle(ot,ut,lt,ft,ct,ht,St.x,St.y)&&area(St.prev,St,St.next)>=0||(St=St.prevZ,Et.x>=pt&&Et.x<=gt&&Et.y>=dt&&Et.y<=vt&&Et!==it&&Et!==at&&pointInTriangle(ot,ut,lt,ft,ct,ht,Et.x,Et.y)&&area(Et.prev,Et,Et.next)>=0))return!1;Et=Et.nextZ}for(;St&&St.z>=mt;){if(St.x>=pt&&St.x<=gt&&St.y>=dt&&St.y<=vt&&St!==it&&St!==at&&pointInTriangle(ot,ut,lt,ft,ct,ht,St.x,St.y)&&area(St.prev,St,St.next)>=0)return!1;St=St.prevZ}for(;Et&&Et.z<=xt;){if(Et.x>=pt&&Et.x<=gt&&Et.y>=dt&&Et.y<=vt&&Et!==it&&Et!==at&&pointInTriangle(ot,ut,lt,ft,ct,ht,Et.x,Et.y)&&area(Et.prev,Et,Et.next)>=0)return!1;Et=Et.nextZ}return!0}function cureLocalIntersections(tt,_e,nt){let rt=tt;do{const it=rt.prev,st=rt.next.next;!equals(it,st)&&intersects(it,rt,rt.next,st)&&locallyInside(it,st)&&locallyInside(st,it)&&(_e.push(it.i/nt|0),_e.push(rt.i/nt|0),_e.push(st.i/nt|0),removeNode(rt),removeNode(rt.next),rt=tt=st),rt=rt.next}while(rt!==tt);return filterPoints(rt)}function splitEarcut(tt,_e,nt,rt,it,st){let at=tt;do{let ot=at.next.next;for(;ot!==at.prev;){if(at.i!==ot.i&&isValidDiagonal(at,ot)){let lt=splitPolygon(at,ot);at=filterPoints(at,at.next),lt=filterPoints(lt,lt.next),earcutLinked(at,_e,nt,rt,it,st,0),earcutLinked(lt,_e,nt,rt,it,st,0);return}ot=ot.next}at=at.next}while(at!==tt)}function eliminateHoles(tt,_e,nt,rt){const it=[];let st,at,ot,lt,ct;for(st=0,at=_e.length;st<at;st++)ot=_e[st]*rt,lt=st<at-1?_e[st+1]*rt:tt.length,ct=linkedList(tt,ot,lt,rt,!1),ct===ct.next&&(ct.steiner=!0),it.push(getLeftmost(ct));for(it.sort(compareX),st=0;st<it.length;st++)nt=eliminateHole(it[st],nt);return nt}function compareX(tt,_e){return tt.x-_e.x}function eliminateHole(tt,_e){const nt=findHoleBridge(tt,_e);if(!nt)return _e;const rt=splitPolygon(nt,tt);return filterPoints(rt,rt.next),filterPoints(nt,nt.next)}function findHoleBridge(tt,_e){let nt=_e,rt=-1/0,it;const st=tt.x,at=tt.y;do{if(at<=nt.y&&at>=nt.next.y&&nt.next.y!==nt.y){const ht=nt.x+(at-nt.y)*(nt.next.x-nt.x)/(nt.next.y-nt.y);if(ht<=st&&ht>rt&&(rt=ht,it=nt.x<nt.next.x?nt:nt.next,ht===st))return it}nt=nt.next}while(nt!==_e);if(!it)return null;const ot=it,lt=it.x,ct=it.y;let ut=1/0,ft;nt=it;do st>=nt.x&&nt.x>=lt&&st!==nt.x&&pointInTriangle(at<ct?st:rt,at,lt,ct,at<ct?rt:st,at,nt.x,nt.y)&&(ft=Math.abs(at-nt.y)/(st-nt.x),locallyInside(nt,tt)&&(ft<ut||ft===ut&&(nt.x>it.x||nt.x===it.x&&sectorContainsSector(it,nt)))&&(it=nt,ut=ft)),nt=nt.next;while(nt!==ot);return it}function sectorContainsSector(tt,_e){return area(tt.prev,tt,_e.prev)<0&&area(_e.next,tt,tt.next)<0}function indexCurve(tt,_e,nt,rt){let it=tt;do it.z===0&&(it.z=zOrder(it.x,it.y,_e,nt,rt)),it.prevZ=it.prev,it.nextZ=it.next,it=it.next;while(it!==tt);it.prevZ.nextZ=null,it.prevZ=null,sortLinked(it)}function sortLinked(tt){let _e,nt,rt,it,st,at,ot,lt,ct=1;do{for(nt=tt,tt=null,st=null,at=0;nt;){for(at++,rt=nt,ot=0,_e=0;_e<ct&&(ot++,rt=rt.nextZ,!!rt);_e++);for(lt=ct;ot>0||lt>0&&rt;)ot!==0&&(lt===0||!rt||nt.z<=rt.z)?(it=nt,nt=nt.nextZ,ot--):(it=rt,rt=rt.nextZ,lt--),st?st.nextZ=it:tt=it,it.prevZ=st,st=it;nt=rt}st.nextZ=null,ct*=2}while(at>1);return tt}function zOrder(tt,_e,nt,rt,it){return tt=(tt-nt)*it|0,_e=(_e-rt)*it|0,tt=(tt|tt<<8)&16711935,tt=(tt|tt<<4)&252645135,tt=(tt|tt<<2)&858993459,tt=(tt|tt<<1)&1431655765,_e=(_e|_e<<8)&16711935,_e=(_e|_e<<4)&252645135,_e=(_e|_e<<2)&858993459,_e=(_e|_e<<1)&1431655765,tt|_e<<1}function getLeftmost(tt){let _e=tt,nt=tt;do(_e.x<nt.x||_e.x===nt.x&&_e.y<nt.y)&&(nt=_e),_e=_e.next;while(_e!==tt);return nt}function pointInTriangle(tt,_e,nt,rt,it,st,at,ot){return(it-at)*(_e-ot)>=(tt-at)*(st-ot)&&(tt-at)*(rt-ot)>=(nt-at)*(_e-ot)&&(nt-at)*(st-ot)>=(it-at)*(rt-ot)}function isValidDiagonal(tt,_e){return tt.next.i!==_e.i&&tt.prev.i!==_e.i&&!intersectsPolygon(tt,_e)&&(locallyInside(tt,_e)&&locallyInside(_e,tt)&&middleInside(tt,_e)&&(area(tt.prev,tt,_e.prev)||area(tt,_e.prev,_e))||equals(tt,_e)&&area(tt.prev,tt,tt.next)>0&&area(_e.prev,_e,_e.next)>0)}function area(tt,_e,nt){return(_e.y-tt.y)*(nt.x-_e.x)-(_e.x-tt.x)*(nt.y-_e.y)}function equals(tt,_e){return tt.x===_e.x&&tt.y===_e.y}function intersects(tt,_e,nt,rt){const it=sign(area(tt,_e,nt)),st=sign(area(tt,_e,rt)),at=sign(area(nt,rt,tt)),ot=sign(area(nt,rt,_e));return!!(it!==st&&at!==ot||it===0&&onSegment(tt,nt,_e)||st===0&&onSegment(tt,rt,_e)||at===0&&onSegment(nt,tt,rt)||ot===0&&onSegment(nt,_e,rt))}function onSegment(tt,_e,nt){return _e.x<=Math.max(tt.x,nt.x)&&_e.x>=Math.min(tt.x,nt.x)&&_e.y<=Math.max(tt.y,nt.y)&&_e.y>=Math.min(tt.y,nt.y)}function sign(tt){return tt>0?1:tt<0?-1:0}function intersectsPolygon(tt,_e){let nt=tt;do{if(nt.i!==tt.i&&nt.next.i!==tt.i&&nt.i!==_e.i&&nt.next.i!==_e.i&&intersects(nt,nt.next,tt,_e))return!0;nt=nt.next}while(nt!==tt);return!1}function locallyInside(tt,_e){return area(tt.prev,tt,tt.next)<0?area(tt,_e,tt.next)>=0&&area(tt,tt.prev,_e)>=0:area(tt,_e,tt.prev)<0||area(tt,tt.next,_e)<0}function middleInside(tt,_e){let nt=tt,rt=!1;const it=(tt.x+_e.x)/2,st=(tt.y+_e.y)/2;do nt.y>st!=nt.next.y>st&&nt.next.y!==nt.y&&it<(nt.next.x-nt.x)*(st-nt.y)/(nt.next.y-nt.y)+nt.x&&(rt=!rt),nt=nt.next;while(nt!==tt);return rt}function splitPolygon(tt,_e){const nt=new Node$1(tt.i,tt.x,tt.y),rt=new Node$1(_e.i,_e.x,_e.y),it=tt.next,st=_e.prev;return tt.next=_e,_e.prev=tt,nt.next=it,it.prev=nt,rt.next=nt,nt.prev=rt,st.next=rt,rt.prev=st,rt}function insertNode(tt,_e,nt,rt){const it=new Node$1(tt,_e,nt);return rt?(it.next=rt.next,it.prev=rt,rt.next.prev=it,rt.next=it):(it.prev=it,it.next=it),it}function removeNode(tt){tt.next.prev=tt.prev,tt.prev.next=tt.next,tt.prevZ&&(tt.prevZ.nextZ=tt.nextZ),tt.nextZ&&(tt.nextZ.prevZ=tt.prevZ)}function Node$1(tt,_e,nt){this.i=tt,this.x=_e,this.y=nt,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(tt,_e,nt,rt){let it=0;for(let st=_e,at=nt-rt;st<nt;st+=rt)it+=(tt[at]-tt[st])*(tt[st+1]+tt[at+1]),at=st;return it}class ShapeUtils{static area(_e){const nt=_e.length;let rt=0;for(let it=nt-1,st=0;st<nt;it=st++)rt+=_e[it].x*_e[st].y-_e[st].x*_e[it].y;return rt*.5}static isClockWise(_e){return ShapeUtils.area(_e)<0}static triangulateShape(_e,nt){const rt=[],it=[],st=[];removeDupEndPts(_e),addContour(rt,_e);let at=_e.length;nt.forEach(removeDupEndPts);for(let lt=0;lt<nt.length;lt++)it.push(at),at+=nt[lt].length,addContour(rt,nt[lt]);const ot=Earcut.triangulate(rt,it);for(let lt=0;lt<ot.length;lt+=3)st.push(ot.slice(lt,lt+3));return st}}function removeDupEndPts(tt){const _e=tt.length;_e>2&&tt[_e-1].equals(tt[0])&&tt.pop()}function addContour(tt,_e){for(let nt=0;nt<_e.length;nt++)tt.push(_e[nt].x),tt.push(_e[nt].y)}class ExtrudeGeometry extends BufferGeometry{constructor(_e=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),nt={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:_e,options:nt},_e=Array.isArray(_e)?_e:[_e];const rt=this,it=[],st=[];for(let ot=0,lt=_e.length;ot<lt;ot++){const ct=_e[ot];at(ct)}this.setAttribute("position",new Float32BufferAttribute(it,3)),this.setAttribute("uv",new Float32BufferAttribute(st,2)),this.computeVertexNormals();function at(ot){const lt=[],ct=nt.curveSegments!==void 0?nt.curveSegments:12,ut=nt.steps!==void 0?nt.steps:1,ft=nt.depth!==void 0?nt.depth:1;let ht=nt.bevelEnabled!==void 0?nt.bevelEnabled:!0,pt=nt.bevelThickness!==void 0?nt.bevelThickness:.2,dt=nt.bevelSize!==void 0?nt.bevelSize:pt-.1,gt=nt.bevelOffset!==void 0?nt.bevelOffset:0,vt=nt.bevelSegments!==void 0?nt.bevelSegments:3;const mt=nt.extrudePath,xt=nt.UVGenerator!==void 0?nt.UVGenerator:WorldUVGenerator;let St,Et=!1,bt,Tt,At,Ct;mt&&(St=mt.getSpacedPoints(ut),Et=!0,ht=!1,bt=mt.computeFrenetFrames(ut,!1),Tt=new Vector3,At=new Vector3,Ct=new Vector3),ht||(vt=0,pt=0,dt=0,gt=0);const Pt=ot.extractPoints(ct);let It=Pt.shape;const Lt=Pt.holes;if(!ShapeUtils.isClockWise(It)){It=It.reverse();for(let ln=0,gn=Lt.length;ln<gn;ln++){const Yt=Lt[ln];ShapeUtils.isClockWise(Yt)&&(Lt[ln]=Yt.reverse())}}const Ut=ShapeUtils.triangulateShape(It,Lt),Ot=It;for(let ln=0,gn=Lt.length;ln<gn;ln++){const Yt=Lt[ln];It=It.concat(Yt)}function zt(ln,gn,Yt){return gn||console.error("THREE.ExtrudeGeometry: vec does not exist"),ln.clone().addScaledVector(gn,Yt)}const Dt=It.length,$t=Ut.length;function Mt(ln,gn,Yt){let Fn,wn,Vn;const xn=ln.x-gn.x,Bn=ln.y-gn.y,Tn=Yt.x-ln.x,Wt=Yt.y-ln.y,Ht=xn*xn+Bn*Bn,an=xn*Wt-Bn*Tn;if(Math.abs(an)>Number.EPSILON){const dn=Math.sqrt(Ht),mn=Math.sqrt(Tn*Tn+Wt*Wt),En=gn.x-Bn/dn,Dn=gn.y+xn/dn,kn=Yt.x-Wt/mn,Nn=Yt.y+Tn/mn,tr=((kn-En)*Wt-(Nn-Dn)*Tn)/(xn*Wt-Bn*Tn);Fn=En+xn*tr-ln.x,wn=Dn+Bn*tr-ln.y;const Un=Fn*Fn+wn*wn;if(Un<=2)return new Vector2(Fn,wn);Vn=Math.sqrt(Un/2)}else{let dn=!1;xn>Number.EPSILON?Tn>Number.EPSILON&&(dn=!0):xn<-Number.EPSILON?Tn<-Number.EPSILON&&(dn=!0):Math.sign(Bn)===Math.sign(Wt)&&(dn=!0),dn?(Fn=-Bn,wn=xn,Vn=Math.sqrt(Ht)):(Fn=xn,wn=Bn,Vn=Math.sqrt(Ht/2))}return new Vector2(Fn/Vn,wn/Vn)}const Rt=[];for(let ln=0,gn=Ot.length,Yt=gn-1,Fn=ln+1;ln<gn;ln++,Yt++,Fn++)Yt===gn&&(Yt=0),Fn===gn&&(Fn=0),Rt[ln]=Mt(Ot[ln],Ot[Yt],Ot[Fn]);const Nt=[];let Ft,qt=Rt.concat();for(let ln=0,gn=Lt.length;ln<gn;ln++){const Yt=Lt[ln];Ft=[];for(let Fn=0,wn=Yt.length,Vn=wn-1,xn=Fn+1;Fn<wn;Fn++,Vn++,xn++)Vn===wn&&(Vn=0),xn===wn&&(xn=0),Ft[Fn]=Mt(Yt[Fn],Yt[Vn],Yt[xn]);Nt.push(Ft),qt=qt.concat(Ft)}for(let ln=0;ln<vt;ln++){const gn=ln/vt,Yt=pt*Math.cos(gn*Math.PI/2),Fn=dt*Math.sin(gn*Math.PI/2)+gt;for(let wn=0,Vn=Ot.length;wn<Vn;wn++){const xn=zt(Ot[wn],Rt[wn],Fn);en(xn.x,xn.y,-Yt)}for(let wn=0,Vn=Lt.length;wn<Vn;wn++){const xn=Lt[wn];Ft=Nt[wn];for(let Bn=0,Tn=xn.length;Bn<Tn;Bn++){const Wt=zt(xn[Bn],Ft[Bn],Fn);en(Wt.x,Wt.y,-Yt)}}}const Qt=dt+gt;for(let ln=0;ln<Dt;ln++){const gn=ht?zt(It[ln],qt[ln],Qt):It[ln];Et?(At.copy(bt.normals[0]).multiplyScalar(gn.x),Tt.copy(bt.binormals[0]).multiplyScalar(gn.y),Ct.copy(St[0]).add(At).add(Tt),en(Ct.x,Ct.y,Ct.z)):en(gn.x,gn.y,0)}for(let ln=1;ln<=ut;ln++)for(let gn=0;gn<Dt;gn++){const Yt=ht?zt(It[gn],qt[gn],Qt):It[gn];Et?(At.copy(bt.normals[ln]).multiplyScalar(Yt.x),Tt.copy(bt.binormals[ln]).multiplyScalar(Yt.y),Ct.copy(St[ln]).add(At).add(Tt),en(Ct.x,Ct.y,Ct.z)):en(Yt.x,Yt.y,ft/ut*ln)}for(let ln=vt-1;ln>=0;ln--){const gn=ln/vt,Yt=pt*Math.cos(gn*Math.PI/2),Fn=dt*Math.sin(gn*Math.PI/2)+gt;for(let wn=0,Vn=Ot.length;wn<Vn;wn++){const xn=zt(Ot[wn],Rt[wn],Fn);en(xn.x,xn.y,ft+Yt)}for(let wn=0,Vn=Lt.length;wn<Vn;wn++){const xn=Lt[wn];Ft=Nt[wn];for(let Bn=0,Tn=xn.length;Bn<Tn;Bn++){const Wt=zt(xn[Bn],Ft[Bn],Fn);Et?en(Wt.x,Wt.y+St[ut-1].y,St[ut-1].x+Yt):en(Wt.x,Wt.y,ft+Yt)}}}Kt(),Zt();function Kt(){const ln=it.length/3;if(ht){let gn=0,Yt=Dt*gn;for(let Fn=0;Fn<$t;Fn++){const wn=Ut[Fn];un(wn[2]+Yt,wn[1]+Yt,wn[0]+Yt)}gn=ut+vt*2,Yt=Dt*gn;for(let Fn=0;Fn<$t;Fn++){const wn=Ut[Fn];un(wn[0]+Yt,wn[1]+Yt,wn[2]+Yt)}}else{for(let gn=0;gn<$t;gn++){const Yt=Ut[gn];un(Yt[2],Yt[1],Yt[0])}for(let gn=0;gn<$t;gn++){const Yt=Ut[gn];un(Yt[0]+Dt*ut,Yt[1]+Dt*ut,Yt[2]+Dt*ut)}}rt.addGroup(ln,it.length/3-ln,0)}function Zt(){const ln=it.length/3;let gn=0;tn(Ot,gn),gn+=Ot.length;for(let Yt=0,Fn=Lt.length;Yt<Fn;Yt++){const wn=Lt[Yt];tn(wn,gn),gn+=wn.length}rt.addGroup(ln,it.length/3-ln,1)}function tn(ln,gn){let Yt=ln.length;for(;--Yt>=0;){const Fn=Yt;let wn=Yt-1;wn<0&&(wn=ln.length-1);for(let Vn=0,xn=ut+vt*2;Vn<xn;Vn++){const Bn=Dt*Vn,Tn=Dt*(Vn+1),Wt=gn+Fn+Bn,Ht=gn+wn+Bn,an=gn+wn+Tn,dn=gn+Fn+Tn;Cn(Wt,Ht,an,dn)}}}function en(ln,gn,Yt){lt.push(ln),lt.push(gn),lt.push(Yt)}function un(ln,gn,Yt){Rn(ln),Rn(gn),Rn(Yt);const Fn=it.length/3,wn=xt.generateTopUV(rt,it,Fn-3,Fn-2,Fn-1);Mn(wn[0]),Mn(wn[1]),Mn(wn[2])}function Cn(ln,gn,Yt,Fn){Rn(ln),Rn(gn),Rn(Fn),Rn(gn),Rn(Yt),Rn(Fn);const wn=it.length/3,Vn=xt.generateSideWallUV(rt,it,wn-6,wn-3,wn-2,wn-1);Mn(Vn[0]),Mn(Vn[1]),Mn(Vn[3]),Mn(Vn[1]),Mn(Vn[2]),Mn(Vn[3])}function Rn(ln){it.push(lt[ln*3+0]),it.push(lt[ln*3+1]),it.push(lt[ln*3+2])}function Mn(ln){st.push(ln.x),st.push(ln.y)}}}copy(_e){return super.copy(_e),this.parameters=Object.assign({},_e.parameters),this}toJSON(){const _e=super.toJSON(),nt=this.parameters.shapes,rt=this.parameters.options;return toJSON$1(nt,rt,_e)}static fromJSON(_e,nt){const rt=[];for(let st=0,at=_e.shapes.length;st<at;st++){const ot=nt[_e.shapes[st]];rt.push(ot)}const it=_e.options.extrudePath;return it!==void 0&&(_e.options.extrudePath=new Curves[it.type]().fromJSON(it)),new ExtrudeGeometry(rt,_e.options)}}const WorldUVGenerator={generateTopUV:function(tt,_e,nt,rt,it){const st=_e[nt*3],at=_e[nt*3+1],ot=_e[rt*3],lt=_e[rt*3+1],ct=_e[it*3],ut=_e[it*3+1];return[new Vector2(st,at),new Vector2(ot,lt),new Vector2(ct,ut)]},generateSideWallUV:function(tt,_e,nt,rt,it,st){const at=_e[nt*3],ot=_e[nt*3+1],lt=_e[nt*3+2],ct=_e[rt*3],ut=_e[rt*3+1],ft=_e[rt*3+2],ht=_e[it*3],pt=_e[it*3+1],dt=_e[it*3+2],gt=_e[st*3],vt=_e[st*3+1],mt=_e[st*3+2];return Math.abs(ot-ut)<Math.abs(at-ct)?[new Vector2(at,1-lt),new Vector2(ct,1-ft),new Vector2(ht,1-dt),new Vector2(gt,1-mt)]:[new Vector2(ot,1-lt),new Vector2(ut,1-ft),new Vector2(pt,1-dt),new Vector2(vt,1-mt)]}};function toJSON$1(tt,_e,nt){if(nt.shapes=[],Array.isArray(tt))for(let rt=0,it=tt.length;rt<it;rt++){const st=tt[rt];nt.shapes.push(st.uuid)}else nt.shapes.push(tt.uuid);return nt.options=Object.assign({},_e),_e.extrudePath!==void 0&&(nt.options.extrudePath=_e.extrudePath.toJSON()),nt}class IcosahedronGeometry extends PolyhedronGeometry{constructor(_e=1,nt=0){const rt=(1+Math.sqrt(5))/2,it=[-1,rt,0,1,rt,0,-1,-rt,0,1,-rt,0,0,-1,rt,0,1,rt,0,-1,-rt,0,1,-rt,rt,0,-1,rt,0,1,-rt,0,-1,-rt,0,1],st=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(it,st,_e,nt),this.type="IcosahedronGeometry",this.parameters={radius:_e,detail:nt}}static fromJSON(_e){return new IcosahedronGeometry(_e.radius,_e.detail)}}class OctahedronGeometry extends PolyhedronGeometry{constructor(_e=1,nt=0){const rt=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],it=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(rt,it,_e,nt),this.type="OctahedronGeometry",this.parameters={radius:_e,detail:nt}}static fromJSON(_e){return new OctahedronGeometry(_e.radius,_e.detail)}}class RingGeometry extends BufferGeometry{constructor(_e=.5,nt=1,rt=32,it=1,st=0,at=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:_e,outerRadius:nt,thetaSegments:rt,phiSegments:it,thetaStart:st,thetaLength:at},rt=Math.max(3,rt),it=Math.max(1,it);const ot=[],lt=[],ct=[],ut=[];let ft=_e;const ht=(nt-_e)/it,pt=new Vector3,dt=new Vector2;for(let gt=0;gt<=it;gt++){for(let vt=0;vt<=rt;vt++){const mt=st+vt/rt*at;pt.x=ft*Math.cos(mt),pt.y=ft*Math.sin(mt),lt.push(pt.x,pt.y,pt.z),ct.push(0,0,1),dt.x=(pt.x/nt+1)/2,dt.y=(pt.y/nt+1)/2,ut.push(dt.x,dt.y)}ft+=ht}for(let gt=0;gt<it;gt++){const vt=gt*(rt+1);for(let mt=0;mt<rt;mt++){const xt=mt+vt,St=xt,Et=xt+rt+1,bt=xt+rt+2,Tt=xt+1;ot.push(St,Et,Tt),ot.push(Et,bt,Tt)}}this.setIndex(ot),this.setAttribute("position",new Float32BufferAttribute(lt,3)),this.setAttribute("normal",new Float32BufferAttribute(ct,3)),this.setAttribute("uv",new Float32BufferAttribute(ut,2))}copy(_e){return super.copy(_e),this.parameters=Object.assign({},_e.parameters),this}static fromJSON(_e){return new RingGeometry(_e.innerRadius,_e.outerRadius,_e.thetaSegments,_e.phiSegments,_e.thetaStart,_e.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor(_e=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),nt=12){super(),this.type="ShapeGeometry",this.parameters={shapes:_e,curveSegments:nt};const rt=[],it=[],st=[],at=[];let ot=0,lt=0;if(Array.isArray(_e)===!1)ct(_e);else for(let ut=0;ut<_e.length;ut++)ct(_e[ut]),this.addGroup(ot,lt,ut),ot+=lt,lt=0;this.setIndex(rt),this.setAttribute("position",new Float32BufferAttribute(it,3)),this.setAttribute("normal",new Float32BufferAttribute(st,3)),this.setAttribute("uv",new Float32BufferAttribute(at,2));function ct(ut){const ft=it.length/3,ht=ut.extractPoints(nt);let pt=ht.shape;const dt=ht.holes;ShapeUtils.isClockWise(pt)===!1&&(pt=pt.reverse());for(let vt=0,mt=dt.length;vt<mt;vt++){const xt=dt[vt];ShapeUtils.isClockWise(xt)===!0&&(dt[vt]=xt.reverse())}const gt=ShapeUtils.triangulateShape(pt,dt);for(let vt=0,mt=dt.length;vt<mt;vt++){const xt=dt[vt];pt=pt.concat(xt)}for(let vt=0,mt=pt.length;vt<mt;vt++){const xt=pt[vt];it.push(xt.x,xt.y,0),st.push(0,0,1),at.push(xt.x,xt.y)}for(let vt=0,mt=gt.length;vt<mt;vt++){const xt=gt[vt],St=xt[0]+ft,Et=xt[1]+ft,bt=xt[2]+ft;rt.push(St,Et,bt),lt+=3}}}copy(_e){return super.copy(_e),this.parameters=Object.assign({},_e.parameters),this}toJSON(){const _e=super.toJSON(),nt=this.parameters.shapes;return toJSON(nt,_e)}static fromJSON(_e,nt){const rt=[];for(let it=0,st=_e.shapes.length;it<st;it++){const at=nt[_e.shapes[it]];rt.push(at)}return new ShapeGeometry(rt,_e.curveSegments)}}function toJSON(tt,_e){if(_e.shapes=[],Array.isArray(tt))for(let nt=0,rt=tt.length;nt<rt;nt++){const it=tt[nt];_e.shapes.push(it.uuid)}else _e.shapes.push(tt.uuid);return _e}class SphereGeometry extends BufferGeometry{constructor(_e=1,nt=32,rt=16,it=0,st=Math.PI*2,at=0,ot=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:_e,widthSegments:nt,heightSegments:rt,phiStart:it,phiLength:st,thetaStart:at,thetaLength:ot},nt=Math.max(3,Math.floor(nt)),rt=Math.max(2,Math.floor(rt));const lt=Math.min(at+ot,Math.PI);let ct=0;const ut=[],ft=new Vector3,ht=new Vector3,pt=[],dt=[],gt=[],vt=[];for(let mt=0;mt<=rt;mt++){const xt=[],St=mt/rt;let Et=0;mt===0&&at===0?Et=.5/nt:mt===rt&&lt===Math.PI&&(Et=-.5/nt);for(let bt=0;bt<=nt;bt++){const Tt=bt/nt;ft.x=-_e*Math.cos(it+Tt*st)*Math.sin(at+St*ot),ft.y=_e*Math.cos(at+St*ot),ft.z=_e*Math.sin(it+Tt*st)*Math.sin(at+St*ot),dt.push(ft.x,ft.y,ft.z),ht.copy(ft).normalize(),gt.push(ht.x,ht.y,ht.z),vt.push(Tt+Et,1-St),xt.push(ct++)}ut.push(xt)}for(let mt=0;mt<rt;mt++)for(let xt=0;xt<nt;xt++){const St=ut[mt][xt+1],Et=ut[mt][xt],bt=ut[mt+1][xt],Tt=ut[mt+1][xt+1];(mt!==0||at>0)&&pt.push(St,Et,Tt),(mt!==rt-1||lt<Math.PI)&&pt.push(Et,bt,Tt)}this.setIndex(pt),this.setAttribute("position",new Float32BufferAttribute(dt,3)),this.setAttribute("normal",new Float32BufferAttribute(gt,3)),this.setAttribute("uv",new Float32BufferAttribute(vt,2))}copy(_e){return super.copy(_e),this.parameters=Object.assign({},_e.parameters),this}static fromJSON(_e){return new SphereGeometry(_e.radius,_e.widthSegments,_e.heightSegments,_e.phiStart,_e.phiLength,_e.thetaStart,_e.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor(_e=1,nt=0){const rt=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],it=[2,1,0,0,3,2,1,3,0,2,3,1];super(rt,it,_e,nt),this.type="TetrahedronGeometry",this.parameters={radius:_e,detail:nt}}static fromJSON(_e){return new TetrahedronGeometry(_e.radius,_e.detail)}}class TorusGeometry extends BufferGeometry{constructor(_e=1,nt=.4,rt=12,it=48,st=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:_e,tube:nt,radialSegments:rt,tubularSegments:it,arc:st},rt=Math.floor(rt),it=Math.floor(it);const at=[],ot=[],lt=[],ct=[],ut=new Vector3,ft=new Vector3,ht=new Vector3;for(let pt=0;pt<=rt;pt++)for(let dt=0;dt<=it;dt++){const gt=dt/it*st,vt=pt/rt*Math.PI*2;ft.x=(_e+nt*Math.cos(vt))*Math.cos(gt),ft.y=(_e+nt*Math.cos(vt))*Math.sin(gt),ft.z=nt*Math.sin(vt),ot.push(ft.x,ft.y,ft.z),ut.x=_e*Math.cos(gt),ut.y=_e*Math.sin(gt),ht.subVectors(ft,ut).normalize(),lt.push(ht.x,ht.y,ht.z),ct.push(dt/it),ct.push(pt/rt)}for(let pt=1;pt<=rt;pt++)for(let dt=1;dt<=it;dt++){const gt=(it+1)*pt+dt-1,vt=(it+1)*(pt-1)+dt-1,mt=(it+1)*(pt-1)+dt,xt=(it+1)*pt+dt;at.push(gt,vt,xt),at.push(vt,mt,xt)}this.setIndex(at),this.setAttribute("position",new Float32BufferAttribute(ot,3)),this.setAttribute("normal",new Float32BufferAttribute(lt,3)),this.setAttribute("uv",new Float32BufferAttribute(ct,2))}copy(_e){return super.copy(_e),this.parameters=Object.assign({},_e.parameters),this}static fromJSON(_e){return new TorusGeometry(_e.radius,_e.tube,_e.radialSegments,_e.tubularSegments,_e.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor(_e=1,nt=.4,rt=64,it=8,st=2,at=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:_e,tube:nt,tubularSegments:rt,radialSegments:it,p:st,q:at},rt=Math.floor(rt),it=Math.floor(it);const ot=[],lt=[],ct=[],ut=[],ft=new Vector3,ht=new Vector3,pt=new Vector3,dt=new Vector3,gt=new Vector3,vt=new Vector3,mt=new Vector3;for(let St=0;St<=rt;++St){const Et=St/rt*st*Math.PI*2;xt(Et,st,at,_e,pt),xt(Et+.01,st,at,_e,dt),vt.subVectors(dt,pt),mt.addVectors(dt,pt),gt.crossVectors(vt,mt),mt.crossVectors(gt,vt),gt.normalize(),mt.normalize();for(let bt=0;bt<=it;++bt){const Tt=bt/it*Math.PI*2,At=-nt*Math.cos(Tt),Ct=nt*Math.sin(Tt);ft.x=pt.x+(At*mt.x+Ct*gt.x),ft.y=pt.y+(At*mt.y+Ct*gt.y),ft.z=pt.z+(At*mt.z+Ct*gt.z),lt.push(ft.x,ft.y,ft.z),ht.subVectors(ft,pt).normalize(),ct.push(ht.x,ht.y,ht.z),ut.push(St/rt),ut.push(bt/it)}}for(let St=1;St<=rt;St++)for(let Et=1;Et<=it;Et++){const bt=(it+1)*(St-1)+(Et-1),Tt=(it+1)*St+(Et-1),At=(it+1)*St+Et,Ct=(it+1)*(St-1)+Et;ot.push(bt,Tt,Ct),ot.push(Tt,At,Ct)}this.setIndex(ot),this.setAttribute("position",new Float32BufferAttribute(lt,3)),this.setAttribute("normal",new Float32BufferAttribute(ct,3)),this.setAttribute("uv",new Float32BufferAttribute(ut,2));function xt(St,Et,bt,Tt,At){const Ct=Math.cos(St),Pt=Math.sin(St),It=bt/Et*St,Lt=Math.cos(It);At.x=Tt*(2+Lt)*.5*Ct,At.y=Tt*(2+Lt)*Pt*.5,At.z=Tt*Math.sin(It)*.5}}copy(_e){return super.copy(_e),this.parameters=Object.assign({},_e.parameters),this}static fromJSON(_e){return new TorusKnotGeometry(_e.radius,_e.tube,_e.tubularSegments,_e.radialSegments,_e.p,_e.q)}}class TubeGeometry extends BufferGeometry{constructor(_e=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),nt=64,rt=1,it=8,st=!1){super(),this.type="TubeGeometry",this.parameters={path:_e,tubularSegments:nt,radius:rt,radialSegments:it,closed:st};const at=_e.computeFrenetFrames(nt,st);this.tangents=at.tangents,this.normals=at.normals,this.binormals=at.binormals;const ot=new Vector3,lt=new Vector3,ct=new Vector2;let ut=new Vector3;const ft=[],ht=[],pt=[],dt=[];gt(),this.setIndex(dt),this.setAttribute("position",new Float32BufferAttribute(ft,3)),this.setAttribute("normal",new Float32BufferAttribute(ht,3)),this.setAttribute("uv",new Float32BufferAttribute(pt,2));function gt(){for(let St=0;St<nt;St++)vt(St);vt(st===!1?nt:0),xt(),mt()}function vt(St){ut=_e.getPointAt(St/nt,ut);const Et=at.normals[St],bt=at.binormals[St];for(let Tt=0;Tt<=it;Tt++){const At=Tt/it*Math.PI*2,Ct=Math.sin(At),Pt=-Math.cos(At);lt.x=Pt*Et.x+Ct*bt.x,lt.y=Pt*Et.y+Ct*bt.y,lt.z=Pt*Et.z+Ct*bt.z,lt.normalize(),ht.push(lt.x,lt.y,lt.z),ot.x=ut.x+rt*lt.x,ot.y=ut.y+rt*lt.y,ot.z=ut.z+rt*lt.z,ft.push(ot.x,ot.y,ot.z)}}function mt(){for(let St=1;St<=nt;St++)for(let Et=1;Et<=it;Et++){const bt=(it+1)*(St-1)+(Et-1),Tt=(it+1)*St+(Et-1),At=(it+1)*St+Et,Ct=(it+1)*(St-1)+Et;dt.push(bt,Tt,Ct),dt.push(Tt,At,Ct)}}function xt(){for(let St=0;St<=nt;St++)for(let Et=0;Et<=it;Et++)ct.x=St/nt,ct.y=Et/it,pt.push(ct.x,ct.y)}}copy(_e){return super.copy(_e),this.parameters=Object.assign({},_e.parameters),this}toJSON(){const _e=super.toJSON();return _e.path=this.parameters.path.toJSON(),_e}static fromJSON(_e){return new TubeGeometry(new Curves[_e.path.type]().fromJSON(_e.path),_e.tubularSegments,_e.radius,_e.radialSegments,_e.closed)}}class WireframeGeometry extends BufferGeometry{constructor(_e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:_e},_e!==null){const nt=[],rt=new Set,it=new Vector3,st=new Vector3;if(_e.index!==null){const at=_e.attributes.position,ot=_e.index;let lt=_e.groups;lt.length===0&&(lt=[{start:0,count:ot.count,materialIndex:0}]);for(let ct=0,ut=lt.length;ct<ut;++ct){const ft=lt[ct],ht=ft.start,pt=ft.count;for(let dt=ht,gt=ht+pt;dt<gt;dt+=3)for(let vt=0;vt<3;vt++){const mt=ot.getX(dt+vt),xt=ot.getX(dt+(vt+1)%3);it.fromBufferAttribute(at,mt),st.fromBufferAttribute(at,xt),isUniqueEdge(it,st,rt)===!0&&(nt.push(it.x,it.y,it.z),nt.push(st.x,st.y,st.z))}}}else{const at=_e.attributes.position;for(let ot=0,lt=at.count/3;ot<lt;ot++)for(let ct=0;ct<3;ct++){const ut=3*ot+ct,ft=3*ot+(ct+1)%3;it.fromBufferAttribute(at,ut),st.fromBufferAttribute(at,ft),isUniqueEdge(it,st,rt)===!0&&(nt.push(it.x,it.y,it.z),nt.push(st.x,st.y,st.z))}}this.setAttribute("position",new Float32BufferAttribute(nt,3))}}copy(_e){return super.copy(_e),this.parameters=Object.assign({},_e.parameters),this}}function isUniqueEdge(tt,_e,nt){const rt=`${tt.x},${tt.y},${tt.z}-${_e.x},${_e.y},${_e.z}`,it=`${_e.x},${_e.y},${_e.z}-${tt.x},${tt.y},${tt.z}`;return nt.has(rt)===!0||nt.has(it)===!0?!1:(nt.add(rt),nt.add(it),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material{static get type(){return"ShadowMaterial"}constructor(_e){super(),this.isShadowMaterial=!0,this.color=new Color(0),this.transparent=!0,this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.color.copy(_e.color),this.fog=_e.fog,this}}class RawShaderMaterial extends ShaderMaterial{static get type(){return"RawShaderMaterial"}constructor(_e){super(_e),this.isRawShaderMaterial=!0}}class MeshStandardMaterial extends Material{static get type(){return"MeshStandardMaterial"}constructor(_e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.color=new Color(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.defines={STANDARD:""},this.color.copy(_e.color),this.roughness=_e.roughness,this.metalness=_e.metalness,this.map=_e.map,this.lightMap=_e.lightMap,this.lightMapIntensity=_e.lightMapIntensity,this.aoMap=_e.aoMap,this.aoMapIntensity=_e.aoMapIntensity,this.emissive.copy(_e.emissive),this.emissiveMap=_e.emissiveMap,this.emissiveIntensity=_e.emissiveIntensity,this.bumpMap=_e.bumpMap,this.bumpScale=_e.bumpScale,this.normalMap=_e.normalMap,this.normalMapType=_e.normalMapType,this.normalScale.copy(_e.normalScale),this.displacementMap=_e.displacementMap,this.displacementScale=_e.displacementScale,this.displacementBias=_e.displacementBias,this.roughnessMap=_e.roughnessMap,this.metalnessMap=_e.metalnessMap,this.alphaMap=_e.alphaMap,this.envMap=_e.envMap,this.envMapRotation.copy(_e.envMapRotation),this.envMapIntensity=_e.envMapIntensity,this.wireframe=_e.wireframe,this.wireframeLinewidth=_e.wireframeLinewidth,this.wireframeLinecap=_e.wireframeLinecap,this.wireframeLinejoin=_e.wireframeLinejoin,this.flatShading=_e.flatShading,this.fog=_e.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{static get type(){return"MeshPhysicalMaterial"}constructor(_e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(nt){this.ior=(1+.4*nt)/(1-.4*nt)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(_e)}get anisotropy(){return this._anisotropy}set anisotropy(_e){this._anisotropy>0!=_e>0&&this.version++,this._anisotropy=_e}get clearcoat(){return this._clearcoat}set clearcoat(_e){this._clearcoat>0!=_e>0&&this.version++,this._clearcoat=_e}get iridescence(){return this._iridescence}set iridescence(_e){this._iridescence>0!=_e>0&&this.version++,this._iridescence=_e}get dispersion(){return this._dispersion}set dispersion(_e){this._dispersion>0!=_e>0&&this.version++,this._dispersion=_e}get sheen(){return this._sheen}set sheen(_e){this._sheen>0!=_e>0&&this.version++,this._sheen=_e}get transmission(){return this._transmission}set transmission(_e){this._transmission>0!=_e>0&&this.version++,this._transmission=_e}copy(_e){return super.copy(_e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=_e.anisotropy,this.anisotropyRotation=_e.anisotropyRotation,this.anisotropyMap=_e.anisotropyMap,this.clearcoat=_e.clearcoat,this.clearcoatMap=_e.clearcoatMap,this.clearcoatRoughness=_e.clearcoatRoughness,this.clearcoatRoughnessMap=_e.clearcoatRoughnessMap,this.clearcoatNormalMap=_e.clearcoatNormalMap,this.clearcoatNormalScale.copy(_e.clearcoatNormalScale),this.dispersion=_e.dispersion,this.ior=_e.ior,this.iridescence=_e.iridescence,this.iridescenceMap=_e.iridescenceMap,this.iridescenceIOR=_e.iridescenceIOR,this.iridescenceThicknessRange=[..._e.iridescenceThicknessRange],this.iridescenceThicknessMap=_e.iridescenceThicknessMap,this.sheen=_e.sheen,this.sheenColor.copy(_e.sheenColor),this.sheenColorMap=_e.sheenColorMap,this.sheenRoughness=_e.sheenRoughness,this.sheenRoughnessMap=_e.sheenRoughnessMap,this.transmission=_e.transmission,this.transmissionMap=_e.transmissionMap,this.thickness=_e.thickness,this.thicknessMap=_e.thicknessMap,this.attenuationDistance=_e.attenuationDistance,this.attenuationColor.copy(_e.attenuationColor),this.specularIntensity=_e.specularIntensity,this.specularIntensityMap=_e.specularIntensityMap,this.specularColor.copy(_e.specularColor),this.specularColorMap=_e.specularColorMap,this}}class MeshPhongMaterial extends Material{static get type(){return"MeshPhongMaterial"}constructor(_e){super(),this.isMeshPhongMaterial=!0,this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.color.copy(_e.color),this.specular.copy(_e.specular),this.shininess=_e.shininess,this.map=_e.map,this.lightMap=_e.lightMap,this.lightMapIntensity=_e.lightMapIntensity,this.aoMap=_e.aoMap,this.aoMapIntensity=_e.aoMapIntensity,this.emissive.copy(_e.emissive),this.emissiveMap=_e.emissiveMap,this.emissiveIntensity=_e.emissiveIntensity,this.bumpMap=_e.bumpMap,this.bumpScale=_e.bumpScale,this.normalMap=_e.normalMap,this.normalMapType=_e.normalMapType,this.normalScale.copy(_e.normalScale),this.displacementMap=_e.displacementMap,this.displacementScale=_e.displacementScale,this.displacementBias=_e.displacementBias,this.specularMap=_e.specularMap,this.alphaMap=_e.alphaMap,this.envMap=_e.envMap,this.envMapRotation.copy(_e.envMapRotation),this.combine=_e.combine,this.reflectivity=_e.reflectivity,this.refractionRatio=_e.refractionRatio,this.wireframe=_e.wireframe,this.wireframeLinewidth=_e.wireframeLinewidth,this.wireframeLinecap=_e.wireframeLinecap,this.wireframeLinejoin=_e.wireframeLinejoin,this.flatShading=_e.flatShading,this.fog=_e.fog,this}}class MeshToonMaterial extends Material{static get type(){return"MeshToonMaterial"}constructor(_e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.color=new Color(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.color.copy(_e.color),this.map=_e.map,this.gradientMap=_e.gradientMap,this.lightMap=_e.lightMap,this.lightMapIntensity=_e.lightMapIntensity,this.aoMap=_e.aoMap,this.aoMapIntensity=_e.aoMapIntensity,this.emissive.copy(_e.emissive),this.emissiveMap=_e.emissiveMap,this.emissiveIntensity=_e.emissiveIntensity,this.bumpMap=_e.bumpMap,this.bumpScale=_e.bumpScale,this.normalMap=_e.normalMap,this.normalMapType=_e.normalMapType,this.normalScale.copy(_e.normalScale),this.displacementMap=_e.displacementMap,this.displacementScale=_e.displacementScale,this.displacementBias=_e.displacementBias,this.alphaMap=_e.alphaMap,this.wireframe=_e.wireframe,this.wireframeLinewidth=_e.wireframeLinewidth,this.wireframeLinecap=_e.wireframeLinecap,this.wireframeLinejoin=_e.wireframeLinejoin,this.fog=_e.fog,this}}class MeshNormalMaterial extends Material{static get type(){return"MeshNormalMaterial"}constructor(_e){super(),this.isMeshNormalMaterial=!0,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(_e)}copy(_e){return super.copy(_e),this.bumpMap=_e.bumpMap,this.bumpScale=_e.bumpScale,this.normalMap=_e.normalMap,this.normalMapType=_e.normalMapType,this.normalScale.copy(_e.normalScale),this.displacementMap=_e.displacementMap,this.displacementScale=_e.displacementScale,this.displacementBias=_e.displacementBias,this.wireframe=_e.wireframe,this.wireframeLinewidth=_e.wireframeLinewidth,this.flatShading=_e.flatShading,this}}class MeshLambertMaterial extends Material{static get type(){return"MeshLambertMaterial"}constructor(_e){super(),this.isMeshLambertMaterial=!0,this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.color.copy(_e.color),this.map=_e.map,this.lightMap=_e.lightMap,this.lightMapIntensity=_e.lightMapIntensity,this.aoMap=_e.aoMap,this.aoMapIntensity=_e.aoMapIntensity,this.emissive.copy(_e.emissive),this.emissiveMap=_e.emissiveMap,this.emissiveIntensity=_e.emissiveIntensity,this.bumpMap=_e.bumpMap,this.bumpScale=_e.bumpScale,this.normalMap=_e.normalMap,this.normalMapType=_e.normalMapType,this.normalScale.copy(_e.normalScale),this.displacementMap=_e.displacementMap,this.displacementScale=_e.displacementScale,this.displacementBias=_e.displacementBias,this.specularMap=_e.specularMap,this.alphaMap=_e.alphaMap,this.envMap=_e.envMap,this.envMapRotation.copy(_e.envMapRotation),this.combine=_e.combine,this.reflectivity=_e.reflectivity,this.refractionRatio=_e.refractionRatio,this.wireframe=_e.wireframe,this.wireframeLinewidth=_e.wireframeLinewidth,this.wireframeLinecap=_e.wireframeLinecap,this.wireframeLinejoin=_e.wireframeLinejoin,this.flatShading=_e.flatShading,this.fog=_e.fog,this}}class MeshMatcapMaterial extends Material{static get type(){return"MeshMatcapMaterial"}constructor(_e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.color=new Color(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(_e)}copy(_e){return super.copy(_e),this.defines={MATCAP:""},this.color.copy(_e.color),this.matcap=_e.matcap,this.map=_e.map,this.bumpMap=_e.bumpMap,this.bumpScale=_e.bumpScale,this.normalMap=_e.normalMap,this.normalMapType=_e.normalMapType,this.normalScale.copy(_e.normalScale),this.displacementMap=_e.displacementMap,this.displacementScale=_e.displacementScale,this.displacementBias=_e.displacementBias,this.alphaMap=_e.alphaMap,this.flatShading=_e.flatShading,this.fog=_e.fog,this}}class LineDashedMaterial extends LineBasicMaterial{static get type(){return"LineDashedMaterial"}constructor(_e){super(),this.isLineDashedMaterial=!0,this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(_e)}copy(_e){return super.copy(_e),this.scale=_e.scale,this.dashSize=_e.dashSize,this.gapSize=_e.gapSize,this}}function convertArray(tt,_e,nt){return!tt||!nt&&tt.constructor===_e?tt:typeof _e.BYTES_PER_ELEMENT=="number"?new _e(tt):Array.prototype.slice.call(tt)}function isTypedArray(tt){return ArrayBuffer.isView(tt)&&!(tt instanceof DataView)}function getKeyframeOrder(tt){function _e(it,st){return tt[it]-tt[st]}const nt=tt.length,rt=new Array(nt);for(let it=0;it!==nt;++it)rt[it]=it;return rt.sort(_e),rt}function sortedArray(tt,_e,nt){const rt=tt.length,it=new tt.constructor(rt);for(let st=0,at=0;at!==rt;++st){const ot=nt[st]*_e;for(let lt=0;lt!==_e;++lt)it[at++]=tt[ot+lt]}return it}function flattenJSON(tt,_e,nt,rt){let it=1,st=tt[0];for(;st!==void 0&&st[rt]===void 0;)st=tt[it++];if(st===void 0)return;let at=st[rt];if(at!==void 0)if(Array.isArray(at))do at=st[rt],at!==void 0&&(_e.push(st.time),nt.push.apply(nt,at)),st=tt[it++];while(st!==void 0);else if(at.toArray!==void 0)do at=st[rt],at!==void 0&&(_e.push(st.time),at.toArray(nt,nt.length)),st=tt[it++];while(st!==void 0);else do at=st[rt],at!==void 0&&(_e.push(st.time),nt.push(at)),st=tt[it++];while(st!==void 0)}function subclip(tt,_e,nt,rt,it=30){const st=tt.clone();st.name=_e;const at=[];for(let lt=0;lt<st.tracks.length;++lt){const ct=st.tracks[lt],ut=ct.getValueSize(),ft=[],ht=[];for(let pt=0;pt<ct.times.length;++pt){const dt=ct.times[pt]*it;if(!(dt<nt||dt>=rt)){ft.push(ct.times[pt]);for(let gt=0;gt<ut;++gt)ht.push(ct.values[pt*ut+gt])}}ft.length!==0&&(ct.times=convertArray(ft,ct.times.constructor),ct.values=convertArray(ht,ct.values.constructor),at.push(ct))}st.tracks=at;let ot=1/0;for(let lt=0;lt<st.tracks.length;++lt)ot>st.tracks[lt].times[0]&&(ot=st.tracks[lt].times[0]);for(let lt=0;lt<st.tracks.length;++lt)st.tracks[lt].shift(-1*ot);return st.resetDuration(),st}function makeClipAdditive(tt,_e=0,nt=tt,rt=30){rt<=0&&(rt=30);const it=nt.tracks.length,st=_e/rt;for(let at=0;at<it;++at){const ot=nt.tracks[at],lt=ot.ValueTypeName;if(lt==="bool"||lt==="string")continue;const ct=tt.tracks.find(function(mt){return mt.name===ot.name&&mt.ValueTypeName===lt});if(ct===void 0)continue;let ut=0;const ft=ot.getValueSize();ot.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(ut=ft/3);let ht=0;const pt=ct.getValueSize();ct.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(ht=pt/3);const dt=ot.times.length-1;let gt;if(st<=ot.times[0]){const mt=ut,xt=ft-ut;gt=ot.values.slice(mt,xt)}else if(st>=ot.times[dt]){const mt=dt*ft+ut,xt=mt+ft-ut;gt=ot.values.slice(mt,xt)}else{const mt=ot.createInterpolant(),xt=ut,St=ft-ut;mt.evaluate(st),gt=mt.resultBuffer.slice(xt,St)}lt==="quaternion"&&new Quaternion().fromArray(gt).normalize().conjugate().toArray(gt);const vt=ct.times.length;for(let mt=0;mt<vt;++mt){const xt=mt*pt+ht;if(lt==="quaternion")Quaternion.multiplyQuaternionsFlat(ct.values,xt,gt,0,ct.values,xt);else{const St=pt-ht*2;for(let Et=0;Et<St;++Et)ct.values[xt+Et]-=gt[Et]}}}return tt.blendMode=AdditiveAnimationBlendMode,tt}const AnimationUtils={convertArray,isTypedArray,getKeyframeOrder,sortedArray,flattenJSON,subclip,makeClipAdditive};class Interpolant{constructor(_e,nt,rt,it){this.parameterPositions=_e,this._cachedIndex=0,this.resultBuffer=it!==void 0?it:new nt.constructor(rt),this.sampleValues=nt,this.valueSize=rt,this.settings=null,this.DefaultSettings_={}}evaluate(_e){const nt=this.parameterPositions;let rt=this._cachedIndex,it=nt[rt],st=nt[rt-1];e:{t:{let at;n:{r:if(!(_e<it)){for(let ot=rt+2;;){if(it===void 0){if(_e<st)break r;return rt=nt.length,this._cachedIndex=rt,this.copySampleValue_(rt-1)}if(rt===ot)break;if(st=it,it=nt[++rt],_e<it)break t}at=nt.length;break n}if(!(_e>=st)){const ot=nt[1];_e<ot&&(rt=2,st=ot);for(let lt=rt-2;;){if(st===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(rt===lt)break;if(it=st,st=nt[--rt-1],_e>=st)break t}at=rt,rt=0;break n}break e}for(;rt<at;){const ot=rt+at>>>1;_e<nt[ot]?at=ot:rt=ot+1}if(it=nt[rt],st=nt[rt-1],st===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(it===void 0)return rt=nt.length,this._cachedIndex=rt,this.copySampleValue_(rt-1)}this._cachedIndex=rt,this.intervalChanged_(rt,st,it)}return this.interpolate_(rt,st,_e,it)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(_e){const nt=this.resultBuffer,rt=this.sampleValues,it=this.valueSize,st=_e*it;for(let at=0;at!==it;++at)nt[at]=rt[st+at];return nt}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor(_e,nt,rt,it){super(_e,nt,rt,it),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(_e,nt,rt){const it=this.parameterPositions;let st=_e-2,at=_e+1,ot=it[st],lt=it[at];if(ot===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:st=_e,ot=2*nt-rt;break;case WrapAroundEnding:st=it.length-2,ot=nt+it[st]-it[st+1];break;default:st=_e,ot=rt}if(lt===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:at=_e,lt=2*rt-nt;break;case WrapAroundEnding:at=1,lt=rt+it[1]-it[0];break;default:at=_e-1,lt=nt}const ct=(rt-nt)*.5,ut=this.valueSize;this._weightPrev=ct/(nt-ot),this._weightNext=ct/(lt-rt),this._offsetPrev=st*ut,this._offsetNext=at*ut}interpolate_(_e,nt,rt,it){const st=this.resultBuffer,at=this.sampleValues,ot=this.valueSize,lt=_e*ot,ct=lt-ot,ut=this._offsetPrev,ft=this._offsetNext,ht=this._weightPrev,pt=this._weightNext,dt=(rt-nt)/(it-nt),gt=dt*dt,vt=gt*dt,mt=-ht*vt+2*ht*gt-ht*dt,xt=(1+ht)*vt+(-1.5-2*ht)*gt+(-.5+ht)*dt+1,St=(-1-pt)*vt+(1.5+pt)*gt+.5*dt,Et=pt*vt-pt*gt;for(let bt=0;bt!==ot;++bt)st[bt]=mt*at[ut+bt]+xt*at[ct+bt]+St*at[lt+bt]+Et*at[ft+bt];return st}}class LinearInterpolant extends Interpolant{constructor(_e,nt,rt,it){super(_e,nt,rt,it)}interpolate_(_e,nt,rt,it){const st=this.resultBuffer,at=this.sampleValues,ot=this.valueSize,lt=_e*ot,ct=lt-ot,ut=(rt-nt)/(it-nt),ft=1-ut;for(let ht=0;ht!==ot;++ht)st[ht]=at[ct+ht]*ft+at[lt+ht]*ut;return st}}class DiscreteInterpolant extends Interpolant{constructor(_e,nt,rt,it){super(_e,nt,rt,it)}interpolate_(_e){return this.copySampleValue_(_e-1)}}class KeyframeTrack{constructor(_e,nt,rt,it){if(_e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(nt===void 0||nt.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+_e);this.name=_e,this.times=convertArray(nt,this.TimeBufferType),this.values=convertArray(rt,this.ValueBufferType),this.setInterpolation(it||this.DefaultInterpolation)}static toJSON(_e){const nt=_e.constructor;let rt;if(nt.toJSON!==this.toJSON)rt=nt.toJSON(_e);else{rt={name:_e.name,times:convertArray(_e.times,Array),values:convertArray(_e.values,Array)};const it=_e.getInterpolation();it!==_e.DefaultInterpolation&&(rt.interpolation=it)}return rt.type=_e.ValueTypeName,rt}InterpolantFactoryMethodDiscrete(_e){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),_e)}InterpolantFactoryMethodLinear(_e){return new LinearInterpolant(this.times,this.values,this.getValueSize(),_e)}InterpolantFactoryMethodSmooth(_e){return new CubicInterpolant(this.times,this.values,this.getValueSize(),_e)}setInterpolation(_e){let nt;switch(_e){case InterpolateDiscrete:nt=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:nt=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:nt=this.InterpolantFactoryMethodSmooth;break}if(nt===void 0){const rt="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(_e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(rt);return console.warn("THREE.KeyframeTrack:",rt),this}return this.createInterpolant=nt,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(_e){if(_e!==0){const nt=this.times;for(let rt=0,it=nt.length;rt!==it;++rt)nt[rt]+=_e}return this}scale(_e){if(_e!==1){const nt=this.times;for(let rt=0,it=nt.length;rt!==it;++rt)nt[rt]*=_e}return this}trim(_e,nt){const rt=this.times,it=rt.length;let st=0,at=it-1;for(;st!==it&&rt[st]<_e;)++st;for(;at!==-1&&rt[at]>nt;)--at;if(++at,st!==0||at!==it){st>=at&&(at=Math.max(at,1),st=at-1);const ot=this.getValueSize();this.times=rt.slice(st,at),this.values=this.values.slice(st*ot,at*ot)}return this}validate(){let _e=!0;const nt=this.getValueSize();nt-Math.floor(nt)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),_e=!1);const rt=this.times,it=this.values,st=rt.length;st===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),_e=!1);let at=null;for(let ot=0;ot!==st;ot++){const lt=rt[ot];if(typeof lt=="number"&&isNaN(lt)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,ot,lt),_e=!1;break}if(at!==null&&at>lt){console.error("THREE.KeyframeTrack: Out of order keys.",this,ot,lt,at),_e=!1;break}at=lt}if(it!==void 0&&isTypedArray(it))for(let ot=0,lt=it.length;ot!==lt;++ot){const ct=it[ot];if(isNaN(ct)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,ot,ct),_e=!1;break}}return _e}optimize(){const _e=this.times.slice(),nt=this.values.slice(),rt=this.getValueSize(),it=this.getInterpolation()===InterpolateSmooth,st=_e.length-1;let at=1;for(let ot=1;ot<st;++ot){let lt=!1;const ct=_e[ot],ut=_e[ot+1];if(ct!==ut&&(ot!==1||ct!==_e[0]))if(it)lt=!0;else{const ft=ot*rt,ht=ft-rt,pt=ft+rt;for(let dt=0;dt!==rt;++dt){const gt=nt[ft+dt];if(gt!==nt[ht+dt]||gt!==nt[pt+dt]){lt=!0;break}}}if(lt){if(ot!==at){_e[at]=_e[ot];const ft=ot*rt,ht=at*rt;for(let pt=0;pt!==rt;++pt)nt[ht+pt]=nt[ft+pt]}++at}}if(st>0){_e[at]=_e[st];for(let ot=st*rt,lt=at*rt,ct=0;ct!==rt;++ct)nt[lt+ct]=nt[ot+ct];++at}return at!==_e.length?(this.times=_e.slice(0,at),this.values=nt.slice(0,at*rt)):(this.times=_e,this.values=nt),this}clone(){const _e=this.times.slice(),nt=this.values.slice(),rt=this.constructor,it=new rt(this.name,_e,nt);return it.createInterpolant=this.createInterpolant,it}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{constructor(_e,nt,rt){super(_e,nt,rt)}}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(_e,nt,rt,it){super(_e,nt,rt,it)}interpolate_(_e,nt,rt,it){const st=this.resultBuffer,at=this.sampleValues,ot=this.valueSize,lt=(rt-nt)/(it-nt);let ct=_e*ot;for(let ut=ct+ot;ct!==ut;ct+=4)Quaternion.slerpFlat(st,0,at,ct-ot,at,ct,lt);return st}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear(_e){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),_e)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{constructor(_e,nt,rt){super(_e,nt,rt)}}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(_e="",nt=-1,rt=[],it=NormalAnimationBlendMode){this.name=_e,this.tracks=rt,this.duration=nt,this.blendMode=it,this.uuid=generateUUID$1(),this.duration<0&&this.resetDuration()}static parse(_e){const nt=[],rt=_e.tracks,it=1/(_e.fps||1);for(let at=0,ot=rt.length;at!==ot;++at)nt.push(parseKeyframeTrack(rt[at]).scale(it));const st=new this(_e.name,_e.duration,nt,_e.blendMode);return st.uuid=_e.uuid,st}static toJSON(_e){const nt=[],rt=_e.tracks,it={name:_e.name,duration:_e.duration,tracks:nt,uuid:_e.uuid,blendMode:_e.blendMode};for(let st=0,at=rt.length;st!==at;++st)nt.push(KeyframeTrack.toJSON(rt[st]));return it}static CreateFromMorphTargetSequence(_e,nt,rt,it){const st=nt.length,at=[];for(let ot=0;ot<st;ot++){let lt=[],ct=[];lt.push((ot+st-1)%st,ot,(ot+1)%st),ct.push(0,1,0);const ut=getKeyframeOrder(lt);lt=sortedArray(lt,1,ut),ct=sortedArray(ct,1,ut),!it&&lt[0]===0&&(lt.push(st),ct.push(ct[0])),at.push(new NumberKeyframeTrack(".morphTargetInfluences["+nt[ot].name+"]",lt,ct).scale(1/rt))}return new this(_e,-1,at)}static findByName(_e,nt){let rt=_e;if(!Array.isArray(_e)){const it=_e;rt=it.geometry&&it.geometry.animations||it.animations}for(let it=0;it<rt.length;it++)if(rt[it].name===nt)return rt[it];return null}static CreateClipsFromMorphTargetSequences(_e,nt,rt){const it={},st=/^([\w-]*?)([\d]+)$/;for(let ot=0,lt=_e.length;ot<lt;ot++){const ct=_e[ot],ut=ct.name.match(st);if(ut&&ut.length>1){const ft=ut[1];let ht=it[ft];ht||(it[ft]=ht=[]),ht.push(ct)}}const at=[];for(const ot in it)at.push(this.CreateFromMorphTargetSequence(ot,it[ot],nt,rt));return at}static parseAnimation(_e,nt){if(!_e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const rt=function(ft,ht,pt,dt,gt){if(pt.length!==0){const vt=[],mt=[];flattenJSON(pt,vt,mt,dt),vt.length!==0&&gt.push(new ft(ht,vt,mt))}},it=[],st=_e.name||"default",at=_e.fps||30,ot=_e.blendMode;let lt=_e.length||-1;const ct=_e.hierarchy||[];for(let ft=0;ft<ct.length;ft++){const ht=ct[ft].keys;if(!(!ht||ht.length===0))if(ht[0].morphTargets){const pt={};let dt;for(dt=0;dt<ht.length;dt++)if(ht[dt].morphTargets)for(let gt=0;gt<ht[dt].morphTargets.length;gt++)pt[ht[dt].morphTargets[gt]]=-1;for(const gt in pt){const vt=[],mt=[];for(let xt=0;xt!==ht[dt].morphTargets.length;++xt){const St=ht[dt];vt.push(St.time),mt.push(St.morphTarget===gt?1:0)}it.push(new NumberKeyframeTrack(".morphTargetInfluence["+gt+"]",vt,mt))}lt=pt.length*at}else{const pt=".bones["+nt[ft].name+"]";rt(VectorKeyframeTrack,pt+".position",ht,"pos",it),rt(QuaternionKeyframeTrack,pt+".quaternion",ht,"rot",it),rt(VectorKeyframeTrack,pt+".scale",ht,"scl",it)}}return it.length===0?null:new this(st,lt,it,ot)}resetDuration(){const _e=this.tracks;let nt=0;for(let rt=0,it=_e.length;rt!==it;++rt){const st=this.tracks[rt];nt=Math.max(nt,st.times[st.times.length-1])}return this.duration=nt,this}trim(){for(let _e=0;_e<this.tracks.length;_e++)this.tracks[_e].trim(0,this.duration);return this}validate(){let _e=!0;for(let nt=0;nt<this.tracks.length;nt++)_e=_e&&this.tracks[nt].validate();return _e}optimize(){for(let _e=0;_e<this.tracks.length;_e++)this.tracks[_e].optimize();return this}clone(){const _e=[];for(let nt=0;nt<this.tracks.length;nt++)_e.push(this.tracks[nt].clone());return new this.constructor(this.name,this.duration,_e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(tt){switch(tt.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+tt)}function parseKeyframeTrack(tt){if(tt.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const _e=getTrackTypeForValueTypeName(tt.type);if(tt.times===void 0){const nt=[],rt=[];flattenJSON(tt.keys,nt,rt,"value"),tt.times=nt,tt.values=rt}return _e.parse!==void 0?_e.parse(tt):new _e(tt.name,tt.times,tt.values,tt.interpolation)}const Cache={enabled:!1,files:{},add:function(tt,_e){this.enabled!==!1&&(this.files[tt]=_e)},get:function(tt){if(this.enabled!==!1)return this.files[tt]},remove:function(tt){delete this.files[tt]},clear:function(){this.files={}}};class LoadingManager{constructor(_e,nt,rt){const it=this;let st=!1,at=0,ot=0,lt;const ct=[];this.onStart=void 0,this.onLoad=_e,this.onProgress=nt,this.onError=rt,this.itemStart=function(ut){ot++,st===!1&&it.onStart!==void 0&&it.onStart(ut,at,ot),st=!0},this.itemEnd=function(ut){at++,it.onProgress!==void 0&&it.onProgress(ut,at,ot),at===ot&&(st=!1,it.onLoad!==void 0&&it.onLoad())},this.itemError=function(ut){it.onError!==void 0&&it.onError(ut)},this.resolveURL=function(ut){return lt?lt(ut):ut},this.setURLModifier=function(ut){return lt=ut,this},this.addHandler=function(ut,ft){return ct.push(ut,ft),this},this.removeHandler=function(ut){const ft=ct.indexOf(ut);return ft!==-1&&ct.splice(ft,2),this},this.getHandler=function(ut){for(let ft=0,ht=ct.length;ft<ht;ft+=2){const pt=ct[ft],dt=ct[ft+1];if(pt.global&&(pt.lastIndex=0),pt.test(ut))return dt}return null}}}const DefaultLoadingManager=new LoadingManager;let Loader$1=class{constructor(_e){this.manager=_e!==void 0?_e:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(_e,nt){const rt=this;return new Promise(function(it,st){rt.load(_e,it,nt,st)})}parse(){}setCrossOrigin(_e){return this.crossOrigin=_e,this}setWithCredentials(_e){return this.withCredentials=_e,this}setPath(_e){return this.path=_e,this}setResourcePath(_e){return this.resourcePath=_e,this}setRequestHeader(_e){return this.requestHeader=_e,this}};Loader$1.DEFAULT_MATERIAL_NAME="__DEFAULT";const loading={};class HttpError extends Error{constructor(_e,nt){super(_e),this.response=nt}}class FileLoader extends Loader$1{constructor(_e){super(_e)}load(_e,nt,rt,it){_e===void 0&&(_e=""),this.path!==void 0&&(_e=this.path+_e),_e=this.manager.resolveURL(_e);const st=Cache.get(_e);if(st!==void 0)return this.manager.itemStart(_e),setTimeout(()=>{nt&&nt(st),this.manager.itemEnd(_e)},0),st;if(loading[_e]!==void 0){loading[_e].push({onLoad:nt,onProgress:rt,onError:it});return}loading[_e]=[],loading[_e].push({onLoad:nt,onProgress:rt,onError:it});const at=new Request(_e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),ot=this.mimeType,lt=this.responseType;fetch(at).then(ct=>{if(ct.status===200||ct.status===0){if(ct.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||ct.body===void 0||ct.body.getReader===void 0)return ct;const ut=loading[_e],ft=ct.body.getReader(),ht=ct.headers.get("X-File-Size")||ct.headers.get("Content-Length"),pt=ht?parseInt(ht):0,dt=pt!==0;let gt=0;const vt=new ReadableStream({start(mt){xt();function xt(){ft.read().then(({done:St,value:Et})=>{if(St)mt.close();else{gt+=Et.byteLength;const bt=new ProgressEvent("progress",{lengthComputable:dt,loaded:gt,total:pt});for(let Tt=0,At=ut.length;Tt<At;Tt++){const Ct=ut[Tt];Ct.onProgress&&Ct.onProgress(bt)}mt.enqueue(Et),xt()}},St=>{mt.error(St)})}}});return new Response(vt)}else throw new HttpError(`fetch for "${ct.url}" responded with ${ct.status}: ${ct.statusText}`,ct)}).then(ct=>{switch(lt){case"arraybuffer":return ct.arrayBuffer();case"blob":return ct.blob();case"document":return ct.text().then(ut=>new DOMParser().parseFromString(ut,ot));case"json":return ct.json();default:if(ot===void 0)return ct.text();{const ft=/charset="?([^;"\s]*)"?/i.exec(ot),ht=ft&&ft[1]?ft[1].toLowerCase():void 0,pt=new TextDecoder(ht);return ct.arrayBuffer().then(dt=>pt.decode(dt))}}}).then(ct=>{Cache.add(_e,ct);const ut=loading[_e];delete loading[_e];for(let ft=0,ht=ut.length;ft<ht;ft++){const pt=ut[ft];pt.onLoad&&pt.onLoad(ct)}}).catch(ct=>{const ut=loading[_e];if(ut===void 0)throw this.manager.itemError(_e),ct;delete loading[_e];for(let ft=0,ht=ut.length;ft<ht;ft++){const pt=ut[ft];pt.onError&&pt.onError(ct)}this.manager.itemError(_e)}).finally(()=>{this.manager.itemEnd(_e)}),this.manager.itemStart(_e)}setResponseType(_e){return this.responseType=_e,this}setMimeType(_e){return this.mimeType=_e,this}}class AnimationLoader extends Loader$1{constructor(_e){super(_e)}load(_e,nt,rt,it){const st=this,at=new FileLoader(this.manager);at.setPath(this.path),at.setRequestHeader(this.requestHeader),at.setWithCredentials(this.withCredentials),at.load(_e,function(ot){try{nt(st.parse(JSON.parse(ot)))}catch(lt){it?it(lt):console.error(lt),st.manager.itemError(_e)}},rt,it)}parse(_e){const nt=[];for(let rt=0;rt<_e.length;rt++){const it=AnimationClip.parse(_e[rt]);nt.push(it)}return nt}}class CompressedTextureLoader extends Loader$1{constructor(_e){super(_e)}load(_e,nt,rt,it){const st=this,at=[],ot=new CompressedTexture,lt=new FileLoader(this.manager);lt.setPath(this.path),lt.setResponseType("arraybuffer"),lt.setRequestHeader(this.requestHeader),lt.setWithCredentials(st.withCredentials);let ct=0;function ut(ft){lt.load(_e[ft],function(ht){const pt=st.parse(ht,!0);at[ft]={width:pt.width,height:pt.height,format:pt.format,mipmaps:pt.mipmaps},ct+=1,ct===6&&(pt.mipmapCount===1&&(ot.minFilter=LinearFilter),ot.image=at,ot.format=pt.format,ot.needsUpdate=!0,nt&&nt(ot))},rt,it)}if(Array.isArray(_e))for(let ft=0,ht=_e.length;ft<ht;++ft)ut(ft);else lt.load(_e,function(ft){const ht=st.parse(ft,!0);if(ht.isCubemap){const pt=ht.mipmaps.length/ht.mipmapCount;for(let dt=0;dt<pt;dt++){at[dt]={mipmaps:[]};for(let gt=0;gt<ht.mipmapCount;gt++)at[dt].mipmaps.push(ht.mipmaps[dt*ht.mipmapCount+gt]),at[dt].format=ht.format,at[dt].width=ht.width,at[dt].height=ht.height}ot.image=at}else ot.image.width=ht.width,ot.image.height=ht.height,ot.mipmaps=ht.mipmaps;ht.mipmapCount===1&&(ot.minFilter=LinearFilter),ot.format=ht.format,ot.needsUpdate=!0,nt&&nt(ot)},rt,it);return ot}}class ImageLoader extends Loader$1{constructor(_e){super(_e)}load(_e,nt,rt,it){this.path!==void 0&&(_e=this.path+_e),_e=this.manager.resolveURL(_e);const st=this,at=Cache.get(_e);if(at!==void 0)return st.manager.itemStart(_e),setTimeout(function(){nt&&nt(at),st.manager.itemEnd(_e)},0),at;const ot=createElementNS("img");function lt(){ut(),Cache.add(_e,this),nt&&nt(this),st.manager.itemEnd(_e)}function ct(ft){ut(),it&&it(ft),st.manager.itemError(_e),st.manager.itemEnd(_e)}function ut(){ot.removeEventListener("load",lt,!1),ot.removeEventListener("error",ct,!1)}return ot.addEventListener("load",lt,!1),ot.addEventListener("error",ct,!1),_e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(ot.crossOrigin=this.crossOrigin),st.manager.itemStart(_e),ot.src=_e,ot}}class CubeTextureLoader extends Loader$1{constructor(_e){super(_e)}load(_e,nt,rt,it){const st=new CubeTexture;st.colorSpace=SRGBColorSpace;const at=new ImageLoader(this.manager);at.setCrossOrigin(this.crossOrigin),at.setPath(this.path);let ot=0;function lt(ct){at.load(_e[ct],function(ut){st.images[ct]=ut,ot++,ot===6&&(st.needsUpdate=!0,nt&&nt(st))},void 0,it)}for(let ct=0;ct<_e.length;++ct)lt(ct);return st}}class DataTextureLoader extends Loader$1{constructor(_e){super(_e)}load(_e,nt,rt,it){const st=this,at=new DataTexture,ot=new FileLoader(this.manager);return ot.setResponseType("arraybuffer"),ot.setRequestHeader(this.requestHeader),ot.setPath(this.path),ot.setWithCredentials(st.withCredentials),ot.load(_e,function(lt){let ct;try{ct=st.parse(lt)}catch(ut){if(it!==void 0)it(ut);else{console.error(ut);return}}ct.image!==void 0?at.image=ct.image:ct.data!==void 0&&(at.image.width=ct.width,at.image.height=ct.height,at.image.data=ct.data),at.wrapS=ct.wrapS!==void 0?ct.wrapS:ClampToEdgeWrapping,at.wrapT=ct.wrapT!==void 0?ct.wrapT:ClampToEdgeWrapping,at.magFilter=ct.magFilter!==void 0?ct.magFilter:LinearFilter,at.minFilter=ct.minFilter!==void 0?ct.minFilter:LinearFilter,at.anisotropy=ct.anisotropy!==void 0?ct.anisotropy:1,ct.colorSpace!==void 0&&(at.colorSpace=ct.colorSpace),ct.flipY!==void 0&&(at.flipY=ct.flipY),ct.format!==void 0&&(at.format=ct.format),ct.type!==void 0&&(at.type=ct.type),ct.mipmaps!==void 0&&(at.mipmaps=ct.mipmaps,at.minFilter=LinearMipmapLinearFilter),ct.mipmapCount===1&&(at.minFilter=LinearFilter),ct.generateMipmaps!==void 0&&(at.generateMipmaps=ct.generateMipmaps),at.needsUpdate=!0,nt&&nt(at,ct)},rt,it),at}}class TextureLoader extends Loader$1{constructor(_e){super(_e)}load(_e,nt,rt,it){const st=new Texture,at=new ImageLoader(this.manager);return at.setCrossOrigin(this.crossOrigin),at.setPath(this.path),at.load(_e,function(ot){st.image=ot,st.needsUpdate=!0,nt!==void 0&&nt(st)},rt,it),st}}class Light extends Object3D{constructor(_e,nt=1){super(),this.isLight=!0,this.type="Light",this.color=new Color(_e),this.intensity=nt}dispose(){}copy(_e,nt){return super.copy(_e,nt),this.color.copy(_e.color),this.intensity=_e.intensity,this}toJSON(_e){const nt=super.toJSON(_e);return nt.object.color=this.color.getHex(),nt.object.intensity=this.intensity,this.groundColor!==void 0&&(nt.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(nt.object.distance=this.distance),this.angle!==void 0&&(nt.object.angle=this.angle),this.decay!==void 0&&(nt.object.decay=this.decay),this.penumbra!==void 0&&(nt.object.penumbra=this.penumbra),this.shadow!==void 0&&(nt.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(nt.object.target=this.target.uuid),nt}}class HemisphereLight extends Light{constructor(_e,nt,rt){super(_e,rt),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Color(nt)}copy(_e,nt){return super.copy(_e,nt),this.groundColor.copy(_e.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(_e){this.camera=_e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(_e){const nt=this.camera,rt=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(_e.matrixWorld),nt.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(_e.target.matrixWorld),nt.lookAt(_lookTarget$1),nt.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(nt.projectionMatrix,nt.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),rt.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),rt.multiply(_projScreenMatrix$1)}getViewport(_e){return this._viewports[_e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(_e){return this.camera=_e.camera.clone(),this.intensity=_e.intensity,this.bias=_e.bias,this.radius=_e.radius,this.mapSize.copy(_e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const _e={};return this.intensity!==1&&(_e.intensity=this.intensity),this.bias!==0&&(_e.bias=this.bias),this.normalBias!==0&&(_e.normalBias=this.normalBias),this.radius!==1&&(_e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(_e.mapSize=this.mapSize.toArray()),_e.camera=this.camera.toJSON(!1).object,delete _e.camera.matrix,_e}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(_e){const nt=this.camera,rt=RAD2DEG*2*_e.angle*this.focus,it=this.mapSize.width/this.mapSize.height,st=_e.distance||nt.far;(rt!==nt.fov||it!==nt.aspect||st!==nt.far)&&(nt.fov=rt,nt.aspect=it,nt.far=st,nt.updateProjectionMatrix()),super.updateMatrices(_e)}copy(_e){return super.copy(_e),this.focus=_e.focus,this}}class SpotLight extends Light{constructor(_e,nt,rt=0,it=Math.PI/3,st=0,at=2){super(_e,nt),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.distance=rt,this.angle=it,this.penumbra=st,this.decay=at,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(_e){this.intensity=_e/Math.PI}dispose(){this.shadow.dispose()}copy(_e,nt){return super.copy(_e,nt),this.distance=_e.distance,this.angle=_e.angle,this.penumbra=_e.penumbra,this.decay=_e.decay,this.target=_e.target.clone(),this.shadow=_e.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(_e,nt=0){const rt=this.camera,it=this.matrix,st=_e.distance||rt.far;st!==rt.far&&(rt.far=st,rt.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(_e.matrixWorld),rt.position.copy(_lightPositionWorld),_lookTarget.copy(rt.position),_lookTarget.add(this._cubeDirections[nt]),rt.up.copy(this._cubeUps[nt]),rt.lookAt(_lookTarget),rt.updateMatrixWorld(),it.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(rt.projectionMatrix,rt.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor(_e,nt,rt=0,it=2){super(_e,nt),this.isPointLight=!0,this.type="PointLight",this.distance=rt,this.decay=it,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(_e){this.intensity=_e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(_e,nt){return super.copy(_e,nt),this.distance=_e.distance,this.decay=_e.decay,this.shadow=_e.shadow.clone(),this}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor(_e,nt){super(_e,nt),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(_e){return super.copy(_e),this.target=_e.target.clone(),this.shadow=_e.shadow.clone(),this}}class AmbientLight extends Light{constructor(_e,nt){super(_e,nt),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor(_e,nt,rt=10,it=10){super(_e,nt),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=rt,this.height=it}get power(){return this.intensity*this.width*this.height*Math.PI}set power(_e){this.intensity=_e/(this.width*this.height*Math.PI)}copy(_e){return super.copy(_e),this.width=_e.width,this.height=_e.height,this}toJSON(_e){const nt=super.toJSON(_e);return nt.object.width=this.width,nt.object.height=this.height,nt}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let _e=0;_e<9;_e++)this.coefficients.push(new Vector3)}set(_e){for(let nt=0;nt<9;nt++)this.coefficients[nt].copy(_e[nt]);return this}zero(){for(let _e=0;_e<9;_e++)this.coefficients[_e].set(0,0,0);return this}getAt(_e,nt){const rt=_e.x,it=_e.y,st=_e.z,at=this.coefficients;return nt.copy(at[0]).multiplyScalar(.282095),nt.addScaledVector(at[1],.488603*it),nt.addScaledVector(at[2],.488603*st),nt.addScaledVector(at[3],.488603*rt),nt.addScaledVector(at[4],1.092548*(rt*it)),nt.addScaledVector(at[5],1.092548*(it*st)),nt.addScaledVector(at[6],.315392*(3*st*st-1)),nt.addScaledVector(at[7],1.092548*(rt*st)),nt.addScaledVector(at[8],.546274*(rt*rt-it*it)),nt}getIrradianceAt(_e,nt){const rt=_e.x,it=_e.y,st=_e.z,at=this.coefficients;return nt.copy(at[0]).multiplyScalar(.886227),nt.addScaledVector(at[1],2*.511664*it),nt.addScaledVector(at[2],2*.511664*st),nt.addScaledVector(at[3],2*.511664*rt),nt.addScaledVector(at[4],2*.429043*rt*it),nt.addScaledVector(at[5],2*.429043*it*st),nt.addScaledVector(at[6],.743125*st*st-.247708),nt.addScaledVector(at[7],2*.429043*rt*st),nt.addScaledVector(at[8],.429043*(rt*rt-it*it)),nt}add(_e){for(let nt=0;nt<9;nt++)this.coefficients[nt].add(_e.coefficients[nt]);return this}addScaledSH(_e,nt){for(let rt=0;rt<9;rt++)this.coefficients[rt].addScaledVector(_e.coefficients[rt],nt);return this}scale(_e){for(let nt=0;nt<9;nt++)this.coefficients[nt].multiplyScalar(_e);return this}lerp(_e,nt){for(let rt=0;rt<9;rt++)this.coefficients[rt].lerp(_e.coefficients[rt],nt);return this}equals(_e){for(let nt=0;nt<9;nt++)if(!this.coefficients[nt].equals(_e.coefficients[nt]))return!1;return!0}copy(_e){return this.set(_e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(_e,nt=0){const rt=this.coefficients;for(let it=0;it<9;it++)rt[it].fromArray(_e,nt+it*3);return this}toArray(_e=[],nt=0){const rt=this.coefficients;for(let it=0;it<9;it++)rt[it].toArray(_e,nt+it*3);return _e}static getBasisAt(_e,nt){const rt=_e.x,it=_e.y,st=_e.z;nt[0]=.282095,nt[1]=.488603*it,nt[2]=.488603*st,nt[3]=.488603*rt,nt[4]=1.092548*rt*it,nt[5]=1.092548*it*st,nt[6]=.315392*(3*st*st-1),nt[7]=1.092548*rt*st,nt[8]=.546274*(rt*rt-it*it)}}class LightProbe extends Light{constructor(_e=new SphericalHarmonics3,nt=1){super(void 0,nt),this.isLightProbe=!0,this.sh=_e}copy(_e){return super.copy(_e),this.sh.copy(_e.sh),this}fromJSON(_e){return this.intensity=_e.intensity,this.sh.fromArray(_e.sh),this}toJSON(_e){const nt=super.toJSON(_e);return nt.object.sh=this.sh.toArray(),nt}}class MaterialLoader extends Loader$1{constructor(_e){super(_e),this.textures={}}load(_e,nt,rt,it){const st=this,at=new FileLoader(st.manager);at.setPath(st.path),at.setRequestHeader(st.requestHeader),at.setWithCredentials(st.withCredentials),at.load(_e,function(ot){try{nt(st.parse(JSON.parse(ot)))}catch(lt){it?it(lt):console.error(lt),st.manager.itemError(_e)}},rt,it)}parse(_e){const nt=this.textures;function rt(st){return nt[st]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",st),nt[st]}const it=this.createMaterialFromType(_e.type);if(_e.uuid!==void 0&&(it.uuid=_e.uuid),_e.name!==void 0&&(it.name=_e.name),_e.color!==void 0&&it.color!==void 0&&it.color.setHex(_e.color),_e.roughness!==void 0&&(it.roughness=_e.roughness),_e.metalness!==void 0&&(it.metalness=_e.metalness),_e.sheen!==void 0&&(it.sheen=_e.sheen),_e.sheenColor!==void 0&&(it.sheenColor=new Color().setHex(_e.sheenColor)),_e.sheenRoughness!==void 0&&(it.sheenRoughness=_e.sheenRoughness),_e.emissive!==void 0&&it.emissive!==void 0&&it.emissive.setHex(_e.emissive),_e.specular!==void 0&&it.specular!==void 0&&it.specular.setHex(_e.specular),_e.specularIntensity!==void 0&&(it.specularIntensity=_e.specularIntensity),_e.specularColor!==void 0&&it.specularColor!==void 0&&it.specularColor.setHex(_e.specularColor),_e.shininess!==void 0&&(it.shininess=_e.shininess),_e.clearcoat!==void 0&&(it.clearcoat=_e.clearcoat),_e.clearcoatRoughness!==void 0&&(it.clearcoatRoughness=_e.clearcoatRoughness),_e.dispersion!==void 0&&(it.dispersion=_e.dispersion),_e.iridescence!==void 0&&(it.iridescence=_e.iridescence),_e.iridescenceIOR!==void 0&&(it.iridescenceIOR=_e.iridescenceIOR),_e.iridescenceThicknessRange!==void 0&&(it.iridescenceThicknessRange=_e.iridescenceThicknessRange),_e.transmission!==void 0&&(it.transmission=_e.transmission),_e.thickness!==void 0&&(it.thickness=_e.thickness),_e.attenuationDistance!==void 0&&(it.attenuationDistance=_e.attenuationDistance),_e.attenuationColor!==void 0&&it.attenuationColor!==void 0&&it.attenuationColor.setHex(_e.attenuationColor),_e.anisotropy!==void 0&&(it.anisotropy=_e.anisotropy),_e.anisotropyRotation!==void 0&&(it.anisotropyRotation=_e.anisotropyRotation),_e.fog!==void 0&&(it.fog=_e.fog),_e.flatShading!==void 0&&(it.flatShading=_e.flatShading),_e.blending!==void 0&&(it.blending=_e.blending),_e.combine!==void 0&&(it.combine=_e.combine),_e.side!==void 0&&(it.side=_e.side),_e.shadowSide!==void 0&&(it.shadowSide=_e.shadowSide),_e.opacity!==void 0&&(it.opacity=_e.opacity),_e.transparent!==void 0&&(it.transparent=_e.transparent),_e.alphaTest!==void 0&&(it.alphaTest=_e.alphaTest),_e.alphaHash!==void 0&&(it.alphaHash=_e.alphaHash),_e.depthFunc!==void 0&&(it.depthFunc=_e.depthFunc),_e.depthTest!==void 0&&(it.depthTest=_e.depthTest),_e.depthWrite!==void 0&&(it.depthWrite=_e.depthWrite),_e.colorWrite!==void 0&&(it.colorWrite=_e.colorWrite),_e.blendSrc!==void 0&&(it.blendSrc=_e.blendSrc),_e.blendDst!==void 0&&(it.blendDst=_e.blendDst),_e.blendEquation!==void 0&&(it.blendEquation=_e.blendEquation),_e.blendSrcAlpha!==void 0&&(it.blendSrcAlpha=_e.blendSrcAlpha),_e.blendDstAlpha!==void 0&&(it.blendDstAlpha=_e.blendDstAlpha),_e.blendEquationAlpha!==void 0&&(it.blendEquationAlpha=_e.blendEquationAlpha),_e.blendColor!==void 0&&it.blendColor!==void 0&&it.blendColor.setHex(_e.blendColor),_e.blendAlpha!==void 0&&(it.blendAlpha=_e.blendAlpha),_e.stencilWriteMask!==void 0&&(it.stencilWriteMask=_e.stencilWriteMask),_e.stencilFunc!==void 0&&(it.stencilFunc=_e.stencilFunc),_e.stencilRef!==void 0&&(it.stencilRef=_e.stencilRef),_e.stencilFuncMask!==void 0&&(it.stencilFuncMask=_e.stencilFuncMask),_e.stencilFail!==void 0&&(it.stencilFail=_e.stencilFail),_e.stencilZFail!==void 0&&(it.stencilZFail=_e.stencilZFail),_e.stencilZPass!==void 0&&(it.stencilZPass=_e.stencilZPass),_e.stencilWrite!==void 0&&(it.stencilWrite=_e.stencilWrite),_e.wireframe!==void 0&&(it.wireframe=_e.wireframe),_e.wireframeLinewidth!==void 0&&(it.wireframeLinewidth=_e.wireframeLinewidth),_e.wireframeLinecap!==void 0&&(it.wireframeLinecap=_e.wireframeLinecap),_e.wireframeLinejoin!==void 0&&(it.wireframeLinejoin=_e.wireframeLinejoin),_e.rotation!==void 0&&(it.rotation=_e.rotation),_e.linewidth!==void 0&&(it.linewidth=_e.linewidth),_e.dashSize!==void 0&&(it.dashSize=_e.dashSize),_e.gapSize!==void 0&&(it.gapSize=_e.gapSize),_e.scale!==void 0&&(it.scale=_e.scale),_e.polygonOffset!==void 0&&(it.polygonOffset=_e.polygonOffset),_e.polygonOffsetFactor!==void 0&&(it.polygonOffsetFactor=_e.polygonOffsetFactor),_e.polygonOffsetUnits!==void 0&&(it.polygonOffsetUnits=_e.polygonOffsetUnits),_e.dithering!==void 0&&(it.dithering=_e.dithering),_e.alphaToCoverage!==void 0&&(it.alphaToCoverage=_e.alphaToCoverage),_e.premultipliedAlpha!==void 0&&(it.premultipliedAlpha=_e.premultipliedAlpha),_e.forceSinglePass!==void 0&&(it.forceSinglePass=_e.forceSinglePass),_e.visible!==void 0&&(it.visible=_e.visible),_e.toneMapped!==void 0&&(it.toneMapped=_e.toneMapped),_e.userData!==void 0&&(it.userData=_e.userData),_e.vertexColors!==void 0&&(typeof _e.vertexColors=="number"?it.vertexColors=_e.vertexColors>0:it.vertexColors=_e.vertexColors),_e.uniforms!==void 0)for(const st in _e.uniforms){const at=_e.uniforms[st];switch(it.uniforms[st]={},at.type){case"t":it.uniforms[st].value=rt(at.value);break;case"c":it.uniforms[st].value=new Color().setHex(at.value);break;case"v2":it.uniforms[st].value=new Vector2().fromArray(at.value);break;case"v3":it.uniforms[st].value=new Vector3().fromArray(at.value);break;case"v4":it.uniforms[st].value=new Vector4().fromArray(at.value);break;case"m3":it.uniforms[st].value=new Matrix3().fromArray(at.value);break;case"m4":it.uniforms[st].value=new Matrix4().fromArray(at.value);break;default:it.uniforms[st].value=at.value}}if(_e.defines!==void 0&&(it.defines=_e.defines),_e.vertexShader!==void 0&&(it.vertexShader=_e.vertexShader),_e.fragmentShader!==void 0&&(it.fragmentShader=_e.fragmentShader),_e.glslVersion!==void 0&&(it.glslVersion=_e.glslVersion),_e.extensions!==void 0)for(const st in _e.extensions)it.extensions[st]=_e.extensions[st];if(_e.lights!==void 0&&(it.lights=_e.lights),_e.clipping!==void 0&&(it.clipping=_e.clipping),_e.size!==void 0&&(it.size=_e.size),_e.sizeAttenuation!==void 0&&(it.sizeAttenuation=_e.sizeAttenuation),_e.map!==void 0&&(it.map=rt(_e.map)),_e.matcap!==void 0&&(it.matcap=rt(_e.matcap)),_e.alphaMap!==void 0&&(it.alphaMap=rt(_e.alphaMap)),_e.bumpMap!==void 0&&(it.bumpMap=rt(_e.bumpMap)),_e.bumpScale!==void 0&&(it.bumpScale=_e.bumpScale),_e.normalMap!==void 0&&(it.normalMap=rt(_e.normalMap)),_e.normalMapType!==void 0&&(it.normalMapType=_e.normalMapType),_e.normalScale!==void 0){let st=_e.normalScale;Array.isArray(st)===!1&&(st=[st,st]),it.normalScale=new Vector2().fromArray(st)}return _e.displacementMap!==void 0&&(it.displacementMap=rt(_e.displacementMap)),_e.displacementScale!==void 0&&(it.displacementScale=_e.displacementScale),_e.displacementBias!==void 0&&(it.displacementBias=_e.displacementBias),_e.roughnessMap!==void 0&&(it.roughnessMap=rt(_e.roughnessMap)),_e.metalnessMap!==void 0&&(it.metalnessMap=rt(_e.metalnessMap)),_e.emissiveMap!==void 0&&(it.emissiveMap=rt(_e.emissiveMap)),_e.emissiveIntensity!==void 0&&(it.emissiveIntensity=_e.emissiveIntensity),_e.specularMap!==void 0&&(it.specularMap=rt(_e.specularMap)),_e.specularIntensityMap!==void 0&&(it.specularIntensityMap=rt(_e.specularIntensityMap)),_e.specularColorMap!==void 0&&(it.specularColorMap=rt(_e.specularColorMap)),_e.envMap!==void 0&&(it.envMap=rt(_e.envMap)),_e.envMapRotation!==void 0&&it.envMapRotation.fromArray(_e.envMapRotation),_e.envMapIntensity!==void 0&&(it.envMapIntensity=_e.envMapIntensity),_e.reflectivity!==void 0&&(it.reflectivity=_e.reflectivity),_e.refractionRatio!==void 0&&(it.refractionRatio=_e.refractionRatio),_e.lightMap!==void 0&&(it.lightMap=rt(_e.lightMap)),_e.lightMapIntensity!==void 0&&(it.lightMapIntensity=_e.lightMapIntensity),_e.aoMap!==void 0&&(it.aoMap=rt(_e.aoMap)),_e.aoMapIntensity!==void 0&&(it.aoMapIntensity=_e.aoMapIntensity),_e.gradientMap!==void 0&&(it.gradientMap=rt(_e.gradientMap)),_e.clearcoatMap!==void 0&&(it.clearcoatMap=rt(_e.clearcoatMap)),_e.clearcoatRoughnessMap!==void 0&&(it.clearcoatRoughnessMap=rt(_e.clearcoatRoughnessMap)),_e.clearcoatNormalMap!==void 0&&(it.clearcoatNormalMap=rt(_e.clearcoatNormalMap)),_e.clearcoatNormalScale!==void 0&&(it.clearcoatNormalScale=new Vector2().fromArray(_e.clearcoatNormalScale)),_e.iridescenceMap!==void 0&&(it.iridescenceMap=rt(_e.iridescenceMap)),_e.iridescenceThicknessMap!==void 0&&(it.iridescenceThicknessMap=rt(_e.iridescenceThicknessMap)),_e.transmissionMap!==void 0&&(it.transmissionMap=rt(_e.transmissionMap)),_e.thicknessMap!==void 0&&(it.thicknessMap=rt(_e.thicknessMap)),_e.anisotropyMap!==void 0&&(it.anisotropyMap=rt(_e.anisotropyMap)),_e.sheenColorMap!==void 0&&(it.sheenColorMap=rt(_e.sheenColorMap)),_e.sheenRoughnessMap!==void 0&&(it.sheenRoughnessMap=rt(_e.sheenRoughnessMap)),it}setTextures(_e){return this.textures=_e,this}createMaterialFromType(_e){return MaterialLoader.createMaterialFromType(_e)}static createMaterialFromType(_e){const nt={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};return new nt[_e]}}class LoaderUtils{static decodeText(_e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(_e);let nt="";for(let rt=0,it=_e.length;rt<it;rt++)nt+=String.fromCharCode(_e[rt]);try{return decodeURIComponent(escape(nt))}catch{return nt}}static extractUrlBase(_e){const nt=_e.lastIndexOf("/");return nt===-1?"./":_e.slice(0,nt+1)}static resolveURL(_e,nt){return typeof _e!="string"||_e===""?"":(/^https?:\/\//i.test(nt)&&/^\//.test(_e)&&(nt=nt.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(_e)||/^data:.*,.*$/i.test(_e)||/^blob:.*$/i.test(_e)?_e:nt+_e)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(_e){return super.copy(_e),this.instanceCount=_e.instanceCount,this}toJSON(){const _e=super.toJSON();return _e.instanceCount=this.instanceCount,_e.isInstancedBufferGeometry=!0,_e}}class BufferGeometryLoader extends Loader$1{constructor(_e){super(_e)}load(_e,nt,rt,it){const st=this,at=new FileLoader(st.manager);at.setPath(st.path),at.setRequestHeader(st.requestHeader),at.setWithCredentials(st.withCredentials),at.load(_e,function(ot){try{nt(st.parse(JSON.parse(ot)))}catch(lt){it?it(lt):console.error(lt),st.manager.itemError(_e)}},rt,it)}parse(_e){const nt={},rt={};function it(pt,dt){if(nt[dt]!==void 0)return nt[dt];const vt=pt.interleavedBuffers[dt],mt=st(pt,vt.buffer),xt=getTypedArray(vt.type,mt),St=new InterleavedBuffer(xt,vt.stride);return St.uuid=vt.uuid,nt[dt]=St,St}function st(pt,dt){if(rt[dt]!==void 0)return rt[dt];const vt=pt.arrayBuffers[dt],mt=new Uint32Array(vt).buffer;return rt[dt]=mt,mt}const at=_e.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,ot=_e.data.index;if(ot!==void 0){const pt=getTypedArray(ot.type,ot.array);at.setIndex(new BufferAttribute(pt,1))}const lt=_e.data.attributes;for(const pt in lt){const dt=lt[pt];let gt;if(dt.isInterleavedBufferAttribute){const vt=it(_e.data,dt.data);gt=new InterleavedBufferAttribute(vt,dt.itemSize,dt.offset,dt.normalized)}else{const vt=getTypedArray(dt.type,dt.array),mt=dt.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;gt=new mt(vt,dt.itemSize,dt.normalized)}dt.name!==void 0&&(gt.name=dt.name),dt.usage!==void 0&&gt.setUsage(dt.usage),at.setAttribute(pt,gt)}const ct=_e.data.morphAttributes;if(ct)for(const pt in ct){const dt=ct[pt],gt=[];for(let vt=0,mt=dt.length;vt<mt;vt++){const xt=dt[vt];let St;if(xt.isInterleavedBufferAttribute){const Et=it(_e.data,xt.data);St=new InterleavedBufferAttribute(Et,xt.itemSize,xt.offset,xt.normalized)}else{const Et=getTypedArray(xt.type,xt.array);St=new BufferAttribute(Et,xt.itemSize,xt.normalized)}xt.name!==void 0&&(St.name=xt.name),gt.push(St)}at.morphAttributes[pt]=gt}_e.data.morphTargetsRelative&&(at.morphTargetsRelative=!0);const ft=_e.data.groups||_e.data.drawcalls||_e.data.offsets;if(ft!==void 0)for(let pt=0,dt=ft.length;pt!==dt;++pt){const gt=ft[pt];at.addGroup(gt.start,gt.count,gt.materialIndex)}const ht=_e.data.boundingSphere;if(ht!==void 0){const pt=new Vector3;ht.center!==void 0&&pt.fromArray(ht.center),at.boundingSphere=new Sphere(pt,ht.radius)}return _e.name&&(at.name=_e.name),_e.userData&&(at.userData=_e.userData),at}}class ObjectLoader extends Loader$1{constructor(_e){super(_e)}load(_e,nt,rt,it){const st=this,at=this.path===""?LoaderUtils.extractUrlBase(_e):this.path;this.resourcePath=this.resourcePath||at;const ot=new FileLoader(this.manager);ot.setPath(this.path),ot.setRequestHeader(this.requestHeader),ot.setWithCredentials(this.withCredentials),ot.load(_e,function(lt){let ct=null;try{ct=JSON.parse(lt)}catch(ft){it!==void 0&&it(ft),console.error("THREE:ObjectLoader: Can't parse "+_e+".",ft.message);return}const ut=ct.metadata;if(ut===void 0||ut.type===void 0||ut.type.toLowerCase()==="geometry"){it!==void 0&&it(new Error("THREE.ObjectLoader: Can't load "+_e)),console.error("THREE.ObjectLoader: Can't load "+_e);return}st.parse(ct,nt)},rt,it)}async loadAsync(_e,nt){const rt=this,it=this.path===""?LoaderUtils.extractUrlBase(_e):this.path;this.resourcePath=this.resourcePath||it;const st=new FileLoader(this.manager);st.setPath(this.path),st.setRequestHeader(this.requestHeader),st.setWithCredentials(this.withCredentials);const at=await st.loadAsync(_e,nt),ot=JSON.parse(at),lt=ot.metadata;if(lt===void 0||lt.type===void 0||lt.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+_e);return await rt.parseAsync(ot)}parse(_e,nt){const rt=this.parseAnimations(_e.animations),it=this.parseShapes(_e.shapes),st=this.parseGeometries(_e.geometries,it),at=this.parseImages(_e.images,function(){nt!==void 0&&nt(ct)}),ot=this.parseTextures(_e.textures,at),lt=this.parseMaterials(_e.materials,ot),ct=this.parseObject(_e.object,st,lt,ot,rt),ut=this.parseSkeletons(_e.skeletons,ct);if(this.bindSkeletons(ct,ut),this.bindLightTargets(ct),nt!==void 0){let ft=!1;for(const ht in at)if(at[ht].data instanceof HTMLImageElement){ft=!0;break}ft===!1&&nt(ct)}return ct}async parseAsync(_e){const nt=this.parseAnimations(_e.animations),rt=this.parseShapes(_e.shapes),it=this.parseGeometries(_e.geometries,rt),st=await this.parseImagesAsync(_e.images),at=this.parseTextures(_e.textures,st),ot=this.parseMaterials(_e.materials,at),lt=this.parseObject(_e.object,it,ot,at,nt),ct=this.parseSkeletons(_e.skeletons,lt);return this.bindSkeletons(lt,ct),this.bindLightTargets(lt),lt}parseShapes(_e){const nt={};if(_e!==void 0)for(let rt=0,it=_e.length;rt<it;rt++){const st=new Shape().fromJSON(_e[rt]);nt[st.uuid]=st}return nt}parseSkeletons(_e,nt){const rt={},it={};if(nt.traverse(function(st){st.isBone&&(it[st.uuid]=st)}),_e!==void 0)for(let st=0,at=_e.length;st<at;st++){const ot=new Skeleton().fromJSON(_e[st],it);rt[ot.uuid]=ot}return rt}parseGeometries(_e,nt){const rt={};if(_e!==void 0){const it=new BufferGeometryLoader;for(let st=0,at=_e.length;st<at;st++){let ot;const lt=_e[st];switch(lt.type){case"BufferGeometry":case"InstancedBufferGeometry":ot=it.parse(lt);break;default:lt.type in Geometries?ot=Geometries[lt.type].fromJSON(lt,nt):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${lt.type}"`)}ot.uuid=lt.uuid,lt.name!==void 0&&(ot.name=lt.name),lt.userData!==void 0&&(ot.userData=lt.userData),rt[lt.uuid]=ot}}return rt}parseMaterials(_e,nt){const rt={},it={};if(_e!==void 0){const st=new MaterialLoader;st.setTextures(nt);for(let at=0,ot=_e.length;at<ot;at++){const lt=_e[at];rt[lt.uuid]===void 0&&(rt[lt.uuid]=st.parse(lt)),it[lt.uuid]=rt[lt.uuid]}}return it}parseAnimations(_e){const nt={};if(_e!==void 0)for(let rt=0;rt<_e.length;rt++){const it=_e[rt],st=AnimationClip.parse(it);nt[st.uuid]=st}return nt}parseImages(_e,nt){const rt=this,it={};let st;function at(lt){return rt.manager.itemStart(lt),st.load(lt,function(){rt.manager.itemEnd(lt)},void 0,function(){rt.manager.itemError(lt),rt.manager.itemEnd(lt)})}function ot(lt){if(typeof lt=="string"){const ct=lt,ut=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(ct)?ct:rt.resourcePath+ct;return at(ut)}else return lt.data?{data:getTypedArray(lt.type,lt.data),width:lt.width,height:lt.height}:null}if(_e!==void 0&&_e.length>0){const lt=new LoadingManager(nt);st=new ImageLoader(lt),st.setCrossOrigin(this.crossOrigin);for(let ct=0,ut=_e.length;ct<ut;ct++){const ft=_e[ct],ht=ft.url;if(Array.isArray(ht)){const pt=[];for(let dt=0,gt=ht.length;dt<gt;dt++){const vt=ht[dt],mt=ot(vt);mt!==null&&(mt instanceof HTMLImageElement?pt.push(mt):pt.push(new DataTexture(mt.data,mt.width,mt.height)))}it[ft.uuid]=new Source(pt)}else{const pt=ot(ft.url);it[ft.uuid]=new Source(pt)}}}return it}async parseImagesAsync(_e){const nt=this,rt={};let it;async function st(at){if(typeof at=="string"){const ot=at,lt=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(ot)?ot:nt.resourcePath+ot;return await it.loadAsync(lt)}else return at.data?{data:getTypedArray(at.type,at.data),width:at.width,height:at.height}:null}if(_e!==void 0&&_e.length>0){it=new ImageLoader(this.manager),it.setCrossOrigin(this.crossOrigin);for(let at=0,ot=_e.length;at<ot;at++){const lt=_e[at],ct=lt.url;if(Array.isArray(ct)){const ut=[];for(let ft=0,ht=ct.length;ft<ht;ft++){const pt=ct[ft],dt=await st(pt);dt!==null&&(dt instanceof HTMLImageElement?ut.push(dt):ut.push(new DataTexture(dt.data,dt.width,dt.height)))}rt[lt.uuid]=new Source(ut)}else{const ut=await st(lt.url);rt[lt.uuid]=new Source(ut)}}}return rt}parseTextures(_e,nt){function rt(st,at){return typeof st=="number"?st:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",st),at[st])}const it={};if(_e!==void 0)for(let st=0,at=_e.length;st<at;st++){const ot=_e[st];ot.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',ot.uuid),nt[ot.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",ot.image);const lt=nt[ot.image],ct=lt.data;let ut;Array.isArray(ct)?(ut=new CubeTexture,ct.length===6&&(ut.needsUpdate=!0)):(ct&&ct.data?ut=new DataTexture:ut=new Texture,ct&&(ut.needsUpdate=!0)),ut.source=lt,ut.uuid=ot.uuid,ot.name!==void 0&&(ut.name=ot.name),ot.mapping!==void 0&&(ut.mapping=rt(ot.mapping,TEXTURE_MAPPING)),ot.channel!==void 0&&(ut.channel=ot.channel),ot.offset!==void 0&&ut.offset.fromArray(ot.offset),ot.repeat!==void 0&&ut.repeat.fromArray(ot.repeat),ot.center!==void 0&&ut.center.fromArray(ot.center),ot.rotation!==void 0&&(ut.rotation=ot.rotation),ot.wrap!==void 0&&(ut.wrapS=rt(ot.wrap[0],TEXTURE_WRAPPING),ut.wrapT=rt(ot.wrap[1],TEXTURE_WRAPPING)),ot.format!==void 0&&(ut.format=ot.format),ot.internalFormat!==void 0&&(ut.internalFormat=ot.internalFormat),ot.type!==void 0&&(ut.type=ot.type),ot.colorSpace!==void 0&&(ut.colorSpace=ot.colorSpace),ot.minFilter!==void 0&&(ut.minFilter=rt(ot.minFilter,TEXTURE_FILTER)),ot.magFilter!==void 0&&(ut.magFilter=rt(ot.magFilter,TEXTURE_FILTER)),ot.anisotropy!==void 0&&(ut.anisotropy=ot.anisotropy),ot.flipY!==void 0&&(ut.flipY=ot.flipY),ot.generateMipmaps!==void 0&&(ut.generateMipmaps=ot.generateMipmaps),ot.premultiplyAlpha!==void 0&&(ut.premultiplyAlpha=ot.premultiplyAlpha),ot.unpackAlignment!==void 0&&(ut.unpackAlignment=ot.unpackAlignment),ot.compareFunction!==void 0&&(ut.compareFunction=ot.compareFunction),ot.userData!==void 0&&(ut.userData=ot.userData),it[ot.uuid]=ut}return it}parseObject(_e,nt,rt,it,st){let at;function ot(ht){return nt[ht]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",ht),nt[ht]}function lt(ht){if(ht!==void 0){if(Array.isArray(ht)){const pt=[];for(let dt=0,gt=ht.length;dt<gt;dt++){const vt=ht[dt];rt[vt]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",vt),pt.push(rt[vt])}return pt}return rt[ht]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",ht),rt[ht]}}function ct(ht){return it[ht]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",ht),it[ht]}let ut,ft;switch(_e.type){case"Scene":at=new Scene,_e.background!==void 0&&(Number.isInteger(_e.background)?at.background=new Color(_e.background):at.background=ct(_e.background)),_e.environment!==void 0&&(at.environment=ct(_e.environment)),_e.fog!==void 0&&(_e.fog.type==="Fog"?at.fog=new Fog(_e.fog.color,_e.fog.near,_e.fog.far):_e.fog.type==="FogExp2"&&(at.fog=new FogExp2(_e.fog.color,_e.fog.density)),_e.fog.name!==""&&(at.fog.name=_e.fog.name)),_e.backgroundBlurriness!==void 0&&(at.backgroundBlurriness=_e.backgroundBlurriness),_e.backgroundIntensity!==void 0&&(at.backgroundIntensity=_e.backgroundIntensity),_e.backgroundRotation!==void 0&&at.backgroundRotation.fromArray(_e.backgroundRotation),_e.environmentIntensity!==void 0&&(at.environmentIntensity=_e.environmentIntensity),_e.environmentRotation!==void 0&&at.environmentRotation.fromArray(_e.environmentRotation);break;case"PerspectiveCamera":at=new PerspectiveCamera(_e.fov,_e.aspect,_e.near,_e.far),_e.focus!==void 0&&(at.focus=_e.focus),_e.zoom!==void 0&&(at.zoom=_e.zoom),_e.filmGauge!==void 0&&(at.filmGauge=_e.filmGauge),_e.filmOffset!==void 0&&(at.filmOffset=_e.filmOffset),_e.view!==void 0&&(at.view=Object.assign({},_e.view));break;case"OrthographicCamera":at=new OrthographicCamera(_e.left,_e.right,_e.top,_e.bottom,_e.near,_e.far),_e.zoom!==void 0&&(at.zoom=_e.zoom),_e.view!==void 0&&(at.view=Object.assign({},_e.view));break;case"AmbientLight":at=new AmbientLight(_e.color,_e.intensity);break;case"DirectionalLight":at=new DirectionalLight(_e.color,_e.intensity),at.target=_e.target||"";break;case"PointLight":at=new PointLight(_e.color,_e.intensity,_e.distance,_e.decay);break;case"RectAreaLight":at=new RectAreaLight(_e.color,_e.intensity,_e.width,_e.height);break;case"SpotLight":at=new SpotLight(_e.color,_e.intensity,_e.distance,_e.angle,_e.penumbra,_e.decay),at.target=_e.target||"";break;case"HemisphereLight":at=new HemisphereLight(_e.color,_e.groundColor,_e.intensity);break;case"LightProbe":at=new LightProbe().fromJSON(_e);break;case"SkinnedMesh":ut=ot(_e.geometry),ft=lt(_e.material),at=new SkinnedMesh(ut,ft),_e.bindMode!==void 0&&(at.bindMode=_e.bindMode),_e.bindMatrix!==void 0&&at.bindMatrix.fromArray(_e.bindMatrix),_e.skeleton!==void 0&&(at.skeleton=_e.skeleton);break;case"Mesh":ut=ot(_e.geometry),ft=lt(_e.material),at=new Mesh(ut,ft);break;case"InstancedMesh":ut=ot(_e.geometry),ft=lt(_e.material);const ht=_e.count,pt=_e.instanceMatrix,dt=_e.instanceColor;at=new InstancedMesh(ut,ft,ht),at.instanceMatrix=new InstancedBufferAttribute(new Float32Array(pt.array),16),dt!==void 0&&(at.instanceColor=new InstancedBufferAttribute(new Float32Array(dt.array),dt.itemSize));break;case"BatchedMesh":ut=ot(_e.geometry),ft=lt(_e.material),at=new BatchedMesh(_e.maxInstanceCount,_e.maxVertexCount,_e.maxIndexCount,ft),at.geometry=ut,at.perObjectFrustumCulled=_e.perObjectFrustumCulled,at.sortObjects=_e.sortObjects,at._drawRanges=_e.drawRanges,at._reservedRanges=_e.reservedRanges,at._visibility=_e.visibility,at._active=_e.active,at._bounds=_e.bounds.map(gt=>{const vt=new Box3;vt.min.fromArray(gt.boxMin),vt.max.fromArray(gt.boxMax);const mt=new Sphere;return mt.radius=gt.sphereRadius,mt.center.fromArray(gt.sphereCenter),{boxInitialized:gt.boxInitialized,box:vt,sphereInitialized:gt.sphereInitialized,sphere:mt}}),at._maxInstanceCount=_e.maxInstanceCount,at._maxVertexCount=_e.maxVertexCount,at._maxIndexCount=_e.maxIndexCount,at._geometryInitialized=_e.geometryInitialized,at._geometryCount=_e.geometryCount,at._matricesTexture=ct(_e.matricesTexture.uuid),_e.colorsTexture!==void 0&&(at._colorsTexture=ct(_e.colorsTexture.uuid));break;case"LOD":at=new LOD;break;case"Line":at=new Line(ot(_e.geometry),lt(_e.material));break;case"LineLoop":at=new LineLoop(ot(_e.geometry),lt(_e.material));break;case"LineSegments":at=new LineSegments(ot(_e.geometry),lt(_e.material));break;case"PointCloud":case"Points":at=new Points(ot(_e.geometry),lt(_e.material));break;case"Sprite":at=new Sprite(lt(_e.material));break;case"Group":at=new Group;break;case"Bone":at=new Bone;break;default:at=new Object3D}if(at.uuid=_e.uuid,_e.name!==void 0&&(at.name=_e.name),_e.matrix!==void 0?(at.matrix.fromArray(_e.matrix),_e.matrixAutoUpdate!==void 0&&(at.matrixAutoUpdate=_e.matrixAutoUpdate),at.matrixAutoUpdate&&at.matrix.decompose(at.position,at.quaternion,at.scale)):(_e.position!==void 0&&at.position.fromArray(_e.position),_e.rotation!==void 0&&at.rotation.fromArray(_e.rotation),_e.quaternion!==void 0&&at.quaternion.fromArray(_e.quaternion),_e.scale!==void 0&&at.scale.fromArray(_e.scale)),_e.up!==void 0&&at.up.fromArray(_e.up),_e.castShadow!==void 0&&(at.castShadow=_e.castShadow),_e.receiveShadow!==void 0&&(at.receiveShadow=_e.receiveShadow),_e.shadow&&(_e.shadow.intensity!==void 0&&(at.shadow.intensity=_e.shadow.intensity),_e.shadow.bias!==void 0&&(at.shadow.bias=_e.shadow.bias),_e.shadow.normalBias!==void 0&&(at.shadow.normalBias=_e.shadow.normalBias),_e.shadow.radius!==void 0&&(at.shadow.radius=_e.shadow.radius),_e.shadow.mapSize!==void 0&&at.shadow.mapSize.fromArray(_e.shadow.mapSize),_e.shadow.camera!==void 0&&(at.shadow.camera=this.parseObject(_e.shadow.camera))),_e.visible!==void 0&&(at.visible=_e.visible),_e.frustumCulled!==void 0&&(at.frustumCulled=_e.frustumCulled),_e.renderOrder!==void 0&&(at.renderOrder=_e.renderOrder),_e.userData!==void 0&&(at.userData=_e.userData),_e.layers!==void 0&&(at.layers.mask=_e.layers),_e.children!==void 0){const ht=_e.children;for(let pt=0;pt<ht.length;pt++)at.add(this.parseObject(ht[pt],nt,rt,it,st))}if(_e.animations!==void 0){const ht=_e.animations;for(let pt=0;pt<ht.length;pt++){const dt=ht[pt];at.animations.push(st[dt])}}if(_e.type==="LOD"){_e.autoUpdate!==void 0&&(at.autoUpdate=_e.autoUpdate);const ht=_e.levels;for(let pt=0;pt<ht.length;pt++){const dt=ht[pt],gt=at.getObjectByProperty("uuid",dt.object);gt!==void 0&&at.addLevel(gt,dt.distance,dt.hysteresis)}}return at}bindSkeletons(_e,nt){Object.keys(nt).length!==0&&_e.traverse(function(rt){if(rt.isSkinnedMesh===!0&&rt.skeleton!==void 0){const it=nt[rt.skeleton];it===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",rt.skeleton):rt.bind(it,rt.bindMatrix)}})}bindLightTargets(_e){_e.traverse(function(nt){if(nt.isDirectionalLight||nt.isSpotLight){const rt=nt.target,it=_e.getObjectByProperty("uuid",rt);it!==void 0?nt.target=it:nt.target=new Object3D}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};class ImageBitmapLoader extends Loader$1{constructor(_e){super(_e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(_e){return this.options=_e,this}load(_e,nt,rt,it){_e===void 0&&(_e=""),this.path!==void 0&&(_e=this.path+_e),_e=this.manager.resolveURL(_e);const st=this,at=Cache.get(_e);if(at!==void 0){if(st.manager.itemStart(_e),at.then){at.then(ct=>{nt&&nt(ct),st.manager.itemEnd(_e)}).catch(ct=>{it&&it(ct)});return}return setTimeout(function(){nt&&nt(at),st.manager.itemEnd(_e)},0),at}const ot={};ot.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",ot.headers=this.requestHeader;const lt=fetch(_e,ot).then(function(ct){return ct.blob()}).then(function(ct){return createImageBitmap(ct,Object.assign(st.options,{colorSpaceConversion:"none"}))}).then(function(ct){return Cache.add(_e,ct),nt&&nt(ct),st.manager.itemEnd(_e),ct}).catch(function(ct){it&&it(ct),Cache.remove(_e),st.manager.itemError(_e),st.manager.itemEnd(_e)});Cache.add(_e,lt),st.manager.itemStart(_e)}}let _context;class AudioContext{static getContext(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context}static setContext(_e){_context=_e}}class AudioLoader extends Loader$1{constructor(_e){super(_e)}load(_e,nt,rt,it){const st=this,at=new FileLoader(this.manager);at.setResponseType("arraybuffer"),at.setPath(this.path),at.setRequestHeader(this.requestHeader),at.setWithCredentials(this.withCredentials),at.load(_e,function(lt){try{const ct=lt.slice(0);AudioContext.getContext().decodeAudioData(ct,function(ft){nt(ft)}).catch(ot)}catch(ct){ot(ct)}},rt,it);function ot(lt){it?it(lt):console.error(lt),st.manager.itemError(_e)}}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(_e){const nt=this._cache;if(nt.focus!==_e.focus||nt.fov!==_e.fov||nt.aspect!==_e.aspect*this.aspect||nt.near!==_e.near||nt.far!==_e.far||nt.zoom!==_e.zoom||nt.eyeSep!==this.eyeSep){nt.focus=_e.focus,nt.fov=_e.fov,nt.aspect=_e.aspect*this.aspect,nt.near=_e.near,nt.far=_e.far,nt.zoom=_e.zoom,nt.eyeSep=this.eyeSep,_projectionMatrix.copy(_e.projectionMatrix);const it=nt.eyeSep/2,st=it*nt.near/nt.focus,at=nt.near*Math.tan(DEG2RAD*nt.fov*.5)/nt.zoom;let ot,lt;_eyeLeft.elements[12]=-it,_eyeRight.elements[12]=it,ot=-at*nt.aspect+st,lt=at*nt.aspect+st,_projectionMatrix.elements[0]=2*nt.near/(lt-ot),_projectionMatrix.elements[8]=(lt+ot)/(lt-ot),this.cameraL.projectionMatrix.copy(_projectionMatrix),ot=-at*nt.aspect-st,lt=at*nt.aspect-st,_projectionMatrix.elements[0]=2*nt.near/(lt-ot),_projectionMatrix.elements[8]=(lt+ot)/(lt-ot),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy(_e.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(_e.matrixWorld).multiply(_eyeRight)}}class Clock{constructor(_e=!0){this.autoStart=_e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now$2(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let _e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const nt=now$2();_e=(nt-this.oldTime)/1e3,this.oldTime=nt,this.elapsedTime+=_e}return _e}}function now$2(){return performance.now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_orientation$1=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(_e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=_e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(_e){return this.gain.gain.setTargetAtTime(_e,this.context.currentTime,.01),this}updateMatrixWorld(_e){super.updateMatrixWorld(_e);const nt=this.context.listener,rt=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1),nt.positionX){const it=this.context.currentTime+this.timeDelta;nt.positionX.linearRampToValueAtTime(_position$1.x,it),nt.positionY.linearRampToValueAtTime(_position$1.y,it),nt.positionZ.linearRampToValueAtTime(_position$1.z,it),nt.forwardX.linearRampToValueAtTime(_orientation$1.x,it),nt.forwardY.linearRampToValueAtTime(_orientation$1.y,it),nt.forwardZ.linearRampToValueAtTime(_orientation$1.z,it),nt.upX.linearRampToValueAtTime(rt.x,it),nt.upY.linearRampToValueAtTime(rt.y,it),nt.upZ.linearRampToValueAtTime(rt.z,it)}else nt.setPosition(_position$1.x,_position$1.y,_position$1.z),nt.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,rt.x,rt.y,rt.z)}}class Audio extends Object3D{constructor(_e){super(),this.type="Audio",this.listener=_e,this.context=_e.context,this.gain=this.context.createGain(),this.gain.connect(_e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(_e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=_e,this.connect(),this}setMediaElementSource(_e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(_e),this.connect(),this}setMediaStreamSource(_e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(_e),this.connect(),this}setBuffer(_e){return this.buffer=_e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(_e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+_e;const nt=this.context.createBufferSource();return nt.buffer=this.buffer,nt.loop=this.loop,nt.loopStart=this.loopStart,nt.loopEnd=this.loopEnd,nt.onended=this.onEnded.bind(this),nt.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=nt,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(_e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+_e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let _e=1,nt=this.filters.length;_e<nt;_e++)this.filters[_e-1].connect(this.filters[_e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let _e=1,nt=this.filters.length;_e<nt;_e++)this.filters[_e-1].disconnect(this.filters[_e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(_e){return _e||(_e=[]),this._connected===!0?(this.disconnect(),this.filters=_e.slice(),this.connect()):this.filters=_e.slice(),this}setDetune(_e){return this.detune=_e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(_e){return this.setFilters(_e?[_e]:[])}setPlaybackRate(_e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=_e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(_e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=_e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(_e){return this.loopStart=_e,this}setLoopEnd(_e){return this.loopEnd=_e,this}getVolume(){return this.gain.gain.value}setVolume(_e){return this.gain.gain.setTargetAtTime(_e,this.context.currentTime,.01),this}}const _position=new Vector3,_quaternion=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio{constructor(_e){super(_e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(_e){return this.panner.refDistance=_e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(_e){return this.panner.rolloffFactor=_e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(_e){return this.panner.distanceModel=_e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(_e){return this.panner.maxDistance=_e,this}setDirectionalCone(_e,nt,rt){return this.panner.coneInnerAngle=_e,this.panner.coneOuterAngle=nt,this.panner.coneOuterGain=rt,this}updateMatrixWorld(_e){if(super.updateMatrixWorld(_e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion);const nt=this.panner;if(nt.positionX){const rt=this.context.currentTime+this.listener.timeDelta;nt.positionX.linearRampToValueAtTime(_position.x,rt),nt.positionY.linearRampToValueAtTime(_position.y,rt),nt.positionZ.linearRampToValueAtTime(_position.z,rt),nt.orientationX.linearRampToValueAtTime(_orientation.x,rt),nt.orientationY.linearRampToValueAtTime(_orientation.y,rt),nt.orientationZ.linearRampToValueAtTime(_orientation.z,rt)}else nt.setPosition(_position.x,_position.y,_position.z),nt.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor(_e,nt=2048){this.analyser=_e.context.createAnalyser(),this.analyser.fftSize=nt,this.data=new Uint8Array(this.analyser.frequencyBinCount),_e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let _e=0;const nt=this.getFrequencyData();for(let rt=0;rt<nt.length;rt++)_e+=nt[rt];return _e/nt.length}}class PropertyMixer{constructor(_e,nt,rt){this.binding=_e,this.valueSize=rt;let it,st,at;switch(nt){case"quaternion":it=this._slerp,st=this._slerpAdditive,at=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(rt*6),this._workIndex=5;break;case"string":case"bool":it=this._select,st=this._select,at=this._setAdditiveIdentityOther,this.buffer=new Array(rt*5);break;default:it=this._lerp,st=this._lerpAdditive,at=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(rt*5)}this._mixBufferRegion=it,this._mixBufferRegionAdditive=st,this._setIdentity=at,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(_e,nt){const rt=this.buffer,it=this.valueSize,st=_e*it+it;let at=this.cumulativeWeight;if(at===0){for(let ot=0;ot!==it;++ot)rt[st+ot]=rt[ot];at=nt}else{at+=nt;const ot=nt/at;this._mixBufferRegion(rt,st,0,ot,it)}this.cumulativeWeight=at}accumulateAdditive(_e){const nt=this.buffer,rt=this.valueSize,it=rt*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(nt,it,0,_e,rt),this.cumulativeWeightAdditive+=_e}apply(_e){const nt=this.valueSize,rt=this.buffer,it=_e*nt+nt,st=this.cumulativeWeight,at=this.cumulativeWeightAdditive,ot=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,st<1){const lt=nt*this._origIndex;this._mixBufferRegion(rt,it,lt,1-st,nt)}at>0&&this._mixBufferRegionAdditive(rt,it,this._addIndex*nt,1,nt);for(let lt=nt,ct=nt+nt;lt!==ct;++lt)if(rt[lt]!==rt[lt+nt]){ot.setValue(rt,it);break}}saveOriginalState(){const _e=this.binding,nt=this.buffer,rt=this.valueSize,it=rt*this._origIndex;_e.getValue(nt,it);for(let st=rt,at=it;st!==at;++st)nt[st]=nt[it+st%rt];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const _e=this.valueSize*3;this.binding.setValue(this.buffer,_e)}_setAdditiveIdentityNumeric(){const _e=this._addIndex*this.valueSize,nt=_e+this.valueSize;for(let rt=_e;rt<nt;rt++)this.buffer[rt]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const _e=this._origIndex*this.valueSize,nt=this._addIndex*this.valueSize;for(let rt=0;rt<this.valueSize;rt++)this.buffer[nt+rt]=this.buffer[_e+rt]}_select(_e,nt,rt,it,st){if(it>=.5)for(let at=0;at!==st;++at)_e[nt+at]=_e[rt+at]}_slerp(_e,nt,rt,it){Quaternion.slerpFlat(_e,nt,_e,nt,_e,rt,it)}_slerpAdditive(_e,nt,rt,it,st){const at=this._workIndex*st;Quaternion.multiplyQuaternionsFlat(_e,at,_e,nt,_e,rt),Quaternion.slerpFlat(_e,nt,_e,nt,_e,at,it)}_lerp(_e,nt,rt,it,st){const at=1-it;for(let ot=0;ot!==st;++ot){const lt=nt+ot;_e[lt]=_e[lt]*at+_e[rt+ot]*it}}_lerpAdditive(_e,nt,rt,it,st){for(let at=0;at!==st;++at){const ot=nt+at;_e[ot]=_e[ot]+_e[rt+at]*it}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor(_e,nt,rt){const it=rt||PropertyBinding.parseTrackName(nt);this._targetGroup=_e,this._bindings=_e.subscribe_(nt,it)}getValue(_e,nt){this.bind();const rt=this._targetGroup.nCachedObjects_,it=this._bindings[rt];it!==void 0&&it.getValue(_e,nt)}setValue(_e,nt){const rt=this._bindings;for(let it=this._targetGroup.nCachedObjects_,st=rt.length;it!==st;++it)rt[it].setValue(_e,nt)}bind(){const _e=this._bindings;for(let nt=this._targetGroup.nCachedObjects_,rt=_e.length;nt!==rt;++nt)_e[nt].bind()}unbind(){const _e=this._bindings;for(let nt=this._targetGroup.nCachedObjects_,rt=_e.length;nt!==rt;++nt)_e[nt].unbind()}}class PropertyBinding{constructor(_e,nt,rt){this.path=nt,this.parsedPath=rt||PropertyBinding.parseTrackName(nt),this.node=PropertyBinding.findNode(_e,this.parsedPath.nodeName),this.rootNode=_e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(_e,nt,rt){return _e&&_e.isAnimationObjectGroup?new PropertyBinding.Composite(_e,nt,rt):new PropertyBinding(_e,nt,rt)}static sanitizeNodeName(_e){return _e.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(_e){const nt=_trackRe.exec(_e);if(nt===null)throw new Error("PropertyBinding: Cannot parse trackName: "+_e);const rt={nodeName:nt[2],objectName:nt[3],objectIndex:nt[4],propertyName:nt[5],propertyIndex:nt[6]},it=rt.nodeName&&rt.nodeName.lastIndexOf(".");if(it!==void 0&&it!==-1){const st=rt.nodeName.substring(it+1);_supportedObjectNames.indexOf(st)!==-1&&(rt.nodeName=rt.nodeName.substring(0,it),rt.objectName=st)}if(rt.propertyName===null||rt.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+_e);return rt}static findNode(_e,nt){if(nt===void 0||nt===""||nt==="."||nt===-1||nt===_e.name||nt===_e.uuid)return _e;if(_e.skeleton){const rt=_e.skeleton.getBoneByName(nt);if(rt!==void 0)return rt}if(_e.children){const rt=function(st){for(let at=0;at<st.length;at++){const ot=st[at];if(ot.name===nt||ot.uuid===nt)return ot;const lt=rt(ot.children);if(lt)return lt}return null},it=rt(_e.children);if(it)return it}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(_e,nt){_e[nt]=this.targetObject[this.propertyName]}_getValue_array(_e,nt){const rt=this.resolvedProperty;for(let it=0,st=rt.length;it!==st;++it)_e[nt++]=rt[it]}_getValue_arrayElement(_e,nt){_e[nt]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(_e,nt){this.resolvedProperty.toArray(_e,nt)}_setValue_direct(_e,nt){this.targetObject[this.propertyName]=_e[nt]}_setValue_direct_setNeedsUpdate(_e,nt){this.targetObject[this.propertyName]=_e[nt],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(_e,nt){this.targetObject[this.propertyName]=_e[nt],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(_e,nt){const rt=this.resolvedProperty;for(let it=0,st=rt.length;it!==st;++it)rt[it]=_e[nt++]}_setValue_array_setNeedsUpdate(_e,nt){const rt=this.resolvedProperty;for(let it=0,st=rt.length;it!==st;++it)rt[it]=_e[nt++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(_e,nt){const rt=this.resolvedProperty;for(let it=0,st=rt.length;it!==st;++it)rt[it]=_e[nt++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(_e,nt){this.resolvedProperty[this.propertyIndex]=_e[nt]}_setValue_arrayElement_setNeedsUpdate(_e,nt){this.resolvedProperty[this.propertyIndex]=_e[nt],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(_e,nt){this.resolvedProperty[this.propertyIndex]=_e[nt],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(_e,nt){this.resolvedProperty.fromArray(_e,nt)}_setValue_fromArray_setNeedsUpdate(_e,nt){this.resolvedProperty.fromArray(_e,nt),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(_e,nt){this.resolvedProperty.fromArray(_e,nt),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(_e,nt){this.bind(),this.getValue(_e,nt)}_setValue_unbound(_e,nt){this.bind(),this.setValue(_e,nt)}bind(){let _e=this.node;const nt=this.parsedPath,rt=nt.objectName,it=nt.propertyName;let st=nt.propertyIndex;if(_e||(_e=PropertyBinding.findNode(this.rootNode,nt.nodeName),this.node=_e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!_e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(rt){let ct=nt.objectIndex;switch(rt){case"materials":if(!_e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!_e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}_e=_e.material.materials;break;case"bones":if(!_e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}_e=_e.skeleton.bones;for(let ut=0;ut<_e.length;ut++)if(_e[ut].name===ct){ct=ut;break}break;case"map":if("map"in _e){_e=_e.map;break}if(!_e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!_e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}_e=_e.material.map;break;default:if(_e[rt]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}_e=_e[rt]}if(ct!==void 0){if(_e[ct]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,_e);return}_e=_e[ct]}}const at=_e[it];if(at===void 0){const ct=nt.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+ct+"."+it+" but it wasn't found.",_e);return}let ot=this.Versioning.None;this.targetObject=_e,_e.needsUpdate!==void 0?ot=this.Versioning.NeedsUpdate:_e.matrixWorldNeedsUpdate!==void 0&&(ot=this.Versioning.MatrixWorldNeedsUpdate);let lt=this.BindingType.Direct;if(st!==void 0){if(it==="morphTargetInfluences"){if(!_e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!_e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}_e.morphTargetDictionary[st]!==void 0&&(st=_e.morphTargetDictionary[st])}lt=this.BindingType.ArrayElement,this.resolvedProperty=at,this.propertyIndex=st}else at.fromArray!==void 0&&at.toArray!==void 0?(lt=this.BindingType.HasFromToArray,this.resolvedProperty=at):Array.isArray(at)?(lt=this.BindingType.EntireArray,this.resolvedProperty=at):this.propertyName=it;this.getValue=this.GetterByBindingType[lt],this.setValue=this.SetterByBindingTypeAndVersioning[lt][ot]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID$1(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const _e={};this._indicesByUUID=_e;for(let rt=0,it=arguments.length;rt!==it;++rt)_e[arguments[rt].uuid]=rt;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const nt=this;this.stats={objects:{get total(){return nt._objects.length},get inUse(){return this.total-nt.nCachedObjects_}},get bindingsPerObject(){return nt._bindings.length}}}add(){const _e=this._objects,nt=this._indicesByUUID,rt=this._paths,it=this._parsedPaths,st=this._bindings,at=st.length;let ot,lt=_e.length,ct=this.nCachedObjects_;for(let ut=0,ft=arguments.length;ut!==ft;++ut){const ht=arguments[ut],pt=ht.uuid;let dt=nt[pt];if(dt===void 0){dt=lt++,nt[pt]=dt,_e.push(ht);for(let gt=0,vt=at;gt!==vt;++gt)st[gt].push(new PropertyBinding(ht,rt[gt],it[gt]))}else if(dt<ct){ot=_e[dt];const gt=--ct,vt=_e[gt];nt[vt.uuid]=dt,_e[dt]=vt,nt[pt]=gt,_e[gt]=ht;for(let mt=0,xt=at;mt!==xt;++mt){const St=st[mt],Et=St[gt];let bt=St[dt];St[dt]=Et,bt===void 0&&(bt=new PropertyBinding(ht,rt[mt],it[mt])),St[gt]=bt}}else _e[dt]!==ot&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=ct}remove(){const _e=this._objects,nt=this._indicesByUUID,rt=this._bindings,it=rt.length;let st=this.nCachedObjects_;for(let at=0,ot=arguments.length;at!==ot;++at){const lt=arguments[at],ct=lt.uuid,ut=nt[ct];if(ut!==void 0&&ut>=st){const ft=st++,ht=_e[ft];nt[ht.uuid]=ut,_e[ut]=ht,nt[ct]=ft,_e[ft]=lt;for(let pt=0,dt=it;pt!==dt;++pt){const gt=rt[pt],vt=gt[ft],mt=gt[ut];gt[ut]=vt,gt[ft]=mt}}}this.nCachedObjects_=st}uncache(){const _e=this._objects,nt=this._indicesByUUID,rt=this._bindings,it=rt.length;let st=this.nCachedObjects_,at=_e.length;for(let ot=0,lt=arguments.length;ot!==lt;++ot){const ct=arguments[ot],ut=ct.uuid,ft=nt[ut];if(ft!==void 0)if(delete nt[ut],ft<st){const ht=--st,pt=_e[ht],dt=--at,gt=_e[dt];nt[pt.uuid]=ft,_e[ft]=pt,nt[gt.uuid]=ht,_e[ht]=gt,_e.pop();for(let vt=0,mt=it;vt!==mt;++vt){const xt=rt[vt],St=xt[ht],Et=xt[dt];xt[ft]=St,xt[ht]=Et,xt.pop()}}else{const ht=--at,pt=_e[ht];ht>0&&(nt[pt.uuid]=ft),_e[ft]=pt,_e.pop();for(let dt=0,gt=it;dt!==gt;++dt){const vt=rt[dt];vt[ft]=vt[ht],vt.pop()}}}this.nCachedObjects_=st}subscribe_(_e,nt){const rt=this._bindingsIndicesByPath;let it=rt[_e];const st=this._bindings;if(it!==void 0)return st[it];const at=this._paths,ot=this._parsedPaths,lt=this._objects,ct=lt.length,ut=this.nCachedObjects_,ft=new Array(ct);it=st.length,rt[_e]=it,at.push(_e),ot.push(nt),st.push(ft);for(let ht=ut,pt=lt.length;ht!==pt;++ht){const dt=lt[ht];ft[ht]=new PropertyBinding(dt,_e,nt)}return ft}unsubscribe_(_e){const nt=this._bindingsIndicesByPath,rt=nt[_e];if(rt!==void 0){const it=this._paths,st=this._parsedPaths,at=this._bindings,ot=at.length-1,lt=at[ot],ct=_e[ot];nt[ct]=rt,at[rt]=lt,at.pop(),st[rt]=st[ot],st.pop(),it[rt]=it[ot],it.pop()}}}class AnimationAction{constructor(_e,nt,rt=null,it=nt.blendMode){this._mixer=_e,this._clip=nt,this._localRoot=rt,this.blendMode=it;const st=nt.tracks,at=st.length,ot=new Array(at),lt={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let ct=0;ct!==at;++ct){const ut=st[ct].createInterpolant(null);ot[ct]=ut,ut.settings=lt}this._interpolantSettings=lt,this._interpolants=ot,this._propertyBindings=new Array(at),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(_e){return this._startTime=_e,this}setLoop(_e,nt){return this.loop=_e,this.repetitions=nt,this}setEffectiveWeight(_e){return this.weight=_e,this._effectiveWeight=this.enabled?_e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(_e){return this._scheduleFading(_e,0,1)}fadeOut(_e){return this._scheduleFading(_e,1,0)}crossFadeFrom(_e,nt,rt){if(_e.fadeOut(nt),this.fadeIn(nt),rt){const it=this._clip.duration,st=_e._clip.duration,at=st/it,ot=it/st;_e.warp(1,at,nt),this.warp(ot,1,nt)}return this}crossFadeTo(_e,nt,rt){return _e.crossFadeFrom(this,nt,rt)}stopFading(){const _e=this._weightInterpolant;return _e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(_e)),this}setEffectiveTimeScale(_e){return this.timeScale=_e,this._effectiveTimeScale=this.paused?0:_e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(_e){return this.timeScale=this._clip.duration/_e,this.stopWarping()}syncWith(_e){return this.time=_e.time,this.timeScale=_e.timeScale,this.stopWarping()}halt(_e){return this.warp(this._effectiveTimeScale,0,_e)}warp(_e,nt,rt){const it=this._mixer,st=it.time,at=this.timeScale;let ot=this._timeScaleInterpolant;ot===null&&(ot=it._lendControlInterpolant(),this._timeScaleInterpolant=ot);const lt=ot.parameterPositions,ct=ot.sampleValues;return lt[0]=st,lt[1]=st+rt,ct[0]=_e/at,ct[1]=nt/at,this}stopWarping(){const _e=this._timeScaleInterpolant;return _e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(_e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(_e,nt,rt,it){if(!this.enabled){this._updateWeight(_e);return}const st=this._startTime;if(st!==null){const lt=(_e-st)*rt;lt<0||rt===0?nt=0:(this._startTime=null,nt=rt*lt)}nt*=this._updateTimeScale(_e);const at=this._updateTime(nt),ot=this._updateWeight(_e);if(ot>0){const lt=this._interpolants,ct=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let ut=0,ft=lt.length;ut!==ft;++ut)lt[ut].evaluate(at),ct[ut].accumulateAdditive(ot);break;case NormalAnimationBlendMode:default:for(let ut=0,ft=lt.length;ut!==ft;++ut)lt[ut].evaluate(at),ct[ut].accumulate(it,ot)}}}_updateWeight(_e){let nt=0;if(this.enabled){nt=this.weight;const rt=this._weightInterpolant;if(rt!==null){const it=rt.evaluate(_e)[0];nt*=it,_e>rt.parameterPositions[1]&&(this.stopFading(),it===0&&(this.enabled=!1))}}return this._effectiveWeight=nt,nt}_updateTimeScale(_e){let nt=0;if(!this.paused){nt=this.timeScale;const rt=this._timeScaleInterpolant;if(rt!==null){const it=rt.evaluate(_e)[0];nt*=it,_e>rt.parameterPositions[1]&&(this.stopWarping(),nt===0?this.paused=!0:this.timeScale=nt)}}return this._effectiveTimeScale=nt,nt}_updateTime(_e){const nt=this._clip.duration,rt=this.loop;let it=this.time+_e,st=this._loopCount;const at=rt===LoopPingPong;if(_e===0)return st===-1?it:at&&(st&1)===1?nt-it:it;if(rt===LoopOnce){st===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(it>=nt)it=nt;else if(it<0)it=0;else{this.time=it;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=it,this._mixer.dispatchEvent({type:"finished",action:this,direction:_e<0?-1:1})}}else{if(st===-1&&(_e>=0?(st=0,this._setEndings(!0,this.repetitions===0,at)):this._setEndings(this.repetitions===0,!0,at)),it>=nt||it<0){const ot=Math.floor(it/nt);it-=nt*ot,st+=Math.abs(ot);const lt=this.repetitions-st;if(lt<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,it=_e>0?nt:0,this.time=it,this._mixer.dispatchEvent({type:"finished",action:this,direction:_e>0?1:-1});else{if(lt===1){const ct=_e<0;this._setEndings(ct,!ct,at)}else this._setEndings(!1,!1,at);this._loopCount=st,this.time=it,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:ot})}}else this.time=it;if(at&&(st&1)===1)return nt-it}return it}_setEndings(_e,nt,rt){const it=this._interpolantSettings;rt?(it.endingStart=ZeroSlopeEnding,it.endingEnd=ZeroSlopeEnding):(_e?it.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:it.endingStart=WrapAroundEnding,nt?it.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:it.endingEnd=WrapAroundEnding)}_scheduleFading(_e,nt,rt){const it=this._mixer,st=it.time;let at=this._weightInterpolant;at===null&&(at=it._lendControlInterpolant(),this._weightInterpolant=at);const ot=at.parameterPositions,lt=at.sampleValues;return ot[0]=st,lt[0]=nt,ot[1]=st+_e,lt[1]=rt,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher{constructor(_e){super(),this._root=_e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(_e,nt){const rt=_e._localRoot||this._root,it=_e._clip.tracks,st=it.length,at=_e._propertyBindings,ot=_e._interpolants,lt=rt.uuid,ct=this._bindingsByRootAndName;let ut=ct[lt];ut===void 0&&(ut={},ct[lt]=ut);for(let ft=0;ft!==st;++ft){const ht=it[ft],pt=ht.name;let dt=ut[pt];if(dt!==void 0)++dt.referenceCount,at[ft]=dt;else{if(dt=at[ft],dt!==void 0){dt._cacheIndex===null&&(++dt.referenceCount,this._addInactiveBinding(dt,lt,pt));continue}const gt=nt&&nt._propertyBindings[ft].binding.parsedPath;dt=new PropertyMixer(PropertyBinding.create(rt,pt,gt),ht.ValueTypeName,ht.getValueSize()),++dt.referenceCount,this._addInactiveBinding(dt,lt,pt),at[ft]=dt}ot[ft].resultBuffer=dt.buffer}}_activateAction(_e){if(!this._isActiveAction(_e)){if(_e._cacheIndex===null){const rt=(_e._localRoot||this._root).uuid,it=_e._clip.uuid,st=this._actionsByClip[it];this._bindAction(_e,st&&st.knownActions[0]),this._addInactiveAction(_e,it,rt)}const nt=_e._propertyBindings;for(let rt=0,it=nt.length;rt!==it;++rt){const st=nt[rt];st.useCount++===0&&(this._lendBinding(st),st.saveOriginalState())}this._lendAction(_e)}}_deactivateAction(_e){if(this._isActiveAction(_e)){const nt=_e._propertyBindings;for(let rt=0,it=nt.length;rt!==it;++rt){const st=nt[rt];--st.useCount===0&&(st.restoreOriginalState(),this._takeBackBinding(st))}this._takeBackAction(_e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const _e=this;this.stats={actions:{get total(){return _e._actions.length},get inUse(){return _e._nActiveActions}},bindings:{get total(){return _e._bindings.length},get inUse(){return _e._nActiveBindings}},controlInterpolants:{get total(){return _e._controlInterpolants.length},get inUse(){return _e._nActiveControlInterpolants}}}}_isActiveAction(_e){const nt=_e._cacheIndex;return nt!==null&&nt<this._nActiveActions}_addInactiveAction(_e,nt,rt){const it=this._actions,st=this._actionsByClip;let at=st[nt];if(at===void 0)at={knownActions:[_e],actionByRoot:{}},_e._byClipCacheIndex=0,st[nt]=at;else{const ot=at.knownActions;_e._byClipCacheIndex=ot.length,ot.push(_e)}_e._cacheIndex=it.length,it.push(_e),at.actionByRoot[rt]=_e}_removeInactiveAction(_e){const nt=this._actions,rt=nt[nt.length-1],it=_e._cacheIndex;rt._cacheIndex=it,nt[it]=rt,nt.pop(),_e._cacheIndex=null;const st=_e._clip.uuid,at=this._actionsByClip,ot=at[st],lt=ot.knownActions,ct=lt[lt.length-1],ut=_e._byClipCacheIndex;ct._byClipCacheIndex=ut,lt[ut]=ct,lt.pop(),_e._byClipCacheIndex=null;const ft=ot.actionByRoot,ht=(_e._localRoot||this._root).uuid;delete ft[ht],lt.length===0&&delete at[st],this._removeInactiveBindingsForAction(_e)}_removeInactiveBindingsForAction(_e){const nt=_e._propertyBindings;for(let rt=0,it=nt.length;rt!==it;++rt){const st=nt[rt];--st.referenceCount===0&&this._removeInactiveBinding(st)}}_lendAction(_e){const nt=this._actions,rt=_e._cacheIndex,it=this._nActiveActions++,st=nt[it];_e._cacheIndex=it,nt[it]=_e,st._cacheIndex=rt,nt[rt]=st}_takeBackAction(_e){const nt=this._actions,rt=_e._cacheIndex,it=--this._nActiveActions,st=nt[it];_e._cacheIndex=it,nt[it]=_e,st._cacheIndex=rt,nt[rt]=st}_addInactiveBinding(_e,nt,rt){const it=this._bindingsByRootAndName,st=this._bindings;let at=it[nt];at===void 0&&(at={},it[nt]=at),at[rt]=_e,_e._cacheIndex=st.length,st.push(_e)}_removeInactiveBinding(_e){const nt=this._bindings,rt=_e.binding,it=rt.rootNode.uuid,st=rt.path,at=this._bindingsByRootAndName,ot=at[it],lt=nt[nt.length-1],ct=_e._cacheIndex;lt._cacheIndex=ct,nt[ct]=lt,nt.pop(),delete ot[st],Object.keys(ot).length===0&&delete at[it]}_lendBinding(_e){const nt=this._bindings,rt=_e._cacheIndex,it=this._nActiveBindings++,st=nt[it];_e._cacheIndex=it,nt[it]=_e,st._cacheIndex=rt,nt[rt]=st}_takeBackBinding(_e){const nt=this._bindings,rt=_e._cacheIndex,it=--this._nActiveBindings,st=nt[it];_e._cacheIndex=it,nt[it]=_e,st._cacheIndex=rt,nt[rt]=st}_lendControlInterpolant(){const _e=this._controlInterpolants,nt=this._nActiveControlInterpolants++;let rt=_e[nt];return rt===void 0&&(rt=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),rt.__cacheIndex=nt,_e[nt]=rt),rt}_takeBackControlInterpolant(_e){const nt=this._controlInterpolants,rt=_e.__cacheIndex,it=--this._nActiveControlInterpolants,st=nt[it];_e.__cacheIndex=it,nt[it]=_e,st.__cacheIndex=rt,nt[rt]=st}clipAction(_e,nt,rt){const it=nt||this._root,st=it.uuid;let at=typeof _e=="string"?AnimationClip.findByName(it,_e):_e;const ot=at!==null?at.uuid:_e,lt=this._actionsByClip[ot];let ct=null;if(rt===void 0&&(at!==null?rt=at.blendMode:rt=NormalAnimationBlendMode),lt!==void 0){const ft=lt.actionByRoot[st];if(ft!==void 0&&ft.blendMode===rt)return ft;ct=lt.knownActions[0],at===null&&(at=ct._clip)}if(at===null)return null;const ut=new AnimationAction(this,at,nt,rt);return this._bindAction(ut,ct),this._addInactiveAction(ut,ot,st),ut}existingAction(_e,nt){const rt=nt||this._root,it=rt.uuid,st=typeof _e=="string"?AnimationClip.findByName(rt,_e):_e,at=st?st.uuid:_e,ot=this._actionsByClip[at];return ot!==void 0&&ot.actionByRoot[it]||null}stopAllAction(){const _e=this._actions,nt=this._nActiveActions;for(let rt=nt-1;rt>=0;--rt)_e[rt].stop();return this}update(_e){_e*=this.timeScale;const nt=this._actions,rt=this._nActiveActions,it=this.time+=_e,st=Math.sign(_e),at=this._accuIndex^=1;for(let ct=0;ct!==rt;++ct)nt[ct]._update(it,_e,st,at);const ot=this._bindings,lt=this._nActiveBindings;for(let ct=0;ct!==lt;++ct)ot[ct].apply(at);return this}setTime(_e){this.time=0;for(let nt=0;nt<this._actions.length;nt++)this._actions[nt].time=0;return this.update(_e)}getRoot(){return this._root}uncacheClip(_e){const nt=this._actions,rt=_e.uuid,it=this._actionsByClip,st=it[rt];if(st!==void 0){const at=st.knownActions;for(let ot=0,lt=at.length;ot!==lt;++ot){const ct=at[ot];this._deactivateAction(ct);const ut=ct._cacheIndex,ft=nt[nt.length-1];ct._cacheIndex=null,ct._byClipCacheIndex=null,ft._cacheIndex=ut,nt[ut]=ft,nt.pop(),this._removeInactiveBindingsForAction(ct)}delete it[rt]}}uncacheRoot(_e){const nt=_e.uuid,rt=this._actionsByClip;for(const at in rt){const ot=rt[at].actionByRoot,lt=ot[nt];lt!==void 0&&(this._deactivateAction(lt),this._removeInactiveAction(lt))}const it=this._bindingsByRootAndName,st=it[nt];if(st!==void 0)for(const at in st){const ot=st[at];ot.restoreOriginalState(),this._removeInactiveBinding(ot)}}uncacheAction(_e,nt){const rt=this.existingAction(_e,nt);rt!==null&&(this._deactivateAction(rt),this._removeInactiveAction(rt))}}class Uniform{constructor(_e){this.value=_e}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let _id=0;class UniformsGroup extends EventDispatcher{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:_id++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(_e){return this.uniforms.push(_e),this}remove(_e){const nt=this.uniforms.indexOf(_e);return nt!==-1&&this.uniforms.splice(nt,1),this}setName(_e){return this.name=_e,this}setUsage(_e){return this.usage=_e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(_e){this.name=_e.name,this.usage=_e.usage;const nt=_e.uniforms;this.uniforms.length=0;for(let rt=0,it=nt.length;rt<it;rt++){const st=Array.isArray(nt[rt])?nt[rt]:[nt[rt]];for(let at=0;at<st.length;at++)this.uniforms.push(st[at].clone())}return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(_e,nt,rt=1){super(_e,nt),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=rt}copy(_e){return super.copy(_e),this.meshPerAttribute=_e.meshPerAttribute,this}clone(_e){const nt=super.clone(_e);return nt.meshPerAttribute=this.meshPerAttribute,nt}toJSON(_e){const nt=super.toJSON(_e);return nt.isInstancedInterleavedBuffer=!0,nt.meshPerAttribute=this.meshPerAttribute,nt}}class GLBufferAttribute{constructor(_e,nt,rt,it,st){this.isGLBufferAttribute=!0,this.name="",this.buffer=_e,this.type=nt,this.itemSize=rt,this.elementSize=it,this.count=st,this.version=0}set needsUpdate(_e){_e===!0&&this.version++}setBuffer(_e){return this.buffer=_e,this}setType(_e,nt){return this.type=_e,this.elementSize=nt,this}setItemSize(_e){return this.itemSize=_e,this}setCount(_e){return this.count=_e,this}}const _matrix=new Matrix4;class Raycaster{constructor(_e,nt,rt=0,it=1/0){this.ray=new Ray(_e,nt),this.near=rt,this.far=it,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(_e,nt){this.ray.set(_e,nt)}setFromCamera(_e,nt){nt.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(nt.matrixWorld),this.ray.direction.set(_e.x,_e.y,.5).unproject(nt).sub(this.ray.origin).normalize(),this.camera=nt):nt.isOrthographicCamera?(this.ray.origin.set(_e.x,_e.y,(nt.near+nt.far)/(nt.near-nt.far)).unproject(nt),this.ray.direction.set(0,0,-1).transformDirection(nt.matrixWorld),this.camera=nt):console.error("THREE.Raycaster: Unsupported camera type: "+nt.type)}setFromXRController(_e){return _matrix.identity().extractRotation(_e.matrixWorld),this.ray.origin.setFromMatrixPosition(_e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(_matrix),this}intersectObject(_e,nt=!0,rt=[]){return intersect(_e,this,rt,nt),rt.sort(ascSort),rt}intersectObjects(_e,nt=!0,rt=[]){for(let it=0,st=_e.length;it<st;it++)intersect(_e[it],this,rt,nt);return rt.sort(ascSort),rt}}function ascSort(tt,_e){return tt.distance-_e.distance}function intersect(tt,_e,nt,rt){let it=!0;if(tt.layers.test(_e.layers)&&tt.raycast(_e,nt)===!1&&(it=!1),it===!0&&rt===!0){const st=tt.children;for(let at=0,ot=st.length;at<ot;at++)intersect(st[at],_e,nt,!0)}}class Spherical{constructor(_e=1,nt=0,rt=0){return this.radius=_e,this.phi=nt,this.theta=rt,this}set(_e,nt,rt){return this.radius=_e,this.phi=nt,this.theta=rt,this}copy(_e){return this.radius=_e.radius,this.phi=_e.phi,this.theta=_e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(_e){return this.setFromCartesianCoords(_e.x,_e.y,_e.z)}setFromCartesianCoords(_e,nt,rt){return this.radius=Math.sqrt(_e*_e+nt*nt+rt*rt),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(_e,rt),this.phi=Math.acos(clamp(nt/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor(_e=1,nt=0,rt=0){return this.radius=_e,this.theta=nt,this.y=rt,this}set(_e,nt,rt){return this.radius=_e,this.theta=nt,this.y=rt,this}copy(_e){return this.radius=_e.radius,this.theta=_e.theta,this.y=_e.y,this}setFromVector3(_e){return this.setFromCartesianCoords(_e.x,_e.y,_e.z)}setFromCartesianCoords(_e,nt,rt){return this.radius=Math.sqrt(_e*_e+rt*rt),this.theta=Math.atan2(_e,rt),this.y=nt,this}clone(){return new this.constructor().copy(this)}}class Matrix2{constructor(_e,nt,rt,it){Matrix2.prototype.isMatrix2=!0,this.elements=[1,0,0,1],_e!==void 0&&this.set(_e,nt,rt,it)}identity(){return this.set(1,0,0,1),this}fromArray(_e,nt=0){for(let rt=0;rt<4;rt++)this.elements[rt]=_e[rt+nt];return this}set(_e,nt,rt,it){const st=this.elements;return st[0]=_e,st[2]=nt,st[1]=rt,st[3]=it,this}}const _vector$4=new Vector2;class Box2{constructor(_e=new Vector2(1/0,1/0),nt=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=_e,this.max=nt}set(_e,nt){return this.min.copy(_e),this.max.copy(nt),this}setFromPoints(_e){this.makeEmpty();for(let nt=0,rt=_e.length;nt<rt;nt++)this.expandByPoint(_e[nt]);return this}setFromCenterAndSize(_e,nt){const rt=_vector$4.copy(nt).multiplyScalar(.5);return this.min.copy(_e).sub(rt),this.max.copy(_e).add(rt),this}clone(){return new this.constructor().copy(this)}copy(_e){return this.min.copy(_e.min),this.max.copy(_e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(_e){return this.isEmpty()?_e.set(0,0):_e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(_e){return this.isEmpty()?_e.set(0,0):_e.subVectors(this.max,this.min)}expandByPoint(_e){return this.min.min(_e),this.max.max(_e),this}expandByVector(_e){return this.min.sub(_e),this.max.add(_e),this}expandByScalar(_e){return this.min.addScalar(-_e),this.max.addScalar(_e),this}containsPoint(_e){return _e.x>=this.min.x&&_e.x<=this.max.x&&_e.y>=this.min.y&&_e.y<=this.max.y}containsBox(_e){return this.min.x<=_e.min.x&&_e.max.x<=this.max.x&&this.min.y<=_e.min.y&&_e.max.y<=this.max.y}getParameter(_e,nt){return nt.set((_e.x-this.min.x)/(this.max.x-this.min.x),(_e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(_e){return _e.max.x>=this.min.x&&_e.min.x<=this.max.x&&_e.max.y>=this.min.y&&_e.min.y<=this.max.y}clampPoint(_e,nt){return nt.copy(_e).clamp(this.min,this.max)}distanceToPoint(_e){return this.clampPoint(_e,_vector$4).distanceTo(_e)}intersect(_e){return this.min.max(_e.min),this.max.min(_e.max),this.isEmpty()&&this.makeEmpty(),this}union(_e){return this.min.min(_e.min),this.max.max(_e.max),this}translate(_e){return this.min.add(_e),this.max.add(_e),this}equals(_e){return _e.min.equals(this.min)&&_e.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor(_e=new Vector3,nt=new Vector3){this.start=_e,this.end=nt}set(_e,nt){return this.start.copy(_e),this.end.copy(nt),this}copy(_e){return this.start.copy(_e.start),this.end.copy(_e.end),this}getCenter(_e){return _e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(_e){return _e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(_e,nt){return this.delta(nt).multiplyScalar(_e).add(this.start)}closestPointToPointParameter(_e,nt){_startP.subVectors(_e,this.start),_startEnd.subVectors(this.end,this.start);const rt=_startEnd.dot(_startEnd);let st=_startEnd.dot(_startP)/rt;return nt&&(st=clamp(st,0,1)),st}closestPointToPoint(_e,nt,rt){const it=this.closestPointToPointParameter(_e,nt);return this.delta(rt).multiplyScalar(it).add(this.start)}applyMatrix4(_e){return this.start.applyMatrix4(_e),this.end.applyMatrix4(_e),this}equals(_e){return _e.start.equals(this.start)&&_e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor(_e,nt){super(),this.light=_e,this.matrixAutoUpdate=!1,this.color=nt,this.type="SpotLightHelper";const rt=new BufferGeometry,it=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let at=0,ot=1,lt=32;at<lt;at++,ot++){const ct=at/lt*Math.PI*2,ut=ot/lt*Math.PI*2;it.push(Math.cos(ct),Math.sin(ct),1,Math.cos(ut),Math.sin(ut),1)}rt.setAttribute("position",new Float32BufferAttribute(it,3));const st=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(rt,st),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const _e=this.light.distance?this.light.distance:1e3,nt=_e*Math.tan(this.light.angle);this.cone.scale.set(nt,nt,_e),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(_e){const nt=getBoneList(_e),rt=new BufferGeometry,it=[],st=[],at=new Color(0,0,1),ot=new Color(0,1,0);for(let ct=0;ct<nt.length;ct++){const ut=nt[ct];ut.parent&&ut.parent.isBone&&(it.push(0,0,0),it.push(0,0,0),st.push(at.r,at.g,at.b),st.push(ot.r,ot.g,ot.b))}rt.setAttribute("position",new Float32BufferAttribute(it,3)),rt.setAttribute("color",new Float32BufferAttribute(st,3));const lt=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(rt,lt),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=_e,this.bones=nt,this.matrix=_e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(_e){const nt=this.bones,rt=this.geometry,it=rt.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let st=0,at=0;st<nt.length;st++){const ot=nt[st];ot.parent&&ot.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,ot.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),it.setXYZ(at,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,ot.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),it.setXYZ(at+1,_vector$2.x,_vector$2.y,_vector$2.z),at+=2)}rt.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(_e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function getBoneList(tt){const _e=[];tt.isBone===!0&&_e.push(tt);for(let nt=0;nt<tt.children.length;nt++)_e.push.apply(_e,getBoneList(tt.children[nt]));return _e}class PointLightHelper extends Mesh{constructor(_e,nt,rt){const it=new SphereGeometry(nt,4,2),st=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(it,st),this.light=_e,this.color=rt,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color,_color2=new Color;class HemisphereLightHelper extends Object3D{constructor(_e,nt,rt){super(),this.light=_e,this.matrix=_e.matrixWorld,this.matrixAutoUpdate=!1,this.color=rt,this.type="HemisphereLightHelper";const it=new OctahedronGeometry(nt);it.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const st=it.getAttribute("position"),at=new Float32Array(st.count*3);it.setAttribute("color",new BufferAttribute(at,3)),this.add(new Mesh(it,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const _e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const nt=_e.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let rt=0,it=nt.count;rt<it;rt++){const st=rt<it/2?_color1:_color2;nt.setXYZ(rt,st.r,st.g,st.b)}nt.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),_e.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor(_e=10,nt=10,rt=4473924,it=8947848){rt=new Color(rt),it=new Color(it);const st=nt/2,at=_e/nt,ot=_e/2,lt=[],ct=[];for(let ht=0,pt=0,dt=-ot;ht<=nt;ht++,dt+=at){lt.push(-ot,0,dt,ot,0,dt),lt.push(dt,0,-ot,dt,0,ot);const gt=ht===st?rt:it;gt.toArray(ct,pt),pt+=3,gt.toArray(ct,pt),pt+=3,gt.toArray(ct,pt),pt+=3,gt.toArray(ct,pt),pt+=3}const ut=new BufferGeometry;ut.setAttribute("position",new Float32BufferAttribute(lt,3)),ut.setAttribute("color",new Float32BufferAttribute(ct,3));const ft=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(ut,ft),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PolarGridHelper extends LineSegments{constructor(_e=10,nt=16,rt=8,it=64,st=4473924,at=8947848){st=new Color(st),at=new Color(at);const ot=[],lt=[];if(nt>1)for(let ft=0;ft<nt;ft++){const ht=ft/nt*(Math.PI*2),pt=Math.sin(ht)*_e,dt=Math.cos(ht)*_e;ot.push(0,0,0),ot.push(pt,0,dt);const gt=ft&1?st:at;lt.push(gt.r,gt.g,gt.b),lt.push(gt.r,gt.g,gt.b)}for(let ft=0;ft<rt;ft++){const ht=ft&1?st:at,pt=_e-_e/rt*ft;for(let dt=0;dt<it;dt++){let gt=dt/it*(Math.PI*2),vt=Math.sin(gt)*pt,mt=Math.cos(gt)*pt;ot.push(vt,0,mt),lt.push(ht.r,ht.g,ht.b),gt=(dt+1)/it*(Math.PI*2),vt=Math.sin(gt)*pt,mt=Math.cos(gt)*pt,ot.push(vt,0,mt),lt.push(ht.r,ht.g,ht.b)}}const ct=new BufferGeometry;ct.setAttribute("position",new Float32BufferAttribute(ot,3)),ct.setAttribute("color",new Float32BufferAttribute(lt,3));const ut=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(ct,ut),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor(_e,nt,rt){super(),this.light=_e,this.matrix=_e.matrixWorld,this.matrixAutoUpdate=!1,this.color=rt,this.type="DirectionalLightHelper",nt===void 0&&(nt=1);let it=new BufferGeometry;it.setAttribute("position",new Float32BufferAttribute([-nt,nt,0,nt,nt,0,nt,-nt,0,-nt,-nt,0,-nt,nt,0],3));const st=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line(it,st),this.add(this.lightPlane),it=new BufferGeometry,it.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(it,st),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_v1.setFromMatrixPosition(this.light.matrixWorld),_v2.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2,_v1),this.lightPlane.lookAt(_v2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2),this.targetLine.scale.z=_v3.length()}}const _vector=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor(_e){const nt=new BufferGeometry,rt=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),it=[],st=[],at={};ot("n1","n2"),ot("n2","n4"),ot("n4","n3"),ot("n3","n1"),ot("f1","f2"),ot("f2","f4"),ot("f4","f3"),ot("f3","f1"),ot("n1","f1"),ot("n2","f2"),ot("n3","f3"),ot("n4","f4"),ot("p","n1"),ot("p","n2"),ot("p","n3"),ot("p","n4"),ot("u1","u2"),ot("u2","u3"),ot("u3","u1"),ot("c","t"),ot("p","c"),ot("cn1","cn2"),ot("cn3","cn4"),ot("cf1","cf2"),ot("cf3","cf4");function ot(dt,gt){lt(dt),lt(gt)}function lt(dt){it.push(0,0,0),st.push(0,0,0),at[dt]===void 0&&(at[dt]=[]),at[dt].push(it.length/3-1)}nt.setAttribute("position",new Float32BufferAttribute(it,3)),nt.setAttribute("color",new Float32BufferAttribute(st,3)),super(nt,rt),this.type="CameraHelper",this.camera=_e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=_e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=at,this.update();const ct=new Color(16755200),ut=new Color(16711680),ft=new Color(43775),ht=new Color(16777215),pt=new Color(3355443);this.setColors(ct,ut,ft,ht,pt)}setColors(_e,nt,rt,it,st){const ot=this.geometry.getAttribute("color");ot.setXYZ(0,_e.r,_e.g,_e.b),ot.setXYZ(1,_e.r,_e.g,_e.b),ot.setXYZ(2,_e.r,_e.g,_e.b),ot.setXYZ(3,_e.r,_e.g,_e.b),ot.setXYZ(4,_e.r,_e.g,_e.b),ot.setXYZ(5,_e.r,_e.g,_e.b),ot.setXYZ(6,_e.r,_e.g,_e.b),ot.setXYZ(7,_e.r,_e.g,_e.b),ot.setXYZ(8,_e.r,_e.g,_e.b),ot.setXYZ(9,_e.r,_e.g,_e.b),ot.setXYZ(10,_e.r,_e.g,_e.b),ot.setXYZ(11,_e.r,_e.g,_e.b),ot.setXYZ(12,_e.r,_e.g,_e.b),ot.setXYZ(13,_e.r,_e.g,_e.b),ot.setXYZ(14,_e.r,_e.g,_e.b),ot.setXYZ(15,_e.r,_e.g,_e.b),ot.setXYZ(16,_e.r,_e.g,_e.b),ot.setXYZ(17,_e.r,_e.g,_e.b),ot.setXYZ(18,_e.r,_e.g,_e.b),ot.setXYZ(19,_e.r,_e.g,_e.b),ot.setXYZ(20,_e.r,_e.g,_e.b),ot.setXYZ(21,_e.r,_e.g,_e.b),ot.setXYZ(22,_e.r,_e.g,_e.b),ot.setXYZ(23,_e.r,_e.g,_e.b),ot.setXYZ(24,nt.r,nt.g,nt.b),ot.setXYZ(25,nt.r,nt.g,nt.b),ot.setXYZ(26,nt.r,nt.g,nt.b),ot.setXYZ(27,nt.r,nt.g,nt.b),ot.setXYZ(28,nt.r,nt.g,nt.b),ot.setXYZ(29,nt.r,nt.g,nt.b),ot.setXYZ(30,nt.r,nt.g,nt.b),ot.setXYZ(31,nt.r,nt.g,nt.b),ot.setXYZ(32,rt.r,rt.g,rt.b),ot.setXYZ(33,rt.r,rt.g,rt.b),ot.setXYZ(34,rt.r,rt.g,rt.b),ot.setXYZ(35,rt.r,rt.g,rt.b),ot.setXYZ(36,rt.r,rt.g,rt.b),ot.setXYZ(37,rt.r,rt.g,rt.b),ot.setXYZ(38,it.r,it.g,it.b),ot.setXYZ(39,it.r,it.g,it.b),ot.setXYZ(40,st.r,st.g,st.b),ot.setXYZ(41,st.r,st.g,st.b),ot.setXYZ(42,st.r,st.g,st.b),ot.setXYZ(43,st.r,st.g,st.b),ot.setXYZ(44,st.r,st.g,st.b),ot.setXYZ(45,st.r,st.g,st.b),ot.setXYZ(46,st.r,st.g,st.b),ot.setXYZ(47,st.r,st.g,st.b),ot.setXYZ(48,st.r,st.g,st.b),ot.setXYZ(49,st.r,st.g,st.b),ot.needsUpdate=!0}update(){const _e=this.geometry,nt=this.pointMap,rt=1,it=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),setPoint("c",nt,_e,_camera,0,0,-1),setPoint("t",nt,_e,_camera,0,0,1),setPoint("n1",nt,_e,_camera,-rt,-it,-1),setPoint("n2",nt,_e,_camera,rt,-it,-1),setPoint("n3",nt,_e,_camera,-rt,it,-1),setPoint("n4",nt,_e,_camera,rt,it,-1),setPoint("f1",nt,_e,_camera,-rt,-it,1),setPoint("f2",nt,_e,_camera,rt,-it,1),setPoint("f3",nt,_e,_camera,-rt,it,1),setPoint("f4",nt,_e,_camera,rt,it,1),setPoint("u1",nt,_e,_camera,rt*.7,it*1.1,-1),setPoint("u2",nt,_e,_camera,-rt*.7,it*1.1,-1),setPoint("u3",nt,_e,_camera,0,it*2,-1),setPoint("cf1",nt,_e,_camera,-rt,0,1),setPoint("cf2",nt,_e,_camera,rt,0,1),setPoint("cf3",nt,_e,_camera,0,-it,1),setPoint("cf4",nt,_e,_camera,0,it,1),setPoint("cn1",nt,_e,_camera,-rt,0,-1),setPoint("cn2",nt,_e,_camera,rt,0,-1),setPoint("cn3",nt,_e,_camera,0,-it,-1),setPoint("cn4",nt,_e,_camera,0,it,-1),_e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint(tt,_e,nt,rt,it,st,at){_vector.set(it,st,at).unproject(rt);const ot=_e[tt];if(ot!==void 0){const lt=nt.getAttribute("position");for(let ct=0,ut=ot.length;ct<ut;ct++)lt.setXYZ(ot[ct],_vector.x,_vector.y,_vector.z)}}const _box=new Box3;class BoxHelper extends LineSegments{constructor(_e,nt=16776960){const rt=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),it=new Float32Array(8*3),st=new BufferGeometry;st.setIndex(new BufferAttribute(rt,1)),st.setAttribute("position",new BufferAttribute(it,3)),super(st,new LineBasicMaterial({color:nt,toneMapped:!1})),this.object=_e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(_e){if(_e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_box.setFromObject(this.object),_box.isEmpty())return;const nt=_box.min,rt=_box.max,it=this.geometry.attributes.position,st=it.array;st[0]=rt.x,st[1]=rt.y,st[2]=rt.z,st[3]=nt.x,st[4]=rt.y,st[5]=rt.z,st[6]=nt.x,st[7]=nt.y,st[8]=rt.z,st[9]=rt.x,st[10]=nt.y,st[11]=rt.z,st[12]=rt.x,st[13]=rt.y,st[14]=nt.z,st[15]=nt.x,st[16]=rt.y,st[17]=nt.z,st[18]=nt.x,st[19]=nt.y,st[20]=nt.z,st[21]=rt.x,st[22]=nt.y,st[23]=nt.z,it.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(_e){return this.object=_e,this.update(),this}copy(_e,nt){return super.copy(_e,nt),this.object=_e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Box3Helper extends LineSegments{constructor(_e,nt=16776960){const rt=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),it=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],st=new BufferGeometry;st.setIndex(new BufferAttribute(rt,1)),st.setAttribute("position",new Float32BufferAttribute(it,3)),super(st,new LineBasicMaterial({color:nt,toneMapped:!1})),this.box=_e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(_e){const nt=this.box;nt.isEmpty()||(nt.getCenter(this.position),nt.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(_e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class PlaneHelper extends Line{constructor(_e,nt=1,rt=16776960){const it=rt,st=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],at=new BufferGeometry;at.setAttribute("position",new Float32BufferAttribute(st,3)),at.computeBoundingSphere(),super(at,new LineBasicMaterial({color:it,toneMapped:!1})),this.type="PlaneHelper",this.plane=_e,this.size=nt;const ot=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],lt=new BufferGeometry;lt.setAttribute("position",new Float32BufferAttribute(ot,3)),lt.computeBoundingSphere(),this.add(new Mesh(lt,new MeshBasicMaterial({color:it,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(_e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(_e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor(_e=new Vector3(0,0,1),nt=new Vector3(0,0,0),rt=1,it=16776960,st=rt*.2,at=st*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new CylinderGeometry(0,.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(nt),this.line=new Line(_lineGeometry,new LineBasicMaterial({color:it,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:it,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(_e),this.setLength(rt,st,at)}setDirection(_e){if(_e.y>.99999)this.quaternion.set(0,0,0,1);else if(_e.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(_e.z,0,-_e.x).normalize();const nt=Math.acos(_e.y);this.quaternion.setFromAxisAngle(_axis,nt)}}setLength(_e,nt=_e*.2,rt=nt*.2){this.line.scale.set(1,Math.max(1e-4,_e-nt),1),this.line.updateMatrix(),this.cone.scale.set(rt,nt,rt),this.cone.position.y=_e,this.cone.updateMatrix()}setColor(_e){this.line.material.color.set(_e),this.cone.material.color.set(_e)}copy(_e){return super.copy(_e,!1),this.line.copy(_e.line),this.cone.copy(_e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AxesHelper extends LineSegments{constructor(_e=1){const nt=[0,0,0,_e,0,0,0,0,0,0,_e,0,0,0,0,0,0,_e],rt=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],it=new BufferGeometry;it.setAttribute("position",new Float32BufferAttribute(nt,3)),it.setAttribute("color",new Float32BufferAttribute(rt,3));const st=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(it,st),this.type="AxesHelper"}setColors(_e,nt,rt){const it=new Color,st=this.geometry.attributes.color.array;return it.set(_e),it.toArray(st,0),it.toArray(st,3),it.set(nt),it.toArray(st,6),it.toArray(st,9),it.set(rt),it.toArray(st,12),it.toArray(st,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color,this.subPaths=[],this.currentPath=null}moveTo(_e,nt){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(_e,nt),this}lineTo(_e,nt){return this.currentPath.lineTo(_e,nt),this}quadraticCurveTo(_e,nt,rt,it){return this.currentPath.quadraticCurveTo(_e,nt,rt,it),this}bezierCurveTo(_e,nt,rt,it,st,at){return this.currentPath.bezierCurveTo(_e,nt,rt,it,st,at),this}splineThru(_e){return this.currentPath.splineThru(_e),this}toShapes(_e){function nt(mt){const xt=[];for(let St=0,Et=mt.length;St<Et;St++){const bt=mt[St],Tt=new Shape;Tt.curves=bt.curves,xt.push(Tt)}return xt}function rt(mt,xt){const St=xt.length;let Et=!1;for(let bt=St-1,Tt=0;Tt<St;bt=Tt++){let At=xt[bt],Ct=xt[Tt],Pt=Ct.x-At.x,It=Ct.y-At.y;if(Math.abs(It)>Number.EPSILON){if(It<0&&(At=xt[Tt],Pt=-Pt,Ct=xt[bt],It=-It),mt.y<At.y||mt.y>Ct.y)continue;if(mt.y===At.y){if(mt.x===At.x)return!0}else{const Lt=It*(mt.x-At.x)-Pt*(mt.y-At.y);if(Lt===0)return!0;if(Lt<0)continue;Et=!Et}}else{if(mt.y!==At.y)continue;if(Ct.x<=mt.x&&mt.x<=At.x||At.x<=mt.x&&mt.x<=Ct.x)return!0}}return Et}const it=ShapeUtils.isClockWise,st=this.subPaths;if(st.length===0)return[];let at,ot,lt;const ct=[];if(st.length===1)return ot=st[0],lt=new Shape,lt.curves=ot.curves,ct.push(lt),ct;let ut=!it(st[0].getPoints());ut=_e?!ut:ut;const ft=[],ht=[];let pt=[],dt=0,gt;ht[dt]=void 0,pt[dt]=[];for(let mt=0,xt=st.length;mt<xt;mt++)ot=st[mt],gt=ot.getPoints(),at=it(gt),at=_e?!at:at,at?(!ut&&ht[dt]&&dt++,ht[dt]={s:new Shape,p:gt},ht[dt].s.curves=ot.curves,ut&&dt++,pt[dt]=[]):pt[dt].push({h:ot,p:gt[0]});if(!ht[0])return nt(st);if(ht.length>1){let mt=!1,xt=0;for(let St=0,Et=ht.length;St<Et;St++)ft[St]=[];for(let St=0,Et=ht.length;St<Et;St++){const bt=pt[St];for(let Tt=0;Tt<bt.length;Tt++){const At=bt[Tt];let Ct=!0;for(let Pt=0;Pt<ht.length;Pt++)rt(At.p,ht[Pt].p)&&(St!==Pt&&xt++,Ct?(Ct=!1,ft[Pt].push(At)):mt=!0);Ct&&ft[St].push(At)}}xt>0&&mt===!1&&(pt=ft)}let vt;for(let mt=0,xt=ht.length;mt<xt;mt++){lt=ht[mt].s,ct.push(lt),vt=pt[mt];for(let St=0,Et=vt.length;St<Et;St++)lt.holes.push(vt[St].h)}return ct}}class Controls extends EventDispatcher{constructor(_e,nt=null){super(),this.object=_e,this.domElement=nt,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}class WebGLMultipleRenderTargets extends WebGLRenderTarget{constructor(_e=1,nt=1,rt=1,it={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(_e,nt,{...it,count:rt}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);const THREE=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AgXToneMapping,AlphaFormat,AlwaysCompare,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AnimationAction,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,AttachedBindMode,Audio,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,BatchedMesh,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleGeometry,ClampToEdgeWrapping,Clock,Color,ColorKeyframeTrack,ColorManagement,CompressedArrayTexture,CompressedCubeTexture,CompressedTexture,CompressedTextureLoader,ConeGeometry,ConstantAlphaFactor,ConstantColorFactor,Controls,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve,CurvePath,CustomBlending,CustomToneMapping,CylinderGeometry,Cylindrical,Data3DTexture,DataArrayTexture,DataTexture,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthFormat,DepthStencilFormat,DepthTexture,DetachedBindMode,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualCompare,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,GLBufferAttribute,GLSL1,GLSL3,GreaterCompare,GreaterDepth,GreaterEqualCompare,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group,HalfFloatType,HemisphereLight,HemisphereLightHelper,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheGeometry,Layers,LessCompare,LessDepth,LessEqualCompare,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,Line,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace,LinearToneMapping,LinearTransfer,Loader:Loader$1,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,LuminanceAlphaFormat,LuminanceFormat,MOUSE,Material,MaterialLoader,MathUtils,Matrix2,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeutralToneMapping,NeverCompare,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualCompare,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronGeometry,OneFactor,OneMinusConstantAlphaFactor,OneMinusConstantColorFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path,PerspectiveCamera,Plane,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points,PointsMaterial,PolarGridHelper,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,RED_GREEN_RGTC2_Format,RED_RGTC1_Format,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGBDepthPacking,RGBFormat,RGBIntegerFormat,RGB_BPTC_SIGNED_Format,RGB_BPTC_UNSIGNED_Format,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGDepthPacking,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RenderTarget,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingGeometry,SIGNED_RED_GREEN_RGTC2_Format,SIGNED_RED_RGTC1_Format,SRGBColorSpace,SRGBTransfer,Scene,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,Source,Sphere,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronGeometry,Texture,TextureLoader,TextureUtils,TorusGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeGeometry,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedInt5999Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoTexture,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCoordinateSystem,WebGLCubeRenderTarget,WebGLMultipleRenderTargets,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WebGPUCoordinateSystem,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,createCanvasElement},Symbol.toStringTag,{value:"Module"}));var constants={exports:{}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */reactReconcilerConstants_production_min.ConcurrentRoot=1;reactReconcilerConstants_production_min.ContinuousEventPriority=4;reactReconcilerConstants_production_min.DefaultEventPriority=16;reactReconcilerConstants_production_min.DiscreteEventPriority=1;reactReconcilerConstants_production_min.IdleEventPriority=536870912;reactReconcilerConstants_production_min.LegacyRoot=0;constants.exports=reactReconcilerConstants_production_min;var constantsExports=constants.exports;function createStore$2(tt){let _e;const nt=new Set,rt=(ct,ut)=>{const ft=typeof ct=="function"?ct(_e):ct;if(ft!==_e){const ht=_e;_e=ut?ft:Object.assign({},_e,ft),nt.forEach(pt=>pt(_e,ht))}},it=()=>_e,st=(ct,ut=it,ft=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let ht=ut(_e);function pt(){const dt=ut(_e);if(!ft(ht,dt)){const gt=ht;ct(ht=dt,gt)}}return nt.add(pt),()=>nt.delete(pt)},lt={setState:rt,getState:it,subscribe:(ct,ut,ft)=>ut||ft?st(ct,ut,ft):(nt.add(ct),()=>nt.delete(ct)),destroy:()=>nt.clear()};return _e=tt(rt,it,lt),lt}const isSSR=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$1=isSSR?reactExports.useEffect:reactExports.useLayoutEffect;function create$1(tt){const _e=typeof tt=="function"?createStore$2(tt):tt,nt=(rt=_e.getState,it=Object.is)=>{const[,st]=reactExports.useReducer(vt=>vt+1,0),at=_e.getState(),ot=reactExports.useRef(at),lt=reactExports.useRef(rt),ct=reactExports.useRef(it),ut=reactExports.useRef(!1),ft=reactExports.useRef();ft.current===void 0&&(ft.current=rt(at));let ht,pt=!1;(ot.current!==at||lt.current!==rt||ct.current!==it||ut.current)&&(ht=rt(at),pt=!it(ft.current,ht)),useIsomorphicLayoutEffect$1(()=>{pt&&(ft.current=ht),ot.current=at,lt.current=rt,ct.current=it,ut.current=!1});const dt=reactExports.useRef(at);useIsomorphicLayoutEffect$1(()=>{const vt=()=>{try{const xt=_e.getState(),St=lt.current(xt);ct.current(ft.current,St)||(ot.current=xt,ft.current=St,st())}catch{ut.current=!0,st()}},mt=_e.subscribe(vt);return _e.getState()!==dt.current&&vt(),mt},[]);const gt=pt?ht:ft.current;return reactExports.useDebugValue(gt),gt};return Object.assign(nt,_e),nt[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const rt=[nt,_e];return{next(){const it=rt.length<=0;return{value:rt.shift(),done:it}}}},nt}const isPromise=tt=>typeof tt=="object"&&typeof tt.then=="function",globalCache=[];function shallowEqualArrays(tt,_e,nt=(rt,it)=>rt===it){if(tt===_e)return!0;if(!tt||!_e)return!1;const rt=tt.length;if(_e.length!==rt)return!1;for(let it=0;it<rt;it++)if(!nt(tt[it],_e[it]))return!1;return!0}function query(tt,_e=null,nt=!1,rt={}){_e===null&&(_e=[tt]);for(const st of globalCache)if(shallowEqualArrays(_e,st.keys,st.equal)){if(nt)return;if(Object.prototype.hasOwnProperty.call(st,"error"))throw st.error;if(Object.prototype.hasOwnProperty.call(st,"response"))return rt.lifespan&&rt.lifespan>0&&(st.timeout&&clearTimeout(st.timeout),st.timeout=setTimeout(st.remove,rt.lifespan)),st.response;if(!nt)throw st.promise}const it={keys:_e,equal:rt.equal,remove:()=>{const st=globalCache.indexOf(it);st!==-1&&globalCache.splice(st,1)},promise:(isPromise(tt)?tt:tt(..._e)).then(st=>{it.response=st,rt.lifespan&&rt.lifespan>0&&(it.timeout=setTimeout(it.remove,rt.lifespan))}).catch(st=>it.error=st)};if(globalCache.push(it),!nt)throw it.promise}const suspend=(tt,_e,nt)=>query(tt,_e,!1,nt),preload=(tt,_e,nt)=>void query(tt,_e,!0,nt),clear=tt=>{if(tt===void 0||tt.length===0)globalCache.splice(0,globalCache.length);else{const _e=globalCache.find(nt=>shallowEqualArrays(tt,nt.keys,nt.equal));_e&&_e.remove()}};var reactReconciler={exports:{}},scheduler$1={exports:{}},scheduler_production_min$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(tt){function _e(Mt,Rt){var Nt=Mt.length;Mt.push(Rt);e:for(;0<Nt;){var Ft=Nt-1>>>1,qt=Mt[Ft];if(0<it(qt,Rt))Mt[Ft]=Rt,Mt[Nt]=qt,Nt=Ft;else break e}}function nt(Mt){return Mt.length===0?null:Mt[0]}function rt(Mt){if(Mt.length===0)return null;var Rt=Mt[0],Nt=Mt.pop();if(Nt!==Rt){Mt[0]=Nt;e:for(var Ft=0,qt=Mt.length,Qt=qt>>>1;Ft<Qt;){var Kt=2*(Ft+1)-1,Zt=Mt[Kt],tn=Kt+1,en=Mt[tn];if(0>it(Zt,Nt))tn<qt&&0>it(en,Zt)?(Mt[Ft]=en,Mt[tn]=Nt,Ft=tn):(Mt[Ft]=Zt,Mt[Kt]=Nt,Ft=Kt);else if(tn<qt&&0>it(en,Nt))Mt[Ft]=en,Mt[tn]=Nt,Ft=tn;else break e}}return Rt}function it(Mt,Rt){var Nt=Mt.sortIndex-Rt.sortIndex;return Nt!==0?Nt:Mt.id-Rt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var st=performance;tt.unstable_now=function(){return st.now()}}else{var at=Date,ot=at.now();tt.unstable_now=function(){return at.now()-ot}}var lt=[],ct=[],ut=1,ft=null,ht=3,pt=!1,dt=!1,gt=!1,vt=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,xt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function St(Mt){for(var Rt=nt(ct);Rt!==null;){if(Rt.callback===null)rt(ct);else if(Rt.startTime<=Mt)rt(ct),Rt.sortIndex=Rt.expirationTime,_e(lt,Rt);else break;Rt=nt(ct)}}function Et(Mt){if(gt=!1,St(Mt),!dt)if(nt(lt)!==null)dt=!0,Dt(bt);else{var Rt=nt(ct);Rt!==null&&$t(Et,Rt.startTime-Mt)}}function bt(Mt,Rt){dt=!1,gt&&(gt=!1,mt(Ct),Ct=-1),pt=!0;var Nt=ht;try{for(St(Rt),ft=nt(lt);ft!==null&&(!(ft.expirationTime>Rt)||Mt&&!Lt());){var Ft=ft.callback;if(typeof Ft=="function"){ft.callback=null,ht=ft.priorityLevel;var qt=Ft(ft.expirationTime<=Rt);Rt=tt.unstable_now(),typeof qt=="function"?ft.callback=qt:ft===nt(lt)&&rt(lt),St(Rt)}else rt(lt);ft=nt(lt)}if(ft!==null)var Qt=!0;else{var Kt=nt(ct);Kt!==null&&$t(Et,Kt.startTime-Rt),Qt=!1}return Qt}finally{ft=null,ht=Nt,pt=!1}}var Tt=!1,At=null,Ct=-1,Pt=5,It=-1;function Lt(){return!(tt.unstable_now()-It<Pt)}function Vt(){if(At!==null){var Mt=tt.unstable_now();It=Mt;var Rt=!0;try{Rt=At(!0,Mt)}finally{Rt?Ut():(Tt=!1,At=null)}}else Tt=!1}var Ut;if(typeof xt=="function")Ut=function(){xt(Vt)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,zt=Ot.port2;Ot.port1.onmessage=Vt,Ut=function(){zt.postMessage(null)}}else Ut=function(){vt(Vt,0)};function Dt(Mt){At=Mt,Tt||(Tt=!0,Ut())}function $t(Mt,Rt){Ct=vt(function(){Mt(tt.unstable_now())},Rt)}tt.unstable_IdlePriority=5,tt.unstable_ImmediatePriority=1,tt.unstable_LowPriority=4,tt.unstable_NormalPriority=3,tt.unstable_Profiling=null,tt.unstable_UserBlockingPriority=2,tt.unstable_cancelCallback=function(Mt){Mt.callback=null},tt.unstable_continueExecution=function(){dt||pt||(dt=!0,Dt(bt))},tt.unstable_forceFrameRate=function(Mt){0>Mt||125<Mt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Pt=0<Mt?Math.floor(1e3/Mt):5},tt.unstable_getCurrentPriorityLevel=function(){return ht},tt.unstable_getFirstCallbackNode=function(){return nt(lt)},tt.unstable_next=function(Mt){switch(ht){case 1:case 2:case 3:var Rt=3;break;default:Rt=ht}var Nt=ht;ht=Rt;try{return Mt()}finally{ht=Nt}},tt.unstable_pauseExecution=function(){},tt.unstable_requestPaint=function(){},tt.unstable_runWithPriority=function(Mt,Rt){switch(Mt){case 1:case 2:case 3:case 4:case 5:break;default:Mt=3}var Nt=ht;ht=Mt;try{return Rt()}finally{ht=Nt}},tt.unstable_scheduleCallback=function(Mt,Rt,Nt){var Ft=tt.unstable_now();switch(typeof Nt=="object"&&Nt!==null?(Nt=Nt.delay,Nt=typeof Nt=="number"&&0<Nt?Ft+Nt:Ft):Nt=Ft,Mt){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=Nt+qt,Mt={id:ut++,callback:Rt,priorityLevel:Mt,startTime:Nt,expirationTime:qt,sortIndex:-1},Nt>Ft?(Mt.sortIndex=Nt,_e(ct,Mt),nt(lt)===null&&Mt===nt(ct)&&(gt?(mt(Ct),Ct=-1):gt=!0,$t(Et,Nt-Ft))):(Mt.sortIndex=qt,_e(lt,Mt),dt||pt||(dt=!0,Dt(bt))),Mt},tt.unstable_shouldYield=Lt,tt.unstable_wrapCallback=function(Mt){var Rt=ht;return function(){var Nt=ht;ht=Rt;try{return Mt.apply(this,arguments)}finally{ht=Nt}}}}(scheduler_production_min$1)),scheduler_production_min$1}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler$1.exports=requireScheduler_production_min()),scheduler$1.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min=function tt(_e){var nt={},rt=reactExports,it=requireScheduler(),st=Object.assign;function at(yt){for(var _t="https://reactjs.org/docs/error-decoder.html?invariant="+yt,wt=1;wt<arguments.length;wt++)_t+="&args[]="+encodeURIComponent(arguments[wt]);return"Minified React error #"+yt+"; visit "+_t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ot=rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lt=Symbol.for("react.element"),ct=Symbol.for("react.portal"),ut=Symbol.for("react.fragment"),ft=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),pt=Symbol.for("react.provider"),dt=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),vt=Symbol.for("react.suspense"),mt=Symbol.for("react.suspense_list"),xt=Symbol.for("react.memo"),St=Symbol.for("react.lazy"),Et=Symbol.for("react.offscreen"),bt=Symbol.iterator;function Tt(yt){return yt===null||typeof yt!="object"?null:(yt=bt&&yt[bt]||yt["@@iterator"],typeof yt=="function"?yt:null)}function At(yt){if(yt==null)return null;if(typeof yt=="function")return yt.displayName||yt.name||null;if(typeof yt=="string")return yt;switch(yt){case ut:return"Fragment";case ct:return"Portal";case ht:return"Profiler";case ft:return"StrictMode";case vt:return"Suspense";case mt:return"SuspenseList"}if(typeof yt=="object")switch(yt.$$typeof){case dt:return(yt.displayName||"Context")+".Consumer";case pt:return(yt._context.displayName||"Context")+".Provider";case gt:var _t=yt.render;return yt=yt.displayName,yt||(yt=_t.displayName||_t.name||"",yt=yt!==""?"ForwardRef("+yt+")":"ForwardRef"),yt;case xt:return _t=yt.displayName||null,_t!==null?_t:At(yt.type)||"Memo";case St:_t=yt._payload,yt=yt._init;try{return At(yt(_t))}catch{}}return null}function Ct(yt){var _t=yt.type;switch(yt.tag){case 24:return"Cache";case 9:return(_t.displayName||"Context")+".Consumer";case 10:return(_t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return yt=_t.render,yt=yt.displayName||yt.name||"",_t.displayName||(yt!==""?"ForwardRef("+yt+")":"ForwardRef");case 7:return"Fragment";case 5:return _t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return At(_t);case 8:return _t===ft?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _t=="function")return _t.displayName||_t.name||null;if(typeof _t=="string")return _t}return null}function Pt(yt){var _t=yt,wt=yt;if(yt.alternate)for(;_t.return;)_t=_t.return;else{yt=_t;do _t=yt,_t.flags&4098&&(wt=_t.return),yt=_t.return;while(yt)}return _t.tag===3?wt:null}function It(yt){if(Pt(yt)!==yt)throw Error(at(188))}function Lt(yt){var _t=yt.alternate;if(!_t){if(_t=Pt(yt),_t===null)throw Error(at(188));return _t!==yt?null:yt}for(var wt=yt,kt=_t;;){var Bt=wt.return;if(Bt===null)break;var jt=Bt.alternate;if(jt===null){if(kt=Bt.return,kt!==null){wt=kt;continue}break}if(Bt.child===jt.child){for(jt=Bt.child;jt;){if(jt===wt)return It(Bt),yt;if(jt===kt)return It(Bt),_t;jt=jt.sibling}throw Error(at(188))}if(wt.return!==kt.return)wt=Bt,kt=jt;else{for(var sn=!1,yn=Bt.child;yn;){if(yn===wt){sn=!0,wt=Bt,kt=jt;break}if(yn===kt){sn=!0,kt=Bt,wt=jt;break}yn=yn.sibling}if(!sn){for(yn=jt.child;yn;){if(yn===wt){sn=!0,wt=jt,kt=Bt;break}if(yn===kt){sn=!0,kt=jt,wt=Bt;break}yn=yn.sibling}if(!sn)throw Error(at(189))}}if(wt.alternate!==kt)throw Error(at(190))}if(wt.tag!==3)throw Error(at(188));return wt.stateNode.current===wt?yt:_t}function Vt(yt){return yt=Lt(yt),yt!==null?Ut(yt):null}function Ut(yt){if(yt.tag===5||yt.tag===6)return yt;for(yt=yt.child;yt!==null;){var _t=Ut(yt);if(_t!==null)return _t;yt=yt.sibling}return null}function Ot(yt){if(yt.tag===5||yt.tag===6)return yt;for(yt=yt.child;yt!==null;){if(yt.tag!==4){var _t=Ot(yt);if(_t!==null)return _t}yt=yt.sibling}return null}var zt=Array.isArray,Dt=_e.getPublicInstance,$t=_e.getRootHostContext,Mt=_e.getChildHostContext,Rt=_e.prepareForCommit,Nt=_e.resetAfterCommit,Ft=_e.createInstance,qt=_e.appendInitialChild,Qt=_e.finalizeInitialChildren,Kt=_e.prepareUpdate,Zt=_e.shouldSetTextContent,tn=_e.createTextInstance,en=_e.scheduleTimeout,un=_e.cancelTimeout,Cn=_e.noTimeout,Rn=_e.isPrimaryRenderer,Mn=_e.supportsMutation,ln=_e.supportsPersistence,gn=_e.supportsHydration,Yt=_e.getInstanceFromNode,Fn=_e.preparePortalMount,wn=_e.getCurrentEventPriority,Vn=_e.detachDeletedInstance,xn=_e.supportsMicrotasks,Bn=_e.scheduleMicrotask,Tn=_e.supportsTestSelectors,Wt=_e.findFiberRoot,Ht=_e.getBoundingRect,an=_e.getTextContent,dn=_e.isHiddenSubtree,mn=_e.matchAccessibilityRole,En=_e.setFocusIfFocusable,Dn=_e.setupIntersectionObserver,kn=_e.appendChild,Nn=_e.appendChildToContainer,tr=_e.commitTextUpdate,Un=_e.commitMount,Kn=_e.commitUpdate,Yn=_e.insertBefore,Wn=_e.insertInContainerBefore,On=_e.removeChild,rr=_e.removeChildFromContainer,nr=_e.resetTextContent,pr=_e.hideInstance,fn=_e.hideTextInstance,vn=_e.unhideInstance,bn=_e.unhideTextInstance,zn=_e.clearContainer,qn=_e.cloneInstance,Gn=_e.createContainerChildSet,cr=_e.appendChildToContainerChildSet,Er=_e.finalizeContainerChildren,fr=_e.replaceContainerChildren,gr=_e.cloneHiddenInstance,Fr=_e.cloneHiddenTextInstance,$r=_e.canHydrateInstance,jr=_e.canHydrateTextInstance,as=_e.canHydrateSuspenseInstance,zr=_e.isSuspenseInstancePending,ns=_e.isSuspenseInstanceFallback,rs=_e.registerSuspenseInstanceRetry,Yr=_e.getNextHydratableSibling,_r=_e.getFirstHydratableChild,Hr=_e.getFirstHydratableChildWithinContainer,fs=_e.getFirstHydratableChildWithinSuspenseInstance,Xt=_e.hydrateInstance,Jt=_e.hydrateTextInstance,hn=_e.hydrateSuspenseInstance,An=_e.getNextHydratableInstanceAfterSuspenseInstance,In=_e.commitHydratedContainer,Gt=_e.commitHydratedSuspenseInstance,nn=_e.clearSuspenseBoundary,on=_e.clearSuspenseBoundaryFromContainer,cn=_e.shouldDeleteUnhydratedTailInstances,rn=_e.didNotMatchHydratedContainerTextInstance,Sn=_e.didNotMatchHydratedTextInstance,pn;function Zn(yt){if(pn===void 0)try{throw Error()}catch(wt){var _t=wt.stack.trim().match(/\n( *(at )?)/);pn=_t&&_t[1]||""}return`
`+pn+yt}var jn=!1;function Hn(yt,_t){if(!yt||jn)return"";jn=!0;var wt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_t)if(_t=function(){throw Error()},Object.defineProperty(_t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_t,[])}catch(Qn){var kt=Qn}Reflect.construct(yt,[],_t)}else{try{_t.call()}catch(Qn){kt=Qn}yt.call(_t.prototype)}else{try{throw Error()}catch(Qn){kt=Qn}yt()}}catch(Qn){if(Qn&&kt&&typeof Qn.stack=="string"){for(var Bt=Qn.stack.split(`
`),jt=kt.stack.split(`
`),sn=Bt.length-1,yn=jt.length-1;1<=sn&&0<=yn&&Bt[sn]!==jt[yn];)yn--;for(;1<=sn&&0<=yn;sn--,yn--)if(Bt[sn]!==jt[yn]){if(sn!==1||yn!==1)do if(sn--,yn--,0>yn||Bt[sn]!==jt[yn]){var $n=`
`+Bt[sn].replace(" at new "," at ");return yt.displayName&&$n.includes("<anonymous>")&&($n=$n.replace("<anonymous>",yt.displayName)),$n}while(1<=sn&&0<=yn);break}}}finally{jn=!1,Error.prepareStackTrace=wt}return(yt=yt?yt.displayName||yt.name:"")?Zn(yt):""}var Jn=Object.prototype.hasOwnProperty,Xn=[],or=-1;function ur(yt){return{current:yt}}function ir(yt){0>or||(yt.current=Xn[or],Xn[or]=null,or--)}function dr(yt,_t){or++,Xn[or]=yt.current,yt.current=_t}var lr={},er=ur(lr),xr=ur(!1),mr=lr;function Lr(yt,_t){var wt=yt.type.contextTypes;if(!wt)return lr;var kt=yt.stateNode;if(kt&&kt.__reactInternalMemoizedUnmaskedChildContext===_t)return kt.__reactInternalMemoizedMaskedChildContext;var Bt={},jt;for(jt in wt)Bt[jt]=_t[jt];return kt&&(yt=yt.stateNode,yt.__reactInternalMemoizedUnmaskedChildContext=_t,yt.__reactInternalMemoizedMaskedChildContext=Bt),Bt}function Vr(yt){return yt=yt.childContextTypes,yt!=null}function kr(){ir(xr),ir(er)}function Ar(yt,_t,wt){if(er.current!==lr)throw Error(at(168));dr(er,_t),dr(xr,wt)}function br(yt,_t,wt){var kt=yt.stateNode;if(_t=_t.childContextTypes,typeof kt.getChildContext!="function")return wt;kt=kt.getChildContext();for(var Bt in kt)if(!(Bt in _t))throw Error(at(108,Ct(yt)||"Unknown",Bt));return st({},wt,kt)}function wr(yt){return yt=(yt=yt.stateNode)&&yt.__reactInternalMemoizedMergedChildContext||lr,mr=er.current,dr(er,yt),dr(xr,xr.current),!0}function Mr(yt,_t,wt){var kt=yt.stateNode;if(!kt)throw Error(at(169));wt?(yt=br(yt,_t,mr),kt.__reactInternalMemoizedMergedChildContext=yt,ir(xr),ir(er),dr(er,yt)):ir(xr),dr(xr,wt)}var Rr=Math.clz32?Math.clz32:ps,Wr=Math.log,Or=Math.LN2;function ps(yt){return yt>>>=0,yt===0?32:31-(Wr(yt)/Or|0)|0}var Zs=64,Js=4194304;function Qs(yt){switch(yt&-yt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return yt&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return yt&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return yt}}function fo(yt,_t){var wt=yt.pendingLanes;if(wt===0)return 0;var kt=0,Bt=yt.suspendedLanes,jt=yt.pingedLanes,sn=wt&268435455;if(sn!==0){var yn=sn&~Bt;yn!==0?kt=Qs(yn):(jt&=sn,jt!==0&&(kt=Qs(jt)))}else sn=wt&~Bt,sn!==0?kt=Qs(sn):jt!==0&&(kt=Qs(jt));if(kt===0)return 0;if(_t!==0&&_t!==kt&&!(_t&Bt)&&(Bt=kt&-kt,jt=_t&-_t,Bt>=jt||Bt===16&&(jt&4194240)!==0))return _t;if(kt&4&&(kt|=wt&16),_t=yt.entangledLanes,_t!==0)for(yt=yt.entanglements,_t&=kt;0<_t;)wt=31-Rr(_t),Bt=1<<wt,kt|=yt[wt],_t&=~Bt;return kt}function Il(yt,_t){switch(yt){case 1:case 2:case 4:return _t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jo(yt,_t){for(var wt=yt.suspendedLanes,kt=yt.pingedLanes,Bt=yt.expirationTimes,jt=yt.pendingLanes;0<jt;){var sn=31-Rr(jt),yn=1<<sn,$n=Bt[sn];$n===-1?(!(yn&wt)||yn&kt)&&(Bt[sn]=Il(yn,_t)):$n<=_t&&(yt.expiredLanes|=yn),jt&=~yn}}function na(yt){return yt=yt.pendingLanes&-1073741825,yt!==0?yt:yt&1073741824?1073741824:0}function Ao(yt){for(var _t=[],wt=0;31>wt;wt++)_t.push(yt);return _t}function Hs(yt,_t,wt){yt.pendingLanes|=_t,_t!==536870912&&(yt.suspendedLanes=0,yt.pingedLanes=0),yt=yt.eventTimes,_t=31-Rr(_t),yt[_t]=wt}function no(yt,_t){var wt=yt.pendingLanes&~_t;yt.pendingLanes=_t,yt.suspendedLanes=0,yt.pingedLanes=0,yt.expiredLanes&=_t,yt.mutableReadLanes&=_t,yt.entangledLanes&=_t,_t=yt.entanglements;var kt=yt.eventTimes;for(yt=yt.expirationTimes;0<wt;){var Bt=31-Rr(wt),jt=1<<Bt;_t[Bt]=0,kt[Bt]=-1,yt[Bt]=-1,wt&=~jt}}function Ws(yt,_t){var wt=yt.entangledLanes|=_t;for(yt=yt.entanglements;wt;){var kt=31-Rr(wt),Bt=1<<kt;Bt&_t|yt[kt]&_t&&(yt[kt]|=_t),wt&=~Bt}}var Dr=0;function zo(yt){return yt&=-yt,1<yt?4<yt?yt&268435455?16:536870912:4:1}var ga=it.unstable_scheduleCallback,Po=it.unstable_cancelCallback,Go=it.unstable_shouldYield,Dl=it.unstable_requestPaint,Xr=it.unstable_now,po=it.unstable_ImmediatePriority,Ll=it.unstable_UserBlockingPriority,ys=it.unstable_NormalPriority,Ho=it.unstable_IdlePriority,mo=null,As=null;function Wo(yt){if(As&&typeof As.onCommitFiberRoot=="function")try{As.onCommitFiberRoot(mo,yt,void 0,(yt.current.flags&128)===128)}catch{}}function Fl(yt,_t){return yt===_t&&(yt!==0||1/yt===1/_t)||yt!==yt&&_t!==_t}var Ps=typeof Object.is=="function"?Object.is:Fl,xs=null,Xs=!1,Fs=!1;function Xo(yt){xs===null?xs=[yt]:xs.push(yt)}function qo(yt){Xs=!0,Xo(yt)}function Ms(){if(!Fs&&xs!==null){Fs=!0;var yt=0,_t=Dr;try{var wt=xs;for(Dr=1;yt<wt.length;yt++){var kt=wt[yt];do kt=kt(!0);while(kt!==null)}xs=null,Xs=!1}catch(Bt){throw xs!==null&&(xs=xs.slice(yt+1)),ga(po,Ms),Bt}finally{Dr=_t,Fs=!1}}return null}var go=ot.ReactCurrentBatchConfig;function vo(yt,_t){if(Ps(yt,_t))return!0;if(typeof yt!="object"||yt===null||typeof _t!="object"||_t===null)return!1;var wt=Object.keys(yt),kt=Object.keys(_t);if(wt.length!==kt.length)return!1;for(kt=0;kt<wt.length;kt++){var Bt=wt[kt];if(!Jn.call(_t,Bt)||!Ps(yt[Bt],_t[Bt]))return!1}return!0}function yo(yt){switch(yt.tag){case 5:return Zn(yt.type);case 16:return Zn("Lazy");case 13:return Zn("Suspense");case 19:return Zn("SuspenseList");case 0:case 2:case 15:return yt=Hn(yt.type,!1),yt;case 11:return yt=Hn(yt.type.render,!1),yt;case 1:return yt=Hn(yt.type,!0),yt;default:return""}}function _s(yt,_t){if(yt&&yt.defaultProps){_t=st({},_t),yt=yt.defaultProps;for(var wt in yt)_t[wt]===void 0&&(_t[wt]=yt[wt]);return _t}return _t}var os=ur(null),Ro=null,zs=null,ro=null;function Io(){ro=zs=Ro=null}function Bl(yt,_t,wt){Rn?(dr(os,_t._currentValue),_t._currentValue=wt):(dr(os,_t._currentValue2),_t._currentValue2=wt)}function ls(yt){var _t=os.current;ir(os),Rn?yt._currentValue=_t:yt._currentValue2=_t}function Ss(yt,_t,wt){for(;yt!==null;){var kt=yt.alternate;if((yt.childLanes&_t)!==_t?(yt.childLanes|=_t,kt!==null&&(kt.childLanes|=_t)):kt!==null&&(kt.childLanes&_t)!==_t&&(kt.childLanes|=_t),yt===wt)break;yt=yt.return}}function Jr(yt,_t){Ro=yt,ro=zs=null,yt=yt.dependencies,yt!==null&&yt.firstContext!==null&&(yt.lanes&_t&&(Ds=!0),yt.firstContext=null)}function Qr(yt){var _t=Rn?yt._currentValue:yt._currentValue2;if(ro!==yt)if(yt={context:yt,memoizedValue:_t,next:null},zs===null){if(Ro===null)throw Error(at(308));zs=yt,Ro.dependencies={lanes:0,firstContext:yt}}else zs=zs.next=yt;return _t}var Rs=null,io=!1;function Eu(yt){yt.updateQueue={baseState:yt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pp(yt,_t){yt=yt.updateQueue,_t.updateQueue===yt&&(_t.updateQueue={baseState:yt.baseState,firstBaseUpdate:yt.firstBaseUpdate,lastBaseUpdate:yt.lastBaseUpdate,shared:yt.shared,effects:yt.effects})}function xa(yt,_t){return{eventTime:yt,lane:_t,tag:0,payload:null,callback:null,next:null}}function so(yt,_t){var wt=yt.updateQueue;wt!==null&&(wt=wt.shared,es!==null&&yt.mode&1&&!(Ir&2)?(yt=wt.interleaved,yt===null?(_t.next=_t,Rs===null?Rs=[wt]:Rs.push(wt)):(_t.next=yt.next,yt.next=_t),wt.interleaved=_t):(yt=wt.pending,yt===null?_t.next=_t:(_t.next=yt.next,yt.next=_t),wt.pending=_t))}function Nl(yt,_t,wt){if(_t=_t.updateQueue,_t!==null&&(_t=_t.shared,(wt&4194240)!==0)){var kt=_t.lanes;kt&=yt.pendingLanes,wt|=kt,_t.lanes=wt,Ws(yt,wt)}}function dp(yt,_t){var wt=yt.updateQueue,kt=yt.alternate;if(kt!==null&&(kt=kt.updateQueue,wt===kt)){var Bt=null,jt=null;if(wt=wt.firstBaseUpdate,wt!==null){do{var sn={eventTime:wt.eventTime,lane:wt.lane,tag:wt.tag,payload:wt.payload,callback:wt.callback,next:null};jt===null?Bt=jt=sn:jt=jt.next=sn,wt=wt.next}while(wt!==null);jt===null?Bt=jt=_t:jt=jt.next=_t}else Bt=jt=_t;wt={baseState:kt.baseState,firstBaseUpdate:Bt,lastBaseUpdate:jt,shared:kt.shared,effects:kt.effects},yt.updateQueue=wt;return}yt=wt.lastBaseUpdate,yt===null?wt.firstBaseUpdate=_t:yt.next=_t,wt.lastBaseUpdate=_t}function Vl(yt,_t,wt,kt){var Bt=yt.updateQueue;io=!1;var jt=Bt.firstBaseUpdate,sn=Bt.lastBaseUpdate,yn=Bt.shared.pending;if(yn!==null){Bt.shared.pending=null;var $n=yn,Qn=$n.next;$n.next=null,sn===null?jt=Qn:sn.next=Qn,sn=$n;var hr=yt.alternate;hr!==null&&(hr=hr.updateQueue,yn=hr.lastBaseUpdate,yn!==sn&&(yn===null?hr.firstBaseUpdate=Qn:yn.next=Qn,hr.lastBaseUpdate=$n))}if(jt!==null){var Tr=Bt.baseState;sn=0,hr=Qn=$n=null,yn=jt;do{var Sr=yn.lane,Ur=yn.eventTime;if((kt&Sr)===Sr){hr!==null&&(hr=hr.next={eventTime:Ur,lane:0,tag:yn.tag,payload:yn.payload,callback:yn.callback,next:null});e:{var yr=yt,vs=yn;switch(Sr=_t,Ur=wt,vs.tag){case 1:if(yr=vs.payload,typeof yr=="function"){Tr=yr.call(Ur,Tr,Sr);break e}Tr=yr;break e;case 3:yr.flags=yr.flags&-65537|128;case 0:if(yr=vs.payload,Sr=typeof yr=="function"?yr.call(Ur,Tr,Sr):yr,Sr==null)break e;Tr=st({},Tr,Sr);break e;case 2:io=!0}}yn.callback!==null&&yn.lane!==0&&(yt.flags|=64,Sr=Bt.effects,Sr===null?Bt.effects=[yn]:Sr.push(yn))}else Ur={eventTime:Ur,lane:Sr,tag:yn.tag,payload:yn.payload,callback:yn.callback,next:null},hr===null?(Qn=hr=Ur,$n=Tr):hr=hr.next=Ur,sn|=Sr;if(yn=yn.next,yn===null){if(yn=Bt.shared.pending,yn===null)break;Sr=yn,yn=Sr.next,Sr.next=null,Bt.lastBaseUpdate=Sr,Bt.shared.pending=null}}while(!0);if(hr===null&&($n=Tr),Bt.baseState=$n,Bt.firstBaseUpdate=Qn,Bt.lastBaseUpdate=hr,_t=Bt.shared.interleaved,_t!==null){Bt=_t;do sn|=Bt.lane,Bt=Bt.next;while(Bt!==_t)}else jt===null&&(Bt.shared.lanes=0);Oo|=sn,yt.lanes=sn,yt.memoizedState=Tr}}function mp(yt,_t,wt){if(yt=_t.effects,_t.effects=null,yt!==null)for(_t=0;_t<yt.length;_t++){var kt=yt[_t],Bt=kt.callback;if(Bt!==null){if(kt.callback=null,kt=wt,typeof Bt!="function")throw Error(at(191,Bt));Bt.call(kt)}}}var gp=new rt.Component().refs;function bu(yt,_t,wt,kt){_t=yt.memoizedState,wt=wt(kt,_t),wt=wt==null?_t:st({},_t,wt),yt.memoizedState=wt,yt.lanes===0&&(yt.updateQueue.baseState=wt)}var $l={isMounted:function(yt){return(yt=yt._reactInternals)?Pt(yt)===yt:!1},enqueueSetState:function(yt,_t,wt){yt=yt._reactInternals;var kt=bs(),Bt=lo(yt),jt=xa(kt,Bt);jt.payload=_t,wt!=null&&(jt.callback=wt),so(yt,jt),_t=Os(yt,Bt,kt),_t!==null&&Nl(_t,yt,Bt)},enqueueReplaceState:function(yt,_t,wt){yt=yt._reactInternals;var kt=bs(),Bt=lo(yt),jt=xa(kt,Bt);jt.tag=1,jt.payload=_t,wt!=null&&(jt.callback=wt),so(yt,jt),_t=Os(yt,Bt,kt),_t!==null&&Nl(_t,yt,Bt)},enqueueForceUpdate:function(yt,_t){yt=yt._reactInternals;var wt=bs(),kt=lo(yt),Bt=xa(wt,kt);Bt.tag=2,_t!=null&&(Bt.callback=_t),so(yt,Bt),_t=Os(yt,kt,wt),_t!==null&&Nl(_t,yt,kt)}};function vp(yt,_t,wt,kt,Bt,jt,sn){return yt=yt.stateNode,typeof yt.shouldComponentUpdate=="function"?yt.shouldComponentUpdate(kt,jt,sn):_t.prototype&&_t.prototype.isPureReactComponent?!vo(wt,kt)||!vo(Bt,jt):!0}function yp(yt,_t,wt){var kt=!1,Bt=lr,jt=_t.contextType;return typeof jt=="object"&&jt!==null?jt=Qr(jt):(Bt=Vr(_t)?mr:er.current,kt=_t.contextTypes,jt=(kt=kt!=null)?Lr(yt,Bt):lr),_t=new _t(wt,jt),yt.memoizedState=_t.state!==null&&_t.state!==void 0?_t.state:null,_t.updater=$l,yt.stateNode=_t,_t._reactInternals=yt,kt&&(yt=yt.stateNode,yt.__reactInternalMemoizedUnmaskedChildContext=Bt,yt.__reactInternalMemoizedMaskedChildContext=jt),_t}function xp(yt,_t,wt,kt){yt=_t.state,typeof _t.componentWillReceiveProps=="function"&&_t.componentWillReceiveProps(wt,kt),typeof _t.UNSAFE_componentWillReceiveProps=="function"&&_t.UNSAFE_componentWillReceiveProps(wt,kt),_t.state!==yt&&$l.enqueueReplaceState(_t,_t.state,null)}function Mu(yt,_t,wt,kt){var Bt=yt.stateNode;Bt.props=wt,Bt.state=yt.memoizedState,Bt.refs=gp,Eu(yt);var jt=_t.contextType;typeof jt=="object"&&jt!==null?Bt.context=Qr(jt):(jt=Vr(_t)?mr:er.current,Bt.context=Lr(yt,jt)),Bt.state=yt.memoizedState,jt=_t.getDerivedStateFromProps,typeof jt=="function"&&(bu(yt,_t,jt,wt),Bt.state=yt.memoizedState),typeof _t.getDerivedStateFromProps=="function"||typeof Bt.getSnapshotBeforeUpdate=="function"||typeof Bt.UNSAFE_componentWillMount!="function"&&typeof Bt.componentWillMount!="function"||(_t=Bt.state,typeof Bt.componentWillMount=="function"&&Bt.componentWillMount(),typeof Bt.UNSAFE_componentWillMount=="function"&&Bt.UNSAFE_componentWillMount(),_t!==Bt.state&&$l.enqueueReplaceState(Bt,Bt.state,null),Vl(yt,wt,Bt,kt),Bt.state=yt.memoizedState),typeof Bt.componentDidMount=="function"&&(yt.flags|=4194308)}var ko=[],Do=0,Ol=null,Ul=0,Bs=[],Ns=0,xo=null,ba=1,$a="";function _o(yt,_t){ko[Do++]=Ul,ko[Do++]=Ol,Ol=yt,Ul=_t}function _p(yt,_t,wt){Bs[Ns++]=ba,Bs[Ns++]=$a,Bs[Ns++]=xo,xo=yt;var kt=ba;yt=$a;var Bt=32-Rr(kt)-1;kt&=~(1<<Bt),wt+=1;var jt=32-Rr(_t)+Bt;if(30<jt){var sn=Bt-Bt%5;jt=(kt&(1<<sn)-1).toString(32),kt>>=sn,Bt-=sn,ba=1<<32-Rr(_t)+Bt|wt<<Bt|kt,$a=jt+yt}else ba=1<<jt|wt<<Bt|kt,$a=yt}function wu(yt){yt.return!==null&&(_o(yt,1),_p(yt,1,0))}function Tu(yt){for(;yt===Ol;)Ol=ko[--Do],ko[Do]=null,Ul=ko[--Do],ko[Do]=null;for(;yt===xo;)xo=Bs[--Ns],Bs[Ns]=null,$a=Bs[--Ns],Bs[Ns]=null,ba=Bs[--Ns],Bs[Ns]=null}var Is=null,ks=null,Gr=!1,Yo=!1,Gs=null;function Sp(yt,_t){var wt=Us(5,null,null,0);wt.elementType="DELETED",wt.stateNode=_t,wt.return=yt,_t=yt.deletions,_t===null?(yt.deletions=[wt],yt.flags|=16):_t.push(wt)}function Ep(yt,_t){switch(yt.tag){case 5:return _t=$r(_t,yt.type,yt.pendingProps),_t!==null?(yt.stateNode=_t,Is=yt,ks=_r(_t),!0):!1;case 6:return _t=jr(_t,yt.pendingProps),_t!==null?(yt.stateNode=_t,Is=yt,ks=null,!0):!1;case 13:if(_t=as(_t),_t!==null){var wt=xo!==null?{id:ba,overflow:$a}:null;return yt.memoizedState={dehydrated:_t,treeContext:wt,retryLane:1073741824},wt=Us(18,null,null,0),wt.stateNode=_t,wt.return=yt,yt.child=wt,Is=yt,ks=null,!0}return!1;default:return!1}}function Cu(yt){return(yt.mode&1)!==0&&(yt.flags&128)===0}function Au(yt){if(Gr){var _t=ks;if(_t){var wt=_t;if(!Ep(yt,_t)){if(Cu(yt))throw Error(at(418));_t=Yr(wt);var kt=Is;_t&&Ep(yt,_t)?Sp(kt,wt):(yt.flags=yt.flags&-4097|2,Gr=!1,Is=yt)}}else{if(Cu(yt))throw Error(at(418));yt.flags=yt.flags&-4097|2,Gr=!1,Is=yt}}}function bp(yt){for(yt=yt.return;yt!==null&&yt.tag!==5&&yt.tag!==3&&yt.tag!==13;)yt=yt.return;Is=yt}function Ko(yt){if(!gn||yt!==Is)return!1;if(!Gr)return bp(yt),Gr=!0,!1;if(yt.tag!==3&&(yt.tag!==5||cn(yt.type)&&!Zt(yt.type,yt.memoizedProps))){var _t=ks;if(_t){if(Cu(yt)){for(yt=ks;yt;)yt=Yr(yt);throw Error(at(418))}for(;_t;)Sp(yt,_t),_t=Yr(_t)}}if(bp(yt),yt.tag===13){if(!gn)throw Error(at(316));if(yt=yt.memoizedState,yt=yt!==null?yt.dehydrated:null,!yt)throw Error(at(317));ks=An(yt)}else ks=Is?Yr(yt.stateNode):null;return!0}function Lo(){gn&&(ks=Is=null,Yo=Gr=!1)}function Pu(yt){Gs===null?Gs=[yt]:Gs.push(yt)}function Zo(yt,_t,wt){if(yt=wt.ref,yt!==null&&typeof yt!="function"&&typeof yt!="object"){if(wt._owner){if(wt=wt._owner,wt){if(wt.tag!==1)throw Error(at(309));var kt=wt.stateNode}if(!kt)throw Error(at(147,yt));var Bt=kt,jt=""+yt;return _t!==null&&_t.ref!==null&&typeof _t.ref=="function"&&_t.ref._stringRef===jt?_t.ref:(_t=function(sn){var yn=Bt.refs;yn===gp&&(yn=Bt.refs={}),sn===null?delete yn[jt]:yn[jt]=sn},_t._stringRef=jt,_t)}if(typeof yt!="string")throw Error(at(284));if(!wt._owner)throw Error(at(290,yt))}return yt}function zl(yt,_t){throw yt=Object.prototype.toString.call(_t),Error(at(31,yt==="[object Object]"?"object with keys {"+Object.keys(_t).join(", ")+"}":yt))}function Mp(yt){var _t=yt._init;return _t(yt._payload)}function wp(yt){function _t(Pn,_n){if(yt){var Ln=Pn.deletions;Ln===null?(Pn.deletions=[_n],Pn.flags|=16):Ln.push(_n)}}function wt(Pn,_n){if(!yt)return null;for(;_n!==null;)_t(Pn,_n),_n=_n.sibling;return null}function kt(Pn,_n){for(Pn=new Map;_n!==null;)_n.key!==null?Pn.set(_n.key,_n):Pn.set(_n.index,_n),_n=_n.sibling;return Pn}function Bt(Pn,_n){return Pn=uo(Pn,_n),Pn.index=0,Pn.sibling=null,Pn}function jt(Pn,_n,Ln){return Pn.index=Ln,yt?(Ln=Pn.alternate,Ln!==null?(Ln=Ln.index,Ln<_n?(Pn.flags|=2,_n):Ln):(Pn.flags|=2,_n)):(Pn.flags|=1048576,_n)}function sn(Pn){return yt&&Pn.alternate===null&&(Pn.flags|=2),Pn}function yn(Pn,_n,Ln,ar){return _n===null||_n.tag!==6?(_n=up(Ln,Pn.mode,ar),_n.return=Pn,_n):(_n=Bt(_n,Ln),_n.return=Pn,_n)}function $n(Pn,_n,Ln,ar){var vr=Ln.type;return vr===ut?hr(Pn,_n,Ln.props.children,ar,Ln.key):_n!==null&&(_n.elementType===vr||typeof vr=="object"&&vr!==null&&vr.$$typeof===St&&Mp(vr)===_n.type)?(ar=Bt(_n,Ln.props),ar.ref=Zo(Pn,_n,Ln),ar.return=Pn,ar):(ar=_u(Ln.type,Ln.key,Ln.props,null,Pn.mode,ar),ar.ref=Zo(Pn,_n,Ln),ar.return=Pn,ar)}function Qn(Pn,_n,Ln,ar){return _n===null||_n.tag!==4||_n.stateNode.containerInfo!==Ln.containerInfo||_n.stateNode.implementation!==Ln.implementation?(_n=hp(Ln,Pn.mode,ar),_n.return=Pn,_n):(_n=Bt(_n,Ln.children||[]),_n.return=Pn,_n)}function hr(Pn,_n,Ln,ar,vr){return _n===null||_n.tag!==7?(_n=Co(Ln,Pn.mode,ar,vr),_n.return=Pn,_n):(_n=Bt(_n,Ln),_n.return=Pn,_n)}function Tr(Pn,_n,Ln){if(typeof _n=="string"&&_n!==""||typeof _n=="number")return _n=up(""+_n,Pn.mode,Ln),_n.return=Pn,_n;if(typeof _n=="object"&&_n!==null){switch(_n.$$typeof){case lt:return Ln=_u(_n.type,_n.key,_n.props,null,Pn.mode,Ln),Ln.ref=Zo(Pn,null,_n),Ln.return=Pn,Ln;case ct:return _n=hp(_n,Pn.mode,Ln),_n.return=Pn,_n;case St:var ar=_n._init;return Tr(Pn,ar(_n._payload),Ln)}if(zt(_n)||Tt(_n))return _n=Co(_n,Pn.mode,Ln,null),_n.return=Pn,_n;zl(Pn,_n)}return null}function Sr(Pn,_n,Ln,ar){var vr=_n!==null?_n.key:null;if(typeof Ln=="string"&&Ln!==""||typeof Ln=="number")return vr!==null?null:yn(Pn,_n,""+Ln,ar);if(typeof Ln=="object"&&Ln!==null){switch(Ln.$$typeof){case lt:return Ln.key===vr?$n(Pn,_n,Ln,ar):null;case ct:return Ln.key===vr?Qn(Pn,_n,Ln,ar):null;case St:return vr=Ln._init,Sr(Pn,_n,vr(Ln._payload),ar)}if(zt(Ln)||Tt(Ln))return vr!==null?null:hr(Pn,_n,Ln,ar,null);zl(Pn,Ln)}return null}function Ur(Pn,_n,Ln,ar,vr){if(typeof ar=="string"&&ar!==""||typeof ar=="number")return Pn=Pn.get(Ln)||null,yn(_n,Pn,""+ar,vr);if(typeof ar=="object"&&ar!==null){switch(ar.$$typeof){case lt:return Pn=Pn.get(ar.key===null?Ln:ar.key)||null,$n(_n,Pn,ar,vr);case ct:return Pn=Pn.get(ar.key===null?Ln:ar.key)||null,Qn(_n,Pn,ar,vr);case St:var Pr=ar._init;return Ur(Pn,_n,Ln,Pr(ar._payload),vr)}if(zt(ar)||Tt(ar))return Pn=Pn.get(Ln)||null,hr(_n,Pn,ar,vr,null);zl(_n,ar)}return null}function yr(Pn,_n,Ln,ar){for(var vr=null,Pr=null,Cr=_n,Br=_n=0,us=null;Cr!==null&&Br<Ln.length;Br++){Cr.index>Br?(us=Cr,Cr=null):us=Cr.sibling;var Nr=Sr(Pn,Cr,Ln[Br],ar);if(Nr===null){Cr===null&&(Cr=us);break}yt&&Cr&&Nr.alternate===null&&_t(Pn,Cr),_n=jt(Nr,_n,Br),Pr===null?vr=Nr:Pr.sibling=Nr,Pr=Nr,Cr=us}if(Br===Ln.length)return wt(Pn,Cr),Gr&&_o(Pn,Br),vr;if(Cr===null){for(;Br<Ln.length;Br++)Cr=Tr(Pn,Ln[Br],ar),Cr!==null&&(_n=jt(Cr,_n,Br),Pr===null?vr=Cr:Pr.sibling=Cr,Pr=Cr);return Gr&&_o(Pn,Br),vr}for(Cr=kt(Pn,Cr);Br<Ln.length;Br++)us=Ur(Cr,Pn,Br,Ln[Br],ar),us!==null&&(yt&&us.alternate!==null&&Cr.delete(us.key===null?Br:us.key),_n=jt(us,_n,Br),Pr===null?vr=us:Pr.sibling=us,Pr=us);return yt&&Cr.forEach(function(ho){return _t(Pn,ho)}),Gr&&_o(Pn,Br),vr}function vs(Pn,_n,Ln,ar){var vr=Tt(Ln);if(typeof vr!="function")throw Error(at(150));if(Ln=vr.call(Ln),Ln==null)throw Error(at(151));for(var Pr=vr=null,Cr=_n,Br=_n=0,us=null,Nr=Ln.next();Cr!==null&&!Nr.done;Br++,Nr=Ln.next()){Cr.index>Br?(us=Cr,Cr=null):us=Cr.sibling;var ho=Sr(Pn,Cr,Nr.value,ar);if(ho===null){Cr===null&&(Cr=us);break}yt&&Cr&&ho.alternate===null&&_t(Pn,Cr),_n=jt(ho,_n,Br),Pr===null?vr=ho:Pr.sibling=ho,Pr=ho,Cr=us}if(Nr.done)return wt(Pn,Cr),Gr&&_o(Pn,Br),vr;if(Cr===null){for(;!Nr.done;Br++,Nr=Ln.next())Nr=Tr(Pn,Nr.value,ar),Nr!==null&&(_n=jt(Nr,_n,Br),Pr===null?vr=Nr:Pr.sibling=Nr,Pr=Nr);return Gr&&_o(Pn,Br),vr}for(Cr=kt(Pn,Cr);!Nr.done;Br++,Nr=Ln.next())Nr=Ur(Cr,Pn,Br,Nr.value,ar),Nr!==null&&(yt&&Nr.alternate!==null&&Cr.delete(Nr.key===null?Br:Nr.key),_n=jt(Nr,_n,Br),Pr===null?vr=Nr:Pr.sibling=Nr,Pr=Nr);return yt&&Cr.forEach(function(dv){return _t(Pn,dv)}),Gr&&_o(Pn,Br),vr}function js(Pn,_n,Ln,ar){if(typeof Ln=="object"&&Ln!==null&&Ln.type===ut&&Ln.key===null&&(Ln=Ln.props.children),typeof Ln=="object"&&Ln!==null){switch(Ln.$$typeof){case lt:e:{for(var vr=Ln.key,Pr=_n;Pr!==null;){if(Pr.key===vr){if(vr=Ln.type,vr===ut){if(Pr.tag===7){wt(Pn,Pr.sibling),_n=Bt(Pr,Ln.props.children),_n.return=Pn,Pn=_n;break e}}else if(Pr.elementType===vr||typeof vr=="object"&&vr!==null&&vr.$$typeof===St&&Mp(vr)===Pr.type){wt(Pn,Pr.sibling),_n=Bt(Pr,Ln.props),_n.ref=Zo(Pn,Pr,Ln),_n.return=Pn,Pn=_n;break e}wt(Pn,Pr);break}else _t(Pn,Pr);Pr=Pr.sibling}Ln.type===ut?(_n=Co(Ln.props.children,Pn.mode,ar,Ln.key),_n.return=Pn,Pn=_n):(ar=_u(Ln.type,Ln.key,Ln.props,null,Pn.mode,ar),ar.ref=Zo(Pn,_n,Ln),ar.return=Pn,Pn=ar)}return sn(Pn);case ct:e:{for(Pr=Ln.key;_n!==null;){if(_n.key===Pr)if(_n.tag===4&&_n.stateNode.containerInfo===Ln.containerInfo&&_n.stateNode.implementation===Ln.implementation){wt(Pn,_n.sibling),_n=Bt(_n,Ln.children||[]),_n.return=Pn,Pn=_n;break e}else{wt(Pn,_n);break}else _t(Pn,_n);_n=_n.sibling}_n=hp(Ln,Pn.mode,ar),_n.return=Pn,Pn=_n}return sn(Pn);case St:return Pr=Ln._init,js(Pn,_n,Pr(Ln._payload),ar)}if(zt(Ln))return yr(Pn,_n,Ln,ar);if(Tt(Ln))return vs(Pn,_n,Ln,ar);zl(Pn,Ln)}return typeof Ln=="string"&&Ln!==""||typeof Ln=="number"?(Ln=""+Ln,_n!==null&&_n.tag===6?(wt(Pn,_n.sibling),_n=Bt(_n,Ln),_n.return=Pn,Pn=_n):(wt(Pn,_n),_n=up(Ln,Pn.mode,ar),_n.return=Pn,Pn=_n),sn(Pn)):wt(Pn,_n)}return js}var Fo=wp(!0),Tp=wp(!1),Jo={},Vs=ur(Jo),Qo=ur(Jo),Bo=ur(Jo);function qs(yt){if(yt===Jo)throw Error(at(174));return yt}function Ru(yt,_t){dr(Bo,_t),dr(Qo,yt),dr(Vs,Jo),yt=$t(_t),ir(Vs),dr(Vs,yt)}function No(){ir(Vs),ir(Qo),ir(Bo)}function Cp(yt){var _t=qs(Bo.current),wt=qs(Vs.current);_t=Mt(wt,yt.type,_t),wt!==_t&&(dr(Qo,yt),dr(Vs,_t))}function Iu(yt){Qo.current===yt&&(ir(Vs),ir(Qo))}var qr=ur(0);function Gl(yt){for(var _t=yt;_t!==null;){if(_t.tag===13){var wt=_t.memoizedState;if(wt!==null&&(wt=wt.dehydrated,wt===null||zr(wt)||ns(wt)))return _t}else if(_t.tag===19&&_t.memoizedProps.revealOrder!==void 0){if(_t.flags&128)return _t}else if(_t.child!==null){_t.child.return=_t,_t=_t.child;continue}if(_t===yt)break;for(;_t.sibling===null;){if(_t.return===null||_t.return===yt)return null;_t=_t.return}_t.sibling.return=_t.return,_t=_t.sibling}return null}var ku=[];function Du(){for(var yt=0;yt<ku.length;yt++){var _t=ku[yt];Rn?_t._workInProgressVersionPrimary=null:_t._workInProgressVersionSecondary=null}ku.length=0}var Hl=ot.ReactCurrentDispatcher,$s=ot.ReactCurrentBatchConfig,Vo=0,Kr=null,ds=null,cs=null,Wl=!1,yl=!1,xl=0,Om=0;function ms(){throw Error(at(321))}function Lu(yt,_t){if(_t===null)return!1;for(var wt=0;wt<_t.length&&wt<yt.length;wt++)if(!Ps(yt[wt],_t[wt]))return!1;return!0}function Fu(yt,_t,wt,kt,Bt,jt){if(Vo=jt,Kr=_t,_t.memoizedState=null,_t.updateQueue=null,_t.lanes=0,Hl.current=yt===null||yt.memoizedState===null?Gm:Hm,yt=wt(kt,Bt),yl){jt=0;do{if(yl=!1,xl=0,25<=jt)throw Error(at(301));jt+=1,cs=ds=null,_t.updateQueue=null,Hl.current=Wm,yt=wt(kt,Bt)}while(yl)}if(Hl.current=Jl,_t=ds!==null&&ds.next!==null,Vo=0,cs=ds=Kr=null,Wl=!1,_t)throw Error(at(300));return yt}function Bu(){var yt=xl!==0;return xl=0,yt}function eo(){var yt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cs===null?Kr.memoizedState=cs=yt:cs=cs.next=yt,cs}function Ys(){if(ds===null){var yt=Kr.alternate;yt=yt!==null?yt.memoizedState:null}else yt=ds.next;var _t=cs===null?Kr.memoizedState:cs.next;if(_t!==null)cs=_t,ds=yt;else{if(yt===null)throw Error(at(310));ds=yt,yt={memoizedState:ds.memoizedState,baseState:ds.baseState,baseQueue:ds.baseQueue,queue:ds.queue,next:null},cs===null?Kr.memoizedState=cs=yt:cs=cs.next=yt}return cs}function So(yt,_t){return typeof _t=="function"?_t(yt):_t}function Xl(yt){var _t=Ys(),wt=_t.queue;if(wt===null)throw Error(at(311));wt.lastRenderedReducer=yt;var kt=ds,Bt=kt.baseQueue,jt=wt.pending;if(jt!==null){if(Bt!==null){var sn=Bt.next;Bt.next=jt.next,jt.next=sn}kt.baseQueue=Bt=jt,wt.pending=null}if(Bt!==null){jt=Bt.next,kt=kt.baseState;var yn=sn=null,$n=null,Qn=jt;do{var hr=Qn.lane;if((Vo&hr)===hr)$n!==null&&($n=$n.next={lane:0,action:Qn.action,hasEagerState:Qn.hasEagerState,eagerState:Qn.eagerState,next:null}),kt=Qn.hasEagerState?Qn.eagerState:yt(kt,Qn.action);else{var Tr={lane:hr,action:Qn.action,hasEagerState:Qn.hasEagerState,eagerState:Qn.eagerState,next:null};$n===null?(yn=$n=Tr,sn=kt):$n=$n.next=Tr,Kr.lanes|=hr,Oo|=hr}Qn=Qn.next}while(Qn!==null&&Qn!==jt);$n===null?sn=kt:$n.next=yn,Ps(kt,_t.memoizedState)||(Ds=!0),_t.memoizedState=kt,_t.baseState=sn,_t.baseQueue=$n,wt.lastRenderedState=kt}if(yt=wt.interleaved,yt!==null){Bt=yt;do jt=Bt.lane,Kr.lanes|=jt,Oo|=jt,Bt=Bt.next;while(Bt!==yt)}else Bt===null&&(wt.lanes=0);return[_t.memoizedState,wt.dispatch]}function Yl(yt){var _t=Ys(),wt=_t.queue;if(wt===null)throw Error(at(311));wt.lastRenderedReducer=yt;var kt=wt.dispatch,Bt=wt.pending,jt=_t.memoizedState;if(Bt!==null){wt.pending=null;var sn=Bt=Bt.next;do jt=yt(jt,sn.action),sn=sn.next;while(sn!==Bt);Ps(jt,_t.memoizedState)||(Ds=!0),_t.memoizedState=jt,_t.baseQueue===null&&(_t.baseState=jt),wt.lastRenderedState=jt}return[jt,kt]}function Ap(){}function Pp(yt,_t){var wt=Kr,kt=Ys(),Bt=_t(),jt=!Ps(kt.memoizedState,Bt);if(jt&&(kt.memoizedState=Bt,Ds=!0),kt=kt.queue,Sl(kp.bind(null,wt,kt,yt),[yt]),kt.getSnapshot!==_t||jt||cs!==null&&cs.memoizedState.tag&1){if(wt.flags|=2048,_l(9,Ip.bind(null,wt,kt,Bt,_t),void 0,null),es===null)throw Error(at(349));Vo&30||Rp(wt,_t,Bt)}return Bt}function Rp(yt,_t,wt){yt.flags|=16384,yt={getSnapshot:_t,value:wt},_t=Kr.updateQueue,_t===null?(_t={lastEffect:null,stores:null},Kr.updateQueue=_t,_t.stores=[yt]):(wt=_t.stores,wt===null?_t.stores=[yt]:wt.push(yt))}function Ip(yt,_t,wt,kt){_t.value=wt,_t.getSnapshot=kt,Dp(_t)&&Os(yt,1,-1)}function kp(yt,_t,wt){return wt(function(){Dp(_t)&&Os(yt,1,-1)})}function Dp(yt){var _t=yt.getSnapshot;yt=yt.value;try{var wt=_t();return!Ps(yt,wt)}catch{return!0}}function Nu(yt){var _t=eo();return typeof yt=="function"&&(yt=yt()),_t.memoizedState=_t.baseState=yt,yt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:yt},_t.queue=yt,yt=yt.dispatch=zm.bind(null,Kr,yt),[_t.memoizedState,yt]}function _l(yt,_t,wt,kt){return yt={tag:yt,create:_t,destroy:wt,deps:kt,next:null},_t=Kr.updateQueue,_t===null?(_t={lastEffect:null,stores:null},Kr.updateQueue=_t,_t.lastEffect=yt.next=yt):(wt=_t.lastEffect,wt===null?_t.lastEffect=yt.next=yt:(kt=wt.next,wt.next=yt,yt.next=kt,_t.lastEffect=yt)),yt}function Lp(){return Ys().memoizedState}function Kl(yt,_t,wt,kt){var Bt=eo();Kr.flags|=yt,Bt.memoizedState=_l(1|_t,wt,void 0,kt===void 0?null:kt)}function Zl(yt,_t,wt,kt){var Bt=Ys();kt=kt===void 0?null:kt;var jt=void 0;if(ds!==null){var sn=ds.memoizedState;if(jt=sn.destroy,kt!==null&&Lu(kt,sn.deps)){Bt.memoizedState=_l(_t,wt,jt,kt);return}}Kr.flags|=yt,Bt.memoizedState=_l(1|_t,wt,jt,kt)}function Vu(yt,_t){return Kl(8390656,8,yt,_t)}function Sl(yt,_t){return Zl(2048,8,yt,_t)}function Fp(yt,_t){return Zl(4,2,yt,_t)}function Bp(yt,_t){return Zl(4,4,yt,_t)}function Np(yt,_t){if(typeof _t=="function")return yt=yt(),_t(yt),function(){_t(null)};if(_t!=null)return yt=yt(),_t.current=yt,function(){_t.current=null}}function Vp(yt,_t,wt){return wt=wt!=null?wt.concat([yt]):null,Zl(4,4,Np.bind(null,_t,yt),wt)}function $u(){}function $p(yt,_t){var wt=Ys();_t=_t===void 0?null:_t;var kt=wt.memoizedState;return kt!==null&&_t!==null&&Lu(_t,kt[1])?kt[0]:(wt.memoizedState=[yt,_t],yt)}function Op(yt,_t){var wt=Ys();_t=_t===void 0?null:_t;var kt=wt.memoizedState;return kt!==null&&_t!==null&&Lu(_t,kt[1])?kt[0]:(yt=yt(),wt.memoizedState=[yt,_t],yt)}function Um(yt,_t){var wt=Dr;Dr=wt!==0&&4>wt?wt:4,yt(!0);var kt=$s.transition;$s.transition={};try{yt(!1),_t()}finally{Dr=wt,$s.transition=kt}}function Up(){return Ys().memoizedState}function jm(yt,_t,wt){var kt=lo(yt);wt={lane:kt,action:wt,hasEagerState:!1,eagerState:null,next:null},jp(yt)?zp(_t,wt):(Gp(yt,_t,wt),wt=bs(),yt=Os(yt,kt,wt),yt!==null&&Hp(yt,_t,kt))}function zm(yt,_t,wt){var kt=lo(yt),Bt={lane:kt,action:wt,hasEagerState:!1,eagerState:null,next:null};if(jp(yt))zp(_t,Bt);else{Gp(yt,_t,Bt);var jt=yt.alternate;if(yt.lanes===0&&(jt===null||jt.lanes===0)&&(jt=_t.lastRenderedReducer,jt!==null))try{var sn=_t.lastRenderedState,yn=jt(sn,wt);if(Bt.hasEagerState=!0,Bt.eagerState=yn,Ps(yn,sn))return}catch{}finally{}wt=bs(),yt=Os(yt,kt,wt),yt!==null&&Hp(yt,_t,kt)}}function jp(yt){var _t=yt.alternate;return yt===Kr||_t!==null&&_t===Kr}function zp(yt,_t){yl=Wl=!0;var wt=yt.pending;wt===null?_t.next=_t:(_t.next=wt.next,wt.next=_t),yt.pending=_t}function Gp(yt,_t,wt){es!==null&&yt.mode&1&&!(Ir&2)?(yt=_t.interleaved,yt===null?(wt.next=wt,Rs===null?Rs=[_t]:Rs.push(_t)):(wt.next=yt.next,yt.next=wt),_t.interleaved=wt):(yt=_t.pending,yt===null?wt.next=wt:(wt.next=yt.next,yt.next=wt),_t.pending=wt)}function Hp(yt,_t,wt){if(wt&4194240){var kt=_t.lanes;kt&=yt.pendingLanes,wt|=kt,_t.lanes=wt,Ws(yt,wt)}}var Jl={readContext:Qr,useCallback:ms,useContext:ms,useEffect:ms,useImperativeHandle:ms,useInsertionEffect:ms,useLayoutEffect:ms,useMemo:ms,useReducer:ms,useRef:ms,useState:ms,useDebugValue:ms,useDeferredValue:ms,useTransition:ms,useMutableSource:ms,useSyncExternalStore:ms,useId:ms,unstable_isNewReconciler:!1},Gm={readContext:Qr,useCallback:function(yt,_t){return eo().memoizedState=[yt,_t===void 0?null:_t],yt},useContext:Qr,useEffect:Vu,useImperativeHandle:function(yt,_t,wt){return wt=wt!=null?wt.concat([yt]):null,Kl(4194308,4,Np.bind(null,_t,yt),wt)},useLayoutEffect:function(yt,_t){return Kl(4194308,4,yt,_t)},useInsertionEffect:function(yt,_t){return Kl(4,2,yt,_t)},useMemo:function(yt,_t){var wt=eo();return _t=_t===void 0?null:_t,yt=yt(),wt.memoizedState=[yt,_t],yt},useReducer:function(yt,_t,wt){var kt=eo();return _t=wt!==void 0?wt(_t):_t,kt.memoizedState=kt.baseState=_t,yt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yt,lastRenderedState:_t},kt.queue=yt,yt=yt.dispatch=jm.bind(null,Kr,yt),[kt.memoizedState,yt]},useRef:function(yt){var _t=eo();return yt={current:yt},_t.memoizedState=yt},useState:Nu,useDebugValue:$u,useDeferredValue:function(yt){var _t=Nu(yt),wt=_t[0],kt=_t[1];return Vu(function(){var Bt=$s.transition;$s.transition={};try{kt(yt)}finally{$s.transition=Bt}},[yt]),wt},useTransition:function(){var yt=Nu(!1),_t=yt[0];return yt=Um.bind(null,yt[1]),eo().memoizedState=yt,[_t,yt]},useMutableSource:function(){},useSyncExternalStore:function(yt,_t,wt){var kt=Kr,Bt=eo();if(Gr){if(wt===void 0)throw Error(at(407));wt=wt()}else{if(wt=_t(),es===null)throw Error(at(349));Vo&30||Rp(kt,_t,wt)}Bt.memoizedState=wt;var jt={value:wt,getSnapshot:_t};return Bt.queue=jt,Vu(kp.bind(null,kt,jt,yt),[yt]),kt.flags|=2048,_l(9,Ip.bind(null,kt,jt,wt,_t),void 0,null),wt},useId:function(){var yt=eo(),_t=es.identifierPrefix;if(Gr){var wt=$a,kt=ba;wt=(kt&~(1<<32-Rr(kt)-1)).toString(32)+wt,_t=":"+_t+"R"+wt,wt=xl++,0<wt&&(_t+="H"+wt.toString(32)),_t+=":"}else wt=Om++,_t=":"+_t+"r"+wt.toString(32)+":";return yt.memoizedState=_t},unstable_isNewReconciler:!1},Hm={readContext:Qr,useCallback:$p,useContext:Qr,useEffect:Sl,useImperativeHandle:Vp,useInsertionEffect:Fp,useLayoutEffect:Bp,useMemo:Op,useReducer:Xl,useRef:Lp,useState:function(){return Xl(So)},useDebugValue:$u,useDeferredValue:function(yt){var _t=Xl(So),wt=_t[0],kt=_t[1];return Sl(function(){var Bt=$s.transition;$s.transition={};try{kt(yt)}finally{$s.transition=Bt}},[yt]),wt},useTransition:function(){var yt=Xl(So)[0],_t=Ys().memoizedState;return[yt,_t]},useMutableSource:Ap,useSyncExternalStore:Pp,useId:Up,unstable_isNewReconciler:!1},Wm={readContext:Qr,useCallback:$p,useContext:Qr,useEffect:Sl,useImperativeHandle:Vp,useInsertionEffect:Fp,useLayoutEffect:Bp,useMemo:Op,useReducer:Yl,useRef:Lp,useState:function(){return Yl(So)},useDebugValue:$u,useDeferredValue:function(yt){var _t=Yl(So),wt=_t[0],kt=_t[1];return Sl(function(){var Bt=$s.transition;$s.transition={};try{kt(yt)}finally{$s.transition=Bt}},[yt]),wt},useTransition:function(){var yt=Yl(So)[0],_t=Ys().memoizedState;return[yt,_t]},useMutableSource:Ap,useSyncExternalStore:Pp,useId:Up,unstable_isNewReconciler:!1};function Ou(yt,_t){try{var wt="",kt=_t;do wt+=yo(kt),kt=kt.return;while(kt);var Bt=wt}catch(jt){Bt=`
Error generating stack: `+jt.message+`
`+jt.stack}return{value:yt,source:_t,stack:Bt}}function Uu(yt,_t){try{console.error(_t.value)}catch(wt){setTimeout(function(){throw wt})}}var Xm=typeof WeakMap=="function"?WeakMap:Map;function Wp(yt,_t,wt){wt=xa(-1,wt),wt.tag=3,wt.payload={element:null};var kt=_t.value;return wt.callback=function(){pu||(pu=!0,rp=kt),Uu(yt,_t)},wt}function Xp(yt,_t,wt){wt=xa(-1,wt),wt.tag=3;var kt=yt.type.getDerivedStateFromError;if(typeof kt=="function"){var Bt=_t.value;wt.payload=function(){return kt(Bt)},wt.callback=function(){Uu(yt,_t)}}var jt=yt.stateNode;return jt!==null&&typeof jt.componentDidCatch=="function"&&(wt.callback=function(){Uu(yt,_t),typeof kt!="function"&&(ao===null?ao=new Set([this]):ao.add(this));var sn=_t.stack;this.componentDidCatch(_t.value,{componentStack:sn!==null?sn:""})}),wt}function qp(yt,_t,wt){var kt=yt.pingCache;if(kt===null){kt=yt.pingCache=new Xm;var Bt=new Set;kt.set(_t,Bt)}else Bt=kt.get(_t),Bt===void 0&&(Bt=new Set,kt.set(_t,Bt));Bt.has(wt)||(Bt.add(wt),yt=av.bind(null,yt,_t,wt),_t.then(yt,yt))}function Yp(yt){do{var _t;if((_t=yt.tag===13)&&(_t=yt.memoizedState,_t=_t!==null?_t.dehydrated!==null:!0),_t)return yt;yt=yt.return}while(yt!==null);return null}function Kp(yt,_t,wt,kt,Bt){return yt.mode&1?(yt.flags|=65536,yt.lanes=Bt,yt):(yt===_t?yt.flags|=65536:(yt.flags|=128,wt.flags|=131072,wt.flags&=-52805,wt.tag===1&&(wt.alternate===null?wt.tag=17:(_t=xa(-1,1),_t.tag=2,so(wt,_t))),wt.lanes|=1),yt)}function Ks(yt){yt.flags|=4}function Zp(yt,_t){if(yt!==null&&yt.child===_t.child)return!0;if(_t.flags&16)return!1;for(yt=_t.child;yt!==null;){if(yt.flags&12854||yt.subtreeFlags&12854)return!1;yt=yt.sibling}return!0}var El,Ml,Ql,_c;if(Mn)El=function(yt,_t){for(var wt=_t.child;wt!==null;){if(wt.tag===5||wt.tag===6)qt(yt,wt.stateNode);else if(wt.tag!==4&&wt.child!==null){wt.child.return=wt,wt=wt.child;continue}if(wt===_t)break;for(;wt.sibling===null;){if(wt.return===null||wt.return===_t)return;wt=wt.return}wt.sibling.return=wt.return,wt=wt.sibling}},Ml=function(){},Ql=function(yt,_t,wt,kt,Bt){if(yt=yt.memoizedProps,yt!==kt){var jt=_t.stateNode,sn=qs(Vs.current);wt=Kt(jt,wt,yt,kt,Bt,sn),(_t.updateQueue=wt)&&Ks(_t)}},_c=function(yt,_t,wt,kt){wt!==kt&&Ks(_t)};else if(ln){El=function(yt,_t,wt,kt){for(var Bt=_t.child;Bt!==null;){if(Bt.tag===5){var jt=Bt.stateNode;wt&&kt&&(jt=gr(jt,Bt.type,Bt.memoizedProps,Bt)),qt(yt,jt)}else if(Bt.tag===6)jt=Bt.stateNode,wt&&kt&&(jt=Fr(jt,Bt.memoizedProps,Bt)),qt(yt,jt);else if(Bt.tag!==4){if(Bt.tag===22&&Bt.memoizedState!==null)jt=Bt.child,jt!==null&&(jt.return=Bt),El(yt,Bt,!0,!0);else if(Bt.child!==null){Bt.child.return=Bt,Bt=Bt.child;continue}}if(Bt===_t)break;for(;Bt.sibling===null;){if(Bt.return===null||Bt.return===_t)return;Bt=Bt.return}Bt.sibling.return=Bt.return,Bt=Bt.sibling}};var Jp=function(yt,_t,wt,kt){for(var Bt=_t.child;Bt!==null;){if(Bt.tag===5){var jt=Bt.stateNode;wt&&kt&&(jt=gr(jt,Bt.type,Bt.memoizedProps,Bt)),cr(yt,jt)}else if(Bt.tag===6)jt=Bt.stateNode,wt&&kt&&(jt=Fr(jt,Bt.memoizedProps,Bt)),cr(yt,jt);else if(Bt.tag!==4){if(Bt.tag===22&&Bt.memoizedState!==null)jt=Bt.child,jt!==null&&(jt.return=Bt),Jp(yt,Bt,!0,!0);else if(Bt.child!==null){Bt.child.return=Bt,Bt=Bt.child;continue}}if(Bt===_t)break;for(;Bt.sibling===null;){if(Bt.return===null||Bt.return===_t)return;Bt=Bt.return}Bt.sibling.return=Bt.return,Bt=Bt.sibling}};Ml=function(yt,_t){var wt=_t.stateNode;if(!Zp(yt,_t)){yt=wt.containerInfo;var kt=Gn(yt);Jp(kt,_t,!1,!1),wt.pendingChildren=kt,Ks(_t),Er(yt,kt)}},Ql=function(yt,_t,wt,kt,Bt){var jt=yt.stateNode,sn=yt.memoizedProps;if((yt=Zp(yt,_t))&&sn===kt)_t.stateNode=jt;else{var yn=_t.stateNode,$n=qs(Vs.current),Qn=null;sn!==kt&&(Qn=Kt(yn,wt,sn,kt,Bt,$n)),yt&&Qn===null?_t.stateNode=jt:(jt=qn(jt,Qn,wt,sn,kt,_t,yt,yn),Qt(jt,wt,kt,Bt,$n)&&Ks(_t),_t.stateNode=jt,yt?Ks(_t):El(jt,_t,!1,!1))}},_c=function(yt,_t,wt,kt){wt!==kt?(yt=qs(Bo.current),wt=qs(Vs.current),_t.stateNode=tn(kt,yt,wt,_t),Ks(_t)):_t.stateNode=yt.stateNode}}else Ml=function(){},Ql=function(){},_c=function(){};function wl(yt,_t){if(!Gr)switch(yt.tailMode){case"hidden":_t=yt.tail;for(var wt=null;_t!==null;)_t.alternate!==null&&(wt=_t),_t=_t.sibling;wt===null?yt.tail=null:wt.sibling=null;break;case"collapsed":wt=yt.tail;for(var kt=null;wt!==null;)wt.alternate!==null&&(kt=wt),wt=wt.sibling;kt===null?_t||yt.tail===null?yt.tail=null:yt.tail.sibling=null:kt.sibling=null}}function gs(yt){var _t=yt.alternate!==null&&yt.alternate.child===yt.child,wt=0,kt=0;if(_t)for(var Bt=yt.child;Bt!==null;)wt|=Bt.lanes|Bt.childLanes,kt|=Bt.subtreeFlags&14680064,kt|=Bt.flags&14680064,Bt.return=yt,Bt=Bt.sibling;else for(Bt=yt.child;Bt!==null;)wt|=Bt.lanes|Bt.childLanes,kt|=Bt.subtreeFlags,kt|=Bt.flags,Bt.return=yt,Bt=Bt.sibling;return yt.subtreeFlags|=kt,yt.childLanes=wt,_t}function qm(yt,_t,wt){var kt=_t.pendingProps;switch(Tu(_t),_t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gs(_t),null;case 1:return Vr(_t.type)&&kr(),gs(_t),null;case 3:return kt=_t.stateNode,No(),ir(xr),ir(er),Du(),kt.pendingContext&&(kt.context=kt.pendingContext,kt.pendingContext=null),(yt===null||yt.child===null)&&(Ko(_t)?Ks(_t):yt===null||yt.memoizedState.isDehydrated&&!(_t.flags&256)||(_t.flags|=1024,Gs!==null&&(ap(Gs),Gs=null))),Ml(yt,_t),gs(_t),null;case 5:Iu(_t),wt=qs(Bo.current);var Bt=_t.type;if(yt!==null&&_t.stateNode!=null)Ql(yt,_t,Bt,kt,wt),yt.ref!==_t.ref&&(_t.flags|=512,_t.flags|=2097152);else{if(!kt){if(_t.stateNode===null)throw Error(at(166));return gs(_t),null}if(yt=qs(Vs.current),Ko(_t)){if(!gn)throw Error(at(175));yt=Xt(_t.stateNode,_t.type,_t.memoizedProps,wt,yt,_t,!Yo),_t.updateQueue=yt,yt!==null&&Ks(_t)}else{var jt=Ft(Bt,kt,wt,yt,_t);El(jt,_t,!1,!1),_t.stateNode=jt,Qt(jt,Bt,kt,wt,yt)&&Ks(_t)}_t.ref!==null&&(_t.flags|=512,_t.flags|=2097152)}return gs(_t),null;case 6:if(yt&&_t.stateNode!=null)_c(yt,_t,yt.memoizedProps,kt);else{if(typeof kt!="string"&&_t.stateNode===null)throw Error(at(166));if(yt=qs(Bo.current),wt=qs(Vs.current),Ko(_t)){if(!gn)throw Error(at(176));if(yt=_t.stateNode,kt=_t.memoizedProps,(wt=Jt(yt,kt,_t,!Yo))&&(Bt=Is,Bt!==null))switch(jt=(Bt.mode&1)!==0,Bt.tag){case 3:rn(Bt.stateNode.containerInfo,yt,kt,jt);break;case 5:Sn(Bt.type,Bt.memoizedProps,Bt.stateNode,yt,kt,jt)}wt&&Ks(_t)}else _t.stateNode=tn(kt,yt,wt,_t)}return gs(_t),null;case 13:if(ir(qr),kt=_t.memoizedState,Gr&&ks!==null&&_t.mode&1&&!(_t.flags&128)){for(yt=ks;yt;)yt=Yr(yt);return Lo(),_t.flags|=98560,_t}if(kt!==null&&kt.dehydrated!==null){if(kt=Ko(_t),yt===null){if(!kt)throw Error(at(318));if(!gn)throw Error(at(344));if(yt=_t.memoizedState,yt=yt!==null?yt.dehydrated:null,!yt)throw Error(at(317));hn(yt,_t)}else Lo(),!(_t.flags&128)&&(_t.memoizedState=null),_t.flags|=4;return gs(_t),null}return Gs!==null&&(ap(Gs),Gs=null),_t.flags&128?(_t.lanes=wt,_t):(kt=kt!==null,wt=!1,yt===null?Ko(_t):wt=yt.memoizedState!==null,kt&&!wt&&(_t.child.flags|=8192,_t.mode&1&&(yt===null||qr.current&1?ss===0&&(ss=3):lp())),_t.updateQueue!==null&&(_t.flags|=4),gs(_t),null);case 4:return No(),Ml(yt,_t),yt===null&&Fn(_t.stateNode.containerInfo),gs(_t),null;case 10:return ls(_t.type._context),gs(_t),null;case 17:return Vr(_t.type)&&kr(),gs(_t),null;case 19:if(ir(qr),Bt=_t.memoizedState,Bt===null)return gs(_t),null;if(kt=(_t.flags&128)!==0,jt=Bt.rendering,jt===null)if(kt)wl(Bt,!1);else{if(ss!==0||yt!==null&&yt.flags&128)for(yt=_t.child;yt!==null;){if(jt=Gl(yt),jt!==null){for(_t.flags|=128,wl(Bt,!1),yt=jt.updateQueue,yt!==null&&(_t.updateQueue=yt,_t.flags|=4),_t.subtreeFlags=0,yt=wt,kt=_t.child;kt!==null;)wt=kt,Bt=yt,wt.flags&=14680066,jt=wt.alternate,jt===null?(wt.childLanes=0,wt.lanes=Bt,wt.child=null,wt.subtreeFlags=0,wt.memoizedProps=null,wt.memoizedState=null,wt.updateQueue=null,wt.dependencies=null,wt.stateNode=null):(wt.childLanes=jt.childLanes,wt.lanes=jt.lanes,wt.child=jt.child,wt.subtreeFlags=0,wt.deletions=null,wt.memoizedProps=jt.memoizedProps,wt.memoizedState=jt.memoizedState,wt.updateQueue=jt.updateQueue,wt.type=jt.type,Bt=jt.dependencies,wt.dependencies=Bt===null?null:{lanes:Bt.lanes,firstContext:Bt.firstContext}),kt=kt.sibling;return dr(qr,qr.current&1|2),_t.child}yt=yt.sibling}Bt.tail!==null&&Xr()>np&&(_t.flags|=128,kt=!0,wl(Bt,!1),_t.lanes=4194304)}else{if(!kt)if(yt=Gl(jt),yt!==null){if(_t.flags|=128,kt=!0,yt=yt.updateQueue,yt!==null&&(_t.updateQueue=yt,_t.flags|=4),wl(Bt,!0),Bt.tail===null&&Bt.tailMode==="hidden"&&!jt.alternate&&!Gr)return gs(_t),null}else 2*Xr()-Bt.renderingStartTime>np&&wt!==1073741824&&(_t.flags|=128,kt=!0,wl(Bt,!1),_t.lanes=4194304);Bt.isBackwards?(jt.sibling=_t.child,_t.child=jt):(yt=Bt.last,yt!==null?yt.sibling=jt:_t.child=jt,Bt.last=jt)}return Bt.tail!==null?(_t=Bt.tail,Bt.rendering=_t,Bt.tail=_t.sibling,Bt.renderingStartTime=Xr(),_t.sibling=null,yt=qr.current,dr(qr,kt?yt&1|2:yt&1),_t):(gs(_t),null);case 22:case 23:return op(),kt=_t.memoizedState!==null,yt!==null&&yt.memoizedState!==null!==kt&&(_t.flags|=8192),kt&&_t.mode&1?Ls&1073741824&&(gs(_t),Mn&&_t.subtreeFlags&6&&(_t.flags|=8192)):gs(_t),null;case 24:return null;case 25:return null}throw Error(at(156,_t.tag))}var Ym=ot.ReactCurrentOwner,Ds=!1;function Es(yt,_t,wt,kt){_t.child=yt===null?Tp(_t,null,wt,kt):Fo(_t,yt.child,wt,kt)}function Qp(yt,_t,wt,kt,Bt){wt=wt.render;var jt=_t.ref;return Jr(_t,Bt),kt=Fu(yt,_t,wt,kt,jt,Bt),wt=Bu(),yt!==null&&!Ds?(_t.updateQueue=yt.updateQueue,_t.flags&=-2053,yt.lanes&=~Bt,to(yt,_t,Bt)):(Gr&&wt&&wu(_t),_t.flags|=1,Es(yt,_t,kt,Bt),_t.child)}function _d(yt,_t,wt,kt,Bt){if(yt===null){var jt=wt.type;return typeof jt=="function"&&!cp(jt)&&jt.defaultProps===void 0&&wt.compare===null&&wt.defaultProps===void 0?(_t.tag=15,_t.type=jt,em(yt,_t,jt,kt,Bt)):(yt=_u(wt.type,null,kt,_t,_t.mode,Bt),yt.ref=_t.ref,yt.return=_t,_t.child=yt)}if(jt=yt.child,!(yt.lanes&Bt)){var sn=jt.memoizedProps;if(wt=wt.compare,wt=wt!==null?wt:vo,wt(sn,kt)&&yt.ref===_t.ref)return to(yt,_t,Bt)}return _t.flags|=1,yt=uo(jt,kt),yt.ref=_t.ref,yt.return=_t,_t.child=yt}function em(yt,_t,wt,kt,Bt){if(yt!==null&&vo(yt.memoizedProps,kt)&&yt.ref===_t.ref)if(Ds=!1,(yt.lanes&Bt)!==0)yt.flags&131072&&(Ds=!0);else return _t.lanes=yt.lanes,to(yt,_t,Bt);return ju(yt,_t,wt,kt,Bt)}function tm(yt,_t,wt){var kt=_t.pendingProps,Bt=kt.children,jt=yt!==null?yt.memoizedState:null;if(kt.mode==="hidden")if(!(_t.mode&1))_t.memoizedState={baseLanes:0,cachePool:null},dr($o,Ls),Ls|=wt;else if(wt&1073741824)_t.memoizedState={baseLanes:0,cachePool:null},kt=jt!==null?jt.baseLanes:wt,dr($o,Ls),Ls|=kt;else return yt=jt!==null?jt.baseLanes|wt:wt,_t.lanes=_t.childLanes=1073741824,_t.memoizedState={baseLanes:yt,cachePool:null},_t.updateQueue=null,dr($o,Ls),Ls|=yt,null;else jt!==null?(kt=jt.baseLanes|wt,_t.memoizedState=null):kt=wt,dr($o,Ls),Ls|=kt;return Es(yt,_t,Bt,wt),_t.child}function nm(yt,_t){var wt=_t.ref;(yt===null&&wt!==null||yt!==null&&yt.ref!==wt)&&(_t.flags|=512,_t.flags|=2097152)}function ju(yt,_t,wt,kt,Bt){var jt=Vr(wt)?mr:er.current;return jt=Lr(_t,jt),Jr(_t,Bt),wt=Fu(yt,_t,wt,kt,jt,Bt),kt=Bu(),yt!==null&&!Ds?(_t.updateQueue=yt.updateQueue,_t.flags&=-2053,yt.lanes&=~Bt,to(yt,_t,Bt)):(Gr&&kt&&wu(_t),_t.flags|=1,Es(yt,_t,wt,Bt),_t.child)}function rm(yt,_t,wt,kt,Bt){if(Vr(wt)){var jt=!0;wr(_t)}else jt=!1;if(Jr(_t,Bt),_t.stateNode===null)yt!==null&&(yt.alternate=null,_t.alternate=null,_t.flags|=2),yp(_t,wt,kt),Mu(_t,wt,kt,Bt),kt=!0;else if(yt===null){var sn=_t.stateNode,yn=_t.memoizedProps;sn.props=yn;var $n=sn.context,Qn=wt.contextType;typeof Qn=="object"&&Qn!==null?Qn=Qr(Qn):(Qn=Vr(wt)?mr:er.current,Qn=Lr(_t,Qn));var hr=wt.getDerivedStateFromProps,Tr=typeof hr=="function"||typeof sn.getSnapshotBeforeUpdate=="function";Tr||typeof sn.UNSAFE_componentWillReceiveProps!="function"&&typeof sn.componentWillReceiveProps!="function"||(yn!==kt||$n!==Qn)&&xp(_t,sn,kt,Qn),io=!1;var Sr=_t.memoizedState;sn.state=Sr,Vl(_t,kt,sn,Bt),$n=_t.memoizedState,yn!==kt||Sr!==$n||xr.current||io?(typeof hr=="function"&&(bu(_t,wt,hr,kt),$n=_t.memoizedState),(yn=io||vp(_t,wt,yn,kt,Sr,$n,Qn))?(Tr||typeof sn.UNSAFE_componentWillMount!="function"&&typeof sn.componentWillMount!="function"||(typeof sn.componentWillMount=="function"&&sn.componentWillMount(),typeof sn.UNSAFE_componentWillMount=="function"&&sn.UNSAFE_componentWillMount()),typeof sn.componentDidMount=="function"&&(_t.flags|=4194308)):(typeof sn.componentDidMount=="function"&&(_t.flags|=4194308),_t.memoizedProps=kt,_t.memoizedState=$n),sn.props=kt,sn.state=$n,sn.context=Qn,kt=yn):(typeof sn.componentDidMount=="function"&&(_t.flags|=4194308),kt=!1)}else{sn=_t.stateNode,pp(yt,_t),yn=_t.memoizedProps,Qn=_t.type===_t.elementType?yn:_s(_t.type,yn),sn.props=Qn,Tr=_t.pendingProps,Sr=sn.context,$n=wt.contextType,typeof $n=="object"&&$n!==null?$n=Qr($n):($n=Vr(wt)?mr:er.current,$n=Lr(_t,$n));var Ur=wt.getDerivedStateFromProps;(hr=typeof Ur=="function"||typeof sn.getSnapshotBeforeUpdate=="function")||typeof sn.UNSAFE_componentWillReceiveProps!="function"&&typeof sn.componentWillReceiveProps!="function"||(yn!==Tr||Sr!==$n)&&xp(_t,sn,kt,$n),io=!1,Sr=_t.memoizedState,sn.state=Sr,Vl(_t,kt,sn,Bt);var yr=_t.memoizedState;yn!==Tr||Sr!==yr||xr.current||io?(typeof Ur=="function"&&(bu(_t,wt,Ur,kt),yr=_t.memoizedState),(Qn=io||vp(_t,wt,Qn,kt,Sr,yr,$n)||!1)?(hr||typeof sn.UNSAFE_componentWillUpdate!="function"&&typeof sn.componentWillUpdate!="function"||(typeof sn.componentWillUpdate=="function"&&sn.componentWillUpdate(kt,yr,$n),typeof sn.UNSAFE_componentWillUpdate=="function"&&sn.UNSAFE_componentWillUpdate(kt,yr,$n)),typeof sn.componentDidUpdate=="function"&&(_t.flags|=4),typeof sn.getSnapshotBeforeUpdate=="function"&&(_t.flags|=1024)):(typeof sn.componentDidUpdate!="function"||yn===yt.memoizedProps&&Sr===yt.memoizedState||(_t.flags|=4),typeof sn.getSnapshotBeforeUpdate!="function"||yn===yt.memoizedProps&&Sr===yt.memoizedState||(_t.flags|=1024),_t.memoizedProps=kt,_t.memoizedState=yr),sn.props=kt,sn.state=yr,sn.context=$n,kt=Qn):(typeof sn.componentDidUpdate!="function"||yn===yt.memoizedProps&&Sr===yt.memoizedState||(_t.flags|=4),typeof sn.getSnapshotBeforeUpdate!="function"||yn===yt.memoizedProps&&Sr===yt.memoizedState||(_t.flags|=1024),kt=!1)}return zu(yt,_t,wt,kt,jt,Bt)}function zu(yt,_t,wt,kt,Bt,jt){nm(yt,_t);var sn=(_t.flags&128)!==0;if(!kt&&!sn)return Bt&&Mr(_t,wt,!1),to(yt,_t,jt);kt=_t.stateNode,Ym.current=_t;var yn=sn&&typeof wt.getDerivedStateFromError!="function"?null:kt.render();return _t.flags|=1,yt!==null&&sn?(_t.child=Fo(_t,yt.child,null,jt),_t.child=Fo(_t,null,yn,jt)):Es(yt,_t,yn,jt),_t.memoizedState=kt.state,Bt&&Mr(_t,wt,!0),_t.child}function im(yt){var _t=yt.stateNode;_t.pendingContext?Ar(yt,_t.pendingContext,_t.pendingContext!==_t.context):_t.context&&Ar(yt,_t.context,!1),Ru(yt,_t.containerInfo)}function sm(yt,_t,wt,kt,Bt){return Lo(),Pu(Bt),_t.flags|=256,Es(yt,_t,wt,kt),_t.child}var eu={dehydrated:null,treeContext:null,retryLane:0};function tu(yt){return{baseLanes:yt,cachePool:null}}function am(yt,_t,wt){var kt=_t.pendingProps,Bt=qr.current,jt=!1,sn=(_t.flags&128)!==0,yn;if((yn=sn)||(yn=yt!==null&&yt.memoizedState===null?!1:(Bt&2)!==0),yn?(jt=!0,_t.flags&=-129):(yt===null||yt.memoizedState!==null)&&(Bt|=1),dr(qr,Bt&1),yt===null)return Au(_t),yt=_t.memoizedState,yt!==null&&(yt=yt.dehydrated,yt!==null)?(_t.mode&1?ns(yt)?_t.lanes=8:_t.lanes=1073741824:_t.lanes=1,null):(Bt=kt.children,yt=kt.fallback,jt?(kt=_t.mode,jt=_t.child,Bt={mode:"hidden",children:Bt},!(kt&1)&&jt!==null?(jt.childLanes=0,jt.pendingProps=Bt):jt=Su(Bt,kt,0,null),yt=Co(yt,kt,wt,null),jt.return=_t,yt.return=_t,jt.sibling=yt,_t.child=jt,_t.child.memoizedState=tu(wt),_t.memoizedState=eu,yt):Gu(_t,Bt));if(Bt=yt.memoizedState,Bt!==null){if(yn=Bt.dehydrated,yn!==null){if(sn)return _t.flags&256?(_t.flags&=-257,nu(yt,_t,wt,Error(at(422)))):_t.memoizedState!==null?(_t.child=yt.child,_t.flags|=128,null):(jt=kt.fallback,Bt=_t.mode,kt=Su({mode:"visible",children:kt.children},Bt,0,null),jt=Co(jt,Bt,wt,null),jt.flags|=2,kt.return=_t,jt.return=_t,kt.sibling=jt,_t.child=kt,_t.mode&1&&Fo(_t,yt.child,null,wt),_t.child.memoizedState=tu(wt),_t.memoizedState=eu,jt);if(!(_t.mode&1))_t=nu(yt,_t,wt,null);else if(ns(yn))_t=nu(yt,_t,wt,Error(at(419)));else if(kt=(wt&yt.childLanes)!==0,Ds||kt){if(kt=es,kt!==null){switch(wt&-wt){case 4:jt=2;break;case 16:jt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:jt=32;break;case 536870912:jt=268435456;break;default:jt=0}kt=jt&(kt.suspendedLanes|wt)?0:jt,kt!==0&&kt!==Bt.retryLane&&(Bt.retryLane=kt,Os(yt,kt,-1))}lp(),_t=nu(yt,_t,wt,Error(at(421)))}else zr(yn)?(_t.flags|=128,_t.child=yt.child,_t=ov.bind(null,yt),rs(yn,_t),_t=null):(wt=Bt.treeContext,gn&&(ks=fs(yn),Is=_t,Gr=!0,Gs=null,Yo=!1,wt!==null&&(Bs[Ns++]=ba,Bs[Ns++]=$a,Bs[Ns++]=xo,ba=wt.id,$a=wt.overflow,xo=_t)),_t=Gu(_t,_t.pendingProps.children),_t.flags|=4096);return _t}return jt?(kt=lm(yt,_t,kt.children,kt.fallback,wt),jt=_t.child,Bt=yt.child.memoizedState,jt.memoizedState=Bt===null?tu(wt):{baseLanes:Bt.baseLanes|wt,cachePool:null},jt.childLanes=yt.childLanes&~wt,_t.memoizedState=eu,kt):(wt=om(yt,_t,kt.children,wt),_t.memoizedState=null,wt)}return jt?(kt=lm(yt,_t,kt.children,kt.fallback,wt),jt=_t.child,Bt=yt.child.memoizedState,jt.memoizedState=Bt===null?tu(wt):{baseLanes:Bt.baseLanes|wt,cachePool:null},jt.childLanes=yt.childLanes&~wt,_t.memoizedState=eu,kt):(wt=om(yt,_t,kt.children,wt),_t.memoizedState=null,wt)}function Gu(yt,_t){return _t=Su({mode:"visible",children:_t},yt.mode,0,null),_t.return=yt,yt.child=_t}function om(yt,_t,wt,kt){var Bt=yt.child;return yt=Bt.sibling,wt=uo(Bt,{mode:"visible",children:wt}),!(_t.mode&1)&&(wt.lanes=kt),wt.return=_t,wt.sibling=null,yt!==null&&(kt=_t.deletions,kt===null?(_t.deletions=[yt],_t.flags|=16):kt.push(yt)),_t.child=wt}function lm(yt,_t,wt,kt,Bt){var jt=_t.mode;yt=yt.child;var sn=yt.sibling,yn={mode:"hidden",children:wt};return!(jt&1)&&_t.child!==yt?(wt=_t.child,wt.childLanes=0,wt.pendingProps=yn,_t.deletions=null):(wt=uo(yt,yn),wt.subtreeFlags=yt.subtreeFlags&14680064),sn!==null?kt=uo(sn,kt):(kt=Co(kt,jt,Bt,null),kt.flags|=2),kt.return=_t,wt.return=_t,wt.sibling=kt,_t.child=wt,kt}function nu(yt,_t,wt,kt){return kt!==null&&Pu(kt),Fo(_t,yt.child,null,wt),yt=Gu(_t,_t.pendingProps.children),yt.flags|=2,_t.memoizedState=null,yt}function cm(yt,_t,wt){yt.lanes|=_t;var kt=yt.alternate;kt!==null&&(kt.lanes|=_t),Ss(yt.return,_t,wt)}function Hu(yt,_t,wt,kt,Bt){var jt=yt.memoizedState;jt===null?yt.memoizedState={isBackwards:_t,rendering:null,renderingStartTime:0,last:kt,tail:wt,tailMode:Bt}:(jt.isBackwards=_t,jt.rendering=null,jt.renderingStartTime=0,jt.last=kt,jt.tail=wt,jt.tailMode=Bt)}function um(yt,_t,wt){var kt=_t.pendingProps,Bt=kt.revealOrder,jt=kt.tail;if(Es(yt,_t,kt.children,wt),kt=qr.current,kt&2)kt=kt&1|2,_t.flags|=128;else{if(yt!==null&&yt.flags&128)e:for(yt=_t.child;yt!==null;){if(yt.tag===13)yt.memoizedState!==null&&cm(yt,wt,_t);else if(yt.tag===19)cm(yt,wt,_t);else if(yt.child!==null){yt.child.return=yt,yt=yt.child;continue}if(yt===_t)break e;for(;yt.sibling===null;){if(yt.return===null||yt.return===_t)break e;yt=yt.return}yt.sibling.return=yt.return,yt=yt.sibling}kt&=1}if(dr(qr,kt),!(_t.mode&1))_t.memoizedState=null;else switch(Bt){case"forwards":for(wt=_t.child,Bt=null;wt!==null;)yt=wt.alternate,yt!==null&&Gl(yt)===null&&(Bt=wt),wt=wt.sibling;wt=Bt,wt===null?(Bt=_t.child,_t.child=null):(Bt=wt.sibling,wt.sibling=null),Hu(_t,!1,Bt,wt,jt);break;case"backwards":for(wt=null,Bt=_t.child,_t.child=null;Bt!==null;){if(yt=Bt.alternate,yt!==null&&Gl(yt)===null){_t.child=Bt;break}yt=Bt.sibling,Bt.sibling=wt,wt=Bt,Bt=yt}Hu(_t,!0,wt,null,jt);break;case"together":Hu(_t,!1,null,null,void 0);break;default:_t.memoizedState=null}return _t.child}function to(yt,_t,wt){if(yt!==null&&(_t.dependencies=yt.dependencies),Oo|=_t.lanes,!(wt&_t.childLanes))return null;if(yt!==null&&_t.child!==yt.child)throw Error(at(153));if(_t.child!==null){for(yt=_t.child,wt=uo(yt,yt.pendingProps),_t.child=wt,wt.return=_t;yt.sibling!==null;)yt=yt.sibling,wt=wt.sibling=uo(yt,yt.pendingProps),wt.return=_t;wt.sibling=null}return _t.child}function Km(yt,_t,wt){switch(_t.tag){case 3:im(_t),Lo();break;case 5:Cp(_t);break;case 1:Vr(_t.type)&&wr(_t);break;case 4:Ru(_t,_t.stateNode.containerInfo);break;case 10:Bl(_t,_t.type._context,_t.memoizedProps.value);break;case 13:var kt=_t.memoizedState;if(kt!==null)return kt.dehydrated!==null?(dr(qr,qr.current&1),_t.flags|=128,null):wt&_t.child.childLanes?am(yt,_t,wt):(dr(qr,qr.current&1),yt=to(yt,_t,wt),yt!==null?yt.sibling:null);dr(qr,qr.current&1);break;case 19:if(kt=(wt&_t.childLanes)!==0,yt.flags&128){if(kt)return um(yt,_t,wt);_t.flags|=128}var Bt=_t.memoizedState;if(Bt!==null&&(Bt.rendering=null,Bt.tail=null,Bt.lastEffect=null),dr(qr,qr.current),kt)break;return null;case 22:case 23:return _t.lanes=0,tm(yt,_t,wt)}return to(yt,_t,wt)}function Zm(yt,_t){switch(Tu(_t),_t.tag){case 1:return Vr(_t.type)&&kr(),yt=_t.flags,yt&65536?(_t.flags=yt&-65537|128,_t):null;case 3:return No(),ir(xr),ir(er),Du(),yt=_t.flags,yt&65536&&!(yt&128)?(_t.flags=yt&-65537|128,_t):null;case 5:return Iu(_t),null;case 13:if(ir(qr),yt=_t.memoizedState,yt!==null&&yt.dehydrated!==null){if(_t.alternate===null)throw Error(at(340));Lo()}return yt=_t.flags,yt&65536?(_t.flags=yt&-65537|128,_t):null;case 19:return ir(qr),null;case 4:return No(),null;case 10:return ls(_t.type._context),null;case 22:case 23:return op(),null;case 24:return null;default:return null}}var ru=!1,Eo=!1,Jm=typeof WeakSet=="function"?WeakSet:Set,sr=null;function iu(yt,_t){var wt=yt.ref;if(wt!==null)if(typeof wt=="function")try{wt(null)}catch(kt){Cs(yt,_t,kt)}else wt.current=null}function Wu(yt,_t,wt){try{wt()}catch(kt){Cs(yt,_t,kt)}}var hm=!1;function Qm(yt,_t){for(Rt(yt.containerInfo),sr=_t;sr!==null;)if(yt=sr,_t=yt.child,(yt.subtreeFlags&1028)!==0&&_t!==null)_t.return=yt,sr=_t;else for(;sr!==null;){yt=sr;try{var wt=yt.alternate;if(yt.flags&1024)switch(yt.tag){case 0:case 11:case 15:break;case 1:if(wt!==null){var kt=wt.memoizedProps,Bt=wt.memoizedState,jt=yt.stateNode,sn=jt.getSnapshotBeforeUpdate(yt.elementType===yt.type?kt:_s(yt.type,kt),Bt);jt.__reactInternalSnapshotBeforeUpdate=sn}break;case 3:Mn&&zn(yt.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(at(163))}}catch(yn){Cs(yt,yt.return,yn)}if(_t=yt.sibling,_t!==null){_t.return=yt.return,sr=_t;break}sr=yt.return}return wt=hm,hm=!1,wt}function bo(yt,_t,wt){var kt=_t.updateQueue;if(kt=kt!==null?kt.lastEffect:null,kt!==null){var Bt=kt=kt.next;do{if((Bt.tag&yt)===yt){var jt=Bt.destroy;Bt.destroy=void 0,jt!==void 0&&Wu(_t,wt,jt)}Bt=Bt.next}while(Bt!==kt)}}function Tl(yt,_t){if(_t=_t.updateQueue,_t=_t!==null?_t.lastEffect:null,_t!==null){var wt=_t=_t.next;do{if((wt.tag&yt)===yt){var kt=wt.create;wt.destroy=kt()}wt=wt.next}while(wt!==_t)}}function Xu(yt){var _t=yt.ref;if(_t!==null){var wt=yt.stateNode;switch(yt.tag){case 5:yt=Dt(wt);break;default:yt=wt}typeof _t=="function"?_t(yt):_t.current=yt}}function fm(yt,_t,wt){if(As&&typeof As.onCommitFiberUnmount=="function")try{As.onCommitFiberUnmount(mo,_t)}catch{}switch(_t.tag){case 0:case 11:case 14:case 15:if(yt=_t.updateQueue,yt!==null&&(yt=yt.lastEffect,yt!==null)){var kt=yt=yt.next;do{var Bt=kt,jt=Bt.destroy;Bt=Bt.tag,jt!==void 0&&(Bt&2||Bt&4)&&Wu(_t,wt,jt),kt=kt.next}while(kt!==yt)}break;case 1:if(iu(_t,wt),yt=_t.stateNode,typeof yt.componentWillUnmount=="function")try{yt.props=_t.memoizedProps,yt.state=_t.memoizedState,yt.componentWillUnmount()}catch(sn){Cs(_t,wt,sn)}break;case 5:iu(_t,wt);break;case 4:Mn?ym(yt,_t,wt):ln&&ln&&(_t=_t.stateNode.containerInfo,wt=Gn(_t),fr(_t,wt))}}function pm(yt,_t,wt){for(var kt=_t;;)if(fm(yt,kt,wt),kt.child===null||Mn&&kt.tag===4){if(kt===_t)break;for(;kt.sibling===null;){if(kt.return===null||kt.return===_t)return;kt=kt.return}kt.sibling.return=kt.return,kt=kt.sibling}else kt.child.return=kt,kt=kt.child}function dm(yt){var _t=yt.alternate;_t!==null&&(yt.alternate=null,dm(_t)),yt.child=null,yt.deletions=null,yt.sibling=null,yt.tag===5&&(_t=yt.stateNode,_t!==null&&Vn(_t)),yt.stateNode=null,yt.return=null,yt.dependencies=null,yt.memoizedProps=null,yt.memoizedState=null,yt.pendingProps=null,yt.stateNode=null,yt.updateQueue=null}function mm(yt){return yt.tag===5||yt.tag===3||yt.tag===4}function gm(yt){e:for(;;){for(;yt.sibling===null;){if(yt.return===null||mm(yt.return))return null;yt=yt.return}for(yt.sibling.return=yt.return,yt=yt.sibling;yt.tag!==5&&yt.tag!==6&&yt.tag!==18;){if(yt.flags&2||yt.child===null||yt.tag===4)continue e;yt.child.return=yt,yt=yt.child}if(!(yt.flags&2))return yt.stateNode}}function vm(yt){if(Mn){e:{for(var _t=yt.return;_t!==null;){if(mm(_t))break e;_t=_t.return}throw Error(at(160))}var wt=_t;switch(wt.tag){case 5:_t=wt.stateNode,wt.flags&32&&(nr(_t),wt.flags&=-33),wt=gm(yt),Yu(yt,wt,_t);break;case 3:case 4:_t=wt.stateNode.containerInfo,wt=gm(yt),qu(yt,wt,_t);break;default:throw Error(at(161))}}}function qu(yt,_t,wt){var kt=yt.tag;if(kt===5||kt===6)yt=yt.stateNode,_t?Wn(wt,yt,_t):Nn(wt,yt);else if(kt!==4&&(yt=yt.child,yt!==null))for(qu(yt,_t,wt),yt=yt.sibling;yt!==null;)qu(yt,_t,wt),yt=yt.sibling}function Yu(yt,_t,wt){var kt=yt.tag;if(kt===5||kt===6)yt=yt.stateNode,_t?Yn(wt,yt,_t):kn(wt,yt);else if(kt!==4&&(yt=yt.child,yt!==null))for(Yu(yt,_t,wt),yt=yt.sibling;yt!==null;)Yu(yt,_t,wt),yt=yt.sibling}function ym(yt,_t,wt){for(var kt=_t,Bt=!1,jt,sn;;){if(!Bt){Bt=kt.return;e:for(;;){if(Bt===null)throw Error(at(160));switch(jt=Bt.stateNode,Bt.tag){case 5:sn=!1;break e;case 3:jt=jt.containerInfo,sn=!0;break e;case 4:jt=jt.containerInfo,sn=!0;break e}Bt=Bt.return}Bt=!0}if(kt.tag===5||kt.tag===6)pm(yt,kt,wt),sn?rr(jt,kt.stateNode):On(jt,kt.stateNode);else if(kt.tag===18)sn?on(jt,kt.stateNode):nn(jt,kt.stateNode);else if(kt.tag===4){if(kt.child!==null){jt=kt.stateNode.containerInfo,sn=!0,kt.child.return=kt,kt=kt.child;continue}}else if(fm(yt,kt,wt),kt.child!==null){kt.child.return=kt,kt=kt.child;continue}if(kt===_t)break;for(;kt.sibling===null;){if(kt.return===null||kt.return===_t)return;kt=kt.return,kt.tag===4&&(Bt=!1)}kt.sibling.return=kt.return,kt=kt.sibling}}function Ku(yt,_t){if(Mn){switch(_t.tag){case 0:case 11:case 14:case 15:bo(3,_t,_t.return),Tl(3,_t),bo(5,_t,_t.return);return;case 1:return;case 5:var wt=_t.stateNode;if(wt!=null){var kt=_t.memoizedProps;yt=yt!==null?yt.memoizedProps:kt;var Bt=_t.type,jt=_t.updateQueue;_t.updateQueue=null,jt!==null&&Kn(wt,jt,Bt,yt,kt,_t)}return;case 6:if(_t.stateNode===null)throw Error(at(162));wt=_t.memoizedProps,tr(_t.stateNode,yt!==null?yt.memoizedProps:wt,wt);return;case 3:gn&&yt!==null&&yt.memoizedState.isDehydrated&&In(_t.stateNode.containerInfo);return;case 12:return;case 13:su(_t);return;case 19:su(_t);return;case 17:return}throw Error(at(163))}switch(_t.tag){case 0:case 11:case 14:case 15:bo(3,_t,_t.return),Tl(3,_t),bo(5,_t,_t.return);return;case 12:return;case 13:su(_t);return;case 19:su(_t);return;case 3:gn&&yt!==null&&yt.memoizedState.isDehydrated&&In(_t.stateNode.containerInfo);break;case 22:case 23:return}e:if(ln){switch(_t.tag){case 1:case 5:case 6:break e;case 3:case 4:_t=_t.stateNode,fr(_t.containerInfo,_t.pendingChildren);break e}throw Error(at(163))}}function su(yt){var _t=yt.updateQueue;if(_t!==null){yt.updateQueue=null;var wt=yt.stateNode;wt===null&&(wt=yt.stateNode=new Jm),_t.forEach(function(kt){var Bt=lv.bind(null,yt,kt);wt.has(kt)||(wt.add(kt),kt.then(Bt,Bt))})}}function _g(yt,_t){for(sr=_t;sr!==null;){_t=sr;var wt=_t.deletions;if(wt!==null)for(var kt=0;kt<wt.length;kt++){var Bt=wt[kt];try{var jt=yt;Mn?ym(jt,Bt,_t):pm(jt,Bt,_t);var sn=Bt.alternate;sn!==null&&(sn.return=null),Bt.return=null}catch(vr){Cs(Bt,_t,vr)}}if(wt=_t.child,_t.subtreeFlags&12854&&wt!==null)wt.return=_t,sr=wt;else for(;sr!==null;){_t=sr;try{var yn=_t.flags;if(yn&32&&Mn&&nr(_t.stateNode),yn&512){var $n=_t.alternate;if($n!==null){var Qn=$n.ref;Qn!==null&&(typeof Qn=="function"?Qn(null):Qn.current=null)}}if(yn&8192)switch(_t.tag){case 13:if(_t.memoizedState!==null){var hr=_t.alternate;(hr===null||hr.memoizedState===null)&&(tp=Xr())}break;case 22:var Tr=_t.memoizedState!==null,Sr=_t.alternate,Ur=Sr!==null&&Sr.memoizedState!==null;if(wt=_t,Mn){e:if(kt=wt,Bt=Tr,jt=null,Mn)for(var yr=kt;;){if(yr.tag===5){if(jt===null){jt=yr;var vs=yr.stateNode;Bt?pr(vs):vn(yr.stateNode,yr.memoizedProps)}}else if(yr.tag===6){if(jt===null){var js=yr.stateNode;Bt?fn(js):bn(js,yr.memoizedProps)}}else if((yr.tag!==22&&yr.tag!==23||yr.memoizedState===null||yr===kt)&&yr.child!==null){yr.child.return=yr,yr=yr.child;continue}if(yr===kt)break;for(;yr.sibling===null;){if(yr.return===null||yr.return===kt)break e;jt===yr&&(jt=null),yr=yr.return}jt===yr&&(jt=null),yr.sibling.return=yr.return,yr=yr.sibling}}if(Tr&&!Ur&&wt.mode&1){sr=wt;for(var Pn=wt.child;Pn!==null;){for(wt=sr=Pn;sr!==null;){kt=sr;var _n=kt.child;switch(kt.tag){case 0:case 11:case 14:case 15:bo(4,kt,kt.return);break;case 1:iu(kt,kt.return);var Ln=kt.stateNode;if(typeof Ln.componentWillUnmount=="function"){var ar=kt.return;try{Ln.props=kt.memoizedProps,Ln.state=kt.memoizedState,Ln.componentWillUnmount()}catch(vr){Cs(kt,ar,vr)}}break;case 5:iu(kt,kt.return);break;case 22:if(kt.memoizedState!==null){Sm(wt);continue}}_n!==null?(_n.return=kt,sr=_n):Sm(wt)}Pn=Pn.sibling}}}switch(yn&4102){case 2:vm(_t),_t.flags&=-3;break;case 6:vm(_t),_t.flags&=-3,Ku(_t.alternate,_t);break;case 4096:_t.flags&=-4097;break;case 4100:_t.flags&=-4097,Ku(_t.alternate,_t);break;case 4:Ku(_t.alternate,_t)}}catch(vr){Cs(_t,_t.return,vr)}if(wt=_t.sibling,wt!==null){wt.return=_t.return,sr=wt;break}sr=_t.return}}}function ev(yt,_t,wt){sr=yt,xm(yt)}function xm(yt,_t,wt){for(var kt=(yt.mode&1)!==0;sr!==null;){var Bt=sr,jt=Bt.child;if(Bt.tag===22&&kt){var sn=Bt.memoizedState!==null||ru;if(!sn){var yn=Bt.alternate,$n=yn!==null&&yn.memoizedState!==null||Eo;yn=ru;var Qn=Eo;if(ru=sn,(Eo=$n)&&!Qn)for(sr=Bt;sr!==null;)sn=sr,$n=sn.child,sn.tag===22&&sn.memoizedState!==null?Em(Bt):$n!==null?($n.return=sn,sr=$n):Em(Bt);for(;jt!==null;)sr=jt,xm(jt),jt=jt.sibling;sr=Bt,ru=yn,Eo=Qn}_m(yt)}else Bt.subtreeFlags&8772&&jt!==null?(jt.return=Bt,sr=jt):_m(yt)}}function _m(yt){for(;sr!==null;){var _t=sr;if(_t.flags&8772){var wt=_t.alternate;try{if(_t.flags&8772)switch(_t.tag){case 0:case 11:case 15:Eo||Tl(5,_t);break;case 1:var kt=_t.stateNode;if(_t.flags&4&&!Eo)if(wt===null)kt.componentDidMount();else{var Bt=_t.elementType===_t.type?wt.memoizedProps:_s(_t.type,wt.memoizedProps);kt.componentDidUpdate(Bt,wt.memoizedState,kt.__reactInternalSnapshotBeforeUpdate)}var jt=_t.updateQueue;jt!==null&&mp(_t,jt,kt);break;case 3:var sn=_t.updateQueue;if(sn!==null){if(wt=null,_t.child!==null)switch(_t.child.tag){case 5:wt=Dt(_t.child.stateNode);break;case 1:wt=_t.child.stateNode}mp(_t,sn,wt)}break;case 5:var yn=_t.stateNode;wt===null&&_t.flags&4&&Un(yn,_t.type,_t.memoizedProps,_t);break;case 6:break;case 4:break;case 12:break;case 13:if(gn&&_t.memoizedState===null){var $n=_t.alternate;if($n!==null){var Qn=$n.memoizedState;if(Qn!==null){var hr=Qn.dehydrated;hr!==null&&Gt(hr)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(at(163))}Eo||_t.flags&512&&Xu(_t)}catch(Tr){Cs(_t,_t.return,Tr)}}if(_t===yt){sr=null;break}if(wt=_t.sibling,wt!==null){wt.return=_t.return,sr=wt;break}sr=_t.return}}function Sm(yt){for(;sr!==null;){var _t=sr;if(_t===yt){sr=null;break}var wt=_t.sibling;if(wt!==null){wt.return=_t.return,sr=wt;break}sr=_t.return}}function Em(yt){for(;sr!==null;){var _t=sr;try{switch(_t.tag){case 0:case 11:case 15:var wt=_t.return;try{Tl(4,_t)}catch($n){Cs(_t,wt,$n)}break;case 1:var kt=_t.stateNode;if(typeof kt.componentDidMount=="function"){var Bt=_t.return;try{kt.componentDidMount()}catch($n){Cs(_t,Bt,$n)}}var jt=_t.return;try{Xu(_t)}catch($n){Cs(_t,jt,$n)}break;case 5:var sn=_t.return;try{Xu(_t)}catch($n){Cs(_t,sn,$n)}}}catch($n){Cs(_t,_t.return,$n)}if(_t===yt){sr=null;break}var yn=_t.sibling;if(yn!==null){yn.return=_t.return,sr=yn;break}sr=_t.return}}var au=0,ou=1,lu=2,cu=3,uu=4;if(typeof Symbol=="function"&&Symbol.for){var Cl=Symbol.for;au=Cl("selector.component"),ou=Cl("selector.has_pseudo_class"),lu=Cl("selector.role"),cu=Cl("selector.test_id"),uu=Cl("selector.text")}function Zu(yt){var _t=Yt(yt);if(_t!=null){if(typeof _t.memoizedProps["data-testname"]!="string")throw Error(at(364));return _t}if(yt=Wt(yt),yt===null)throw Error(at(362));return yt.stateNode.current}function Ju(yt,_t){switch(_t.$$typeof){case au:if(yt.type===_t.value)return!0;break;case ou:e:{_t=_t.value,yt=[yt,0];for(var wt=0;wt<yt.length;){var kt=yt[wt++],Bt=yt[wt++],jt=_t[Bt];if(kt.tag!==5||!dn(kt)){for(;jt!=null&&Ju(kt,jt);)Bt++,jt=_t[Bt];if(Bt===_t.length){_t=!0;break e}else for(kt=kt.child;kt!==null;)yt.push(kt,Bt),kt=kt.sibling}}_t=!1}return _t;case lu:if(yt.tag===5&&mn(yt.stateNode,_t.value))return!0;break;case uu:if((yt.tag===5||yt.tag===6)&&(yt=an(yt),yt!==null&&0<=yt.indexOf(_t.value)))return!0;break;case cu:if(yt.tag===5&&(yt=yt.memoizedProps["data-testname"],typeof yt=="string"&&yt.toLowerCase()===_t.value.toLowerCase()))return!0;break;default:throw Error(at(365))}return!1}function Qu(yt){switch(yt.$$typeof){case au:return"<"+(At(yt.value)||"Unknown")+">";case ou:return":has("+(Qu(yt)||"")+")";case lu:return'[role="'+yt.value+'"]';case uu:return'"'+yt.value+'"';case cu:return'[data-testname="'+yt.value+'"]';default:throw Error(at(365))}}function bm(yt,_t){var wt=[];yt=[yt,0];for(var kt=0;kt<yt.length;){var Bt=yt[kt++],jt=yt[kt++],sn=_t[jt];if(Bt.tag!==5||!dn(Bt)){for(;sn!=null&&Ju(Bt,sn);)jt++,sn=_t[jt];if(jt===_t.length)wt.push(Bt);else for(Bt=Bt.child;Bt!==null;)yt.push(Bt,jt),Bt=Bt.sibling}}return wt}function _h(yt,_t){if(!Tn)throw Error(at(363));yt=Zu(yt),yt=bm(yt,_t),_t=[],yt=Array.from(yt);for(var wt=0;wt<yt.length;){var kt=yt[wt++];if(kt.tag===5)dn(kt)||_t.push(kt.stateNode);else for(kt=kt.child;kt!==null;)yt.push(kt),kt=kt.sibling}return _t}var tv=Math.ceil,hu=ot.ReactCurrentDispatcher,_f=ot.ReactCurrentOwner,_i=ot.ReactCurrentBatchConfig,Ir=0,es=null,ts=null,hs=0,Ls=0,$o=ur(0),ss=0,Al=null,Oo=0,fu=0,ep=0,Pl=null,ws=null,tp=0,np=1/0;function Uo(){np=Xr()+500}var pu=!1,rp=null,ao=null,du=!1,oo=null,mu=0,Rl=0,ip=null,gu=-1,vu=0;function bs(){return Ir&6?Xr():gu!==-1?gu:gu=Xr()}function lo(yt){return yt.mode&1?Ir&2&&hs!==0?hs&-hs:go.transition!==null?(vu===0&&(yt=Zs,Zs<<=1,!(Zs&4194240)&&(Zs=64),vu=yt),vu):(yt=Dr,yt!==0?yt:wn()):1}function Os(yt,_t,wt){if(50<Rl)throw Rl=0,ip=null,Error(at(185));var kt=yu(yt,_t);return kt===null?null:(Hs(kt,_t,wt),(!(Ir&2)||kt!==es)&&(kt===es&&(!(Ir&2)&&(fu|=_t),ss===4&&co(kt,hs)),Ts(kt,wt),_t===1&&Ir===0&&!(yt.mode&1)&&(Uo(),Xs&&Ms())),kt)}function yu(yt,_t){yt.lanes|=_t;var wt=yt.alternate;for(wt!==null&&(wt.lanes|=_t),wt=yt,yt=yt.return;yt!==null;)yt.childLanes|=_t,wt=yt.alternate,wt!==null&&(wt.childLanes|=_t),wt=yt,yt=yt.return;return wt.tag===3?wt.stateNode:null}function Ts(yt,_t){var wt=yt.callbackNode;jo(yt,_t);var kt=fo(yt,yt===es?hs:0);if(kt===0)wt!==null&&Po(wt),yt.callbackNode=null,yt.callbackPriority=0;else if(_t=kt&-kt,yt.callbackPriority!==_t){if(wt!=null&&Po(wt),_t===1)yt.tag===0?qo(wm.bind(null,yt)):Xo(wm.bind(null,yt)),xn?Bn(function(){Ir===0&&Ms()}):ga(po,Ms),wt=null;else{switch(zo(kt)){case 1:wt=po;break;case 4:wt=Ll;break;case 16:wt=ys;break;case 536870912:wt=Ho;break;default:wt=ys}wt=Lm(wt,Mm.bind(null,yt))}yt.callbackPriority=_t,yt.callbackNode=wt}}function Mm(yt,_t){if(gu=-1,vu=0,Ir&6)throw Error(at(327));var wt=yt.callbackNode;if(To()&&yt.callbackNode!==wt)return null;var kt=fo(yt,yt===es?hs:0);if(kt===0)return null;if(kt&30||kt&yt.expiredLanes||_t)_t=xu(yt,kt);else{_t=kt;var Bt=Ir;Ir|=2;var jt=Am();(es!==yt||hs!==_t)&&(Uo(),Mo(yt,_t));do try{iv();break}catch(yn){Cm(yt,yn)}while(!0);Io(),hu.current=jt,Ir=Bt,ts!==null?_t=0:(es=null,hs=0,_t=ss)}if(_t!==0){if(_t===2&&(Bt=na(yt),Bt!==0&&(kt=Bt,_t=sp(yt,Bt))),_t===1)throw wt=Al,Mo(yt,0),co(yt,kt),Ts(yt,Xr()),wt;if(_t===6)co(yt,kt);else{if(Bt=yt.current.alternate,!(kt&30)&&!nv(Bt)&&(_t=xu(yt,kt),_t===2&&(jt=na(yt),jt!==0&&(kt=jt,_t=sp(yt,jt))),_t===1))throw wt=Al,Mo(yt,0),co(yt,kt),Ts(yt,Xr()),wt;switch(yt.finishedWork=Bt,yt.finishedLanes=kt,_t){case 0:case 1:throw Error(at(345));case 2:wo(yt,ws);break;case 3:if(co(yt,kt),(kt&130023424)===kt&&(_t=tp+500-Xr(),10<_t)){if(fo(yt,0)!==0)break;if(Bt=yt.suspendedLanes,(Bt&kt)!==kt){bs(),yt.pingedLanes|=yt.suspendedLanes&Bt;break}yt.timeoutHandle=en(wo.bind(null,yt,ws),_t);break}wo(yt,ws);break;case 4:if(co(yt,kt),(kt&4194240)===kt)break;for(_t=yt.eventTimes,Bt=-1;0<kt;){var sn=31-Rr(kt);jt=1<<sn,sn=_t[sn],sn>Bt&&(Bt=sn),kt&=~jt}if(kt=Bt,kt=Xr()-kt,kt=(120>kt?120:480>kt?480:1080>kt?1080:1920>kt?1920:3e3>kt?3e3:4320>kt?4320:1960*tv(kt/1960))-kt,10<kt){yt.timeoutHandle=en(wo.bind(null,yt,ws),kt);break}wo(yt,ws);break;case 5:wo(yt,ws);break;default:throw Error(at(329))}}}return Ts(yt,Xr()),yt.callbackNode===wt?Mm.bind(null,yt):null}function sp(yt,_t){var wt=Pl;return yt.current.memoizedState.isDehydrated&&(Mo(yt,_t).flags|=256),yt=xu(yt,_t),yt!==2&&(_t=ws,ws=wt,_t!==null&&ap(_t)),yt}function ap(yt){ws===null?ws=yt:ws.push.apply(ws,yt)}function nv(yt){for(var _t=yt;;){if(_t.flags&16384){var wt=_t.updateQueue;if(wt!==null&&(wt=wt.stores,wt!==null))for(var kt=0;kt<wt.length;kt++){var Bt=wt[kt],jt=Bt.getSnapshot;Bt=Bt.value;try{if(!Ps(jt(),Bt))return!1}catch{return!1}}}if(wt=_t.child,_t.subtreeFlags&16384&&wt!==null)wt.return=_t,_t=wt;else{if(_t===yt)break;for(;_t.sibling===null;){if(_t.return===null||_t.return===yt)return!0;_t=_t.return}_t.sibling.return=_t.return,_t=_t.sibling}}return!0}function co(yt,_t){for(_t&=~ep,_t&=~fu,yt.suspendedLanes|=_t,yt.pingedLanes&=~_t,yt=yt.expirationTimes;0<_t;){var wt=31-Rr(_t),kt=1<<wt;yt[wt]=-1,_t&=~kt}}function wm(yt){if(Ir&6)throw Error(at(327));To();var _t=fo(yt,0);if(!(_t&1))return Ts(yt,Xr()),null;var wt=xu(yt,_t);if(yt.tag!==0&&wt===2){var kt=na(yt);kt!==0&&(_t=kt,wt=sp(yt,kt))}if(wt===1)throw wt=Al,Mo(yt,0),co(yt,_t),Ts(yt,Xr()),wt;if(wt===6)throw Error(at(345));return yt.finishedWork=yt.current.alternate,yt.finishedLanes=_t,wo(yt,ws),Ts(yt,Xr()),null}function Tm(yt){oo!==null&&oo.tag===0&&!(Ir&6)&&To();var _t=Ir;Ir|=1;var wt=_i.transition,kt=Dr;try{if(_i.transition=null,Dr=1,yt)return yt()}finally{Dr=kt,_i.transition=wt,Ir=_t,!(Ir&6)&&Ms()}}function op(){Ls=$o.current,ir($o)}function Mo(yt,_t){yt.finishedWork=null,yt.finishedLanes=0;var wt=yt.timeoutHandle;if(wt!==Cn&&(yt.timeoutHandle=Cn,un(wt)),ts!==null)for(wt=ts.return;wt!==null;){var kt=wt;switch(Tu(kt),kt.tag){case 1:kt=kt.type.childContextTypes,kt!=null&&kr();break;case 3:No(),ir(xr),ir(er),Du();break;case 5:Iu(kt);break;case 4:No();break;case 13:ir(qr);break;case 19:ir(qr);break;case 10:ls(kt.type._context);break;case 22:case 23:op()}wt=wt.return}if(es=yt,ts=yt=uo(yt.current,null),hs=Ls=_t,ss=0,Al=null,ep=fu=Oo=0,ws=Pl=null,Rs!==null){for(_t=0;_t<Rs.length;_t++)if(wt=Rs[_t],kt=wt.interleaved,kt!==null){wt.interleaved=null;var Bt=kt.next,jt=wt.pending;if(jt!==null){var sn=jt.next;jt.next=Bt,kt.next=sn}wt.pending=kt}Rs=null}return yt}function Cm(yt,_t){do{var wt=ts;try{if(Io(),Hl.current=Jl,Wl){for(var kt=Kr.memoizedState;kt!==null;){var Bt=kt.queue;Bt!==null&&(Bt.pending=null),kt=kt.next}Wl=!1}if(Vo=0,cs=ds=Kr=null,yl=!1,xl=0,_f.current=null,wt===null||wt.return===null){ss=1,Al=_t,ts=null;break}e:{var jt=yt,sn=wt.return,yn=wt,$n=_t;if(_t=hs,yn.flags|=32768,$n!==null&&typeof $n=="object"&&typeof $n.then=="function"){var Qn=$n,hr=yn,Tr=hr.tag;if(!(hr.mode&1)&&(Tr===0||Tr===11||Tr===15)){var Sr=hr.alternate;Sr?(hr.updateQueue=Sr.updateQueue,hr.memoizedState=Sr.memoizedState,hr.lanes=Sr.lanes):(hr.updateQueue=null,hr.memoizedState=null)}var Ur=Yp(sn);if(Ur!==null){Ur.flags&=-257,Kp(Ur,sn,yn,jt,_t),Ur.mode&1&&qp(jt,Qn,_t),_t=Ur,$n=Qn;var yr=_t.updateQueue;if(yr===null){var vs=new Set;vs.add($n),_t.updateQueue=vs}else yr.add($n);break e}else{if(!(_t&1)){qp(jt,Qn,_t),lp();break e}$n=Error(at(426))}}else if(Gr&&yn.mode&1){var js=Yp(sn);if(js!==null){!(js.flags&65536)&&(js.flags|=256),Kp(js,sn,yn,jt,_t),Pu($n);break e}}jt=$n,ss!==4&&(ss=2),Pl===null?Pl=[jt]:Pl.push(jt),$n=Ou($n,yn),yn=sn;do{switch(yn.tag){case 3:yn.flags|=65536,_t&=-_t,yn.lanes|=_t;var Pn=Wp(yn,$n,_t);dp(yn,Pn);break e;case 1:jt=$n;var _n=yn.type,Ln=yn.stateNode;if(!(yn.flags&128)&&(typeof _n.getDerivedStateFromError=="function"||Ln!==null&&typeof Ln.componentDidCatch=="function"&&(ao===null||!ao.has(Ln)))){yn.flags|=65536,_t&=-_t,yn.lanes|=_t;var ar=Xp(yn,jt,_t);dp(yn,ar);break e}}yn=yn.return}while(yn!==null)}Rm(wt)}catch(vr){_t=vr,ts===wt&&wt!==null&&(ts=wt=wt.return);continue}break}while(!0)}function Am(){var yt=hu.current;return hu.current=Jl,yt===null?Jl:yt}function lp(){(ss===0||ss===3||ss===2)&&(ss=4),es===null||!(Oo&268435455)&&!(fu&268435455)||co(es,hs)}function xu(yt,_t){var wt=Ir;Ir|=2;var kt=Am();es===yt&&hs===_t||Mo(yt,_t);do try{rv();break}catch(Bt){Cm(yt,Bt)}while(!0);if(Io(),Ir=wt,hu.current=kt,ts!==null)throw Error(at(261));return es=null,hs=0,ss}function rv(){for(;ts!==null;)Pm(ts)}function iv(){for(;ts!==null&&!Go();)Pm(ts)}function Pm(yt){var _t=Dm(yt.alternate,yt,Ls);yt.memoizedProps=yt.pendingProps,_t===null?Rm(yt):ts=_t,_f.current=null}function Rm(yt){var _t=yt;do{var wt=_t.alternate;if(yt=_t.return,_t.flags&32768){if(wt=Zm(wt,_t),wt!==null){wt.flags&=32767,ts=wt;return}if(yt!==null)yt.flags|=32768,yt.subtreeFlags=0,yt.deletions=null;else{ss=6,ts=null;return}}else if(wt=qm(wt,_t,Ls),wt!==null){ts=wt;return}if(_t=_t.sibling,_t!==null){ts=_t;return}ts=_t=yt}while(_t!==null);ss===0&&(ss=5)}function wo(yt,_t){var wt=Dr,kt=_i.transition;try{_i.transition=null,Dr=1,sv(yt,_t,wt)}finally{_i.transition=kt,Dr=wt}return null}function sv(yt,_t,wt){do To();while(oo!==null);if(Ir&6)throw Error(at(327));var kt=yt.finishedWork,Bt=yt.finishedLanes;if(kt===null)return null;if(yt.finishedWork=null,yt.finishedLanes=0,kt===yt.current)throw Error(at(177));yt.callbackNode=null,yt.callbackPriority=0;var jt=kt.lanes|kt.childLanes;if(no(yt,jt),yt===es&&(ts=es=null,hs=0),!(kt.subtreeFlags&2064)&&!(kt.flags&2064)||du||(du=!0,Lm(ys,function(){return To(),null})),jt=(kt.flags&15990)!==0,kt.subtreeFlags&15990||jt){jt=_i.transition,_i.transition=null;var sn=Dr;Dr=1;var yn=Ir;Ir|=4,_f.current=null,Qm(yt,kt),_g(yt,kt),Nt(yt.containerInfo),yt.current=kt,ev(kt),Dl(),Ir=yn,Dr=sn,_i.transition=jt}else yt.current=kt;if(du&&(du=!1,oo=yt,mu=Bt),jt=yt.pendingLanes,jt===0&&(ao=null),Wo(kt.stateNode),Ts(yt,Xr()),_t!==null)for(wt=yt.onRecoverableError,kt=0;kt<_t.length;kt++)wt(_t[kt]);if(pu)throw pu=!1,yt=rp,rp=null,yt;return mu&1&&yt.tag!==0&&To(),jt=yt.pendingLanes,jt&1?yt===ip?Rl++:(Rl=0,ip=yt):Rl=0,Ms(),null}function To(){if(oo!==null){var yt=zo(mu),_t=_i.transition,wt=Dr;try{if(_i.transition=null,Dr=16>yt?16:yt,oo===null)var kt=!1;else{if(yt=oo,oo=null,mu=0,Ir&6)throw Error(at(331));var Bt=Ir;for(Ir|=4,sr=yt.current;sr!==null;){var jt=sr,sn=jt.child;if(sr.flags&16){var yn=jt.deletions;if(yn!==null){for(var $n=0;$n<yn.length;$n++){var Qn=yn[$n];for(sr=Qn;sr!==null;){var hr=sr;switch(hr.tag){case 0:case 11:case 15:bo(8,hr,jt)}var Tr=hr.child;if(Tr!==null)Tr.return=hr,sr=Tr;else for(;sr!==null;){hr=sr;var Sr=hr.sibling,Ur=hr.return;if(dm(hr),hr===Qn){sr=null;break}if(Sr!==null){Sr.return=Ur,sr=Sr;break}sr=Ur}}}var yr=jt.alternate;if(yr!==null){var vs=yr.child;if(vs!==null){yr.child=null;do{var js=vs.sibling;vs.sibling=null,vs=js}while(vs!==null)}}sr=jt}}if(jt.subtreeFlags&2064&&sn!==null)sn.return=jt,sr=sn;else e:for(;sr!==null;){if(jt=sr,jt.flags&2048)switch(jt.tag){case 0:case 11:case 15:bo(9,jt,jt.return)}var Pn=jt.sibling;if(Pn!==null){Pn.return=jt.return,sr=Pn;break e}sr=jt.return}}var _n=yt.current;for(sr=_n;sr!==null;){sn=sr;var Ln=sn.child;if(sn.subtreeFlags&2064&&Ln!==null)Ln.return=sn,sr=Ln;else e:for(sn=_n;sr!==null;){if(yn=sr,yn.flags&2048)try{switch(yn.tag){case 0:case 11:case 15:Tl(9,yn)}}catch(vr){Cs(yn,yn.return,vr)}if(yn===sn){sr=null;break e}var ar=yn.sibling;if(ar!==null){ar.return=yn.return,sr=ar;break e}sr=yn.return}}if(Ir=Bt,Ms(),As&&typeof As.onPostCommitFiberRoot=="function")try{As.onPostCommitFiberRoot(mo,yt)}catch{}kt=!0}return kt}finally{Dr=wt,_i.transition=_t}}return!1}function Im(yt,_t,wt){_t=Ou(wt,_t),_t=Wp(yt,_t,1),so(yt,_t),_t=bs(),yt=yu(yt,1),yt!==null&&(Hs(yt,1,_t),Ts(yt,_t))}function Cs(yt,_t,wt){if(yt.tag===3)Im(yt,yt,wt);else for(;_t!==null;){if(_t.tag===3){Im(_t,yt,wt);break}else if(_t.tag===1){var kt=_t.stateNode;if(typeof _t.type.getDerivedStateFromError=="function"||typeof kt.componentDidCatch=="function"&&(ao===null||!ao.has(kt))){yt=Ou(wt,yt),yt=Xp(_t,yt,1),so(_t,yt),yt=bs(),_t=yu(_t,1),_t!==null&&(Hs(_t,1,yt),Ts(_t,yt));break}}_t=_t.return}}function av(yt,_t,wt){var kt=yt.pingCache;kt!==null&&kt.delete(_t),_t=bs(),yt.pingedLanes|=yt.suspendedLanes&wt,es===yt&&(hs&wt)===wt&&(ss===4||ss===3&&(hs&130023424)===hs&&500>Xr()-tp?Mo(yt,0):ep|=wt),Ts(yt,_t)}function km(yt,_t){_t===0&&(yt.mode&1?(_t=Js,Js<<=1,!(Js&130023424)&&(Js=4194304)):_t=1);var wt=bs();yt=yu(yt,_t),yt!==null&&(Hs(yt,_t,wt),Ts(yt,wt))}function ov(yt){var _t=yt.memoizedState,wt=0;_t!==null&&(wt=_t.retryLane),km(yt,wt)}function lv(yt,_t){var wt=0;switch(yt.tag){case 13:var kt=yt.stateNode,Bt=yt.memoizedState;Bt!==null&&(wt=Bt.retryLane);break;case 19:kt=yt.stateNode;break;default:throw Error(at(314))}kt!==null&&kt.delete(_t),km(yt,wt)}var Dm;Dm=function(yt,_t,wt){if(yt!==null)if(yt.memoizedProps!==_t.pendingProps||xr.current)Ds=!0;else{if(!(yt.lanes&wt)&&!(_t.flags&128))return Ds=!1,Km(yt,_t,wt);Ds=!!(yt.flags&131072)}else Ds=!1,Gr&&_t.flags&1048576&&_p(_t,Ul,_t.index);switch(_t.lanes=0,_t.tag){case 2:var kt=_t.type;yt!==null&&(yt.alternate=null,_t.alternate=null,_t.flags|=2),yt=_t.pendingProps;var Bt=Lr(_t,er.current);Jr(_t,wt),Bt=Fu(null,_t,kt,yt,Bt,wt);var jt=Bu();return _t.flags|=1,typeof Bt=="object"&&Bt!==null&&typeof Bt.render=="function"&&Bt.$$typeof===void 0?(_t.tag=1,_t.memoizedState=null,_t.updateQueue=null,Vr(kt)?(jt=!0,wr(_t)):jt=!1,_t.memoizedState=Bt.state!==null&&Bt.state!==void 0?Bt.state:null,Eu(_t),Bt.updater=$l,_t.stateNode=Bt,Bt._reactInternals=_t,Mu(_t,kt,yt,wt),_t=zu(null,_t,kt,!0,jt,wt)):(_t.tag=0,Gr&&jt&&wu(_t),Es(null,_t,Bt,wt),_t=_t.child),_t;case 16:kt=_t.elementType;e:{switch(yt!==null&&(yt.alternate=null,_t.alternate=null,_t.flags|=2),yt=_t.pendingProps,Bt=kt._init,kt=Bt(kt._payload),_t.type=kt,Bt=_t.tag=uv(kt),yt=_s(kt,yt),Bt){case 0:_t=ju(null,_t,kt,yt,wt);break e;case 1:_t=rm(null,_t,kt,yt,wt);break e;case 11:_t=Qp(null,_t,kt,yt,wt);break e;case 14:_t=_d(null,_t,kt,_s(kt.type,yt),wt);break e}throw Error(at(306,kt,""))}return _t;case 0:return kt=_t.type,Bt=_t.pendingProps,Bt=_t.elementType===kt?Bt:_s(kt,Bt),ju(yt,_t,kt,Bt,wt);case 1:return kt=_t.type,Bt=_t.pendingProps,Bt=_t.elementType===kt?Bt:_s(kt,Bt),rm(yt,_t,kt,Bt,wt);case 3:e:{if(im(_t),yt===null)throw Error(at(387));kt=_t.pendingProps,jt=_t.memoizedState,Bt=jt.element,pp(yt,_t),Vl(_t,kt,null,wt);var sn=_t.memoizedState;if(kt=sn.element,gn&&jt.isDehydrated)if(jt={element:kt,isDehydrated:!1,cache:sn.cache,transitions:sn.transitions},_t.updateQueue.baseState=jt,_t.memoizedState=jt,_t.flags&256){Bt=Error(at(423)),_t=sm(yt,_t,kt,wt,Bt);break e}else if(kt!==Bt){Bt=Error(at(424)),_t=sm(yt,_t,kt,wt,Bt);break e}else for(gn&&(ks=Hr(_t.stateNode.containerInfo),Is=_t,Gr=!0,Gs=null,Yo=!1),wt=Tp(_t,null,kt,wt),_t.child=wt;wt;)wt.flags=wt.flags&-3|4096,wt=wt.sibling;else{if(Lo(),kt===Bt){_t=to(yt,_t,wt);break e}Es(yt,_t,kt,wt)}_t=_t.child}return _t;case 5:return Cp(_t),yt===null&&Au(_t),kt=_t.type,Bt=_t.pendingProps,jt=yt!==null?yt.memoizedProps:null,sn=Bt.children,Zt(kt,Bt)?sn=null:jt!==null&&Zt(kt,jt)&&(_t.flags|=32),nm(yt,_t),Es(yt,_t,sn,wt),_t.child;case 6:return yt===null&&Au(_t),null;case 13:return am(yt,_t,wt);case 4:return Ru(_t,_t.stateNode.containerInfo),kt=_t.pendingProps,yt===null?_t.child=Fo(_t,null,kt,wt):Es(yt,_t,kt,wt),_t.child;case 11:return kt=_t.type,Bt=_t.pendingProps,Bt=_t.elementType===kt?Bt:_s(kt,Bt),Qp(yt,_t,kt,Bt,wt);case 7:return Es(yt,_t,_t.pendingProps,wt),_t.child;case 8:return Es(yt,_t,_t.pendingProps.children,wt),_t.child;case 12:return Es(yt,_t,_t.pendingProps.children,wt),_t.child;case 10:e:{if(kt=_t.type._context,Bt=_t.pendingProps,jt=_t.memoizedProps,sn=Bt.value,Bl(_t,kt,sn),jt!==null)if(Ps(jt.value,sn)){if(jt.children===Bt.children&&!xr.current){_t=to(yt,_t,wt);break e}}else for(jt=_t.child,jt!==null&&(jt.return=_t);jt!==null;){var yn=jt.dependencies;if(yn!==null){sn=jt.child;for(var $n=yn.firstContext;$n!==null;){if($n.context===kt){if(jt.tag===1){$n=xa(-1,wt&-wt),$n.tag=2;var Qn=jt.updateQueue;if(Qn!==null){Qn=Qn.shared;var hr=Qn.pending;hr===null?$n.next=$n:($n.next=hr.next,hr.next=$n),Qn.pending=$n}}jt.lanes|=wt,$n=jt.alternate,$n!==null&&($n.lanes|=wt),Ss(jt.return,wt,_t),yn.lanes|=wt;break}$n=$n.next}}else if(jt.tag===10)sn=jt.type===_t.type?null:jt.child;else if(jt.tag===18){if(sn=jt.return,sn===null)throw Error(at(341));sn.lanes|=wt,yn=sn.alternate,yn!==null&&(yn.lanes|=wt),Ss(sn,wt,_t),sn=jt.sibling}else sn=jt.child;if(sn!==null)sn.return=jt;else for(sn=jt;sn!==null;){if(sn===_t){sn=null;break}if(jt=sn.sibling,jt!==null){jt.return=sn.return,sn=jt;break}sn=sn.return}jt=sn}Es(yt,_t,Bt.children,wt),_t=_t.child}return _t;case 9:return Bt=_t.type,kt=_t.pendingProps.children,Jr(_t,wt),Bt=Qr(Bt),kt=kt(Bt),_t.flags|=1,Es(yt,_t,kt,wt),_t.child;case 14:return kt=_t.type,Bt=_s(kt,_t.pendingProps),Bt=_s(kt.type,Bt),_d(yt,_t,kt,Bt,wt);case 15:return em(yt,_t,_t.type,_t.pendingProps,wt);case 17:return kt=_t.type,Bt=_t.pendingProps,Bt=_t.elementType===kt?Bt:_s(kt,Bt),yt!==null&&(yt.alternate=null,_t.alternate=null,_t.flags|=2),_t.tag=1,Vr(kt)?(yt=!0,wr(_t)):yt=!1,Jr(_t,wt),yp(_t,kt,Bt),Mu(_t,kt,Bt,wt),zu(null,_t,kt,!0,yt,wt);case 19:return um(yt,_t,wt);case 22:return tm(yt,_t,wt)}throw Error(at(156,_t.tag))};function Lm(yt,_t){return ga(yt,_t)}function cv(yt,_t,wt,kt){this.tag=yt,this.key=wt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=kt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Us(yt,_t,wt,kt){return new cv(yt,_t,wt,kt)}function cp(yt){return yt=yt.prototype,!(!yt||!yt.isReactComponent)}function uv(yt){if(typeof yt=="function")return cp(yt)?1:0;if(yt!=null){if(yt=yt.$$typeof,yt===gt)return 11;if(yt===xt)return 14}return 2}function uo(yt,_t){var wt=yt.alternate;return wt===null?(wt=Us(yt.tag,_t,yt.key,yt.mode),wt.elementType=yt.elementType,wt.type=yt.type,wt.stateNode=yt.stateNode,wt.alternate=yt,yt.alternate=wt):(wt.pendingProps=_t,wt.type=yt.type,wt.flags=0,wt.subtreeFlags=0,wt.deletions=null),wt.flags=yt.flags&14680064,wt.childLanes=yt.childLanes,wt.lanes=yt.lanes,wt.child=yt.child,wt.memoizedProps=yt.memoizedProps,wt.memoizedState=yt.memoizedState,wt.updateQueue=yt.updateQueue,_t=yt.dependencies,wt.dependencies=_t===null?null:{lanes:_t.lanes,firstContext:_t.firstContext},wt.sibling=yt.sibling,wt.index=yt.index,wt.ref=yt.ref,wt}function _u(yt,_t,wt,kt,Bt,jt){var sn=2;if(kt=yt,typeof yt=="function")cp(yt)&&(sn=1);else if(typeof yt=="string")sn=5;else e:switch(yt){case ut:return Co(wt.children,Bt,jt,_t);case ft:sn=8,Bt|=8;break;case ht:return yt=Us(12,wt,_t,Bt|2),yt.elementType=ht,yt.lanes=jt,yt;case vt:return yt=Us(13,wt,_t,Bt),yt.elementType=vt,yt.lanes=jt,yt;case mt:return yt=Us(19,wt,_t,Bt),yt.elementType=mt,yt.lanes=jt,yt;case Et:return Su(wt,Bt,jt,_t);default:if(typeof yt=="object"&&yt!==null)switch(yt.$$typeof){case pt:sn=10;break e;case dt:sn=9;break e;case gt:sn=11;break e;case xt:sn=14;break e;case St:sn=16,kt=null;break e}throw Error(at(130,yt==null?yt:typeof yt,""))}return _t=Us(sn,wt,_t,Bt),_t.elementType=yt,_t.type=kt,_t.lanes=jt,_t}function Co(yt,_t,wt,kt){return yt=Us(7,yt,kt,_t),yt.lanes=wt,yt}function Su(yt,_t,wt,kt){return yt=Us(22,yt,kt,_t),yt.elementType=Et,yt.lanes=wt,yt.stateNode={},yt}function up(yt,_t,wt){return yt=Us(6,yt,null,_t),yt.lanes=wt,yt}function hp(yt,_t,wt){return _t=Us(4,yt.children!==null?yt.children:[],yt.key,_t),_t.lanes=wt,_t.stateNode={containerInfo:yt.containerInfo,pendingChildren:null,implementation:yt.implementation},_t}function hv(yt,_t,wt,kt,Bt){this.tag=_t,this.containerInfo=yt,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Cn,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ao(0),this.expirationTimes=Ao(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ao(0),this.identifierPrefix=kt,this.onRecoverableError=Bt,gn&&(this.mutableSourceEagerHydrationData=null)}function Fm(yt,_t,wt,kt,Bt,jt,sn,yn,$n){return yt=new hv(yt,_t,wt,yn,$n),_t===1?(_t=1,jt===!0&&(_t|=8)):_t=0,jt=Us(3,null,null,_t),yt.current=jt,jt.stateNode=yt,jt.memoizedState={element:kt,isDehydrated:wt,cache:null,transitions:null},Eu(jt),yt}function Bm(yt){if(!yt)return lr;yt=yt._reactInternals;e:{if(Pt(yt)!==yt||yt.tag!==1)throw Error(at(170));var _t=yt;do{switch(_t.tag){case 3:_t=_t.stateNode.context;break e;case 1:if(Vr(_t.type)){_t=_t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_t=_t.return}while(_t!==null);throw Error(at(171))}if(yt.tag===1){var wt=yt.type;if(Vr(wt))return br(yt,wt,_t)}return _t}function Nm(yt){var _t=yt._reactInternals;if(_t===void 0)throw typeof yt.render=="function"?Error(at(188)):(yt=Object.keys(yt).join(","),Error(at(268,yt)));return yt=Vt(_t),yt===null?null:yt.stateNode}function Vm(yt,_t){if(yt=yt.memoizedState,yt!==null&&yt.dehydrated!==null){var wt=yt.retryLane;yt.retryLane=wt!==0&&wt<_t?wt:_t}}function fp(yt,_t){Vm(yt,_t),(yt=yt.alternate)&&Vm(yt,_t)}function fv(yt){return yt=Vt(yt),yt===null?null:yt.stateNode}function pv(){return null}return nt.attemptContinuousHydration=function(yt){if(yt.tag===13){var _t=bs();Os(yt,134217728,_t),fp(yt,134217728)}},nt.attemptHydrationAtCurrentPriority=function(yt){if(yt.tag===13){var _t=bs(),wt=lo(yt);Os(yt,wt,_t),fp(yt,wt)}},nt.attemptSynchronousHydration=function(yt){switch(yt.tag){case 3:var _t=yt.stateNode;if(_t.current.memoizedState.isDehydrated){var wt=Qs(_t.pendingLanes);wt!==0&&(Ws(_t,wt|1),Ts(_t,Xr()),!(Ir&6)&&(Uo(),Ms()))}break;case 13:var kt=bs();Tm(function(){return Os(yt,1,kt)}),fp(yt,1)}},nt.batchedUpdates=function(yt,_t){var wt=Ir;Ir|=1;try{return yt(_t)}finally{Ir=wt,Ir===0&&(Uo(),Xs&&Ms())}},nt.createComponentSelector=function(yt){return{$$typeof:au,value:yt}},nt.createContainer=function(yt,_t,wt,kt,Bt,jt,sn){return Fm(yt,_t,!1,null,wt,kt,Bt,jt,sn)},nt.createHasPseudoClassSelector=function(yt){return{$$typeof:ou,value:yt}},nt.createHydrationContainer=function(yt,_t,wt,kt,Bt,jt,sn,yn,$n){return yt=Fm(wt,kt,!0,yt,Bt,jt,sn,yn,$n),yt.context=Bm(null),wt=yt.current,kt=bs(),Bt=lo(wt),jt=xa(kt,Bt),jt.callback=_t??null,so(wt,jt),yt.current.lanes=Bt,Hs(yt,Bt,kt),Ts(yt,kt),yt},nt.createPortal=function(yt,_t,wt){var kt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ct,key:kt==null?null:""+kt,children:yt,containerInfo:_t,implementation:wt}},nt.createRoleSelector=function(yt){return{$$typeof:lu,value:yt}},nt.createTestNameSelector=function(yt){return{$$typeof:cu,value:yt}},nt.createTextSelector=function(yt){return{$$typeof:uu,value:yt}},nt.deferredUpdates=function(yt){var _t=Dr,wt=_i.transition;try{return _i.transition=null,Dr=16,yt()}finally{Dr=_t,_i.transition=wt}},nt.discreteUpdates=function(yt,_t,wt,kt,Bt){var jt=Dr,sn=_i.transition;try{return _i.transition=null,Dr=1,yt(_t,wt,kt,Bt)}finally{Dr=jt,_i.transition=sn,Ir===0&&Uo()}},nt.findAllNodes=_h,nt.findBoundingRects=function(yt,_t){if(!Tn)throw Error(at(363));_t=_h(yt,_t),yt=[];for(var wt=0;wt<_t.length;wt++)yt.push(Ht(_t[wt]));for(_t=yt.length-1;0<_t;_t--){wt=yt[_t];for(var kt=wt.x,Bt=kt+wt.width,jt=wt.y,sn=jt+wt.height,yn=_t-1;0<=yn;yn--)if(_t!==yn){var $n=yt[yn],Qn=$n.x,hr=Qn+$n.width,Tr=$n.y,Sr=Tr+$n.height;if(kt>=Qn&&jt>=Tr&&Bt<=hr&&sn<=Sr){yt.splice(_t,1);break}else if(kt!==Qn||wt.width!==$n.width||Sr<jt||Tr>sn){if(!(jt!==Tr||wt.height!==$n.height||hr<kt||Qn>Bt)){Qn>kt&&($n.width+=Qn-kt,$n.x=kt),hr<Bt&&($n.width=Bt-Qn),yt.splice(_t,1);break}}else{Tr>jt&&($n.height+=Tr-jt,$n.y=jt),Sr<sn&&($n.height=sn-Tr),yt.splice(_t,1);break}}}return yt},nt.findHostInstance=Nm,nt.findHostInstanceWithNoPortals=function(yt){return yt=Lt(yt),yt=yt!==null?Ot(yt):null,yt===null?null:yt.stateNode},nt.findHostInstanceWithWarning=function(yt){return Nm(yt)},nt.flushControlled=function(yt){var _t=Ir;Ir|=1;var wt=_i.transition,kt=Dr;try{_i.transition=null,Dr=1,yt()}finally{Dr=kt,_i.transition=wt,Ir=_t,Ir===0&&(Uo(),Ms())}},nt.flushPassiveEffects=To,nt.flushSync=Tm,nt.focusWithin=function(yt,_t){if(!Tn)throw Error(at(363));for(yt=Zu(yt),_t=bm(yt,_t),_t=Array.from(_t),yt=0;yt<_t.length;){var wt=_t[yt++];if(!dn(wt)){if(wt.tag===5&&En(wt.stateNode))return!0;for(wt=wt.child;wt!==null;)_t.push(wt),wt=wt.sibling}}return!1},nt.getCurrentUpdatePriority=function(){return Dr},nt.getFindAllNodesFailureDescription=function(yt,_t){if(!Tn)throw Error(at(363));var wt=0,kt=[];yt=[Zu(yt),0];for(var Bt=0;Bt<yt.length;){var jt=yt[Bt++],sn=yt[Bt++],yn=_t[sn];if((jt.tag!==5||!dn(jt))&&(Ju(jt,yn)&&(kt.push(Qu(yn)),sn++,sn>wt&&(wt=sn)),sn<_t.length))for(jt=jt.child;jt!==null;)yt.push(jt,sn),jt=jt.sibling}if(wt<_t.length){for(yt=[];wt<_t.length;wt++)yt.push(Qu(_t[wt]));return`findAllNodes was able to match part of the selector:
  `+(kt.join(" > ")+`

No matching component was found for:
  `)+yt.join(" > ")}return null},nt.getPublicRootInstance=function(yt){if(yt=yt.current,!yt.child)return null;switch(yt.child.tag){case 5:return Dt(yt.child.stateNode);default:return yt.child.stateNode}},nt.injectIntoDevTools=function(yt){if(yt={bundleType:yt.bundleType,version:yt.version,rendererPackageName:yt.rendererPackageName,rendererConfig:yt.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ot.ReactCurrentDispatcher,findHostInstanceByFiber:fv,findFiberByHostInstance:yt.findFiberByHostInstance||pv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")yt=!1;else{var _t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(_t.isDisabled||!_t.supportsFiber)yt=!0;else{try{mo=_t.inject(yt),As=_t}catch{}yt=!!_t.checkDCE}}return yt},nt.isAlreadyRendering=function(){return!1},nt.observeVisibleRects=function(yt,_t,wt,kt){if(!Tn)throw Error(at(363));yt=_h(yt,_t);var Bt=Dn(yt,wt,kt).disconnect;return{disconnect:function(){Bt()}}},nt.registerMutableSourceForHydration=function(yt,_t){var wt=_t._getVersion;wt=wt(_t._source),yt.mutableSourceEagerHydrationData==null?yt.mutableSourceEagerHydrationData=[_t,wt]:yt.mutableSourceEagerHydrationData.push(_t,wt)},nt.runWithPriority=function(yt,_t){var wt=Dr;try{return Dr=yt,_t()}finally{Dr=wt}},nt.shouldError=function(){return null},nt.shouldSuspend=function(){return!1},nt.updateContainer=function(yt,_t,wt,kt){var Bt=_t.current,jt=bs(),sn=lo(Bt);return wt=Bm(wt),_t.context===null?_t.context=wt:_t.pendingContext=wt,_t=xa(jt,sn),_t.payload={element:yt},kt=kt===void 0?null:kt,kt!==null&&(_t.callback=kt),so(Bt,_t),yt=Os(Bt,sn,jt),yt!==null&&Nl(yt,Bt,sn),sn},nt};reactReconciler.exports=reactReconciler_production_min;var reactReconcilerExports=reactReconciler.exports;const Reconciler=getDefaultExportFromCjs(reactReconcilerExports);var scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(tt){function _e(Mt,Rt){var Nt=Mt.length;Mt.push(Rt);e:for(;0<Nt;){var Ft=Nt-1>>>1,qt=Mt[Ft];if(0<it(qt,Rt))Mt[Ft]=Rt,Mt[Nt]=qt,Nt=Ft;else break e}}function nt(Mt){return Mt.length===0?null:Mt[0]}function rt(Mt){if(Mt.length===0)return null;var Rt=Mt[0],Nt=Mt.pop();if(Nt!==Rt){Mt[0]=Nt;e:for(var Ft=0,qt=Mt.length,Qt=qt>>>1;Ft<Qt;){var Kt=2*(Ft+1)-1,Zt=Mt[Kt],tn=Kt+1,en=Mt[tn];if(0>it(Zt,Nt))tn<qt&&0>it(en,Zt)?(Mt[Ft]=en,Mt[tn]=Nt,Ft=tn):(Mt[Ft]=Zt,Mt[Kt]=Nt,Ft=Kt);else if(tn<qt&&0>it(en,Nt))Mt[Ft]=en,Mt[tn]=Nt,Ft=tn;else break e}}return Rt}function it(Mt,Rt){var Nt=Mt.sortIndex-Rt.sortIndex;return Nt!==0?Nt:Mt.id-Rt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var st=performance;tt.unstable_now=function(){return st.now()}}else{var at=Date,ot=at.now();tt.unstable_now=function(){return at.now()-ot}}var lt=[],ct=[],ut=1,ft=null,ht=3,pt=!1,dt=!1,gt=!1,vt=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,xt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function St(Mt){for(var Rt=nt(ct);Rt!==null;){if(Rt.callback===null)rt(ct);else if(Rt.startTime<=Mt)rt(ct),Rt.sortIndex=Rt.expirationTime,_e(lt,Rt);else break;Rt=nt(ct)}}function Et(Mt){if(gt=!1,St(Mt),!dt)if(nt(lt)!==null)dt=!0,Dt(bt);else{var Rt=nt(ct);Rt!==null&&$t(Et,Rt.startTime-Mt)}}function bt(Mt,Rt){dt=!1,gt&&(gt=!1,mt(Ct),Ct=-1),pt=!0;var Nt=ht;try{for(St(Rt),ft=nt(lt);ft!==null&&(!(ft.expirationTime>Rt)||Mt&&!Lt());){var Ft=ft.callback;if(typeof Ft=="function"){ft.callback=null,ht=ft.priorityLevel;var qt=Ft(ft.expirationTime<=Rt);Rt=tt.unstable_now(),typeof qt=="function"?ft.callback=qt:ft===nt(lt)&&rt(lt),St(Rt)}else rt(lt);ft=nt(lt)}if(ft!==null)var Qt=!0;else{var Kt=nt(ct);Kt!==null&&$t(Et,Kt.startTime-Rt),Qt=!1}return Qt}finally{ft=null,ht=Nt,pt=!1}}var Tt=!1,At=null,Ct=-1,Pt=5,It=-1;function Lt(){return!(tt.unstable_now()-It<Pt)}function Vt(){if(At!==null){var Mt=tt.unstable_now();It=Mt;var Rt=!0;try{Rt=At(!0,Mt)}finally{Rt?Ut():(Tt=!1,At=null)}}else Tt=!1}var Ut;if(typeof xt=="function")Ut=function(){xt(Vt)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,zt=Ot.port2;Ot.port1.onmessage=Vt,Ut=function(){zt.postMessage(null)}}else Ut=function(){vt(Vt,0)};function Dt(Mt){At=Mt,Tt||(Tt=!0,Ut())}function $t(Mt,Rt){Ct=vt(function(){Mt(tt.unstable_now())},Rt)}tt.unstable_IdlePriority=5,tt.unstable_ImmediatePriority=1,tt.unstable_LowPriority=4,tt.unstable_NormalPriority=3,tt.unstable_Profiling=null,tt.unstable_UserBlockingPriority=2,tt.unstable_cancelCallback=function(Mt){Mt.callback=null},tt.unstable_continueExecution=function(){dt||pt||(dt=!0,Dt(bt))},tt.unstable_forceFrameRate=function(Mt){0>Mt||125<Mt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Pt=0<Mt?Math.floor(1e3/Mt):5},tt.unstable_getCurrentPriorityLevel=function(){return ht},tt.unstable_getFirstCallbackNode=function(){return nt(lt)},tt.unstable_next=function(Mt){switch(ht){case 1:case 2:case 3:var Rt=3;break;default:Rt=ht}var Nt=ht;ht=Rt;try{return Mt()}finally{ht=Nt}},tt.unstable_pauseExecution=function(){},tt.unstable_requestPaint=function(){},tt.unstable_runWithPriority=function(Mt,Rt){switch(Mt){case 1:case 2:case 3:case 4:case 5:break;default:Mt=3}var Nt=ht;ht=Mt;try{return Rt()}finally{ht=Nt}},tt.unstable_scheduleCallback=function(Mt,Rt,Nt){var Ft=tt.unstable_now();switch(typeof Nt=="object"&&Nt!==null?(Nt=Nt.delay,Nt=typeof Nt=="number"&&0<Nt?Ft+Nt:Ft):Nt=Ft,Mt){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=Nt+qt,Mt={id:ut++,callback:Rt,priorityLevel:Mt,startTime:Nt,expirationTime:qt,sortIndex:-1},Nt>Ft?(Mt.sortIndex=Nt,_e(ct,Mt),nt(lt)===null&&Mt===nt(ct)&&(gt?(mt(Ct),Ct=-1):gt=!0,$t(Et,Nt-Ft))):(Mt.sortIndex=qt,_e(lt,Mt),dt||pt||(dt=!0,Dt(bt))),Mt},tt.unstable_shouldYield=Lt,tt.unstable_wrapCallback=function(Mt){var Rt=ht;return function(){var Nt=ht;ht=Rt;try{return Mt.apply(this,arguments)}finally{ht=Nt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;const catalogue={},extend=tt=>void Object.assign(catalogue,tt);function createRenderer(tt,_e){function nt(ut,{args:ft=[],attach:ht,...pt},dt){let gt=`${ut[0].toUpperCase()}${ut.slice(1)}`,vt;if(ut==="primitive"){if(pt.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const mt=pt.object;vt=prepare(mt,{type:ut,root:dt,attach:ht,primitive:!0})}else{const mt=catalogue[gt];if(!mt)throw new Error(`R3F: ${gt} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(ft))throw new Error("R3F: The args prop must be an array!");vt=prepare(new mt(...ft),{type:ut,root:dt,attach:ht,memoizedProps:{args:ft}})}return vt.__r3f.attach===void 0&&(vt.isBufferGeometry?vt.__r3f.attach="geometry":vt.isMaterial&&(vt.__r3f.attach="material")),gt!=="inject"&&applyProps$1(vt,pt),vt}function rt(ut,ft){let ht=!1;if(ft){var pt,dt;(pt=ft.__r3f)!=null&&pt.attach?attach(ut,ft,ft.__r3f.attach):ft.isObject3D&&ut.isObject3D&&(ut.add(ft),ht=!0),ht||(dt=ut.__r3f)==null||dt.objects.push(ft),ft.__r3f||prepare(ft,{}),ft.__r3f.parent=ut,updateInstance(ft),invalidateInstance(ft)}}function it(ut,ft,ht){let pt=!1;if(ft){var dt,gt;if((dt=ft.__r3f)!=null&&dt.attach)attach(ut,ft,ft.__r3f.attach);else if(ft.isObject3D&&ut.isObject3D){ft.parent=ut,ft.dispatchEvent({type:"added"}),ut.dispatchEvent({type:"childadded",child:ft});const vt=ut.children.filter(xt=>xt!==ft),mt=vt.indexOf(ht);ut.children=[...vt.slice(0,mt),ft,...vt.slice(mt)],pt=!0}pt||(gt=ut.__r3f)==null||gt.objects.push(ft),ft.__r3f||prepare(ft,{}),ft.__r3f.parent=ut,updateInstance(ft),invalidateInstance(ft)}}function st(ut,ft,ht=!1){ut&&[...ut].forEach(pt=>at(ft,pt,ht))}function at(ut,ft,ht){if(ft){var pt,dt,gt;if(ft.__r3f&&(ft.__r3f.parent=null),(pt=ut.__r3f)!=null&&pt.objects&&(ut.__r3f.objects=ut.__r3f.objects.filter(Et=>Et!==ft)),(dt=ft.__r3f)!=null&&dt.attach)detach(ut,ft,ft.__r3f.attach);else if(ft.isObject3D&&ut.isObject3D){var vt;ut.remove(ft),(vt=ft.__r3f)!=null&&vt.root&&removeInteractivity(findInitialRoot(ft),ft)}const xt=(gt=ft.__r3f)==null?void 0:gt.primitive,St=!xt&&(ht===void 0?ft.dispose!==null:ht);if(!xt){var mt;st((mt=ft.__r3f)==null?void 0:mt.objects,ft,St),st(ft.children,ft,St)}if(delete ft.__r3f,St&&ft.dispose&&ft.type!=="Scene"){const Et=()=>{try{ft.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?schedulerExports.unstable_scheduleCallback(schedulerExports.unstable_IdlePriority,Et):Et()}invalidateInstance(ut)}}function ot(ut,ft,ht,pt){var dt;const gt=(dt=ut.__r3f)==null?void 0:dt.parent;if(!gt)return;const vt=nt(ft,ht,ut.__r3f.root);if(ut.children){for(const mt of ut.children)mt.__r3f&&rt(vt,mt);ut.children=ut.children.filter(mt=>!mt.__r3f)}ut.__r3f.objects.forEach(mt=>rt(vt,mt)),ut.__r3f.objects=[],ut.__r3f.autoRemovedBeforeAppend||at(gt,ut),vt.parent&&(vt.__r3f.autoRemovedBeforeAppend=!0),rt(gt,vt),vt.raycast&&vt.__r3f.eventCount&&findInitialRoot(vt).getState().internal.interaction.push(vt),[pt,pt.alternate].forEach(mt=>{mt!==null&&(mt.stateNode=vt,mt.ref&&(typeof mt.ref=="function"?mt.ref(vt):mt.ref.current=vt))})}const lt=()=>{};return{reconciler:Reconciler({createInstance:nt,removeChild:at,appendChild:rt,appendInitialChild:rt,insertBefore:it,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(ut,ft)=>{if(!ft)return;const ht=ut.getState().scene;ht.__r3f&&(ht.__r3f.root=ut,rt(ht,ft))},removeChildFromContainer:(ut,ft)=>{ft&&at(ut.getState().scene,ft)},insertInContainerBefore:(ut,ft,ht)=>{if(!ft||!ht)return;const pt=ut.getState().scene;pt.__r3f&&it(pt,ft,ht)},getRootHostContext:()=>null,getChildHostContext:ut=>ut,finalizeInitialChildren(ut){var ft;return!!((ft=ut==null?void 0:ut.__r3f)!=null?ft:{}).handlers},prepareUpdate(ut,ft,ht,pt){var dt;if(((dt=ut==null?void 0:ut.__r3f)!=null?dt:{}).primitive&&pt.object&&pt.object!==ut)return[!0];{const{args:vt=[],children:mt,...xt}=pt,{args:St=[],children:Et,...bt}=ht;if(!Array.isArray(vt))throw new Error("R3F: the args prop must be an array!");if(vt.some((At,Ct)=>At!==St[Ct]))return[!0];const Tt=diffProps(ut,xt,bt,!0);return Tt.changes.length?[!1,Tt]:null}},commitUpdate(ut,[ft,ht],pt,dt,gt,vt){ft?ot(ut,pt,gt,vt):applyProps$1(ut,ht)},commitMount(ut,ft,ht,pt){var dt;const gt=(dt=ut.__r3f)!=null?dt:{};ut.raycast&&gt.handlers&&gt.eventCount&&findInitialRoot(ut).getState().internal.interaction.push(ut)},getPublicInstance:ut=>ut,prepareForCommit:()=>null,preparePortalMount:ut=>prepare(ut.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(ut){var ft;const{attach:ht,parent:pt}=(ft=ut.__r3f)!=null?ft:{};ht&&pt&&detach(pt,ut,ht),ut.isObject3D&&(ut.visible=!1),invalidateInstance(ut)},unhideInstance(ut,ft){var ht;const{attach:pt,parent:dt}=(ht=ut.__r3f)!=null?ht:{};pt&&dt&&attach(dt,ut,pt),(ut.isObject3D&&ft.visible==null||ft.visible)&&(ut.visible=!0),invalidateInstance(ut)},createTextInstance:lt,hideTextInstance:lt,unhideTextInstance:lt,getCurrentEventPriority:()=>_e?_e():constantsExports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&is.fun(performance.now)?performance.now:is.fun(Date.now)?Date.now:()=>0,scheduleTimeout:is.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is.fun(clearTimeout)?clearTimeout:void 0}),applyProps:applyProps$1}}var _window$document,_window$navigator;const hasColorSpace$1=tt=>"colorSpace"in tt||"outputColorSpace"in tt,getColorManagement=()=>{var tt;return(tt=catalogue.ColorManagement)!=null?tt:null},isOrthographicCamera=tt=>tt&&tt.isOrthographicCamera,isRef$1=tt=>tt&&tt.hasOwnProperty("current"),useIsomorphicLayoutEffect=typeof window<"u"&&((_window$document=window.document)!=null&&_window$document.createElement||((_window$navigator=window.navigator)==null?void 0:_window$navigator.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function useMutableCallback(tt){const _e=reactExports.useRef(tt);return useIsomorphicLayoutEffect(()=>void(_e.current=tt),[tt]),_e}function Block({set:tt}){return useIsomorphicLayoutEffect(()=>(tt(new Promise(()=>null)),()=>tt(!1)),[tt]),null}class ErrorBoundary extends reactExports.Component{constructor(..._e){super(..._e),this.state={error:!1}}componentDidCatch(_e){this.props.set(_e)}render(){return this.state.error?null:this.props.children}}ErrorBoundary.getDerivedStateFromError=()=>({error:!0});const DEFAULT="__default",DEFAULTS=new Map,isDiffSet=tt=>tt&&!!tt.memoized&&!!tt.changes;function calculateDpr(tt){var _e;const nt=typeof window<"u"?(_e=window.devicePixelRatio)!=null?_e:2:1;return Array.isArray(tt)?Math.min(Math.max(tt[0],nt),tt[1]):tt}const getRootState=tt=>{var _e;return(_e=tt.__r3f)==null?void 0:_e.root.getState()};function findInitialRoot(tt){let _e=tt.__r3f.root;for(;_e.getState().previousRoot;)_e=_e.getState().previousRoot;return _e}const is={obj:tt=>tt===Object(tt)&&!is.arr(tt)&&typeof tt!="function",fun:tt=>typeof tt=="function",str:tt=>typeof tt=="string",num:tt=>typeof tt=="number",boo:tt=>typeof tt=="boolean",und:tt=>tt===void 0,arr:tt=>Array.isArray(tt),equ(tt,_e,{arrays:nt="shallow",objects:rt="reference",strict:it=!0}={}){if(typeof tt!=typeof _e||!!tt!=!!_e)return!1;if(is.str(tt)||is.num(tt)||is.boo(tt))return tt===_e;const st=is.obj(tt);if(st&&rt==="reference")return tt===_e;const at=is.arr(tt);if(at&&nt==="reference")return tt===_e;if((at||st)&&tt===_e)return!0;let ot;for(ot in tt)if(!(ot in _e))return!1;if(st&&nt==="shallow"&&rt==="shallow"){for(ot in it?_e:tt)if(!is.equ(tt[ot],_e[ot],{strict:it,objects:"reference"}))return!1}else for(ot in it?_e:tt)if(tt[ot]!==_e[ot])return!1;if(is.und(ot)){if(at&&tt.length===0&&_e.length===0||st&&Object.keys(tt).length===0&&Object.keys(_e).length===0)return!0;if(tt!==_e)return!1}return!0}};function buildGraph(tt){const _e={nodes:{},materials:{}};return tt&&tt.traverse(nt=>{nt.name&&(_e.nodes[nt.name]=nt),nt.material&&!_e.materials[nt.material.name]&&(_e.materials[nt.material.name]=nt.material)}),_e}function dispose(tt){tt.dispose&&tt.type!=="Scene"&&tt.dispose();for(const _e in tt)_e.dispose==null||_e.dispose(),delete tt[_e]}function prepare(tt,_e){const nt=tt;return nt.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,..._e},tt}function resolve(tt,_e){let nt=tt;if(_e.includes("-")){const rt=_e.split("-"),it=rt.pop();return nt=rt.reduce((st,at)=>st[at],tt),{target:nt,key:it}}else return{target:nt,key:_e}}const INDEX_REGEX=/-\d+$/;function attach(tt,_e,nt){if(is.str(nt)){if(INDEX_REGEX.test(nt)){const st=nt.replace(INDEX_REGEX,""),{target:at,key:ot}=resolve(tt,st);Array.isArray(at[ot])||(at[ot]=[])}const{target:rt,key:it}=resolve(tt,nt);_e.__r3f.previousAttach=rt[it],rt[it]=_e}else _e.__r3f.previousAttach=nt(tt,_e)}function detach(tt,_e,nt){var rt,it;if(is.str(nt)){const{target:st,key:at}=resolve(tt,nt),ot=_e.__r3f.previousAttach;ot===void 0?delete st[at]:st[at]=ot}else(rt=_e.__r3f)==null||rt.previousAttach==null||rt.previousAttach(tt,_e);(it=_e.__r3f)==null||delete it.previousAttach}function diffProps(tt,{children:_e,key:nt,ref:rt,...it},{children:st,key:at,ref:ot,...lt}={},ct=!1){const ut=tt.__r3f,ft=Object.entries(it),ht=[];if(ct){const dt=Object.keys(lt);for(let gt=0;gt<dt.length;gt++)it.hasOwnProperty(dt[gt])||ft.unshift([dt[gt],DEFAULT+"remove"])}ft.forEach(([dt,gt])=>{var vt;if((vt=tt.__r3f)!=null&&vt.primitive&&dt==="object"||is.equ(gt,lt[dt]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(dt))return ht.push([dt,gt,!0,[]]);let mt=[];dt.includes("-")&&(mt=dt.split("-")),ht.push([dt,gt,!1,mt]);for(const xt in it){const St=it[xt];xt.startsWith(`${dt}-`)&&ht.push([xt,St,!1,xt.split("-")])}});const pt={...it};return ut!=null&&ut.memoizedProps&&ut!=null&&ut.memoizedProps.args&&(pt.args=ut.memoizedProps.args),ut!=null&&ut.memoizedProps&&ut!=null&&ut.memoizedProps.attach&&(pt.attach=ut.memoizedProps.attach),{memoized:pt,changes:ht}}const __DEV__=typeof process<"u"&&!1;function applyProps$1(tt,_e){var nt;const rt=tt.__r3f,it=rt==null?void 0:rt.root,st=it==null||it.getState==null?void 0:it.getState(),{memoized:at,changes:ot}=isDiffSet(_e)?_e:diffProps(tt,_e),lt=rt==null?void 0:rt.eventCount;tt.__r3f&&(tt.__r3f.memoizedProps=at);for(let ht=0;ht<ot.length;ht++){let[pt,dt,gt,vt]=ot[ht];if(hasColorSpace$1(tt)){const Et="srgb",bt="srgb-linear";pt==="encoding"?(pt="colorSpace",dt=dt===3001?Et:bt):pt==="outputEncoding"&&(pt="outputColorSpace",dt=dt===3001?Et:bt)}let mt=tt,xt=mt[pt];if(vt.length&&(xt=vt.reduce((St,Et)=>St[Et],tt),!(xt&&xt.set))){const[St,...Et]=vt.reverse();mt=Et.reverse().reduce((bt,Tt)=>bt[Tt],tt),pt=St}if(dt===DEFAULT+"remove")if(mt.constructor){let St=DEFAULTS.get(mt.constructor);St||(St=new mt.constructor,DEFAULTS.set(mt.constructor,St)),dt=St[pt]}else dt=0;if(gt&&rt)dt?rt.handlers[pt]=dt:delete rt.handlers[pt],rt.eventCount=Object.keys(rt.handlers).length;else if(xt&&xt.set&&(xt.copy||xt instanceof Layers)){if(Array.isArray(dt))xt.fromArray?xt.fromArray(dt):xt.set(...dt);else if(xt.copy&&dt&&dt.constructor&&(__DEV__?xt.constructor.name===dt.constructor.name:xt.constructor===dt.constructor))xt.copy(dt);else if(dt!==void 0){var ct;const St=(ct=xt)==null?void 0:ct.isColor;!St&&xt.setScalar?xt.setScalar(dt):xt instanceof Layers&&dt instanceof Layers?xt.mask=dt.mask:xt.set(dt),!getColorManagement()&&st&&!st.linear&&St&&xt.convertSRGBToLinear()}}else{var ut;if(mt[pt]=dt,(ut=mt[pt])!=null&&ut.isTexture&&mt[pt].format===RGBAFormat&&mt[pt].type===UnsignedByteType&&st){const St=mt[pt];hasColorSpace$1(St)&&hasColorSpace$1(st.gl)?St.colorSpace=st.gl.outputColorSpace:St.encoding=st.gl.outputEncoding}}invalidateInstance(tt)}if(rt&&rt.parent&&tt.raycast&&lt!==rt.eventCount){const ht=findInitialRoot(tt).getState().internal,pt=ht.interaction.indexOf(tt);pt>-1&&ht.interaction.splice(pt,1),rt.eventCount&&ht.interaction.push(tt)}return!(ot.length===1&&ot[0][0]==="onUpdate")&&ot.length&&(nt=tt.__r3f)!=null&&nt.parent&&updateInstance(tt),tt}function invalidateInstance(tt){var _e,nt;const rt=(_e=tt.__r3f)==null||(nt=_e.root)==null||nt.getState==null?void 0:nt.getState();rt&&rt.internal.frames===0&&rt.invalidate()}function updateInstance(tt){tt.onUpdate==null||tt.onUpdate(tt)}function updateCamera(tt,_e){tt.manual||(isOrthographicCamera(tt)?(tt.left=_e.width/-2,tt.right=_e.width/2,tt.top=_e.height/2,tt.bottom=_e.height/-2):tt.aspect=_e.width/_e.height,tt.updateProjectionMatrix(),tt.updateMatrixWorld())}function makeId(tt){return(tt.eventObject||tt.object).uuid+"/"+tt.index+tt.instanceId}function getEventPriority(){var tt;const _e=typeof self<"u"&&self||typeof window<"u"&&window;if(!_e)return constantsExports.DefaultEventPriority;switch((tt=_e.event)==null?void 0:tt.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constantsExports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constantsExports.ContinuousEventPriority;default:return constantsExports.DefaultEventPriority}}function releaseInternalPointerCapture(tt,_e,nt,rt){const it=nt.get(_e);it&&(nt.delete(_e),nt.size===0&&(tt.delete(rt),it.target.releasePointerCapture(rt)))}function removeInteractivity(tt,_e){const{internal:nt}=tt.getState();nt.interaction=nt.interaction.filter(rt=>rt!==_e),nt.initialHits=nt.initialHits.filter(rt=>rt!==_e),nt.hovered.forEach((rt,it)=>{(rt.eventObject===_e||rt.object===_e)&&nt.hovered.delete(it)}),nt.capturedMap.forEach((rt,it)=>{releaseInternalPointerCapture(nt.capturedMap,_e,rt,it)})}function createEvents(tt){function _e(lt){const{internal:ct}=tt.getState(),ut=lt.offsetX-ct.initialClick[0],ft=lt.offsetY-ct.initialClick[1];return Math.round(Math.sqrt(ut*ut+ft*ft))}function nt(lt){return lt.filter(ct=>["Move","Over","Enter","Out","Leave"].some(ut=>{var ft;return(ft=ct.__r3f)==null?void 0:ft.handlers["onPointer"+ut]}))}function rt(lt,ct){const ut=tt.getState(),ft=new Set,ht=[],pt=ct?ct(ut.internal.interaction):ut.internal.interaction;for(let mt=0;mt<pt.length;mt++){const xt=getRootState(pt[mt]);xt&&(xt.raycaster.camera=void 0)}ut.previousRoot||ut.events.compute==null||ut.events.compute(lt,ut);function dt(mt){const xt=getRootState(mt);if(!xt||!xt.events.enabled||xt.raycaster.camera===null)return[];if(xt.raycaster.camera===void 0){var St;xt.events.compute==null||xt.events.compute(lt,xt,(St=xt.previousRoot)==null?void 0:St.getState()),xt.raycaster.camera===void 0&&(xt.raycaster.camera=null)}return xt.raycaster.camera?xt.raycaster.intersectObject(mt,!0):[]}let gt=pt.flatMap(dt).sort((mt,xt)=>{const St=getRootState(mt.object),Et=getRootState(xt.object);return!St||!Et?mt.distance-xt.distance:Et.events.priority-St.events.priority||mt.distance-xt.distance}).filter(mt=>{const xt=makeId(mt);return ft.has(xt)?!1:(ft.add(xt),!0)});ut.events.filter&&(gt=ut.events.filter(gt,ut));for(const mt of gt){let xt=mt.object;for(;xt;){var vt;(vt=xt.__r3f)!=null&&vt.eventCount&&ht.push({...mt,eventObject:xt}),xt=xt.parent}}if("pointerId"in lt&&ut.internal.capturedMap.has(lt.pointerId))for(let mt of ut.internal.capturedMap.get(lt.pointerId).values())ft.has(makeId(mt.intersection))||ht.push(mt.intersection);return ht}function it(lt,ct,ut,ft){const ht=tt.getState();if(lt.length){const pt={stopped:!1};for(const dt of lt){const gt=getRootState(dt.object)||ht,{raycaster:vt,pointer:mt,camera:xt,internal:St}=gt,Et=new Vector3(mt.x,mt.y,0).unproject(xt),bt=It=>{var Lt,Vt;return(Lt=(Vt=St.capturedMap.get(It))==null?void 0:Vt.has(dt.eventObject))!=null?Lt:!1},Tt=It=>{const Lt={intersection:dt,target:ct.target};St.capturedMap.has(It)?St.capturedMap.get(It).set(dt.eventObject,Lt):St.capturedMap.set(It,new Map([[dt.eventObject,Lt]])),ct.target.setPointerCapture(It)},At=It=>{const Lt=St.capturedMap.get(It);Lt&&releaseInternalPointerCapture(St.capturedMap,dt.eventObject,Lt,It)};let Ct={};for(let It in ct){let Lt=ct[It];typeof Lt!="function"&&(Ct[It]=Lt)}let Pt={...dt,...Ct,pointer:mt,intersections:lt,stopped:pt.stopped,delta:ut,unprojectedPoint:Et,ray:vt.ray,camera:xt,stopPropagation(){const It="pointerId"in ct&&St.capturedMap.get(ct.pointerId);if((!It||It.has(dt.eventObject))&&(Pt.stopped=pt.stopped=!0,St.hovered.size&&Array.from(St.hovered.values()).find(Lt=>Lt.eventObject===dt.eventObject))){const Lt=lt.slice(0,lt.indexOf(dt));st([...Lt,dt])}},target:{hasPointerCapture:bt,setPointerCapture:Tt,releasePointerCapture:At},currentTarget:{hasPointerCapture:bt,setPointerCapture:Tt,releasePointerCapture:At},nativeEvent:ct};if(ft(Pt),pt.stopped===!0)break}}return lt}function st(lt){const{internal:ct}=tt.getState();for(const ut of ct.hovered.values())if(!lt.length||!lt.find(ft=>ft.object===ut.object&&ft.index===ut.index&&ft.instanceId===ut.instanceId)){const ht=ut.eventObject.__r3f,pt=ht==null?void 0:ht.handlers;if(ct.hovered.delete(makeId(ut)),ht!=null&&ht.eventCount){const dt={...ut,intersections:lt};pt.onPointerOut==null||pt.onPointerOut(dt),pt.onPointerLeave==null||pt.onPointerLeave(dt)}}}function at(lt,ct){for(let ut=0;ut<ct.length;ut++){const ft=ct[ut].__r3f;ft==null||ft.handlers.onPointerMissed==null||ft.handlers.onPointerMissed(lt)}}function ot(lt){switch(lt){case"onPointerLeave":case"onPointerCancel":return()=>st([]);case"onLostPointerCapture":return ct=>{const{internal:ut}=tt.getState();"pointerId"in ct&&ut.capturedMap.has(ct.pointerId)&&requestAnimationFrame(()=>{ut.capturedMap.has(ct.pointerId)&&(ut.capturedMap.delete(ct.pointerId),st([]))})}}return function(ut){const{onPointerMissed:ft,internal:ht}=tt.getState();ht.lastEvent.current=ut;const pt=lt==="onPointerMove",dt=lt==="onClick"||lt==="onContextMenu"||lt==="onDoubleClick",vt=rt(ut,pt?nt:void 0),mt=dt?_e(ut):0;lt==="onPointerDown"&&(ht.initialClick=[ut.offsetX,ut.offsetY],ht.initialHits=vt.map(St=>St.eventObject)),dt&&!vt.length&&mt<=2&&(at(ut,ht.interaction),ft&&ft(ut)),pt&&st(vt);function xt(St){const Et=St.eventObject,bt=Et.__r3f,Tt=bt==null?void 0:bt.handlers;if(bt!=null&&bt.eventCount)if(pt){if(Tt.onPointerOver||Tt.onPointerEnter||Tt.onPointerOut||Tt.onPointerLeave){const At=makeId(St),Ct=ht.hovered.get(At);Ct?Ct.stopped&&St.stopPropagation():(ht.hovered.set(At,St),Tt.onPointerOver==null||Tt.onPointerOver(St),Tt.onPointerEnter==null||Tt.onPointerEnter(St))}Tt.onPointerMove==null||Tt.onPointerMove(St)}else{const At=Tt[lt];At?(!dt||ht.initialHits.includes(Et))&&(at(ut,ht.interaction.filter(Ct=>!ht.initialHits.includes(Ct))),At(St)):dt&&ht.initialHits.includes(Et)&&at(ut,ht.interaction.filter(Ct=>!ht.initialHits.includes(Ct)))}}it(vt,ut,mt,xt)}}return{handlePointer:ot}}const privateKeys=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],isRenderer=tt=>!!(tt!=null&&tt.render),context=reactExports.createContext(null),createStore$1=(tt,_e)=>{const nt=create$1((ot,lt)=>{const ct=new Vector3,ut=new Vector3,ft=new Vector3;function ht(mt=lt().camera,xt=ut,St=lt().size){const{width:Et,height:bt,top:Tt,left:At}=St,Ct=Et/bt;xt.isVector3?ft.copy(xt):ft.set(...xt);const Pt=mt.getWorldPosition(ct).distanceTo(ft);if(isOrthographicCamera(mt))return{width:Et/mt.zoom,height:bt/mt.zoom,top:Tt,left:At,factor:1,distance:Pt,aspect:Ct};{const It=mt.fov*Math.PI/180,Lt=2*Math.tan(It/2)*Pt,Vt=Lt*(Et/bt);return{width:Vt,height:Lt,top:Tt,left:At,factor:Et/Vt,distance:Pt,aspect:Ct}}}let pt;const dt=mt=>ot(xt=>({performance:{...xt.performance,current:mt}})),gt=new Vector2;return{set:ot,get:lt,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(mt=1)=>tt(lt(),mt),advance:(mt,xt)=>_e(mt,xt,lt()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Clock,pointer:gt,mouse:gt,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const mt=lt();pt&&clearTimeout(pt),mt.performance.current!==mt.performance.min&&dt(mt.performance.min),pt=setTimeout(()=>dt(lt().performance.max),mt.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:ht},setEvents:mt=>ot(xt=>({...xt,events:{...xt.events,...mt}})),setSize:(mt,xt,St,Et,bt)=>{const Tt=lt().camera,At={width:mt,height:xt,top:Et||0,left:bt||0,updateStyle:St};ot(Ct=>({size:At,viewport:{...Ct.viewport,...ht(Tt,ut,At)}}))},setDpr:mt=>ot(xt=>{const St=calculateDpr(mt);return{viewport:{...xt.viewport,dpr:St,initialDpr:xt.viewport.initialDpr||St}}}),setFrameloop:(mt="always")=>{const xt=lt().clock;xt.stop(),xt.elapsedTime=0,mt!=="never"&&(xt.start(),xt.elapsedTime=0),ot(()=>({frameloop:mt}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:reactExports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(mt,xt,St)=>{const Et=lt().internal;return Et.priority=Et.priority+(xt>0?1:0),Et.subscribers.push({ref:mt,priority:xt,store:St}),Et.subscribers=Et.subscribers.sort((bt,Tt)=>bt.priority-Tt.priority),()=>{const bt=lt().internal;bt!=null&&bt.subscribers&&(bt.priority=bt.priority-(xt>0?1:0),bt.subscribers=bt.subscribers.filter(Tt=>Tt.ref!==mt))}}}}}),rt=nt.getState();let it=rt.size,st=rt.viewport.dpr,at=rt.camera;return nt.subscribe(()=>{const{camera:ot,size:lt,viewport:ct,gl:ut,set:ft}=nt.getState();if(lt.width!==it.width||lt.height!==it.height||ct.dpr!==st){var ht;it=lt,st=ct.dpr,updateCamera(ot,lt),ut.setPixelRatio(ct.dpr);const pt=(ht=lt.updateStyle)!=null?ht:typeof HTMLCanvasElement<"u"&&ut.domElement instanceof HTMLCanvasElement;ut.setSize(lt.width,lt.height,pt)}ot!==at&&(at=ot,ft(pt=>({viewport:{...pt.viewport,...pt.viewport.getCurrentViewport(ot)}})))}),nt.subscribe(ot=>tt(ot)),nt};let i$1,globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;function run(tt,_e){if(tt.size)for(const{callback:nt}of tt.values())nt(_e)}function flushGlobalEffects(tt,_e){switch(tt){case"before":return run(globalEffects,_e);case"after":return run(globalAfterEffects,_e);case"tail":return run(globalTailEffects,_e)}}let subscribers,subscription;function render$1(tt,_e,nt){let rt=_e.clock.getDelta();for(_e.frameloop==="never"&&typeof tt=="number"&&(rt=tt-_e.clock.elapsedTime,_e.clock.oldTime=_e.clock.elapsedTime,_e.clock.elapsedTime=tt),subscribers=_e.internal.subscribers,i$1=0;i$1<subscribers.length;i$1++)subscription=subscribers[i$1],subscription.ref.current(subscription.store.getState(),rt,nt);return!_e.internal.priority&&_e.gl.render&&_e.gl.render(_e.scene,_e.camera),_e.internal.frames=Math.max(0,_e.internal.frames-1),_e.frameloop==="always"?1:_e.internal.frames}function createLoop(tt){let _e=!1,nt=!1,rt,it,st;function at(ct){it=requestAnimationFrame(at),_e=!0,rt=0,flushGlobalEffects("before",ct),nt=!0;for(const ft of tt.values()){var ut;st=ft.store.getState(),st.internal.active&&(st.frameloop==="always"||st.internal.frames>0)&&!((ut=st.gl.xr)!=null&&ut.isPresenting)&&(rt+=render$1(ct,st))}if(nt=!1,flushGlobalEffects("after",ct),rt===0)return flushGlobalEffects("tail",ct),_e=!1,cancelAnimationFrame(it)}function ot(ct,ut=1){var ft;if(!ct)return tt.forEach(ht=>ot(ht.store.getState(),ut));(ft=ct.gl.xr)!=null&&ft.isPresenting||!ct.internal.active||ct.frameloop==="never"||(ut>1?ct.internal.frames=Math.min(60,ct.internal.frames+ut):nt?ct.internal.frames=2:ct.internal.frames=1,_e||(_e=!0,requestAnimationFrame(at)))}function lt(ct,ut=!0,ft,ht){if(ut&&flushGlobalEffects("before",ct),ft)render$1(ct,ft,ht);else for(const pt of tt.values())render$1(ct,pt.store.getState());ut&&flushGlobalEffects("after",ct)}return{loop:at,invalidate:ot,advance:lt}}function useStore$1(){const tt=reactExports.useContext(context);if(!tt)throw new Error("R3F: Hooks can only be used within the Canvas component!");return tt}function useThree(tt=nt=>nt,_e){return useStore$1()(tt,_e)}function useFrame(tt,_e=0){const nt=useStore$1(),rt=nt.getState().internal.subscribe,it=useMutableCallback(tt);return useIsomorphicLayoutEffect(()=>rt(it,_e,nt),[_e,rt,nt]),null}const memoizedLoaders=new WeakMap;function loadingFn(tt,_e){return function(nt,...rt){let it=memoizedLoaders.get(nt);return it||(it=new nt,memoizedLoaders.set(nt,it)),tt&&tt(it),Promise.all(rt.map(st=>new Promise((at,ot)=>it.load(st,lt=>{lt.scene&&Object.assign(lt,buildGraph(lt.scene)),at(lt)},_e,lt=>ot(new Error(`Could not load ${st}: ${lt==null?void 0:lt.message}`))))))}}function useLoader(tt,_e,nt,rt){const it=Array.isArray(_e)?_e:[_e],st=suspend(loadingFn(nt,rt),[tt,...it],{equal:is.equ});return Array.isArray(_e)?st:st[0]}useLoader.preload=function(tt,_e,nt){const rt=Array.isArray(_e)?_e:[_e];return preload(loadingFn(nt),[tt,...rt])};useLoader.clear=function(tt,_e){const nt=Array.isArray(_e)?_e:[_e];return clear([tt,...nt])};const roots=new Map,{invalidate,advance}=createLoop(roots),{reconciler,applyProps}=createRenderer(roots,getEventPriority),shallowLoose={objects:"shallow",strict:!1},createRendererInstance=(tt,_e)=>{const nt=typeof tt=="function"?tt(_e):tt;return isRenderer(nt)?nt:new WebGLRenderer({powerPreference:"high-performance",canvas:_e,antialias:!0,alpha:!0,...tt})};function computeInitialSize(tt,_e){const nt=typeof HTMLCanvasElement<"u"&&tt instanceof HTMLCanvasElement;if(_e){const{width:rt,height:it,top:st,left:at,updateStyle:ot=nt}=_e;return{width:rt,height:it,top:st,left:at,updateStyle:ot}}else if(typeof HTMLCanvasElement<"u"&&tt instanceof HTMLCanvasElement&&tt.parentElement){const{width:rt,height:it,top:st,left:at}=tt.parentElement.getBoundingClientRect();return{width:rt,height:it,top:st,left:at,updateStyle:nt}}else if(typeof OffscreenCanvas<"u"&&tt instanceof OffscreenCanvas)return{width:tt.width,height:tt.height,top:0,left:0,updateStyle:nt};return{width:0,height:0,top:0,left:0}}function createRoot(tt){const _e=roots.get(tt),nt=_e==null?void 0:_e.fiber,rt=_e==null?void 0:_e.store;_e&&console.warn("R3F.createRoot should only be called once!");const it=typeof reportError=="function"?reportError:console.error,st=rt||createStore$1(invalidate,advance),at=nt||reconciler.createContainer(st,constantsExports.ConcurrentRoot,null,!1,null,"",it,null);_e||roots.set(tt,{fiber:at,store:st});let ot,lt=!1,ct;return{configure(ut={}){let{gl:ft,size:ht,scene:pt,events:dt,onCreated:gt,shadows:vt=!1,linear:mt=!1,flat:xt=!1,legacy:St=!1,orthographic:Et=!1,frameloop:bt="always",dpr:Tt=[1,2],performance:At,raycaster:Ct,camera:Pt,onPointerMissed:It}=ut,Lt=st.getState(),Vt=Lt.gl;Lt.gl||Lt.set({gl:Vt=createRendererInstance(ft,tt)});let Ut=Lt.raycaster;Ut||Lt.set({raycaster:Ut=new Raycaster});const{params:Ot,...zt}=Ct||{};if(is.equ(zt,Ut,shallowLoose)||applyProps(Ut,{...zt}),is.equ(Ot,Ut.params,shallowLoose)||applyProps(Ut,{params:{...Ut.params,...Ot}}),!Lt.camera||Lt.camera===ct&&!is.equ(ct,Pt,shallowLoose)){ct=Pt;const Nt=Pt instanceof Camera,Ft=Nt?Pt:Et?new OrthographicCamera(0,0,0,0,.1,1e3):new PerspectiveCamera(75,0,.1,1e3);Nt||(Ft.position.z=5,Pt&&(applyProps(Ft,Pt),("aspect"in Pt||"left"in Pt||"right"in Pt||"bottom"in Pt||"top"in Pt)&&(Ft.manual=!0,Ft.updateProjectionMatrix())),!Lt.camera&&!(Pt!=null&&Pt.rotation)&&Ft.lookAt(0,0,0)),Lt.set({camera:Ft}),Ut.camera=Ft}if(!Lt.scene){let Nt;pt!=null&&pt.isScene?Nt=pt:(Nt=new Scene,pt&&applyProps(Nt,pt)),Lt.set({scene:prepare(Nt)})}if(!Lt.xr){var Dt;const Nt=(Qt,Kt)=>{const Zt=st.getState();Zt.frameloop!=="never"&&advance(Qt,!0,Zt,Kt)},Ft=()=>{const Qt=st.getState();Qt.gl.xr.enabled=Qt.gl.xr.isPresenting,Qt.gl.xr.setAnimationLoop(Qt.gl.xr.isPresenting?Nt:null),Qt.gl.xr.isPresenting||invalidate(Qt)},qt={connect(){const Qt=st.getState().gl;Qt.xr.addEventListener("sessionstart",Ft),Qt.xr.addEventListener("sessionend",Ft)},disconnect(){const Qt=st.getState().gl;Qt.xr.removeEventListener("sessionstart",Ft),Qt.xr.removeEventListener("sessionend",Ft)}};typeof((Dt=Vt.xr)==null?void 0:Dt.addEventListener)=="function"&&qt.connect(),Lt.set({xr:qt})}if(Vt.shadowMap){const Nt=Vt.shadowMap.enabled,Ft=Vt.shadowMap.type;if(Vt.shadowMap.enabled=!!vt,is.boo(vt))Vt.shadowMap.type=PCFSoftShadowMap;else if(is.str(vt)){var $t;const qt={basic:BasicShadowMap,percentage:PCFShadowMap,soft:PCFSoftShadowMap,variance:VSMShadowMap};Vt.shadowMap.type=($t=qt[vt])!=null?$t:PCFSoftShadowMap}else is.obj(vt)&&Object.assign(Vt.shadowMap,vt);(Nt!==Vt.shadowMap.enabled||Ft!==Vt.shadowMap.type)&&(Vt.shadowMap.needsUpdate=!0)}const Mt=getColorManagement();Mt&&("enabled"in Mt?Mt.enabled=!St:"legacyMode"in Mt&&(Mt.legacyMode=St)),lt||applyProps(Vt,{outputEncoding:mt?3e3:3001,toneMapping:xt?NoToneMapping:ACESFilmicToneMapping}),Lt.legacy!==St&&Lt.set(()=>({legacy:St})),Lt.linear!==mt&&Lt.set(()=>({linear:mt})),Lt.flat!==xt&&Lt.set(()=>({flat:xt})),ft&&!is.fun(ft)&&!isRenderer(ft)&&!is.equ(ft,Vt,shallowLoose)&&applyProps(Vt,ft),dt&&!Lt.events.handlers&&Lt.set({events:dt(st)});const Rt=computeInitialSize(tt,ht);return is.equ(Rt,Lt.size,shallowLoose)||Lt.setSize(Rt.width,Rt.height,Rt.updateStyle,Rt.top,Rt.left),Tt&&Lt.viewport.dpr!==calculateDpr(Tt)&&Lt.setDpr(Tt),Lt.frameloop!==bt&&Lt.setFrameloop(bt),Lt.onPointerMissed||Lt.set({onPointerMissed:It}),At&&!is.equ(At,Lt.performance,shallowLoose)&&Lt.set(Nt=>({performance:{...Nt.performance,...At}})),ot=gt,lt=!0,this},render(ut){return lt||this.configure(),reconciler.updateContainer(jsxRuntimeExports.jsx(Provider,{store:st,children:ut,onCreated:ot,rootElement:tt}),at,null,()=>{}),st},unmount(){unmountComponentAtNode(tt)}}}function Provider({store:tt,children:_e,onCreated:nt,rootElement:rt}){return useIsomorphicLayoutEffect(()=>{const it=tt.getState();it.set(st=>({internal:{...st.internal,active:!0}})),nt&&nt(it),tt.getState().events.connected||it.events.connect==null||it.events.connect(rt)},[]),jsxRuntimeExports.jsx(context.Provider,{value:tt,children:_e})}function unmountComponentAtNode(tt,_e){const nt=roots.get(tt),rt=nt==null?void 0:nt.fiber;if(rt){const it=nt==null?void 0:nt.store.getState();it&&(it.internal.active=!1),reconciler.updateContainer(null,rt,null,()=>{it&&setTimeout(()=>{try{var st,at,ot,lt;it.events.disconnect==null||it.events.disconnect(),(st=it.gl)==null||(at=st.renderLists)==null||at.dispose==null||at.dispose(),(ot=it.gl)==null||ot.forceContextLoss==null||ot.forceContextLoss(),(lt=it.gl)!=null&&lt.xr&&it.xr.disconnect(),dispose(it),roots.delete(tt)}catch{}},500)})}}function createPortal(tt,_e,nt){return jsxRuntimeExports.jsx(Portal,{children:tt,container:_e,state:nt},_e.uuid)}function Portal({state:tt={},children:_e,container:nt}){const{events:rt,size:it,...st}=tt,at=useStore$1(),[ot]=reactExports.useState(()=>new Raycaster),[lt]=reactExports.useState(()=>new Vector2),ct=reactExports.useCallback((ft,ht)=>{const pt={...ft};Object.keys(ft).forEach(gt=>{(privateKeys.includes(gt)||ft[gt]!==ht[gt]&&ht[gt])&&delete pt[gt]});let dt;if(ht&&it){const gt=ht.camera;dt=ft.viewport.getCurrentViewport(gt,new Vector3,it),gt!==ft.camera&&updateCamera(gt,it)}return{...pt,scene:nt,raycaster:ot,pointer:lt,mouse:lt,previousRoot:at,events:{...ft.events,...ht==null?void 0:ht.events,...rt},size:{...ft.size,...it},viewport:{...ft.viewport,...dt},...st}},[tt]),[ut]=reactExports.useState(()=>{const ft=at.getState();return create$1((pt,dt)=>({...ft,scene:nt,raycaster:ot,pointer:lt,mouse:lt,previousRoot:at,events:{...ft.events,...rt},size:{...ft.size,...it},...st,set:pt,get:dt,setEvents:gt=>pt(vt=>({...vt,events:{...vt.events,...gt}}))}))});return reactExports.useEffect(()=>{const ft=at.subscribe(ht=>ut.setState(pt=>ct(ht,pt)));return()=>{ft()}},[ct]),reactExports.useEffect(()=>{ut.setState(ft=>ct(at.getState(),ft))},[ct]),reactExports.useEffect(()=>()=>{ut.destroy()},[]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:reconciler.createPortal(jsxRuntimeExports.jsx(context.Provider,{value:ut,children:_e}),ut,null)})}reconciler.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:reactExports.version});const DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents(tt){const{handlePointer:_e}=createEvents(tt);return{priority:1,enabled:!0,compute(nt,rt,it){rt.pointer.set(nt.offsetX/rt.size.width*2-1,-(nt.offsetY/rt.size.height)*2+1),rt.raycaster.setFromCamera(rt.pointer,rt.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((nt,rt)=>({...nt,[rt]:_e(rt)}),{}),update:()=>{var nt;const{events:rt,internal:it}=tt.getState();(nt=it.lastEvent)!=null&&nt.current&&rt.handlers&&rt.handlers.onPointerMove(it.lastEvent.current)},connect:nt=>{var rt;const{set:it,events:st}=tt.getState();st.disconnect==null||st.disconnect(),it(at=>({events:{...at.events,connected:nt}})),Object.entries((rt=st.handlers)!=null?rt:[]).forEach(([at,ot])=>{const[lt,ct]=DOM_EVENTS[at];nt.addEventListener(lt,ot,{passive:ct})})},disconnect:()=>{const{set:nt,events:rt}=tt.getState();if(rt.connected){var it;Object.entries((it=rt.handlers)!=null?it:[]).forEach(([st,at])=>{if(rt&&rt.connected instanceof HTMLElement){const[ot]=DOM_EVENTS[st];rt.connected.removeEventListener(ot,at)}}),nt(st=>({events:{...st.events,connected:void 0}}))}}}}function g(tt,_e){let nt;return(...rt)=>{window.clearTimeout(nt),nt=window.setTimeout(()=>tt(...rt),_e)}}function j({debounce:tt,scroll:_e,polyfill:nt,offsetSize:rt}={debounce:0,scroll:!1,offsetSize:!1}){const it=nt||(typeof window>"u"?class{}:window.ResizeObserver);if(!it)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[st,at]=reactExports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),ot=reactExports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:st,orientationHandler:null}),lt=tt?typeof tt=="number"?tt:tt.scroll:null,ct=tt?typeof tt=="number"?tt:tt.resize:null,ut=reactExports.useRef(!1);reactExports.useEffect(()=>(ut.current=!0,()=>void(ut.current=!1)));const[ft,ht,pt]=reactExports.useMemo(()=>{const mt=()=>{if(!ot.current.element)return;const{left:xt,top:St,width:Et,height:bt,bottom:Tt,right:At,x:Ct,y:Pt}=ot.current.element.getBoundingClientRect(),It={left:xt,top:St,width:Et,height:bt,bottom:Tt,right:At,x:Ct,y:Pt};ot.current.element instanceof HTMLElement&&rt&&(It.height=ot.current.element.offsetHeight,It.width=ot.current.element.offsetWidth),Object.freeze(It),ut.current&&!D(ot.current.lastBounds,It)&&at(ot.current.lastBounds=It)};return[mt,ct?g(mt,ct):mt,lt?g(mt,lt):mt]},[at,rt,lt,ct]);function dt(){ot.current.scrollContainers&&(ot.current.scrollContainers.forEach(mt=>mt.removeEventListener("scroll",pt,!0)),ot.current.scrollContainers=null),ot.current.resizeObserver&&(ot.current.resizeObserver.disconnect(),ot.current.resizeObserver=null),ot.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",ot.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",ot.current.orientationHandler))}function gt(){ot.current.element&&(ot.current.resizeObserver=new it(pt),ot.current.resizeObserver.observe(ot.current.element),_e&&ot.current.scrollContainers&&ot.current.scrollContainers.forEach(mt=>mt.addEventListener("scroll",pt,{capture:!0,passive:!0})),ot.current.orientationHandler=()=>{pt()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",ot.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",ot.current.orientationHandler))}const vt=mt=>{!mt||mt===ot.current.element||(dt(),ot.current.element=mt,ot.current.scrollContainers=E(mt),gt())};return X(pt,!!_e),W(ht),reactExports.useEffect(()=>{dt(),gt()},[_e,pt,ht]),reactExports.useEffect(()=>dt,[]),[vt,st,ft]}function W(tt){reactExports.useEffect(()=>{const _e=tt;return window.addEventListener("resize",_e),()=>void window.removeEventListener("resize",_e)},[tt])}function X(tt,_e){reactExports.useEffect(()=>{if(_e){const nt=tt;return window.addEventListener("scroll",nt,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",nt,!0)}},[tt,_e])}function E(tt){const _e=[];if(!tt||tt===document.body)return _e;const{overflow:nt,overflowX:rt,overflowY:it}=window.getComputedStyle(tt);return[nt,rt,it].some(st=>st==="auto"||st==="scroll")&&_e.push(tt),[..._e,...E(tt.parentElement)]}const k=["x","y","top","bottom","left","right","width","height"],D=(tt,_e)=>k.every(nt=>tt[nt]===_e[nt]);var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(tt,_e,nt)=>_e in tt?__defProp(tt,_e,{enumerable:!0,configurable:!0,writable:!0,value:nt}):tt[_e]=nt,__spreadValues=(tt,_e)=>{for(var nt in _e||(_e={}))__hasOwnProp.call(_e,nt)&&__defNormalProp(tt,nt,_e[nt]);if(__getOwnPropSymbols)for(var nt of __getOwnPropSymbols(_e))__propIsEnum.call(_e,nt)&&__defNormalProp(tt,nt,_e[nt]);return tt},__spreadProps=(tt,_e)=>__defProps(tt,__getOwnPropDescs(_e)),_a$1,_b$1;typeof window<"u"&&((_a$1=window.document)!=null&&_a$1.createElement||((_b$1=window.navigator)==null?void 0:_b$1.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function traverseFiber(tt,_e,nt){if(!tt)return;if(nt(tt)===!0)return tt;let rt=tt.child;for(;rt;){const it=traverseFiber(rt,_e,nt);if(it)return it;rt=rt.sibling}}function wrapContext(tt){try{return Object.defineProperties(tt,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return tt}}const error=console.error;console.error=function(){const tt=[...arguments].join("");if(tt!=null&&tt.startsWith("Warning:")&&tt.includes("useContext")){console.error=error;return}return error.apply(this,arguments)};const FiberContext=wrapContext(reactExports.createContext(null));class FiberProvider extends reactExports.Component{render(){return reactExports.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}function useFiber(){const tt=reactExports.useContext(FiberContext);if(tt===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const _e=reactExports.useId();return reactExports.useMemo(()=>{for(const rt of[tt,tt==null?void 0:tt.alternate]){if(!rt)continue;const it=traverseFiber(rt,!1,st=>{let at=st.memoizedState;for(;at;){if(at.memoizedState===_e)return!0;at=at.next}});if(it)return it}},[tt,_e])}function useContextMap(){const tt=useFiber(),[_e]=reactExports.useState(()=>new Map);_e.clear();let nt=tt;for(;nt;){if(nt.type&&typeof nt.type=="object"){const it=nt.type._context===void 0&&nt.type.Provider===nt.type?nt.type:nt.type._context;it&&it!==FiberContext&&!_e.has(it)&&_e.set(it,reactExports.useContext(wrapContext(it)))}nt=nt.return}return _e}function useContextBridge(){const tt=useContextMap();return reactExports.useMemo(()=>Array.from(tt.keys()).reduce((_e,nt)=>rt=>reactExports.createElement(_e,null,reactExports.createElement(nt.Provider,__spreadProps(__spreadValues({},rt),{value:tt.get(nt)}))),_e=>reactExports.createElement(FiberProvider,__spreadValues({},_e))),[tt])}const CanvasImpl=reactExports.forwardRef(function tt({children:_e,fallback:nt,resize:rt,style:it,gl:st,events:at=createPointerEvents,eventSource:ot,eventPrefix:lt,shadows:ct,linear:ut,flat:ft,legacy:ht,orthographic:pt,frameloop:dt,dpr:gt,performance:vt,raycaster:mt,camera:xt,scene:St,onPointerMissed:Et,onCreated:bt,...Tt},At){reactExports.useMemo(()=>extend(THREE),[]);const Ct=useContextBridge(),[Pt,It]=j({scroll:!0,debounce:{scroll:50,resize:0},...rt}),Lt=reactExports.useRef(null),Vt=reactExports.useRef(null);reactExports.useImperativeHandle(At,()=>Lt.current);const Ut=useMutableCallback(Et),[Ot,zt]=reactExports.useState(!1),[Dt,$t]=reactExports.useState(!1);if(Ot)throw Ot;if(Dt)throw Dt;const Mt=reactExports.useRef(null);useIsomorphicLayoutEffect(()=>{const Nt=Lt.current;It.width>0&&It.height>0&&Nt&&(Mt.current||(Mt.current=createRoot(Nt)),Mt.current.configure({gl:st,events:at,shadows:ct,linear:ut,flat:ft,legacy:ht,orthographic:pt,frameloop:dt,dpr:gt,performance:vt,raycaster:mt,camera:xt,scene:St,size:It,onPointerMissed:(...Ft)=>Ut.current==null?void 0:Ut.current(...Ft),onCreated:Ft=>{Ft.events.connect==null||Ft.events.connect(ot?isRef$1(ot)?ot.current:ot:Vt.current),lt&&Ft.setEvents({compute:(qt,Qt)=>{const Kt=qt[lt+"X"],Zt=qt[lt+"Y"];Qt.pointer.set(Kt/Qt.size.width*2-1,-(Zt/Qt.size.height)*2+1),Qt.raycaster.setFromCamera(Qt.pointer,Qt.camera)}}),bt==null||bt(Ft)}}),Mt.current.render(jsxRuntimeExports.jsx(Ct,{children:jsxRuntimeExports.jsx(ErrorBoundary,{set:$t,children:jsxRuntimeExports.jsx(reactExports.Suspense,{fallback:jsxRuntimeExports.jsx(Block,{set:zt}),children:_e??null})})})))}),reactExports.useEffect(()=>{const Nt=Lt.current;if(Nt)return()=>unmountComponentAtNode(Nt)},[]);const Rt=ot?"none":"auto";return jsxRuntimeExports.jsx("div",{ref:Vt,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Rt,...it},...Tt,children:jsxRuntimeExports.jsx("div",{ref:Pt,style:{width:"100%",height:"100%"},children:jsxRuntimeExports.jsx("canvas",{ref:Lt,style:{display:"block"},children:nt})})})}),Canvas=reactExports.forwardRef(function tt(_e,nt){return jsxRuntimeExports.jsx(FiberProvider,{children:jsxRuntimeExports.jsx(CanvasImpl,{..._e,ref:nt})})});function _extends(){return _extends=Object.assign?Object.assign.bind():function(tt){for(var _e=1;_e<arguments.length;_e++){var nt=arguments[_e];for(var rt in nt)({}).hasOwnProperty.call(nt,rt)&&(tt[rt]=nt[rt])}return tt},_extends.apply(null,arguments)}const createStoreImpl=tt=>{let _e;const nt=new Set,rt=(ct,ut)=>{const ft=typeof ct=="function"?ct(_e):ct;if(!Object.is(ft,_e)){const ht=_e;_e=ut??(typeof ft!="object"||ft===null)?ft:Object.assign({},_e,ft),nt.forEach(pt=>pt(_e,ht))}},it=()=>_e,ot={setState:rt,getState:it,getInitialState:()=>lt,subscribe:ct=>(nt.add(ct),()=>nt.delete(ct))},lt=_e=tt(rt,it,ot);return ot},createStore=tt=>tt?createStoreImpl(tt):createStoreImpl,identity=tt=>tt;function useStore(tt,_e=identity){const nt=React.useSyncExternalStore(tt.subscribe,React.useCallback(()=>_e(tt.getState()),[tt,_e]),React.useCallback(()=>_e(tt.getInitialState()),[tt,_e]));return React.useDebugValue(nt),nt}const createImpl=tt=>{const _e=createStore(tt),nt=rt=>useStore(_e,rt);return Object.assign(nt,_e),nt},create=tt=>tt?createImpl(tt):createImpl;let saveLastTotalLoaded=0;const useProgress=create(tt=>(DefaultLoadingManager.onStart=(_e,nt,rt)=>{tt({active:!0,item:_e,loaded:nt,total:rt,progress:(nt-saveLastTotalLoaded)/(rt-saveLastTotalLoaded)*100})},DefaultLoadingManager.onLoad=()=>{tt({active:!1})},DefaultLoadingManager.onError=_e=>tt(nt=>({errors:[...nt.errors,_e]})),DefaultLoadingManager.onProgress=(_e,nt,rt)=>{nt===rt&&(saveLastTotalLoaded=rt),tt({active:!0,item:_e,loaded:nt,total:rt,progress:(nt-saveLastTotalLoaded)/(rt-saveLastTotalLoaded)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),defaultDataInterpolation=tt=>`Loading ${tt.toFixed(2)}%`;function Loader({containerStyles:tt,innerStyles:_e,barStyles:nt,dataStyles:rt,dataInterpolation:it=defaultDataInterpolation,initialState:st=at=>at}){const{active:at,progress:ot}=useProgress(),lt=reactExports.useRef(0),ct=reactExports.useRef(0),ut=reactExports.useRef(null),[ft,ht]=reactExports.useState(st(at));reactExports.useEffect(()=>{let dt;return at!==ft&&(dt=setTimeout(()=>ht(at),300)),()=>clearTimeout(dt)},[ft,at]);const pt=reactExports.useCallback(()=>{ut.current&&(lt.current+=(ot-lt.current)/2,(lt.current>.95*ot||ot===100)&&(lt.current=ot),ut.current.innerText=it(lt.current),lt.current<ot&&(ct.current=requestAnimationFrame(pt)))},[it,ot]);return reactExports.useEffect(()=>(pt(),()=>cancelAnimationFrame(ct.current)),[pt]),ft?reactExports.createElement("div",{style:{...styles.container,opacity:at?1:0,...tt}},reactExports.createElement("div",null,reactExports.createElement("div",{style:{...styles.inner,..._e}},reactExports.createElement("div",{style:{...styles.bar,transform:`scaleX(${ot/100})`,...nt}}),reactExports.createElement("span",{ref:ut,style:{...styles.data,...rt}})))):null}const styles={container:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#171717",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 300ms ease",zIndex:1e3},inner:{width:100,height:3,background:"#272727",textAlign:"center"},bar:{height:3,width:"100%",background:"white",transition:"transform 200ms",transformOrigin:"left center"},data:{display:"inline-block",position:"relative",fontVariantNumeric:"tabular-nums",marginTop:"0.8em",color:"#f0f0f0",fontSize:"0.6em",fontFamily:'-apple-system, BlinkMacSystemFont, "Inter", "Segoe UI", "Helvetica Neue", Helvetica, Arial, Roboto, Ubuntu, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',whiteSpace:"nowrap"}},version=parseInt(REVISION.replace(/\D+/g,""));var u8=Uint8Array,u16=Uint16Array,u32=Uint32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(tt,_e){for(var nt=new u16(31),rt=0;rt<31;++rt)nt[rt]=_e+=1<<tt[rt-1];for(var it=new u32(nt[30]),rt=1;rt<30;++rt)for(var st=nt[rt];st<nt[rt+1];++st)it[st]=st-nt[rt]<<5|rt;return[nt,it]},_a=freb(fleb,2),fl=_a[0],revfl=_a[1];fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b[0],rev=new u16(32768);for(var i=0;i<32768;++i){var x=(i&43690)>>>1|(i&21845)<<1;x=(x&52428)>>>2|(x&13107)<<2,x=(x&61680)>>>4|(x&3855)<<4,rev[i]=((x&65280)>>>8|(x&255)<<8)>>>1}var hMap=function(tt,_e,nt){for(var rt=tt.length,it=0,st=new u16(_e);it<rt;++it)++st[tt[it]-1];var at=new u16(_e);for(it=0;it<_e;++it)at[it]=at[it-1]+st[it-1]<<1;var ot;if(nt){ot=new u16(1<<_e);var lt=15-_e;for(it=0;it<rt;++it)if(tt[it])for(var ct=it<<4|tt[it],ut=_e-tt[it],ft=at[tt[it]-1]++<<ut,ht=ft|(1<<ut)-1;ft<=ht;++ft)ot[rev[ft]>>>lt]=ct}else for(ot=new u16(rt),it=0;it<rt;++it)tt[it]&&(ot[it]=rev[at[tt[it]-1]++]>>>15-tt[it]);return ot},flt=new u8(288);for(var i=0;i<144;++i)flt[i]=8;for(var i=144;i<256;++i)flt[i]=9;for(var i=256;i<280;++i)flt[i]=7;for(var i=280;i<288;++i)flt[i]=8;var fdt=new u8(32);for(var i=0;i<32;++i)fdt[i]=5;var flrm=hMap(flt,9,1),fdrm=hMap(fdt,5,1),max=function(tt){for(var _e=tt[0],nt=1;nt<tt.length;++nt)tt[nt]>_e&&(_e=tt[nt]);return _e},bits=function(tt,_e,nt){var rt=_e/8|0;return(tt[rt]|tt[rt+1]<<8)>>(_e&7)&nt},bits16=function(tt,_e){var nt=_e/8|0;return(tt[nt]|tt[nt+1]<<8|tt[nt+2]<<16)>>(_e&7)},shft=function(tt){return(tt/8|0)+(tt&7&&1)},slc=function(tt,_e,nt){(nt==null||nt>tt.length)&&(nt=tt.length);var rt=new(tt instanceof u16?u16:tt instanceof u32?u32:u8)(nt-_e);return rt.set(tt.subarray(_e,nt)),rt},inflt=function(tt,_e,nt){var rt=tt.length;if(!rt||nt&&!nt.l&&rt<5)return _e||new u8(0);var it=!_e||nt,st=!nt||nt.i;nt||(nt={}),_e||(_e=new u8(rt*3));var at=function(tn){var en=_e.length;if(tn>en){var un=new u8(Math.max(en*2,tn));un.set(_e),_e=un}},ot=nt.f||0,lt=nt.p||0,ct=nt.b||0,ut=nt.l,ft=nt.d,ht=nt.m,pt=nt.n,dt=rt*8;do{if(!ut){nt.f=ot=bits(tt,lt,1);var gt=bits(tt,lt+1,3);if(lt+=3,gt)if(gt==1)ut=flrm,ft=fdrm,ht=9,pt=5;else if(gt==2){var St=bits(tt,lt,31)+257,Et=bits(tt,lt+10,15)+4,bt=St+bits(tt,lt+5,31)+1;lt+=14;for(var Tt=new u8(bt),At=new u8(19),Ct=0;Ct<Et;++Ct)At[clim[Ct]]=bits(tt,lt+Ct*3,7);lt+=Et*3;for(var Pt=max(At),It=(1<<Pt)-1,Lt=hMap(At,Pt,1),Ct=0;Ct<bt;){var Vt=Lt[bits(tt,lt,It)];lt+=Vt&15;var vt=Vt>>>4;if(vt<16)Tt[Ct++]=vt;else{var Ut=0,Ot=0;for(vt==16?(Ot=3+bits(tt,lt,3),lt+=2,Ut=Tt[Ct-1]):vt==17?(Ot=3+bits(tt,lt,7),lt+=3):vt==18&&(Ot=11+bits(tt,lt,127),lt+=7);Ot--;)Tt[Ct++]=Ut}}var zt=Tt.subarray(0,St),Dt=Tt.subarray(St);ht=max(zt),pt=max(Dt),ut=hMap(zt,ht,1),ft=hMap(Dt,pt,1)}else throw"invalid block type";else{var vt=shft(lt)+4,mt=tt[vt-4]|tt[vt-3]<<8,xt=vt+mt;if(xt>rt){if(st)throw"unexpected EOF";break}it&&at(ct+mt),_e.set(tt.subarray(vt,xt),ct),nt.b=ct+=mt,nt.p=lt=xt*8;continue}if(lt>dt){if(st)throw"unexpected EOF";break}}it&&at(ct+131072);for(var $t=(1<<ht)-1,Mt=(1<<pt)-1,Rt=lt;;Rt=lt){var Ut=ut[bits16(tt,lt)&$t],Nt=Ut>>>4;if(lt+=Ut&15,lt>dt){if(st)throw"unexpected EOF";break}if(!Ut)throw"invalid length/literal";if(Nt<256)_e[ct++]=Nt;else if(Nt==256){Rt=lt,ut=null;break}else{var Ft=Nt-254;if(Nt>264){var Ct=Nt-257,qt=fleb[Ct];Ft=bits(tt,lt,(1<<qt)-1)+fl[Ct],lt+=qt}var Qt=ft[bits16(tt,lt)&Mt],Kt=Qt>>>4;if(!Qt)throw"invalid distance";lt+=Qt&15;var Dt=fd[Kt];if(Kt>3){var qt=fdeb[Kt];Dt+=bits16(tt,lt)&(1<<qt)-1,lt+=qt}if(lt>dt){if(st)throw"unexpected EOF";break}it&&at(ct+131072);for(var Zt=ct+Ft;ct<Zt;ct+=4)_e[ct]=_e[ct-Dt],_e[ct+1]=_e[ct+1-Dt],_e[ct+2]=_e[ct+2-Dt],_e[ct+3]=_e[ct+3-Dt];ct=Zt}}nt.l=ut,nt.p=Rt,nt.b=ct,ut&&(ot=1,nt.m=ht,nt.d=ft,nt.n=pt)}while(!ot);return ct==_e.length?_e:slc(_e,0,ct)},et=new u8(0),zlv=function(tt){if((tt[0]&15)!=8||tt[0]>>>4>7||(tt[0]<<8|tt[1])%31)throw"invalid zlib data";if(tt[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function unzlibSync(tt,_e){return inflt((zlv(tt),tt.subarray(2,-4)),_e)}var td=typeof TextDecoder<"u"&&new TextDecoder,tds=0;try{td.decode(et,{stream:!0}),tds=1}catch(tt){}const isCubeTexture=tt=>tt&&tt.isCubeTexture;class GroundProjectedEnv extends Mesh{constructor(_e,nt){var rt,it;const st=isCubeTexture(_e),ot=((it=st?(rt=_e.image[0])==null?void 0:rt.width:_e.image.width)!=null?it:1024)/4,lt=Math.floor(Math.log2(ot)),ct=Math.pow(2,lt),ut=3*Math.max(ct,16*7),ft=4*ct,ht=[st?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/ut}`,`#define CUBEUV_TEXEL_HEIGHT ${1/ft}`,`#define CUBEUV_MAX_MIP ${lt}.0`],pt=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,dt=ht.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${version>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,gt={map:{value:_e},height:{value:(nt==null?void 0:nt.height)||15},radius:{value:(nt==null?void 0:nt.radius)||100}},vt=new IcosahedronGeometry(1,16),mt=new ShaderMaterial({uniforms:gt,fragmentShader:dt,vertexShader:pt,side:DoubleSide});super(vt,mt)}set radius(_e){this.material.uniforms.radius.value=_e}get radius(){return this.material.uniforms.radius.value}set height(_e){this.material.uniforms.height.value=_e}get height(){return this.material.uniforms.height.value}}class RGBELoader extends DataTextureLoader{constructor(_e){super(_e),this.type=HalfFloatType}parse(_e){const at=function(Ct,Pt){switch(Ct){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(Pt||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(Pt||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(Pt||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(Pt||""))}},ut=`
`,ft=function(Ct,Pt,It){Pt=Pt||1024;let Vt=Ct.pos,Ut=-1,Ot=0,zt="",Dt=String.fromCharCode.apply(null,new Uint16Array(Ct.subarray(Vt,Vt+128)));for(;0>(Ut=Dt.indexOf(ut))&&Ot<Pt&&Vt<Ct.byteLength;)zt+=Dt,Ot+=Dt.length,Vt+=128,Dt+=String.fromCharCode.apply(null,new Uint16Array(Ct.subarray(Vt,Vt+128)));return-1<Ut?(Ct.pos+=Ot+Ut+1,zt+Dt.slice(0,Ut)):!1},ht=function(Ct){const Pt=/^#\?(\S+)/,It=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,Lt=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,Vt=/^\s*FORMAT=(\S+)\s*$/,Ut=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,Ot={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let zt,Dt;for((Ct.pos>=Ct.byteLength||!(zt=ft(Ct)))&&at(1,"no header found"),(Dt=zt.match(Pt))||at(3,"bad initial token"),Ot.valid|=1,Ot.programtype=Dt[1],Ot.string+=zt+`
`;zt=ft(Ct),zt!==!1;){if(Ot.string+=zt+`
`,zt.charAt(0)==="#"){Ot.comments+=zt+`
`;continue}if((Dt=zt.match(It))&&(Ot.gamma=parseFloat(Dt[1])),(Dt=zt.match(Lt))&&(Ot.exposure=parseFloat(Dt[1])),(Dt=zt.match(Vt))&&(Ot.valid|=2,Ot.format=Dt[1]),(Dt=zt.match(Ut))&&(Ot.valid|=4,Ot.height=parseInt(Dt[1],10),Ot.width=parseInt(Dt[2],10)),Ot.valid&2&&Ot.valid&4)break}return Ot.valid&2||at(3,"missing format specifier"),Ot.valid&4||at(3,"missing image size specifier"),Ot},pt=function(Ct,Pt,It){const Lt=Pt;if(Lt<8||Lt>32767||Ct[0]!==2||Ct[1]!==2||Ct[2]&128)return new Uint8Array(Ct);Lt!==(Ct[2]<<8|Ct[3])&&at(3,"wrong scanline width");const Vt=new Uint8Array(4*Pt*It);Vt.length||at(4,"unable to allocate buffer space");let Ut=0,Ot=0;const zt=4*Lt,Dt=new Uint8Array(4),$t=new Uint8Array(zt);let Mt=It;for(;Mt>0&&Ot<Ct.byteLength;){Ot+4>Ct.byteLength&&at(1),Dt[0]=Ct[Ot++],Dt[1]=Ct[Ot++],Dt[2]=Ct[Ot++],Dt[3]=Ct[Ot++],(Dt[0]!=2||Dt[1]!=2||(Dt[2]<<8|Dt[3])!=Lt)&&at(3,"bad rgbe scanline format");let Rt=0,Nt;for(;Rt<zt&&Ot<Ct.byteLength;){Nt=Ct[Ot++];const qt=Nt>128;if(qt&&(Nt-=128),(Nt===0||Rt+Nt>zt)&&at(3,"bad scanline data"),qt){const Qt=Ct[Ot++];for(let Kt=0;Kt<Nt;Kt++)$t[Rt++]=Qt}else $t.set(Ct.subarray(Ot,Ot+Nt),Rt),Rt+=Nt,Ot+=Nt}const Ft=Lt;for(let qt=0;qt<Ft;qt++){let Qt=0;Vt[Ut]=$t[qt+Qt],Qt+=Lt,Vt[Ut+1]=$t[qt+Qt],Qt+=Lt,Vt[Ut+2]=$t[qt+Qt],Qt+=Lt,Vt[Ut+3]=$t[qt+Qt],Ut+=4}Mt--}return Vt},dt=function(Ct,Pt,It,Lt){const Vt=Ct[Pt+3],Ut=Math.pow(2,Vt-128)/255;It[Lt+0]=Ct[Pt+0]*Ut,It[Lt+1]=Ct[Pt+1]*Ut,It[Lt+2]=Ct[Pt+2]*Ut,It[Lt+3]=1},gt=function(Ct,Pt,It,Lt){const Vt=Ct[Pt+3],Ut=Math.pow(2,Vt-128)/255;It[Lt+0]=DataUtils.toHalfFloat(Math.min(Ct[Pt+0]*Ut,65504)),It[Lt+1]=DataUtils.toHalfFloat(Math.min(Ct[Pt+1]*Ut,65504)),It[Lt+2]=DataUtils.toHalfFloat(Math.min(Ct[Pt+2]*Ut,65504)),It[Lt+3]=DataUtils.toHalfFloat(1)},vt=new Uint8Array(_e);vt.pos=0;const mt=ht(vt),xt=mt.width,St=mt.height,Et=pt(vt.subarray(vt.pos),xt,St);let bt,Tt,At;switch(this.type){case FloatType:At=Et.length/4;const Ct=new Float32Array(At*4);for(let It=0;It<At;It++)dt(Et,It*4,Ct,It*4);bt=Ct,Tt=FloatType;break;case HalfFloatType:At=Et.length/4;const Pt=new Uint16Array(At*4);for(let It=0;It<At;It++)gt(Et,It*4,Pt,It*4);bt=Pt,Tt=HalfFloatType;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:xt,height:St,data:bt,header:mt.string,gamma:mt.gamma,exposure:mt.exposure,type:Tt}}setDataType(_e){return this.type=_e,this}load(_e,nt,rt,it){function st(at,ot){switch(at.type){case FloatType:case HalfFloatType:"colorSpace"in at?at.colorSpace="srgb-linear":at.encoding=3e3,at.minFilter=LinearFilter,at.magFilter=LinearFilter,at.generateMipmaps=!1,at.flipY=!0;break}nt&&nt(at,ot)}return super.load(_e,st,rt,it)}}const hasColorSpace=version>=152;class EXRLoader extends DataTextureLoader{constructor(_e){super(_e),this.type=HalfFloatType}parse(_e){const Pt=Math.pow(2.7182818,2.2);function It(Xt,Jt){for(var hn=0,An=0;An<65536;++An)(An==0||Xt[An>>3]&1<<(An&7))&&(Jt[hn++]=An);for(var In=hn-1;hn<65536;)Jt[hn++]=0;return In}function Lt(Xt){for(var Jt=0;Jt<16384;Jt++)Xt[Jt]={},Xt[Jt].len=0,Xt[Jt].lit=0,Xt[Jt].p=null}const Vt={l:0,c:0,lc:0};function Ut(Xt,Jt,hn,An,In){for(;hn<Xt;)Jt=Jt<<8|On(An,In),hn+=8;hn-=Xt,Vt.l=Jt>>hn&(1<<Xt)-1,Vt.c=Jt,Vt.lc=hn}const Ot=new Array(59);function zt(Xt){for(var Jt=0;Jt<=58;++Jt)Ot[Jt]=0;for(var Jt=0;Jt<65537;++Jt)Ot[Xt[Jt]]+=1;for(var hn=0,Jt=58;Jt>0;--Jt){var An=hn+Ot[Jt]>>1;Ot[Jt]=hn,hn=An}for(var Jt=0;Jt<65537;++Jt){var In=Xt[Jt];In>0&&(Xt[Jt]=In|Ot[In]++<<6)}}function Dt(Xt,Jt,hn,An,In,Gt,nn){for(var on=hn,cn=0,rn=0;In<=Gt;In++){if(on.value-hn.value>An)return!1;Ut(6,cn,rn,Xt,on);var Sn=Vt.l;if(cn=Vt.c,rn=Vt.lc,nn[In]=Sn,Sn==63){if(on.value-hn.value>An)throw"Something wrong with hufUnpackEncTable";Ut(8,cn,rn,Xt,on);var pn=Vt.l+6;if(cn=Vt.c,rn=Vt.lc,In+pn>Gt+1)throw"Something wrong with hufUnpackEncTable";for(;pn--;)nn[In++]=0;In--}else if(Sn>=59){var pn=Sn-59+2;if(In+pn>Gt+1)throw"Something wrong with hufUnpackEncTable";for(;pn--;)nn[In++]=0;In--}}zt(nn)}function $t(Xt){return Xt&63}function Mt(Xt){return Xt>>6}function Rt(Xt,Jt,hn,An){for(;Jt<=hn;Jt++){var In=Mt(Xt[Jt]),Gt=$t(Xt[Jt]);if(In>>Gt)throw"Invalid table entry";if(Gt>14){var nn=An[In>>Gt-14];if(nn.len)throw"Invalid table entry";if(nn.lit++,nn.p){var on=nn.p;nn.p=new Array(nn.lit);for(var cn=0;cn<nn.lit-1;++cn)nn.p[cn]=on[cn]}else nn.p=new Array(1);nn.p[nn.lit-1]=Jt}else if(Gt)for(var rn=0,cn=1<<14-Gt;cn>0;cn--){var nn=An[(In<<14-Gt)+rn];if(nn.len||nn.p)throw"Invalid table entry";nn.len=Gt,nn.lit=Jt,rn++}}return!0}const Nt={c:0,lc:0};function Ft(Xt,Jt,hn,An){Xt=Xt<<8|On(hn,An),Jt+=8,Nt.c=Xt,Nt.lc=Jt}const qt={c:0,lc:0};function Qt(Xt,Jt,hn,An,In,Gt,nn,on,cn,rn){if(Xt==Jt){An<8&&(Ft(hn,An,In,nn),hn=Nt.c,An=Nt.lc),An-=8;var Sn=hn>>An,Sn=new Uint8Array([Sn])[0];if(cn.value+Sn>rn)return!1;for(var pn=on[cn.value-1];Sn-- >0;)on[cn.value++]=pn}else if(cn.value<rn)on[cn.value++]=Xt;else return!1;qt.c=hn,qt.lc=An}function Kt(Xt){return Xt&65535}function Zt(Xt){var Jt=Kt(Xt);return Jt>32767?Jt-65536:Jt}const tn={a:0,b:0};function en(Xt,Jt){var hn=Zt(Xt),An=Zt(Jt),In=An,Gt=hn+(In&1)+(In>>1),nn=Gt,on=Gt-In;tn.a=nn,tn.b=on}function un(Xt,Jt){var hn=Kt(Xt),An=Kt(Jt),In=hn-(An>>1)&65535,Gt=An+In-32768&65535;tn.a=Gt,tn.b=In}function Cn(Xt,Jt,hn,An,In,Gt,nn){for(var on=nn<16384,cn=hn>In?In:hn,rn=1,Sn;rn<=cn;)rn<<=1;for(rn>>=1,Sn=rn,rn>>=1;rn>=1;){for(var pn=0,Zn=pn+Gt*(In-Sn),jn=Gt*rn,Hn=Gt*Sn,Jn=An*rn,Xn=An*Sn,or,ur,ir,dr;pn<=Zn;pn+=Hn){for(var lr=pn,er=pn+An*(hn-Sn);lr<=er;lr+=Xn){var xr=lr+Jn,mr=lr+jn,Lr=mr+Jn;on?(en(Xt[lr+Jt],Xt[mr+Jt]),or=tn.a,ir=tn.b,en(Xt[xr+Jt],Xt[Lr+Jt]),ur=tn.a,dr=tn.b,en(or,ur),Xt[lr+Jt]=tn.a,Xt[xr+Jt]=tn.b,en(ir,dr),Xt[mr+Jt]=tn.a,Xt[Lr+Jt]=tn.b):(un(Xt[lr+Jt],Xt[mr+Jt]),or=tn.a,ir=tn.b,un(Xt[xr+Jt],Xt[Lr+Jt]),ur=tn.a,dr=tn.b,un(or,ur),Xt[lr+Jt]=tn.a,Xt[xr+Jt]=tn.b,un(ir,dr),Xt[mr+Jt]=tn.a,Xt[Lr+Jt]=tn.b)}if(hn&rn){var mr=lr+jn;on?en(Xt[lr+Jt],Xt[mr+Jt]):un(Xt[lr+Jt],Xt[mr+Jt]),or=tn.a,Xt[mr+Jt]=tn.b,Xt[lr+Jt]=or}}if(In&rn)for(var lr=pn,er=pn+An*(hn-Sn);lr<=er;lr+=Xn){var xr=lr+Jn;on?en(Xt[lr+Jt],Xt[xr+Jt]):un(Xt[lr+Jt],Xt[xr+Jt]),or=tn.a,Xt[xr+Jt]=tn.b,Xt[lr+Jt]=or}Sn=rn,rn>>=1}return pn}function Rn(Xt,Jt,hn,An,In,Gt,nn,on,cn,rn){for(var Sn=0,pn=0,Zn=on,jn=Math.trunc(In.value+(Gt+7)/8);In.value<jn;)for(Ft(Sn,pn,hn,In),Sn=Nt.c,pn=Nt.lc;pn>=14;){var Hn=Sn>>pn-14&16383,Jn=Jt[Hn];if(Jn.len)pn-=Jn.len,Qt(Jn.lit,nn,Sn,pn,hn,An,In,cn,rn,Zn),Sn=qt.c,pn=qt.lc;else{if(!Jn.p)throw"hufDecode issues";var Xn;for(Xn=0;Xn<Jn.lit;Xn++){for(var or=$t(Xt[Jn.p[Xn]]);pn<or&&In.value<jn;)Ft(Sn,pn,hn,In),Sn=Nt.c,pn=Nt.lc;if(pn>=or&&Mt(Xt[Jn.p[Xn]])==(Sn>>pn-or&(1<<or)-1)){pn-=or,Qt(Jn.p[Xn],nn,Sn,pn,hn,An,In,cn,rn,Zn),Sn=qt.c,pn=qt.lc;break}}if(Xn==Jn.lit)throw"hufDecode issues"}}var ur=8-Gt&7;for(Sn>>=ur,pn-=ur;pn>0;){var Jn=Jt[Sn<<14-pn&16383];if(Jn.len)pn-=Jn.len,Qt(Jn.lit,nn,Sn,pn,hn,An,In,cn,rn,Zn),Sn=qt.c,pn=qt.lc;else throw"hufDecode issues"}return!0}function Mn(Xt,Jt,hn,An,In,Gt){var nn={value:0},on=hn.value,cn=Wn(Jt,hn),rn=Wn(Jt,hn);hn.value+=4;var Sn=Wn(Jt,hn);if(hn.value+=4,cn<0||cn>=65537||rn<0||rn>=65537)throw"Something wrong with HUF_ENCSIZE";var pn=new Array(65537),Zn=new Array(16384);Lt(Zn);var jn=An-(hn.value-on);if(Dt(Xt,Jt,hn,jn,cn,rn,pn),Sn>8*(An-(hn.value-on)))throw"Something wrong with hufUncompress";Rt(pn,cn,rn,Zn),Rn(pn,Zn,Xt,Jt,hn,Sn,rn,Gt,In,nn)}function ln(Xt,Jt,hn){for(var An=0;An<hn;++An)Jt[An]=Xt[Jt[An]]}function gn(Xt){for(var Jt=1;Jt<Xt.length;Jt++){var hn=Xt[Jt-1]+Xt[Jt]-128;Xt[Jt]=hn}}function Yt(Xt,Jt){for(var hn=0,An=Math.floor((Xt.length+1)/2),In=0,Gt=Xt.length-1;!(In>Gt||(Jt[In++]=Xt[hn++],In>Gt));)Jt[In++]=Xt[An++]}function Fn(Xt){for(var Jt=Xt.byteLength,hn=new Array,An=0,In=new DataView(Xt);Jt>0;){var Gt=In.getInt8(An++);if(Gt<0){var nn=-Gt;Jt-=nn+1;for(var on=0;on<nn;on++)hn.push(In.getUint8(An++))}else{var nn=Gt;Jt-=2;for(var cn=In.getUint8(An++),on=0;on<nn+1;on++)hn.push(cn)}}return hn}function wn(Xt,Jt,hn,An,In,Gt){var xr=new DataView(Gt.buffer),nn=hn[Xt.idx[0]].width,on=hn[Xt.idx[0]].height,cn=3,rn=Math.floor(nn/8),Sn=Math.ceil(nn/8),pn=Math.ceil(on/8),Zn=nn-(Sn-1)*8,jn=on-(pn-1)*8,Hn={value:0},Jn=new Array(cn),Xn=new Array(cn),or=new Array(cn),ur=new Array(cn),ir=new Array(cn);for(let Ar=0;Ar<cn;++Ar)ir[Ar]=Jt[Xt.idx[Ar]],Jn[Ar]=Ar<1?0:Jn[Ar-1]+Sn*pn,Xn[Ar]=new Float32Array(64),or[Ar]=new Uint16Array(64),ur[Ar]=new Uint16Array(Sn*64);for(let Ar=0;Ar<pn;++Ar){var dr=8;Ar==pn-1&&(dr=jn);var lr=8;for(let wr=0;wr<Sn;++wr){wr==Sn-1&&(lr=Zn);for(let Mr=0;Mr<cn;++Mr)or[Mr].fill(0),or[Mr][0]=In[Jn[Mr]++],Vn(Hn,An,or[Mr]),xn(or[Mr],Xn[Mr]),Bn(Xn[Mr]);Tn(Xn);for(let Mr=0;Mr<cn;++Mr)Wt(Xn[Mr],ur[Mr],wr*64)}let br=0;for(let wr=0;wr<cn;++wr){const Mr=hn[Xt.idx[wr]].type;for(let Rr=8*Ar;Rr<8*Ar+dr;++Rr){br=ir[wr][Rr];for(let Wr=0;Wr<rn;++Wr){const Or=Wr*64+(Rr&7)*8;xr.setUint16(br+0*2*Mr,ur[wr][Or+0],!0),xr.setUint16(br+1*2*Mr,ur[wr][Or+1],!0),xr.setUint16(br+2*2*Mr,ur[wr][Or+2],!0),xr.setUint16(br+3*2*Mr,ur[wr][Or+3],!0),xr.setUint16(br+4*2*Mr,ur[wr][Or+4],!0),xr.setUint16(br+5*2*Mr,ur[wr][Or+5],!0),xr.setUint16(br+6*2*Mr,ur[wr][Or+6],!0),xr.setUint16(br+7*2*Mr,ur[wr][Or+7],!0),br+=8*2*Mr}}if(rn!=Sn)for(let Rr=8*Ar;Rr<8*Ar+dr;++Rr){const Wr=ir[wr][Rr]+8*rn*2*Mr,Or=rn*64+(Rr&7)*8;for(let ps=0;ps<lr;++ps)xr.setUint16(Wr+ps*2*Mr,ur[wr][Or+ps],!0)}}}for(var er=new Uint16Array(nn),xr=new DataView(Gt.buffer),mr=0;mr<cn;++mr){hn[Xt.idx[mr]].decoded=!0;var Lr=hn[Xt.idx[mr]].type;if(hn[mr].type==2)for(var Vr=0;Vr<on;++Vr){const Ar=ir[mr][Vr];for(var kr=0;kr<nn;++kr)er[kr]=xr.getUint16(Ar+kr*2*Lr,!0);for(var kr=0;kr<nn;++kr)xr.setFloat32(Ar+kr*2*Lr,vn(er[kr]),!0)}}}function Vn(Xt,Jt,hn){for(var An,In=1;In<64;)An=Jt[Xt.value],An==65280?In=64:An>>8==255?In+=An&255:(hn[In]=An,In++),Xt.value++}function xn(Xt,Jt){Jt[0]=vn(Xt[0]),Jt[1]=vn(Xt[1]),Jt[2]=vn(Xt[5]),Jt[3]=vn(Xt[6]),Jt[4]=vn(Xt[14]),Jt[5]=vn(Xt[15]),Jt[6]=vn(Xt[27]),Jt[7]=vn(Xt[28]),Jt[8]=vn(Xt[2]),Jt[9]=vn(Xt[4]),Jt[10]=vn(Xt[7]),Jt[11]=vn(Xt[13]),Jt[12]=vn(Xt[16]),Jt[13]=vn(Xt[26]),Jt[14]=vn(Xt[29]),Jt[15]=vn(Xt[42]),Jt[16]=vn(Xt[3]),Jt[17]=vn(Xt[8]),Jt[18]=vn(Xt[12]),Jt[19]=vn(Xt[17]),Jt[20]=vn(Xt[25]),Jt[21]=vn(Xt[30]),Jt[22]=vn(Xt[41]),Jt[23]=vn(Xt[43]),Jt[24]=vn(Xt[9]),Jt[25]=vn(Xt[11]),Jt[26]=vn(Xt[18]),Jt[27]=vn(Xt[24]),Jt[28]=vn(Xt[31]),Jt[29]=vn(Xt[40]),Jt[30]=vn(Xt[44]),Jt[31]=vn(Xt[53]),Jt[32]=vn(Xt[10]),Jt[33]=vn(Xt[19]),Jt[34]=vn(Xt[23]),Jt[35]=vn(Xt[32]),Jt[36]=vn(Xt[39]),Jt[37]=vn(Xt[45]),Jt[38]=vn(Xt[52]),Jt[39]=vn(Xt[54]),Jt[40]=vn(Xt[20]),Jt[41]=vn(Xt[22]),Jt[42]=vn(Xt[33]),Jt[43]=vn(Xt[38]),Jt[44]=vn(Xt[46]),Jt[45]=vn(Xt[51]),Jt[46]=vn(Xt[55]),Jt[47]=vn(Xt[60]),Jt[48]=vn(Xt[21]),Jt[49]=vn(Xt[34]),Jt[50]=vn(Xt[37]),Jt[51]=vn(Xt[47]),Jt[52]=vn(Xt[50]),Jt[53]=vn(Xt[56]),Jt[54]=vn(Xt[59]),Jt[55]=vn(Xt[61]),Jt[56]=vn(Xt[35]),Jt[57]=vn(Xt[36]),Jt[58]=vn(Xt[48]),Jt[59]=vn(Xt[49]),Jt[60]=vn(Xt[57]),Jt[61]=vn(Xt[58]),Jt[62]=vn(Xt[62]),Jt[63]=vn(Xt[63])}function Bn(Xt){const Jt=.5*Math.cos(.7853975),hn=.5*Math.cos(3.14159/16),An=.5*Math.cos(3.14159/8),In=.5*Math.cos(3*3.14159/16),Gt=.5*Math.cos(5*3.14159/16),nn=.5*Math.cos(3*3.14159/8),on=.5*Math.cos(7*3.14159/16);for(var cn=new Array(4),rn=new Array(4),Sn=new Array(4),pn=new Array(4),Zn=0;Zn<8;++Zn){var jn=Zn*8;cn[0]=An*Xt[jn+2],cn[1]=nn*Xt[jn+2],cn[2]=An*Xt[jn+6],cn[3]=nn*Xt[jn+6],rn[0]=hn*Xt[jn+1]+In*Xt[jn+3]+Gt*Xt[jn+5]+on*Xt[jn+7],rn[1]=In*Xt[jn+1]-on*Xt[jn+3]-hn*Xt[jn+5]-Gt*Xt[jn+7],rn[2]=Gt*Xt[jn+1]-hn*Xt[jn+3]+on*Xt[jn+5]+In*Xt[jn+7],rn[3]=on*Xt[jn+1]-Gt*Xt[jn+3]+In*Xt[jn+5]-hn*Xt[jn+7],Sn[0]=Jt*(Xt[jn+0]+Xt[jn+4]),Sn[3]=Jt*(Xt[jn+0]-Xt[jn+4]),Sn[1]=cn[0]+cn[3],Sn[2]=cn[1]-cn[2],pn[0]=Sn[0]+Sn[1],pn[1]=Sn[3]+Sn[2],pn[2]=Sn[3]-Sn[2],pn[3]=Sn[0]-Sn[1],Xt[jn+0]=pn[0]+rn[0],Xt[jn+1]=pn[1]+rn[1],Xt[jn+2]=pn[2]+rn[2],Xt[jn+3]=pn[3]+rn[3],Xt[jn+4]=pn[3]-rn[3],Xt[jn+5]=pn[2]-rn[2],Xt[jn+6]=pn[1]-rn[1],Xt[jn+7]=pn[0]-rn[0]}for(var Hn=0;Hn<8;++Hn)cn[0]=An*Xt[16+Hn],cn[1]=nn*Xt[16+Hn],cn[2]=An*Xt[48+Hn],cn[3]=nn*Xt[48+Hn],rn[0]=hn*Xt[8+Hn]+In*Xt[24+Hn]+Gt*Xt[40+Hn]+on*Xt[56+Hn],rn[1]=In*Xt[8+Hn]-on*Xt[24+Hn]-hn*Xt[40+Hn]-Gt*Xt[56+Hn],rn[2]=Gt*Xt[8+Hn]-hn*Xt[24+Hn]+on*Xt[40+Hn]+In*Xt[56+Hn],rn[3]=on*Xt[8+Hn]-Gt*Xt[24+Hn]+In*Xt[40+Hn]-hn*Xt[56+Hn],Sn[0]=Jt*(Xt[Hn]+Xt[32+Hn]),Sn[3]=Jt*(Xt[Hn]-Xt[32+Hn]),Sn[1]=cn[0]+cn[3],Sn[2]=cn[1]-cn[2],pn[0]=Sn[0]+Sn[1],pn[1]=Sn[3]+Sn[2],pn[2]=Sn[3]-Sn[2],pn[3]=Sn[0]-Sn[1],Xt[0+Hn]=pn[0]+rn[0],Xt[8+Hn]=pn[1]+rn[1],Xt[16+Hn]=pn[2]+rn[2],Xt[24+Hn]=pn[3]+rn[3],Xt[32+Hn]=pn[3]-rn[3],Xt[40+Hn]=pn[2]-rn[2],Xt[48+Hn]=pn[1]-rn[1],Xt[56+Hn]=pn[0]-rn[0]}function Tn(Xt){for(var Jt=0;Jt<64;++Jt){var hn=Xt[0][Jt],An=Xt[1][Jt],In=Xt[2][Jt];Xt[0][Jt]=hn+1.5747*In,Xt[1][Jt]=hn-.1873*An-.4682*In,Xt[2][Jt]=hn+1.8556*An}}function Wt(Xt,Jt,hn){for(var An=0;An<64;++An)Jt[hn+An]=DataUtils.toHalfFloat(Ht(Xt[An]))}function Ht(Xt){return Xt<=1?Math.sign(Xt)*Math.pow(Math.abs(Xt),2.2):Math.sign(Xt)*Math.pow(Pt,Math.abs(Xt)-1)}function an(Xt){return new DataView(Xt.array.buffer,Xt.offset.value,Xt.size)}function dn(Xt){var Jt=Xt.viewer.buffer.slice(Xt.offset.value,Xt.offset.value+Xt.size),hn=new Uint8Array(Fn(Jt)),An=new Uint8Array(hn.length);return gn(hn),Yt(hn,An),new DataView(An.buffer)}function mn(Xt){var Jt=Xt.array.slice(Xt.offset.value,Xt.offset.value+Xt.size),hn=unzlibSync(Jt),An=new Uint8Array(hn.length);return gn(hn),Yt(hn,An),new DataView(An.buffer)}function En(Xt){for(var Jt=Xt.viewer,hn={value:Xt.offset.value},An=new Uint16Array(Xt.width*Xt.scanlineBlockSize*(Xt.channels*Xt.type)),In=new Uint8Array(8192),Gt=0,nn=new Array(Xt.channels),on=0;on<Xt.channels;on++)nn[on]={},nn[on].start=Gt,nn[on].end=nn[on].start,nn[on].nx=Xt.width,nn[on].ny=Xt.lines,nn[on].size=Xt.type,Gt+=nn[on].nx*nn[on].ny*nn[on].size;var cn=bn(Jt,hn),rn=bn(Jt,hn);if(rn>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(cn<=rn)for(var on=0;on<rn-cn+1;on++)In[on+cn]=rr(Jt,hn);var Sn=new Uint16Array(65536),pn=It(In,Sn),Zn=Wn(Jt,hn);Mn(Xt.array,Jt,hn,Zn,An,Gt);for(var on=0;on<Xt.channels;++on)for(var jn=nn[on],Hn=0;Hn<nn[on].size;++Hn)Cn(An,jn.start+Hn,jn.nx,jn.size,jn.ny,jn.nx*jn.size,pn);ln(Sn,An,Gt);for(var Jn=0,Xn=new Uint8Array(An.buffer.byteLength),or=0;or<Xt.lines;or++)for(var ur=0;ur<Xt.channels;ur++){var jn=nn[ur],ir=jn.nx*jn.size,dr=new Uint8Array(An.buffer,jn.end*2,ir*2);Xn.set(dr,Jn),Jn+=ir*2,jn.end+=ir}return new DataView(Xn.buffer)}function Dn(Xt){var Jt=Xt.array.slice(Xt.offset.value,Xt.offset.value+Xt.size),hn=unzlibSync(Jt);const An=Xt.lines*Xt.channels*Xt.width,In=Xt.type==1?new Uint16Array(An):new Uint32Array(An);let Gt=0,nn=0;const on=new Array(4);for(let cn=0;cn<Xt.lines;cn++)for(let rn=0;rn<Xt.channels;rn++){let Sn=0;switch(Xt.type){case 1:on[0]=Gt,on[1]=on[0]+Xt.width,Gt=on[1]+Xt.width;for(let pn=0;pn<Xt.width;++pn){const Zn=hn[on[0]++]<<8|hn[on[1]++];Sn+=Zn,In[nn]=Sn,nn++}break;case 2:on[0]=Gt,on[1]=on[0]+Xt.width,on[2]=on[1]+Xt.width,Gt=on[2]+Xt.width;for(let pn=0;pn<Xt.width;++pn){const Zn=hn[on[0]++]<<24|hn[on[1]++]<<16|hn[on[2]++]<<8;Sn+=Zn,In[nn]=Sn,nn++}break}}return new DataView(In.buffer)}function kn(Xt){var Jt=Xt.viewer,hn={value:Xt.offset.value},An=new Uint8Array(Xt.width*Xt.lines*(Xt.channels*Xt.type*2)),In={version:nr(Jt,hn),unknownUncompressedSize:nr(Jt,hn),unknownCompressedSize:nr(Jt,hn),acCompressedSize:nr(Jt,hn),dcCompressedSize:nr(Jt,hn),rleCompressedSize:nr(Jt,hn),rleUncompressedSize:nr(Jt,hn),rleRawSize:nr(Jt,hn),totalAcUncompressedCount:nr(Jt,hn),totalDcUncompressedCount:nr(Jt,hn),acCompression:nr(Jt,hn)};if(In.version<2)throw"EXRLoader.parse: "+Yr.compression+" version "+In.version+" is unsupported";for(var Gt=new Array,nn=bn(Jt,hn)-2;nn>0;){var on=Nn(Jt.buffer,hn),cn=rr(Jt,hn),rn=cn>>2&3,Sn=(cn>>4)-1,pn=new Int8Array([Sn])[0],Zn=rr(Jt,hn);Gt.push({name:on,index:pn,type:Zn,compression:rn}),nn-=on.length+3}for(var jn=Yr.channels,Hn=new Array(Xt.channels),Jn=0;Jn<Xt.channels;++Jn){var Xn=Hn[Jn]={},or=jn[Jn];Xn.name=or.name,Xn.compression=0,Xn.decoded=!1,Xn.type=or.pixelType,Xn.pLinear=or.pLinear,Xn.width=Xt.width,Xn.height=Xt.lines}for(var ur={idx:new Array(3)},ir=0;ir<Xt.channels;++ir)for(var Xn=Hn[ir],Jn=0;Jn<Gt.length;++Jn){var dr=Gt[Jn];Xn.name==dr.name&&(Xn.compression=dr.compression,dr.index>=0&&(ur.idx[dr.index]=ir),Xn.offset=ir)}if(In.acCompressedSize>0)switch(In.acCompression){case 0:var xr=new Uint16Array(In.totalAcUncompressedCount);Mn(Xt.array,Jt,hn,In.acCompressedSize,xr,In.totalAcUncompressedCount);break;case 1:var lr=Xt.array.slice(hn.value,hn.value+In.totalAcUncompressedCount),er=unzlibSync(lr),xr=new Uint16Array(er.buffer);hn.value+=In.totalAcUncompressedCount;break}if(In.dcCompressedSize>0){var mr={array:Xt.array,offset:hn,size:In.dcCompressedSize},Lr=new Uint16Array(mn(mr).buffer);hn.value+=In.dcCompressedSize}if(In.rleRawSize>0){var lr=Xt.array.slice(hn.value,hn.value+In.rleCompressedSize),er=unzlibSync(lr),Vr=Fn(er.buffer);hn.value+=In.rleCompressedSize}for(var kr=0,Ar=new Array(Hn.length),Jn=0;Jn<Ar.length;++Jn)Ar[Jn]=new Array;for(var br=0;br<Xt.lines;++br)for(var wr=0;wr<Hn.length;++wr)Ar[wr].push(kr),kr+=Hn[wr].width*Xt.type*2;wn(ur,Ar,Hn,xr,Lr,An);for(var Jn=0;Jn<Hn.length;++Jn){var Xn=Hn[Jn];if(!Xn.decoded)switch(Xn.compression){case 2:for(var Mr=0,Rr=0,br=0;br<Xt.lines;++br){for(var Wr=Ar[Jn][Mr],Or=0;Or<Xn.width;++Or){for(var ps=0;ps<2*Xn.type;++ps)An[Wr++]=Vr[Rr+ps*Xn.width*Xn.height];Rr++}Mr++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(An.buffer)}function Nn(Xt,Jt){for(var hn=new Uint8Array(Xt),An=0;hn[Jt.value+An]!=0;)An+=1;var In=new TextDecoder().decode(hn.slice(Jt.value,Jt.value+An));return Jt.value=Jt.value+An+1,In}function tr(Xt,Jt,hn){var An=new TextDecoder().decode(new Uint8Array(Xt).slice(Jt.value,Jt.value+hn));return Jt.value=Jt.value+hn,An}function Un(Xt,Jt){var hn=Yn(Xt,Jt),An=Wn(Xt,Jt);return[hn,An]}function Kn(Xt,Jt){var hn=Wn(Xt,Jt),An=Wn(Xt,Jt);return[hn,An]}function Yn(Xt,Jt){var hn=Xt.getInt32(Jt.value,!0);return Jt.value=Jt.value+4,hn}function Wn(Xt,Jt){var hn=Xt.getUint32(Jt.value,!0);return Jt.value=Jt.value+4,hn}function On(Xt,Jt){var hn=Xt[Jt.value];return Jt.value=Jt.value+1,hn}function rr(Xt,Jt){var hn=Xt.getUint8(Jt.value);return Jt.value=Jt.value+1,hn}const nr=function(Xt,Jt){let hn;return"getBigInt64"in DataView.prototype?hn=Number(Xt.getBigInt64(Jt.value,!0)):hn=Xt.getUint32(Jt.value+4,!0)+Number(Xt.getUint32(Jt.value,!0)<<32),Jt.value+=8,hn};function pr(Xt,Jt){var hn=Xt.getFloat32(Jt.value,!0);return Jt.value+=4,hn}function fn(Xt,Jt){return DataUtils.toHalfFloat(pr(Xt,Jt))}function vn(Xt){var Jt=(Xt&31744)>>10,hn=Xt&1023;return(Xt>>15?-1:1)*(Jt?Jt===31?hn?NaN:1/0:Math.pow(2,Jt-15)*(1+hn/1024):6103515625e-14*(hn/1024))}function bn(Xt,Jt){var hn=Xt.getUint16(Jt.value,!0);return Jt.value+=2,hn}function zn(Xt,Jt){return vn(bn(Xt,Jt))}function qn(Xt,Jt,hn,An){for(var In=hn.value,Gt=[];hn.value<In+An-1;){var nn=Nn(Jt,hn),on=Yn(Xt,hn),cn=rr(Xt,hn);hn.value+=3;var rn=Yn(Xt,hn),Sn=Yn(Xt,hn);Gt.push({name:nn,pixelType:on,pLinear:cn,xSampling:rn,ySampling:Sn})}return hn.value+=1,Gt}function Gn(Xt,Jt){var hn=pr(Xt,Jt),An=pr(Xt,Jt),In=pr(Xt,Jt),Gt=pr(Xt,Jt),nn=pr(Xt,Jt),on=pr(Xt,Jt),cn=pr(Xt,Jt),rn=pr(Xt,Jt);return{redX:hn,redY:An,greenX:In,greenY:Gt,blueX:nn,blueY:on,whiteX:cn,whiteY:rn}}function cr(Xt,Jt){var hn=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],An=rr(Xt,Jt);return hn[An]}function Er(Xt,Jt){var hn=Wn(Xt,Jt),An=Wn(Xt,Jt),In=Wn(Xt,Jt),Gt=Wn(Xt,Jt);return{xMin:hn,yMin:An,xMax:In,yMax:Gt}}function fr(Xt,Jt){var hn=["INCREASING_Y"],An=rr(Xt,Jt);return hn[An]}function gr(Xt,Jt){var hn=pr(Xt,Jt),An=pr(Xt,Jt);return[hn,An]}function Fr(Xt,Jt){var hn=pr(Xt,Jt),An=pr(Xt,Jt),In=pr(Xt,Jt);return[hn,An,In]}function $r(Xt,Jt,hn,An,In){if(An==="string"||An==="stringvector"||An==="iccProfile")return tr(Jt,hn,In);if(An==="chlist")return qn(Xt,Jt,hn,In);if(An==="chromaticities")return Gn(Xt,hn);if(An==="compression")return cr(Xt,hn);if(An==="box2i")return Er(Xt,hn);if(An==="lineOrder")return fr(Xt,hn);if(An==="float")return pr(Xt,hn);if(An==="v2f")return gr(Xt,hn);if(An==="v3f")return Fr(Xt,hn);if(An==="int")return Yn(Xt,hn);if(An==="rational")return Un(Xt,hn);if(An==="timecode")return Kn(Xt,hn);if(An==="preview")return hn.value+=In,"skipped";hn.value+=In}function jr(Xt,Jt,hn){const An={};if(Xt.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";An.version=Xt.getUint8(4);const In=Xt.getUint8(5);An.spec={singleTile:!!(In&2),longName:!!(In&4),deepFormat:!!(In&8),multiPart:!!(In&16)},hn.value=8;for(var Gt=!0;Gt;){var nn=Nn(Jt,hn);if(nn==0)Gt=!1;else{var on=Nn(Jt,hn),cn=Wn(Xt,hn),rn=$r(Xt,Jt,hn,on,cn);rn===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${on}'.`):An[nn]=rn}}if(In&-5)throw console.error("EXRHeader:",An),"THREE.EXRLoader: provided file is currently unsupported.";return An}function as(Xt,Jt,hn,An,In){const Gt={size:0,viewer:Jt,array:hn,offset:An,width:Xt.dataWindow.xMax-Xt.dataWindow.xMin+1,height:Xt.dataWindow.yMax-Xt.dataWindow.yMin+1,channels:Xt.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:Xt.channels[0].pixelType,uncompress:null,getter:null,format:null,[hasColorSpace?"colorSpace":"encoding"]:null};switch(Xt.compression){case"NO_COMPRESSION":Gt.lines=1,Gt.uncompress=an;break;case"RLE_COMPRESSION":Gt.lines=1,Gt.uncompress=dn;break;case"ZIPS_COMPRESSION":Gt.lines=1,Gt.uncompress=mn;break;case"ZIP_COMPRESSION":Gt.lines=16,Gt.uncompress=mn;break;case"PIZ_COMPRESSION":Gt.lines=32,Gt.uncompress=En;break;case"PXR24_COMPRESSION":Gt.lines=16,Gt.uncompress=Dn;break;case"DWAA_COMPRESSION":Gt.lines=32,Gt.uncompress=kn;break;case"DWAB_COMPRESSION":Gt.lines=256,Gt.uncompress=kn;break;default:throw"EXRLoader.parse: "+Xt.compression+" is unsupported"}if(Gt.scanlineBlockSize=Gt.lines,Gt.type==1)switch(In){case FloatType:Gt.getter=zn,Gt.inputSize=2;break;case HalfFloatType:Gt.getter=bn,Gt.inputSize=2;break}else if(Gt.type==2)switch(In){case FloatType:Gt.getter=pr,Gt.inputSize=4;break;case HalfFloatType:Gt.getter=fn,Gt.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+Gt.type+" for "+Xt.compression+".";Gt.blockCount=(Xt.dataWindow.yMax+1)/Gt.scanlineBlockSize;for(var nn=0;nn<Gt.blockCount;nn++)nr(Jt,An);Gt.outputChannels=Gt.channels==3?4:Gt.channels;const on=Gt.width*Gt.height*Gt.outputChannels;switch(In){case FloatType:Gt.byteArray=new Float32Array(on),Gt.channels<Gt.outputChannels&&Gt.byteArray.fill(1,0,on);break;case HalfFloatType:Gt.byteArray=new Uint16Array(on),Gt.channels<Gt.outputChannels&&Gt.byteArray.fill(15360,0,on);break;default:console.error("THREE.EXRLoader: unsupported type: ",In);break}return Gt.bytesPerLine=Gt.width*Gt.inputSize*Gt.channels,Gt.outputChannels==4?Gt.format=RGBAFormat:Gt.format=RedFormat,hasColorSpace?Gt.colorSpace="srgb-linear":Gt.encoding=3e3,Gt}const zr=new DataView(_e),ns=new Uint8Array(_e),rs={value:0},Yr=jr(zr,_e,rs),_r=as(Yr,zr,ns,rs,this.type),Hr={value:0},fs={R:0,G:1,B:2,A:3,Y:0};for(let Xt=0;Xt<_r.height/_r.scanlineBlockSize;Xt++){const Jt=Wn(zr,rs);_r.size=Wn(zr,rs),_r.lines=Jt+_r.scanlineBlockSize>_r.height?_r.height-Jt:_r.scanlineBlockSize;const An=_r.size<_r.lines*_r.bytesPerLine?_r.uncompress(_r):an(_r);rs.value+=_r.size;for(let In=0;In<_r.scanlineBlockSize;In++){const Gt=In+Xt*_r.scanlineBlockSize;if(Gt>=_r.height)break;for(let nn=0;nn<_r.channels;nn++){const on=fs[Yr.channels[nn].name];for(let cn=0;cn<_r.width;cn++){Hr.value=(In*(_r.channels*_r.width)+nn*_r.width+cn)*_r.inputSize;const rn=(_r.height-1-Gt)*(_r.width*_r.outputChannels)+cn*_r.outputChannels+on;_r.byteArray[rn]=_r.getter(An,Hr)}}}}return{header:Yr,width:_r.width,height:_r.height,data:_r.byteArray,format:_r.format,[hasColorSpace?"colorSpace":"encoding"]:_r[hasColorSpace?"colorSpace":"encoding"],type:this.type}}setDataType(_e){return this.type=_e,this}load(_e,nt,rt,it){function st(at,ot){hasColorSpace?at.colorSpace=ot.colorSpace:at.encoding=ot.encoding,at.minFilter=LinearFilter,at.magFilter=LinearFilter,at.generateMipmaps=!1,at.flipY=!1,nt&&nt(at,ot)}return super.load(_e,st,rt,it)}}function workerBootstrap(){var tt=Object.create(null);function _e(it,st){var at=it.id,ot=it.name,lt=it.dependencies;lt===void 0&&(lt=[]);var ct=it.init;ct===void 0&&(ct=function(){});var ut=it.getTransferables;if(ut===void 0&&(ut=null),!tt[at])try{lt=lt.map(function(ht){return ht&&ht.isWorkerModule&&(_e(ht,function(pt){if(pt instanceof Error)throw pt}),ht=tt[ht.id].value),ht}),ct=rt("<"+ot+">.init",ct),ut&&(ut=rt("<"+ot+">.getTransferables",ut));var ft=null;typeof ct=="function"?ft=ct.apply(void 0,lt):console.error("worker module init function failed to rehydrate"),tt[at]={id:at,value:ft,getTransferables:ut},st(ft)}catch(ht){ht&&ht.noLog||console.error(ht),st(ht)}}function nt(it,st){var at,ot=it.id,lt=it.args;(!tt[ot]||typeof tt[ot].value!="function")&&st(new Error("Worker module "+ot+": not found or its 'init' did not return a function"));try{var ct=(at=tt[ot]).value.apply(at,lt);ct&&typeof ct.then=="function"?ct.then(ut,function(ft){return st(ft instanceof Error?ft:new Error(""+ft))}):ut(ct)}catch(ft){st(ft)}function ut(ft){try{var ht=tt[ot].getTransferables&&tt[ot].getTransferables(ft);(!ht||!Array.isArray(ht)||!ht.length)&&(ht=void 0),st(ft,ht)}catch(pt){console.error(pt),st(pt)}}}function rt(it,st){var at=void 0;self.troikaDefine=function(lt){return at=lt};var ot=URL.createObjectURL(new Blob(["/** "+it.replace(/\*/g,"")+` **/

troikaDefine(
`+st+`
)`],{type:"application/javascript"}));try{importScripts(ot)}catch(lt){console.error(lt)}return URL.revokeObjectURL(ot),delete self.troikaDefine,at}self.addEventListener("message",function(it){var st=it.data,at=st.messageId,ot=st.action,lt=st.data;try{ot==="registerModule"&&_e(lt,function(ct){ct instanceof Error?postMessage({messageId:at,success:!1,error:ct.message}):postMessage({messageId:at,success:!0,result:{isCallable:typeof ct=="function"}})}),ot==="callModule"&&nt(lt,function(ct,ut){ct instanceof Error?postMessage({messageId:at,success:!1,error:ct.message}):postMessage({messageId:at,success:!0,result:ct},ut||void 0)})}catch(ct){postMessage({messageId:at,success:!1,error:ct.stack})}})}function defineMainThreadModule(tt){var _e=function(){for(var nt=[],rt=arguments.length;rt--;)nt[rt]=arguments[rt];return _e._getInitResult().then(function(it){if(typeof it=="function")return it.apply(void 0,nt);throw new Error("Worker module function was called but `init` did not return a callable function")})};return _e._getInitResult=function(){var nt=tt.dependencies,rt=tt.init;nt=Array.isArray(nt)?nt.map(function(st){return st&&(st=st.onMainThread||st,st._getInitResult&&(st=st._getInitResult())),st}):[];var it=Promise.all(nt).then(function(st){return rt.apply(null,st)});return _e._getInitResult=function(){return it},it},_e}var supportsWorkers=function(){var tt=!1;if(typeof window<"u"&&typeof window.document<"u")try{var _e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));_e.terminate(),tt=!0}catch(nt){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+nt.message+"]")}return supportsWorkers=function(){return tt},tt},_workerModuleId=0,_messageId=0,_allowInitAsString=!1,workers=Object.create(null),registeredModules=Object.create(null),openRequests=Object.create(null);function defineWorkerModule(tt){if((!tt||typeof tt.init!="function")&&!_allowInitAsString)throw new Error("requires `options.init` function");var _e=tt.dependencies,nt=tt.init,rt=tt.getTransferables,it=tt.workerId,st=defineMainThreadModule(tt);it==null&&(it="#default");var at="workerModule"+ ++_workerModuleId,ot=tt.name||at,lt=null;_e=_e&&_e.map(function(ut){return typeof ut=="function"&&!ut.workerModuleData&&(_allowInitAsString=!0,ut=defineWorkerModule({workerId:it,name:"<"+ot+"> function dependency: "+ut.name,init:`function(){return (
`+stringifyFunction(ut)+`
)}`}),_allowInitAsString=!1),ut&&ut.workerModuleData&&(ut=ut.workerModuleData),ut});function ct(){for(var ut=[],ft=arguments.length;ft--;)ut[ft]=arguments[ft];if(!supportsWorkers())return st.apply(void 0,ut);if(!lt){lt=callWorker(it,"registerModule",ct.workerModuleData);var ht=function(){lt=null,registeredModules[it].delete(ht)};(registeredModules[it]||(registeredModules[it]=new Set)).add(ht)}return lt.then(function(pt){var dt=pt.isCallable;if(dt)return callWorker(it,"callModule",{id:at,args:ut});throw new Error("Worker module function was called but `init` did not return a callable function")})}return ct.workerModuleData={isWorkerModule:!0,id:at,name:ot,dependencies:_e,init:stringifyFunction(nt),getTransferables:rt&&stringifyFunction(rt)},ct.onMainThread=st,ct}function terminateWorker(tt){registeredModules[tt]&&registeredModules[tt].forEach(function(_e){_e()}),workers[tt]&&(workers[tt].terminate(),delete workers[tt])}function stringifyFunction(tt){var _e=tt.toString();return!/^function/.test(_e)&&/^\w+\s*\(/.test(_e)&&(_e="function "+_e),_e}function getWorker(tt){var _e=workers[tt];if(!_e){var nt=stringifyFunction(workerBootstrap);_e=workers[tt]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+tt.replace(/\*/g,"")+` **/

;(`+nt+")()"],{type:"application/javascript"}))),_e.onmessage=function(rt){var it=rt.data,st=it.messageId,at=openRequests[st];if(!at)throw new Error("WorkerModule response with empty or unknown messageId");delete openRequests[st],at(it)}}return _e}function callWorker(tt,_e,nt){return new Promise(function(rt,it){var st=++_messageId;openRequests[st]=function(at){at.success?rt(at.result):it(new Error("Error in worker "+_e+" call: "+at.error))},getWorker(tt).postMessage({messageId:st,action:_e,data:nt})})}function SDFGenerator(){var tt=function(_e){function nt(Rt,Nt,Ft,qt,Qt,Kt,Zt,tn){var en=1-Zt;tn.x=en*en*Rt+2*en*Zt*Ft+Zt*Zt*Qt,tn.y=en*en*Nt+2*en*Zt*qt+Zt*Zt*Kt}function rt(Rt,Nt,Ft,qt,Qt,Kt,Zt,tn,en,un){var Cn=1-en;un.x=Cn*Cn*Cn*Rt+3*Cn*Cn*en*Ft+3*Cn*en*en*Qt+en*en*en*Zt,un.y=Cn*Cn*Cn*Nt+3*Cn*Cn*en*qt+3*Cn*en*en*Kt+en*en*en*tn}function it(Rt,Nt){for(var Ft=/([MLQCZ])([^MLQCZ]*)/g,qt,Qt,Kt,Zt,tn;qt=Ft.exec(Rt);){var en=qt[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(un){return parseFloat(un)});switch(qt[1]){case"M":Zt=Qt=en[0],tn=Kt=en[1];break;case"L":(en[0]!==Zt||en[1]!==tn)&&Nt("L",Zt,tn,Zt=en[0],tn=en[1]);break;case"Q":{Nt("Q",Zt,tn,Zt=en[2],tn=en[3],en[0],en[1]);break}case"C":{Nt("C",Zt,tn,Zt=en[4],tn=en[5],en[0],en[1],en[2],en[3]);break}case"Z":(Zt!==Qt||tn!==Kt)&&Nt("L",Zt,tn,Qt,Kt);break}}}function st(Rt,Nt,Ft){Ft===void 0&&(Ft=16);var qt={x:0,y:0};it(Rt,function(Qt,Kt,Zt,tn,en,un,Cn,Rn,Mn){switch(Qt){case"L":Nt(Kt,Zt,tn,en);break;case"Q":{for(var ln=Kt,gn=Zt,Yt=1;Yt<Ft;Yt++)nt(Kt,Zt,un,Cn,tn,en,Yt/(Ft-1),qt),Nt(ln,gn,qt.x,qt.y),ln=qt.x,gn=qt.y;break}case"C":{for(var Fn=Kt,wn=Zt,Vn=1;Vn<Ft;Vn++)rt(Kt,Zt,un,Cn,Rn,Mn,tn,en,Vn/(Ft-1),qt),Nt(Fn,wn,qt.x,qt.y),Fn=qt.x,wn=qt.y;break}}})}var at="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",ot="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",lt=new WeakMap,ct={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function ut(Rt,Nt){var Ft=Rt.getContext?Rt.getContext("webgl",ct):Rt,qt=lt.get(Ft);if(!qt){let Fn=function(Wt){var Ht=Kt[Wt];if(!Ht&&(Ht=Kt[Wt]=Ft.getExtension(Wt),!Ht))throw new Error(Wt+" not supported");return Ht},wn=function(Wt,Ht){var an=Ft.createShader(Ht);return Ft.shaderSource(an,Wt),Ft.compileShader(an),an},Vn=function(Wt,Ht,an,dn){if(!Zt[Wt]){var mn={},En={},Dn=Ft.createProgram();Ft.attachShader(Dn,wn(Ht,Ft.VERTEX_SHADER)),Ft.attachShader(Dn,wn(an,Ft.FRAGMENT_SHADER)),Ft.linkProgram(Dn),Zt[Wt]={program:Dn,transaction:function(Nn){Ft.useProgram(Dn),Nn({setUniform:function(Un,Kn){for(var Yn=[],Wn=arguments.length-2;Wn-- >0;)Yn[Wn]=arguments[Wn+2];var On=En[Kn]||(En[Kn]=Ft.getUniformLocation(Dn,Kn));Ft["uniform"+Un].apply(Ft,[On].concat(Yn))},setAttribute:function(Un,Kn,Yn,Wn,On){var rr=mn[Un];rr||(rr=mn[Un]={buf:Ft.createBuffer(),loc:Ft.getAttribLocation(Dn,Un),data:null}),Ft.bindBuffer(Ft.ARRAY_BUFFER,rr.buf),Ft.vertexAttribPointer(rr.loc,Kn,Ft.FLOAT,!1,0,0),Ft.enableVertexAttribArray(rr.loc),Qt?Ft.vertexAttribDivisor(rr.loc,Wn):Fn("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(rr.loc,Wn),On!==rr.data&&(Ft.bufferData(Ft.ARRAY_BUFFER,On,Yn),rr.data=On)}})}}}Zt[Wt].transaction(dn)},xn=function(Wt,Ht){en++;try{Ft.activeTexture(Ft.TEXTURE0+en);var an=tn[Wt];an||(an=tn[Wt]=Ft.createTexture(),Ft.bindTexture(Ft.TEXTURE_2D,an),Ft.texParameteri(Ft.TEXTURE_2D,Ft.TEXTURE_MIN_FILTER,Ft.NEAREST),Ft.texParameteri(Ft.TEXTURE_2D,Ft.TEXTURE_MAG_FILTER,Ft.NEAREST)),Ft.bindTexture(Ft.TEXTURE_2D,an),Ht(an,en)}finally{en--}},Bn=function(Wt,Ht,an){var dn=Ft.createFramebuffer();un.push(dn),Ft.bindFramebuffer(Ft.FRAMEBUFFER,dn),Ft.activeTexture(Ft.TEXTURE0+Ht),Ft.bindTexture(Ft.TEXTURE_2D,Wt),Ft.framebufferTexture2D(Ft.FRAMEBUFFER,Ft.COLOR_ATTACHMENT0,Ft.TEXTURE_2D,Wt,0);try{an(dn)}finally{Ft.deleteFramebuffer(dn),Ft.bindFramebuffer(Ft.FRAMEBUFFER,un[--un.length-1]||null)}},Tn=function(){Kt={},Zt={},tn={},en=-1,un.length=0};var Cn=Fn,Rn=wn,Mn=Vn,ln=xn,gn=Bn,Yt=Tn,Qt=typeof WebGL2RenderingContext<"u"&&Ft instanceof WebGL2RenderingContext,Kt={},Zt={},tn={},en=-1,un=[];Ft.canvas.addEventListener("webglcontextlost",function(Wt){Tn(),Wt.preventDefault()},!1),lt.set(Ft,qt={gl:Ft,isWebGL2:Qt,getExtension:Fn,withProgram:Vn,withTexture:xn,withTextureFramebuffer:Bn,handleContextLoss:Tn})}Nt(qt)}function ft(Rt,Nt,Ft,qt,Qt,Kt,Zt,tn){Zt===void 0&&(Zt=15),tn===void 0&&(tn=null),ut(Rt,function(en){var un=en.gl,Cn=en.withProgram,Rn=en.withTexture;Rn("copy",function(Mn,ln){un.texImage2D(un.TEXTURE_2D,0,un.RGBA,Qt,Kt,0,un.RGBA,un.UNSIGNED_BYTE,Nt),Cn("copy",at,ot,function(gn){var Yt=gn.setUniform,Fn=gn.setAttribute;Fn("aUV",2,un.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Yt("1i","image",ln),un.bindFramebuffer(un.FRAMEBUFFER,tn||null),un.disable(un.BLEND),un.colorMask(Zt&8,Zt&4,Zt&2,Zt&1),un.viewport(Ft,qt,Qt,Kt),un.scissor(Ft,qt,Qt,Kt),un.drawArrays(un.TRIANGLES,0,3)})})})}function ht(Rt,Nt,Ft){var qt=Rt.width,Qt=Rt.height;ut(Rt,function(Kt){var Zt=Kt.gl,tn=new Uint8Array(qt*Qt*4);Zt.readPixels(0,0,qt,Qt,Zt.RGBA,Zt.UNSIGNED_BYTE,tn),Rt.width=Nt,Rt.height=Ft,ft(Zt,tn,0,0,qt,Qt)})}var pt=Object.freeze({__proto__:null,withWebGLContext:ut,renderImageData:ft,resizeWebGLCanvasWithoutClearing:ht});function dt(Rt,Nt,Ft,qt,Qt,Kt){Kt===void 0&&(Kt=1);var Zt=new Uint8Array(Rt*Nt),tn=qt[2]-qt[0],en=qt[3]-qt[1],un=[];st(Ft,function(Fn,wn,Vn,xn){un.push({x1:Fn,y1:wn,x2:Vn,y2:xn,minX:Math.min(Fn,Vn),minY:Math.min(wn,xn),maxX:Math.max(Fn,Vn),maxY:Math.max(wn,xn)})}),un.sort(function(Fn,wn){return Fn.maxX-wn.maxX});for(var Cn=0;Cn<Rt;Cn++)for(var Rn=0;Rn<Nt;Rn++){var Mn=gn(qt[0]+tn*(Cn+.5)/Rt,qt[1]+en*(Rn+.5)/Nt),ln=Math.pow(1-Math.abs(Mn)/Qt,Kt)/2;Mn<0&&(ln=1-ln),ln=Math.max(0,Math.min(255,Math.round(ln*255))),Zt[Rn*Rt+Cn]=ln}return Zt;function gn(Fn,wn){for(var Vn=1/0,xn=1/0,Bn=un.length;Bn--;){var Tn=un[Bn];if(Tn.maxX+xn<=Fn)break;if(Fn+xn>Tn.minX&&wn-xn<Tn.maxY&&wn+xn>Tn.minY){var Wt=mt(Fn,wn,Tn.x1,Tn.y1,Tn.x2,Tn.y2);Wt<Vn&&(Vn=Wt,xn=Math.sqrt(Vn))}}return Yt(Fn,wn)&&(xn=-xn),xn}function Yt(Fn,wn){for(var Vn=0,xn=un.length;xn--;){var Bn=un[xn];if(Bn.maxX<=Fn)break;var Tn=Bn.y1>wn!=Bn.y2>wn&&Fn<(Bn.x2-Bn.x1)*(wn-Bn.y1)/(Bn.y2-Bn.y1)+Bn.x1;Tn&&(Vn+=Bn.y1<Bn.y2?1:-1)}return Vn!==0}}function gt(Rt,Nt,Ft,qt,Qt,Kt,Zt,tn,en,un){Kt===void 0&&(Kt=1),tn===void 0&&(tn=0),en===void 0&&(en=0),un===void 0&&(un=0),vt(Rt,Nt,Ft,qt,Qt,Kt,Zt,null,tn,en,un)}function vt(Rt,Nt,Ft,qt,Qt,Kt,Zt,tn,en,un,Cn){Kt===void 0&&(Kt=1),en===void 0&&(en=0),un===void 0&&(un=0),Cn===void 0&&(Cn=0);for(var Rn=dt(Rt,Nt,Ft,qt,Qt,Kt),Mn=new Uint8Array(Rn.length*4),ln=0;ln<Rn.length;ln++)Mn[ln*4+Cn]=Rn[ln];ft(Zt,Mn,en,un,Rt,Nt,1<<3-Cn,tn)}function mt(Rt,Nt,Ft,qt,Qt,Kt){var Zt=Qt-Ft,tn=Kt-qt,en=Zt*Zt+tn*tn,un=en?Math.max(0,Math.min(1,((Rt-Ft)*Zt+(Nt-qt)*tn)/en)):0,Cn=Rt-(Ft+un*Zt),Rn=Nt-(qt+un*tn);return Cn*Cn+Rn*Rn}var xt=Object.freeze({__proto__:null,generate:dt,generateIntoCanvas:gt,generateIntoFramebuffer:vt}),St="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",Et="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",bt="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",Tt=new Float32Array([0,0,2,0,0,2]),At=null,Ct=!1,Pt={},It=new WeakMap;function Lt(Rt){if(!Ct&&!zt(Rt))throw new Error("WebGL generation not supported")}function Vt(Rt,Nt,Ft,qt,Qt,Kt,Zt){if(Kt===void 0&&(Kt=1),Zt===void 0&&(Zt=null),!Zt&&(Zt=At,!Zt)){var tn=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!tn)throw new Error("OffscreenCanvas or DOM canvas not supported");Zt=At=tn.getContext("webgl",{depth:!1})}Lt(Zt);var en=new Uint8Array(Rt*Nt*4);ut(Zt,function(Mn){var ln=Mn.gl,gn=Mn.withTexture,Yt=Mn.withTextureFramebuffer;gn("readable",function(Fn,wn){ln.texImage2D(ln.TEXTURE_2D,0,ln.RGBA,Rt,Nt,0,ln.RGBA,ln.UNSIGNED_BYTE,null),Yt(Fn,wn,function(Vn){Ot(Rt,Nt,Ft,qt,Qt,Kt,ln,Vn,0,0,0),ln.readPixels(0,0,Rt,Nt,ln.RGBA,ln.UNSIGNED_BYTE,en)})})});for(var un=new Uint8Array(Rt*Nt),Cn=0,Rn=0;Cn<en.length;Cn+=4)un[Rn++]=en[Cn];return un}function Ut(Rt,Nt,Ft,qt,Qt,Kt,Zt,tn,en,un){Kt===void 0&&(Kt=1),tn===void 0&&(tn=0),en===void 0&&(en=0),un===void 0&&(un=0),Ot(Rt,Nt,Ft,qt,Qt,Kt,Zt,null,tn,en,un)}function Ot(Rt,Nt,Ft,qt,Qt,Kt,Zt,tn,en,un,Cn){Kt===void 0&&(Kt=1),en===void 0&&(en=0),un===void 0&&(un=0),Cn===void 0&&(Cn=0),Lt(Zt);var Rn=[];st(Ft,function(Mn,ln,gn,Yt){Rn.push(Mn,ln,gn,Yt)}),Rn=new Float32Array(Rn),ut(Zt,function(Mn){var ln=Mn.gl,gn=Mn.isWebGL2,Yt=Mn.getExtension,Fn=Mn.withProgram,wn=Mn.withTexture,Vn=Mn.withTextureFramebuffer,xn=Mn.handleContextLoss;if(wn("rawDistances",function(Bn,Tn){(Rt!==Bn._lastWidth||Nt!==Bn._lastHeight)&&ln.texImage2D(ln.TEXTURE_2D,0,ln.RGBA,Bn._lastWidth=Rt,Bn._lastHeight=Nt,0,ln.RGBA,ln.UNSIGNED_BYTE,null),Fn("main",St,Et,function(Wt){var Ht=Wt.setAttribute,an=Wt.setUniform,dn=!gn&&Yt("ANGLE_instanced_arrays"),mn=!gn&&Yt("EXT_blend_minmax");Ht("aUV",2,ln.STATIC_DRAW,0,Tt),Ht("aLineSegment",4,ln.DYNAMIC_DRAW,1,Rn),an.apply(void 0,["4f","uGlyphBounds"].concat(qt)),an("1f","uMaxDistance",Qt),an("1f","uExponent",Kt),Vn(Bn,Tn,function(En){ln.enable(ln.BLEND),ln.colorMask(!0,!0,!0,!0),ln.viewport(0,0,Rt,Nt),ln.scissor(0,0,Rt,Nt),ln.blendFunc(ln.ONE,ln.ONE),ln.blendEquationSeparate(ln.FUNC_ADD,gn?ln.MAX:mn.MAX_EXT),ln.clear(ln.COLOR_BUFFER_BIT),gn?ln.drawArraysInstanced(ln.TRIANGLES,0,3,Rn.length/4):dn.drawArraysInstancedANGLE(ln.TRIANGLES,0,3,Rn.length/4)})}),Fn("post",at,bt,function(Wt){Wt.setAttribute("aUV",2,ln.STATIC_DRAW,0,Tt),Wt.setUniform("1i","tex",Tn),ln.bindFramebuffer(ln.FRAMEBUFFER,tn),ln.disable(ln.BLEND),ln.colorMask(Cn===0,Cn===1,Cn===2,Cn===3),ln.viewport(en,un,Rt,Nt),ln.scissor(en,un,Rt,Nt),ln.drawArrays(ln.TRIANGLES,0,3)})}),ln.isContextLost())throw xn(),new Error("webgl context lost")})}function zt(Rt){var Nt=!Rt||Rt===At?Pt:Rt.canvas||Rt,Ft=It.get(Nt);if(Ft===void 0){Ct=!0;var qt=null;try{var Qt=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],Kt=Vt(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,Rt);Ft=Kt&&Qt.length===Kt.length&&Kt.every(function(Zt,tn){return Zt===Qt[tn]}),Ft||(qt="bad trial run results",console.info(Qt,Kt))}catch(Zt){Ft=!1,qt=Zt.message}qt&&console.warn("WebGL SDF generation not supported:",qt),Ct=!1,It.set(Nt,Ft)}return Ft}var Dt=Object.freeze({__proto__:null,generate:Vt,generateIntoCanvas:Ut,generateIntoFramebuffer:Ot,isSupported:zt});function $t(Rt,Nt,Ft,qt,Qt,Kt){Qt===void 0&&(Qt=Math.max(qt[2]-qt[0],qt[3]-qt[1])/2),Kt===void 0&&(Kt=1);try{return Vt.apply(Dt,arguments)}catch(Zt){return console.info("WebGL SDF generation failed, falling back to JS",Zt),dt.apply(xt,arguments)}}function Mt(Rt,Nt,Ft,qt,Qt,Kt,Zt,tn,en,un){Qt===void 0&&(Qt=Math.max(qt[2]-qt[0],qt[3]-qt[1])/2),Kt===void 0&&(Kt=1),tn===void 0&&(tn=0),en===void 0&&(en=0),un===void 0&&(un=0);try{return Ut.apply(Dt,arguments)}catch(Cn){return console.info("WebGL SDF generation failed, falling back to JS",Cn),gt.apply(xt,arguments)}}return _e.forEachPathCommand=it,_e.generate=$t,_e.generateIntoCanvas=Mt,_e.javascript=xt,_e.pathToLineSegments=st,_e.webgl=Dt,_e.webglUtils=pt,Object.defineProperty(_e,"__esModule",{value:!0}),_e}({});return tt}function bidiFactory(){var tt=function(_e){var nt={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},rt={},it={};rt.L=1,it[1]="L",Object.keys(nt).forEach(function(xn,Bn){rt[xn]=1<<Bn+1,it[rt[xn]]=xn}),Object.freeze(rt);var st=rt.LRI|rt.RLI|rt.FSI,at=rt.L|rt.R|rt.AL,ot=rt.B|rt.S|rt.WS|rt.ON|rt.FSI|rt.LRI|rt.RLI|rt.PDI,lt=rt.BN|rt.RLE|rt.LRE|rt.RLO|rt.LRO|rt.PDF,ct=rt.S|rt.WS|rt.B|st|rt.PDI|lt,ut=null;function ft(){if(!ut){ut=new Map;var xn=function(Tn){if(nt.hasOwnProperty(Tn)){var Wt=0;nt[Tn].split(",").forEach(function(Ht){var an=Ht.split("+"),dn=an[0],mn=an[1];dn=parseInt(dn,36),mn=mn?parseInt(mn,36):0,ut.set(Wt+=dn,rt[Tn]);for(var En=0;En<mn;En++)ut.set(++Wt,rt[Tn])})}};for(var Bn in nt)xn(Bn)}}function ht(xn){return ft(),ut.get(xn.codePointAt(0))||rt.L}function pt(xn){return it[ht(xn)]}var dt={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function gt(xn,Bn){var Tn=36,Wt=0,Ht=new Map,an=Bn&&new Map,dn;return xn.split(",").forEach(function mn(En){if(En.indexOf("+")!==-1)for(var Dn=+En;Dn--;)mn(dn);else{dn=En;var kn=En.split(">"),Nn=kn[0],tr=kn[1];Nn=String.fromCodePoint(Wt+=parseInt(Nn,Tn)),tr=String.fromCodePoint(Wt+=parseInt(tr,Tn)),Ht.set(Nn,tr),Bn&&an.set(tr,Nn)}}),{map:Ht,reverseMap:an}}var vt,mt,xt;function St(){if(!vt){var xn=gt(dt.pairs,!0),Bn=xn.map,Tn=xn.reverseMap;vt=Bn,mt=Tn,xt=gt(dt.canonical,!1).map}}function Et(xn){return St(),vt.get(xn)||null}function bt(xn){return St(),mt.get(xn)||null}function Tt(xn){return St(),xt.get(xn)||null}var At=rt.L,Ct=rt.R,Pt=rt.EN,It=rt.ES,Lt=rt.ET,Vt=rt.AN,Ut=rt.CS,Ot=rt.B,zt=rt.S,Dt=rt.ON,$t=rt.BN,Mt=rt.NSM,Rt=rt.AL,Nt=rt.LRO,Ft=rt.RLO,qt=rt.LRE,Qt=rt.RLE,Kt=rt.PDF,Zt=rt.LRI,tn=rt.RLI,en=rt.FSI,un=rt.PDI;function Cn(xn,Bn){for(var Tn=125,Wt=new Uint32Array(xn.length),Ht=0;Ht<xn.length;Ht++)Wt[Ht]=ht(xn[Ht]);var an=new Map;function dn(ls,Ss){var Jr=Wt[ls];Wt[ls]=Ss,an.set(Jr,an.get(Jr)-1),Jr&ot&&an.set(ot,an.get(ot)-1),an.set(Ss,(an.get(Ss)||0)+1),Ss&ot&&an.set(ot,(an.get(ot)||0)+1)}for(var mn=new Uint8Array(xn.length),En=new Map,Dn=[],kn=null,Nn=0;Nn<xn.length;Nn++)kn||Dn.push(kn={start:Nn,end:xn.length-1,level:Bn==="rtl"?1:Bn==="ltr"?0:Io(Nn,!1)}),Wt[Nn]&Ot&&(kn.end=Nn,kn=null);for(var tr=Qt|qt|Ft|Nt|st|un|Kt|Ot,Un=function(ls){return ls+(ls&1?1:2)},Kn=function(ls){return ls+(ls&1?2:1)},Yn=0;Yn<Dn.length;Yn++){kn=Dn[Yn];var Wn=[{_level:kn.level,_override:0,_isolate:0}],On=void 0,rr=0,nr=0,pr=0;an.clear();for(var fn=kn.start;fn<=kn.end;fn++){var vn=Wt[fn];if(On=Wn[Wn.length-1],an.set(vn,(an.get(vn)||0)+1),vn&ot&&an.set(ot,(an.get(ot)||0)+1),vn&tr)if(vn&(Qt|qt)){mn[fn]=On._level;var bn=(vn===Qt?Kn:Un)(On._level);bn<=Tn&&!rr&&!nr?Wn.push({_level:bn,_override:0,_isolate:0}):rr||nr++}else if(vn&(Ft|Nt)){mn[fn]=On._level;var zn=(vn===Ft?Kn:Un)(On._level);zn<=Tn&&!rr&&!nr?Wn.push({_level:zn,_override:vn&Ft?Ct:At,_isolate:0}):rr||nr++}else if(vn&st){vn&en&&(vn=Io(fn+1,!0)===1?tn:Zt),mn[fn]=On._level,On._override&&dn(fn,On._override);var qn=(vn===tn?Kn:Un)(On._level);qn<=Tn&&rr===0&&nr===0?(pr++,Wn.push({_level:qn,_override:0,_isolate:1,_isolInitIndex:fn})):rr++}else if(vn&un){if(rr>0)rr--;else if(pr>0){for(nr=0;!Wn[Wn.length-1]._isolate;)Wn.pop();var Gn=Wn[Wn.length-1]._isolInitIndex;Gn!=null&&(En.set(Gn,fn),En.set(fn,Gn)),Wn.pop(),pr--}On=Wn[Wn.length-1],mn[fn]=On._level,On._override&&dn(fn,On._override)}else vn&Kt?(rr===0&&(nr>0?nr--:!On._isolate&&Wn.length>1&&(Wn.pop(),On=Wn[Wn.length-1])),mn[fn]=On._level):vn&Ot&&(mn[fn]=kn.level);else mn[fn]=On._level,On._override&&vn!==$t&&dn(fn,On._override)}for(var cr=[],Er=null,fr=kn.start;fr<=kn.end;fr++){var gr=Wt[fr];if(!(gr&lt)){var Fr=mn[fr],$r=gr&st,jr=gr===un;Er&&Fr===Er._level?(Er._end=fr,Er._endsWithIsolInit=$r):cr.push(Er={_start:fr,_end:fr,_level:Fr,_startsWithPDI:jr,_endsWithIsolInit:$r})}}for(var as=[],zr=0;zr<cr.length;zr++){var ns=cr[zr];if(!ns._startsWithPDI||ns._startsWithPDI&&!En.has(ns._start)){for(var rs=[Er=ns],Yr=void 0;Er&&Er._endsWithIsolInit&&(Yr=En.get(Er._end))!=null;)for(var _r=zr+1;_r<cr.length;_r++)if(cr[_r]._start===Yr){rs.push(Er=cr[_r]);break}for(var Hr=[],fs=0;fs<rs.length;fs++)for(var Xt=rs[fs],Jt=Xt._start;Jt<=Xt._end;Jt++)Hr.push(Jt);for(var hn=mn[Hr[0]],An=kn.level,In=Hr[0]-1;In>=0;In--)if(!(Wt[In]&lt)){An=mn[In];break}var Gt=Hr[Hr.length-1],nn=mn[Gt],on=kn.level;if(!(Wt[Gt]&st)){for(var cn=Gt+1;cn<=kn.end;cn++)if(!(Wt[cn]&lt)){on=mn[cn];break}}as.push({_seqIndices:Hr,_sosType:Math.max(An,hn)%2?Ct:At,_eosType:Math.max(on,nn)%2?Ct:At})}}for(var rn=0;rn<as.length;rn++){var Sn=as[rn],pn=Sn._seqIndices,Zn=Sn._sosType,jn=Sn._eosType,Hn=mn[pn[0]]&1?Ct:At;if(an.get(Mt))for(var Jn=0;Jn<pn.length;Jn++){var Xn=pn[Jn];if(Wt[Xn]&Mt){for(var or=Zn,ur=Jn-1;ur>=0;ur--)if(!(Wt[pn[ur]]&lt)){or=Wt[pn[ur]];break}dn(Xn,or&(st|un)?Dt:or)}}if(an.get(Pt))for(var ir=0;ir<pn.length;ir++){var dr=pn[ir];if(Wt[dr]&Pt)for(var lr=ir-1;lr>=-1;lr--){var er=lr===-1?Zn:Wt[pn[lr]];if(er&at){er===Rt&&dn(dr,Vt);break}}}if(an.get(Rt))for(var xr=0;xr<pn.length;xr++){var mr=pn[xr];Wt[mr]&Rt&&dn(mr,Ct)}if(an.get(It)||an.get(Ut))for(var Lr=1;Lr<pn.length-1;Lr++){var Vr=pn[Lr];if(Wt[Vr]&(It|Ut)){for(var kr=0,Ar=0,br=Lr-1;br>=0&&(kr=Wt[pn[br]],!!(kr&lt));br--);for(var wr=Lr+1;wr<pn.length&&(Ar=Wt[pn[wr]],!!(Ar&lt));wr++);kr===Ar&&(Wt[Vr]===It?kr===Pt:kr&(Pt|Vt))&&dn(Vr,kr)}}if(an.get(Pt))for(var Mr=0;Mr<pn.length;Mr++){var Rr=pn[Mr];if(Wt[Rr]&Pt){for(var Wr=Mr-1;Wr>=0&&Wt[pn[Wr]]&(Lt|lt);Wr--)dn(pn[Wr],Pt);for(Mr++;Mr<pn.length&&Wt[pn[Mr]]&(Lt|lt|Pt);Mr++)Wt[pn[Mr]]!==Pt&&dn(pn[Mr],Pt)}}if(an.get(Lt)||an.get(It)||an.get(Ut))for(var Or=0;Or<pn.length;Or++){var ps=pn[Or];if(Wt[ps]&(Lt|It|Ut)){dn(ps,Dt);for(var Zs=Or-1;Zs>=0&&Wt[pn[Zs]]&lt;Zs--)dn(pn[Zs],Dt);for(var Js=Or+1;Js<pn.length&&Wt[pn[Js]]&lt;Js++)dn(pn[Js],Dt)}}if(an.get(Pt))for(var Qs=0,fo=Zn;Qs<pn.length;Qs++){var Il=pn[Qs],jo=Wt[Il];jo&Pt?fo===At&&dn(Il,At):jo&at&&(fo=jo)}if(an.get(ot)){var na=Ct|Pt|Vt,Ao=na|At,Hs=[];{for(var no=[],Ws=0;Ws<pn.length;Ws++)if(Wt[pn[Ws]]&ot){var Dr=xn[pn[Ws]],zo=void 0;if(Et(Dr)!==null)if(no.length<63)no.push({char:Dr,seqIndex:Ws});else break;else if((zo=bt(Dr))!==null)for(var ga=no.length-1;ga>=0;ga--){var Po=no[ga].char;if(Po===zo||Po===bt(Tt(Dr))||Et(Tt(Po))===Dr){Hs.push([no[ga].seqIndex,Ws]),no.length=ga;break}}}Hs.sort(function(ls,Ss){return ls[0]-Ss[0]})}for(var Go=0;Go<Hs.length;Go++){for(var Dl=Hs[Go],Xr=Dl[0],po=Dl[1],Ll=!1,ys=0,Ho=Xr+1;Ho<po;Ho++){var mo=pn[Ho];if(Wt[mo]&Ao){Ll=!0;var As=Wt[mo]&na?Ct:At;if(As===Hn){ys=As;break}}}if(Ll&&!ys){ys=Zn;for(var Wo=Xr-1;Wo>=0;Wo--){var Fl=pn[Wo];if(Wt[Fl]&Ao){var Ps=Wt[Fl]&na?Ct:At;Ps!==Hn?ys=Ps:ys=Hn;break}}}if(ys){if(Wt[pn[Xr]]=Wt[pn[po]]=ys,ys!==Hn){for(var xs=Xr+1;xs<pn.length;xs++)if(!(Wt[pn[xs]]&lt)){ht(xn[pn[xs]])&Mt&&(Wt[pn[xs]]=ys);break}}if(ys!==Hn){for(var Xs=po+1;Xs<pn.length;Xs++)if(!(Wt[pn[Xs]]&lt)){ht(xn[pn[Xs]])&Mt&&(Wt[pn[Xs]]=ys);break}}}}for(var Fs=0;Fs<pn.length;Fs++)if(Wt[pn[Fs]]&ot){for(var Xo=Fs,qo=Fs,Ms=Zn,go=Fs-1;go>=0;go--)if(Wt[pn[go]]&lt)Xo=go;else{Ms=Wt[pn[go]]&na?Ct:At;break}for(var vo=jn,yo=Fs+1;yo<pn.length;yo++)if(Wt[pn[yo]]&(ot|lt))qo=yo;else{vo=Wt[pn[yo]]&na?Ct:At;break}for(var _s=Xo;_s<=qo;_s++)Wt[pn[_s]]=Ms===vo?Ms:Hn;Fs=qo}}}for(var os=kn.start;os<=kn.end;os++){var Ro=mn[os],zs=Wt[os];if(Ro&1?zs&(At|Pt|Vt)&&mn[os]++:zs&Ct?mn[os]++:zs&(Vt|Pt)&&(mn[os]+=2),zs&lt&&(mn[os]=os===0?kn.level:mn[os-1]),os===kn.end||ht(xn[os])&(zt|Ot))for(var ro=os;ro>=0&&ht(xn[ro])&ct;ro--)mn[ro]=kn.level}}return{levels:mn,paragraphs:Dn};function Io(ls,Ss){for(var Jr=ls;Jr<xn.length;Jr++){var Qr=Wt[Jr];if(Qr&(Ct|Rt))return 1;if(Qr&(Ot|At)||Ss&&Qr===un)return 0;if(Qr&st){var Rs=Bl(Jr);Jr=Rs===-1?xn.length:Rs}}return 0}function Bl(ls){for(var Ss=1,Jr=ls+1;Jr<xn.length;Jr++){var Qr=Wt[Jr];if(Qr&Ot)break;if(Qr&un){if(--Ss===0)return Jr}else Qr&st&&Ss++}return-1}}var Rn="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Mn;function ln(){if(!Mn){var xn=gt(Rn,!0),Bn=xn.map,Tn=xn.reverseMap;Tn.forEach(function(Wt,Ht){Bn.set(Ht,Wt)}),Mn=Bn}}function gn(xn){return ln(),Mn.get(xn)||null}function Yt(xn,Bn,Tn,Wt){var Ht=xn.length;Tn=Math.max(0,Tn==null?0:+Tn),Wt=Math.min(Ht-1,Wt==null?Ht-1:+Wt);for(var an=new Map,dn=Tn;dn<=Wt;dn++)if(Bn[dn]&1){var mn=gn(xn[dn]);mn!==null&&an.set(dn,mn)}return an}function Fn(xn,Bn,Tn,Wt){var Ht=xn.length;Tn=Math.max(0,Tn==null?0:+Tn),Wt=Math.min(Ht-1,Wt==null?Ht-1:+Wt);var an=[];return Bn.paragraphs.forEach(function(dn){var mn=Math.max(Tn,dn.start),En=Math.min(Wt,dn.end);if(mn<En){for(var Dn=Bn.levels.slice(mn,En+1),kn=En;kn>=mn&&ht(xn[kn])&ct;kn--)Dn[kn]=dn.level;for(var Nn=dn.level,tr=1/0,Un=0;Un<Dn.length;Un++){var Kn=Dn[Un];Kn>Nn&&(Nn=Kn),Kn<tr&&(tr=Kn|1)}for(var Yn=Nn;Yn>=tr;Yn--)for(var Wn=0;Wn<Dn.length;Wn++)if(Dn[Wn]>=Yn){for(var On=Wn;Wn+1<Dn.length&&Dn[Wn+1]>=Yn;)Wn++;Wn>On&&an.push([On+mn,Wn+mn])}}}),an}function wn(xn,Bn,Tn,Wt){var Ht=Vn(xn,Bn,Tn,Wt),an=[].concat(xn);return Ht.forEach(function(dn,mn){an[mn]=(Bn.levels[dn]&1?gn(xn[dn]):null)||xn[dn]}),an.join("")}function Vn(xn,Bn,Tn,Wt){for(var Ht=Fn(xn,Bn,Tn,Wt),an=[],dn=0;dn<xn.length;dn++)an[dn]=dn;return Ht.forEach(function(mn){for(var En=mn[0],Dn=mn[1],kn=an.slice(En,Dn+1),Nn=kn.length;Nn--;)an[Dn-Nn]=kn[Nn]}),an}return _e.closingToOpeningBracket=bt,_e.getBidiCharType=ht,_e.getBidiCharTypeName=pt,_e.getCanonicalBracket=Tt,_e.getEmbeddingLevels=Cn,_e.getMirroredCharacter=gn,_e.getMirroredCharactersMap=Yt,_e.getReorderSegments=Fn,_e.getReorderedIndices=Vn,_e.getReorderedString=wn,_e.openingToClosingBracket=Et,Object.defineProperty(_e,"__esModule",{value:!0}),_e}({});return tt}const voidMainRegExp=/\bvoid\s+main\s*\(\s*\)\s*{/g;function expandShaderIncludes(tt){const _e=/^[ \t]*#include +<([\w\d./]+)>/gm;function nt(rt,it){let st=ShaderChunk[it];return st?expandShaderIncludes(st):rt}return tt.replace(_e,nt)}const _lut=[];for(let tt=0;tt<256;tt++)_lut[tt]=(tt<16?"0":"")+tt.toString(16);function generateUUID(){const tt=Math.random()*4294967295|0,_e=Math.random()*4294967295|0,nt=Math.random()*4294967295|0,rt=Math.random()*4294967295|0;return(_lut[tt&255]+_lut[tt>>8&255]+_lut[tt>>16&255]+_lut[tt>>24&255]+"-"+_lut[_e&255]+_lut[_e>>8&255]+"-"+_lut[_e>>16&15|64]+_lut[_e>>24&255]+"-"+_lut[nt&63|128]+_lut[nt>>8&255]+"-"+_lut[nt>>16&255]+_lut[nt>>24&255]+_lut[rt&255]+_lut[rt>>8&255]+_lut[rt>>16&255]+_lut[rt>>24&255]).toUpperCase()}const assign$1=Object.assign||function(){let tt=arguments[0];for(let _e=1,nt=arguments.length;_e<nt;_e++){let rt=arguments[_e];if(rt)for(let it in rt)Object.prototype.hasOwnProperty.call(rt,it)&&(tt[it]=rt[it])}return tt},epoch=Date.now(),CONSTRUCTOR_CACHE=new WeakMap,SHADER_UPGRADE_CACHE=new Map;let materialInstanceId=1e10;function createDerivedMaterial(tt,_e){const nt=getKeyForOptions(_e);let rt=CONSTRUCTOR_CACHE.get(tt);if(rt||CONSTRUCTOR_CACHE.set(tt,rt=Object.create(null)),rt[nt])return new rt[nt];const it=`_onBeforeCompile${nt}`,st=function(ct,ut){tt.onBeforeCompile.call(this,ct,ut);const ft=this.customProgramCacheKey()+"|"+ct.vertexShader+"|"+ct.fragmentShader;let ht=SHADER_UPGRADE_CACHE[ft];if(!ht){const pt=upgradeShaders(this,ct,_e,nt);ht=SHADER_UPGRADE_CACHE[ft]=pt}ct.vertexShader=ht.vertexShader,ct.fragmentShader=ht.fragmentShader,assign$1(ct.uniforms,this.uniforms),_e.timeUniform&&(ct.uniforms[_e.timeUniform]={get value(){return Date.now()-epoch}}),this[it]&&this[it](ct)},at=function(){return ot(_e.chained?tt:tt.clone())},ot=function(ct){const ut=Object.create(ct,lt);return Object.defineProperty(ut,"baseMaterial",{value:tt}),Object.defineProperty(ut,"id",{value:materialInstanceId++}),ut.uuid=generateUUID(),ut.uniforms=assign$1({},ct.uniforms,_e.uniforms),ut.defines=assign$1({},ct.defines,_e.defines),ut.defines[`TROIKA_DERIVED_MATERIAL_${nt}`]="",ut.extensions=assign$1({},ct.extensions,_e.extensions),ut._listeners=void 0,ut},lt={constructor:{value:at},isDerivedMaterial:{value:!0},type:{get:()=>tt.type,set:ct=>{tt.type=ct}},isDerivedFrom:{writable:!0,configurable:!0,value:function(ct){const ut=this.baseMaterial;return ct===ut||ut.isDerivedMaterial&&ut.isDerivedFrom(ct)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return tt.customProgramCacheKey()+"|"+nt}},onBeforeCompile:{get(){return st},set(ct){this[it]=ct}},copy:{writable:!0,configurable:!0,value:function(ct){return tt.copy.call(this,ct),!tt.isShaderMaterial&&!tt.isDerivedMaterial&&(assign$1(this.extensions,ct.extensions),assign$1(this.defines,ct.defines),assign$1(this.uniforms,UniformsUtils.clone(ct.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const ct=new tt.constructor;return ot(ct).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let ct=this._depthMaterial;return ct||(ct=this._depthMaterial=createDerivedMaterial(tt.isDerivedMaterial?tt.getDepthMaterial():new MeshDepthMaterial({depthPacking:RGBADepthPacking}),_e),ct.defines.IS_DEPTH_MATERIAL="",ct.uniforms=this.uniforms),ct}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let ct=this._distanceMaterial;return ct||(ct=this._distanceMaterial=createDerivedMaterial(tt.isDerivedMaterial?tt.getDistanceMaterial():new MeshDistanceMaterial,_e),ct.defines.IS_DISTANCE_MATERIAL="",ct.uniforms=this.uniforms),ct}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:ct,_distanceMaterial:ut}=this;ct&&ct.dispose(),ut&&ut.dispose(),tt.dispose.call(this)}}};return rt[nt]=at,new at}function upgradeShaders(tt,{vertexShader:_e,fragmentShader:nt},rt,it){let{vertexDefs:st,vertexMainIntro:at,vertexMainOutro:ot,vertexTransform:lt,fragmentDefs:ct,fragmentMainIntro:ut,fragmentMainOutro:ft,fragmentColorTransform:ht,customRewriter:pt,timeUniform:dt}=rt;if(st=st||"",at=at||"",ot=ot||"",ct=ct||"",ut=ut||"",ft=ft||"",(lt||pt)&&(_e=expandShaderIncludes(_e)),(ht||pt)&&(nt=nt.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),nt=expandShaderIncludes(nt)),pt){let gt=pt({vertexShader:_e,fragmentShader:nt});_e=gt.vertexShader,nt=gt.fragmentShader}if(ht){let gt=[];nt=nt.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,vt=>(gt.push(vt),"")),ft=`${ht}
${gt.join(`
`)}
${ft}`}if(dt){const gt=`
uniform float ${dt};
`;st=gt+st,ct=gt+ct}return lt&&(_e=`vec3 troika_position_${it};
vec3 troika_normal_${it};
vec2 troika_uv_${it};
${_e}
`,st=`${st}
void troikaVertexTransform${it}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${lt}
}
`,at=`
troika_position_${it} = vec3(position);
troika_normal_${it} = vec3(normal);
troika_uv_${it} = vec2(uv);
troikaVertexTransform${it}(troika_position_${it}, troika_normal_${it}, troika_uv_${it});
${at}
`,_e=_e.replace(/\b(position|normal|uv)\b/g,(gt,vt,mt,xt)=>/\battribute\s+vec[23]\s+$/.test(xt.substr(0,mt))?vt:`troika_${vt}_${it}`),tt.map&&tt.map.channel>0||(_e=_e.replace(/\bMAP_UV\b/g,`troika_uv_${it}`))),_e=injectIntoShaderCode(_e,it,st,at,ot),nt=injectIntoShaderCode(nt,it,ct,ut,ft),{vertexShader:_e,fragmentShader:nt}}function injectIntoShaderCode(tt,_e,nt,rt,it){return(rt||it||nt)&&(tt=tt.replace(voidMainRegExp,`
${nt}
void troikaOrigMain${_e}() {`),tt+=`
void main() {
  ${rt}
  troikaOrigMain${_e}();
  ${it}
}`),tt}function optionsJsonReplacer(tt,_e){return tt==="uniforms"?void 0:typeof _e=="function"?_e.toString():_e}let _idCtr=0;const optionsHashesToIds=new Map;function getKeyForOptions(tt){const _e=JSON.stringify(tt,optionsJsonReplacer);let nt=optionsHashesToIds.get(_e);return nt==null&&optionsHashesToIds.set(_e,nt=++_idCtr),nt}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function typrFactory(){return typeof window>"u"&&(self.window=self),function(tt){var _e={parse:function(it){var st=_e._bin,at=new Uint8Array(it);if(st.readASCII(at,0,4)=="ttcf"){var ot=4;st.readUshort(at,ot),ot+=2,st.readUshort(at,ot),ot+=2;var lt=st.readUint(at,ot);ot+=4;for(var ct=[],ut=0;ut<lt;ut++){var ft=st.readUint(at,ot);ot+=4,ct.push(_e._readFont(at,ft))}return ct}return[_e._readFont(at,0)]},_readFont:function(it,st){var at=_e._bin,ot=st;at.readFixed(it,st),st+=4;var lt=at.readUshort(it,st);st+=2,at.readUshort(it,st),st+=2,at.readUshort(it,st),st+=2,at.readUshort(it,st),st+=2;for(var ct=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],ut={_data:it,_offset:ot},ft={},ht=0;ht<lt;ht++){var pt=at.readASCII(it,st,4);st+=4,at.readUint(it,st),st+=4;var dt=at.readUint(it,st);st+=4;var gt=at.readUint(it,st);st+=4,ft[pt]={offset:dt,length:gt}}for(ht=0;ht<ct.length;ht++){var vt=ct[ht];ft[vt]&&(ut[vt.trim()]=_e[vt.trim()].parse(it,ft[vt].offset,ft[vt].length,ut))}return ut},_tabOffset:function(it,st,at){for(var ot=_e._bin,lt=ot.readUshort(it,at+4),ct=at+12,ut=0;ut<lt;ut++){var ft=ot.readASCII(it,ct,4);ct+=4,ot.readUint(it,ct),ct+=4;var ht=ot.readUint(it,ct);if(ct+=4,ot.readUint(it,ct),ct+=4,ft==st)return ht}return 0}};_e._bin={readFixed:function(it,st){return(it[st]<<8|it[st+1])+(it[st+2]<<8|it[st+3])/65540},readF2dot14:function(it,st){return _e._bin.readShort(it,st)/16384},readInt:function(it,st){return _e._bin._view(it).getInt32(st)},readInt8:function(it,st){return _e._bin._view(it).getInt8(st)},readShort:function(it,st){return _e._bin._view(it).getInt16(st)},readUshort:function(it,st){return _e._bin._view(it).getUint16(st)},readUshorts:function(it,st,at){for(var ot=[],lt=0;lt<at;lt++)ot.push(_e._bin.readUshort(it,st+2*lt));return ot},readUint:function(it,st){return _e._bin._view(it).getUint32(st)},readUint64:function(it,st){return 4294967296*_e._bin.readUint(it,st)+_e._bin.readUint(it,st+4)},readASCII:function(it,st,at){for(var ot="",lt=0;lt<at;lt++)ot+=String.fromCharCode(it[st+lt]);return ot},readUnicode:function(it,st,at){for(var ot="",lt=0;lt<at;lt++){var ct=it[st++]<<8|it[st++];ot+=String.fromCharCode(ct)}return ot},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(it,st,at){var ot=_e._bin._tdec;return ot&&st==0&&at==it.length?ot.decode(it):_e._bin.readASCII(it,st,at)},readBytes:function(it,st,at){for(var ot=[],lt=0;lt<at;lt++)ot.push(it[st+lt]);return ot},readASCIIArray:function(it,st,at){for(var ot=[],lt=0;lt<at;lt++)ot.push(String.fromCharCode(it[st+lt]));return ot},_view:function(it){return it._dataView||(it._dataView=it.buffer?new DataView(it.buffer,it.byteOffset,it.byteLength):new DataView(new Uint8Array(it).buffer))}},_e._lctf={},_e._lctf.parse=function(it,st,at,ot,lt){var ct=_e._bin,ut={},ft=st;ct.readFixed(it,st),st+=4;var ht=ct.readUshort(it,st);st+=2;var pt=ct.readUshort(it,st);st+=2;var dt=ct.readUshort(it,st);return st+=2,ut.scriptList=_e._lctf.readScriptList(it,ft+ht),ut.featureList=_e._lctf.readFeatureList(it,ft+pt),ut.lookupList=_e._lctf.readLookupList(it,ft+dt,lt),ut},_e._lctf.readLookupList=function(it,st,at){var ot=_e._bin,lt=st,ct=[],ut=ot.readUshort(it,st);st+=2;for(var ft=0;ft<ut;ft++){var ht=ot.readUshort(it,st);st+=2;var pt=_e._lctf.readLookupTable(it,lt+ht,at);ct.push(pt)}return ct},_e._lctf.readLookupTable=function(it,st,at){var ot=_e._bin,lt=st,ct={tabs:[]};ct.ltype=ot.readUshort(it,st),st+=2,ct.flag=ot.readUshort(it,st),st+=2;var ut=ot.readUshort(it,st);st+=2;for(var ft=ct.ltype,ht=0;ht<ut;ht++){var pt=ot.readUshort(it,st);st+=2;var dt=at(it,ft,lt+pt,ct);ct.tabs.push(dt)}return ct},_e._lctf.numOfOnes=function(it){for(var st=0,at=0;at<32;at++)it>>>at&1&&st++;return st},_e._lctf.readClassDef=function(it,st){var at=_e._bin,ot=[],lt=at.readUshort(it,st);if(st+=2,lt==1){var ct=at.readUshort(it,st);st+=2;var ut=at.readUshort(it,st);st+=2;for(var ft=0;ft<ut;ft++)ot.push(ct+ft),ot.push(ct+ft),ot.push(at.readUshort(it,st)),st+=2}if(lt==2){var ht=at.readUshort(it,st);for(st+=2,ft=0;ft<ht;ft++)ot.push(at.readUshort(it,st)),st+=2,ot.push(at.readUshort(it,st)),st+=2,ot.push(at.readUshort(it,st)),st+=2}return ot},_e._lctf.getInterval=function(it,st){for(var at=0;at<it.length;at+=3){var ot=it[at],lt=it[at+1];if(it[at+2],ot<=st&&st<=lt)return at}return-1},_e._lctf.readCoverage=function(it,st){var at=_e._bin,ot={};ot.fmt=at.readUshort(it,st),st+=2;var lt=at.readUshort(it,st);return st+=2,ot.fmt==1&&(ot.tab=at.readUshorts(it,st,lt)),ot.fmt==2&&(ot.tab=at.readUshorts(it,st,3*lt)),ot},_e._lctf.coverageIndex=function(it,st){var at=it.tab;if(it.fmt==1)return at.indexOf(st);if(it.fmt==2){var ot=_e._lctf.getInterval(at,st);if(ot!=-1)return at[ot+2]+(st-at[ot])}return-1},_e._lctf.readFeatureList=function(it,st){var at=_e._bin,ot=st,lt=[],ct=at.readUshort(it,st);st+=2;for(var ut=0;ut<ct;ut++){var ft=at.readASCII(it,st,4);st+=4;var ht=at.readUshort(it,st);st+=2;var pt=_e._lctf.readFeatureTable(it,ot+ht);pt.tag=ft.trim(),lt.push(pt)}return lt},_e._lctf.readFeatureTable=function(it,st){var at=_e._bin,ot=st,lt={},ct=at.readUshort(it,st);st+=2,ct>0&&(lt.featureParams=ot+ct);var ut=at.readUshort(it,st);st+=2,lt.tab=[];for(var ft=0;ft<ut;ft++)lt.tab.push(at.readUshort(it,st+2*ft));return lt},_e._lctf.readScriptList=function(it,st){var at=_e._bin,ot=st,lt={},ct=at.readUshort(it,st);st+=2;for(var ut=0;ut<ct;ut++){var ft=at.readASCII(it,st,4);st+=4;var ht=at.readUshort(it,st);st+=2,lt[ft.trim()]=_e._lctf.readScriptTable(it,ot+ht)}return lt},_e._lctf.readScriptTable=function(it,st){var at=_e._bin,ot=st,lt={},ct=at.readUshort(it,st);st+=2,ct>0&&(lt.default=_e._lctf.readLangSysTable(it,ot+ct));var ut=at.readUshort(it,st);st+=2;for(var ft=0;ft<ut;ft++){var ht=at.readASCII(it,st,4);st+=4;var pt=at.readUshort(it,st);st+=2,lt[ht.trim()]=_e._lctf.readLangSysTable(it,ot+pt)}return lt},_e._lctf.readLangSysTable=function(it,st){var at=_e._bin,ot={};at.readUshort(it,st),st+=2,ot.reqFeature=at.readUshort(it,st),st+=2;var lt=at.readUshort(it,st);return st+=2,ot.features=at.readUshorts(it,st,lt),ot},_e.CFF={},_e.CFF.parse=function(it,st,at){var ot=_e._bin;(it=new Uint8Array(it.buffer,st,at))[st=0],it[++st],it[++st],it[++st],st++;var lt=[];st=_e.CFF.readIndex(it,st,lt);for(var ct=[],ut=0;ut<lt.length-1;ut++)ct.push(ot.readASCII(it,st+lt[ut],lt[ut+1]-lt[ut]));st+=lt[lt.length-1];var ft=[];st=_e.CFF.readIndex(it,st,ft);var ht=[];for(ut=0;ut<ft.length-1;ut++)ht.push(_e.CFF.readDict(it,st+ft[ut],st+ft[ut+1]));st+=ft[ft.length-1];var pt=ht[0],dt=[];st=_e.CFF.readIndex(it,st,dt);var gt=[];for(ut=0;ut<dt.length-1;ut++)gt.push(ot.readASCII(it,st+dt[ut],dt[ut+1]-dt[ut]));if(st+=dt[dt.length-1],_e.CFF.readSubrs(it,st,pt),pt.CharStrings){st=pt.CharStrings,dt=[],st=_e.CFF.readIndex(it,st,dt);var vt=[];for(ut=0;ut<dt.length-1;ut++)vt.push(ot.readBytes(it,st+dt[ut],dt[ut+1]-dt[ut]));pt.CharStrings=vt}if(pt.ROS){st=pt.FDArray;var mt=[];for(st=_e.CFF.readIndex(it,st,mt),pt.FDArray=[],ut=0;ut<mt.length-1;ut++){var xt=_e.CFF.readDict(it,st+mt[ut],st+mt[ut+1]);_e.CFF._readFDict(it,xt,gt),pt.FDArray.push(xt)}st+=mt[mt.length-1],st=pt.FDSelect,pt.FDSelect=[];var St=it[st];if(st++,St!=3)throw St;var Et=ot.readUshort(it,st);for(st+=2,ut=0;ut<Et+1;ut++)pt.FDSelect.push(ot.readUshort(it,st),it[st+2]),st+=3}return pt.Encoding&&(pt.Encoding=_e.CFF.readEncoding(it,pt.Encoding,pt.CharStrings.length)),pt.charset&&(pt.charset=_e.CFF.readCharset(it,pt.charset,pt.CharStrings.length)),_e.CFF._readFDict(it,pt,gt),pt},_e.CFF._readFDict=function(it,st,at){var ot;for(var lt in st.Private&&(ot=st.Private[1],st.Private=_e.CFF.readDict(it,ot,ot+st.Private[0]),st.Private.Subrs&&_e.CFF.readSubrs(it,ot+st.Private.Subrs,st.Private)),st)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(lt)!=-1&&(st[lt]=at[st[lt]-426+35])},_e.CFF.readSubrs=function(it,st,at){var ot=_e._bin,lt=[];st=_e.CFF.readIndex(it,st,lt);var ct,ut=lt.length;ct=ut<1240?107:ut<33900?1131:32768,at.Bias=ct,at.Subrs=[];for(var ft=0;ft<lt.length-1;ft++)at.Subrs.push(ot.readBytes(it,st+lt[ft],lt[ft+1]-lt[ft]))},_e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],_e.CFF.glyphByUnicode=function(it,st){for(var at=0;at<it.charset.length;at++)if(it.charset[at]==st)return at;return-1},_e.CFF.glyphBySE=function(it,st){return st<0||st>255?-1:_e.CFF.glyphByUnicode(it,_e.CFF.tableSE[st])},_e.CFF.readEncoding=function(it,st,at){_e._bin;var ot=[".notdef"],lt=it[st];if(st++,lt!=0)throw"error: unknown encoding format: "+lt;var ct=it[st];st++;for(var ut=0;ut<ct;ut++)ot.push(it[st+ut]);return ot},_e.CFF.readCharset=function(it,st,at){var ot=_e._bin,lt=[".notdef"],ct=it[st];if(st++,ct==0)for(var ut=0;ut<at;ut++){var ft=ot.readUshort(it,st);st+=2,lt.push(ft)}else{if(ct!=1&&ct!=2)throw"error: format: "+ct;for(;lt.length<at;){ft=ot.readUshort(it,st),st+=2;var ht=0;for(ct==1?(ht=it[st],st++):(ht=ot.readUshort(it,st),st+=2),ut=0;ut<=ht;ut++)lt.push(ft),ft++}}return lt},_e.CFF.readIndex=function(it,st,at){var ot=_e._bin,lt=ot.readUshort(it,st)+1,ct=it[st+=2];if(st++,ct==1)for(var ut=0;ut<lt;ut++)at.push(it[st+ut]);else if(ct==2)for(ut=0;ut<lt;ut++)at.push(ot.readUshort(it,st+2*ut));else if(ct==3)for(ut=0;ut<lt;ut++)at.push(16777215&ot.readUint(it,st+3*ut-1));else if(lt!=1)throw"unsupported offset size: "+ct+", count: "+lt;return(st+=lt*ct)-1},_e.CFF.getCharString=function(it,st,at){var ot=_e._bin,lt=it[st],ct=it[st+1];it[st+2],it[st+3],it[st+4];var ut=1,ft=null,ht=null;lt<=20&&(ft=lt,ut=1),lt==12&&(ft=100*lt+ct,ut=2),21<=lt&&lt<=27&&(ft=lt,ut=1),lt==28&&(ht=ot.readShort(it,st+1),ut=3),29<=lt&&lt<=31&&(ft=lt,ut=1),32<=lt&&lt<=246&&(ht=lt-139,ut=1),247<=lt&&lt<=250&&(ht=256*(lt-247)+ct+108,ut=2),251<=lt&&lt<=254&&(ht=256*-(lt-251)-ct-108,ut=2),lt==255&&(ht=ot.readInt(it,st+1)/65535,ut=5),at.val=ht??"o"+ft,at.size=ut},_e.CFF.readCharString=function(it,st,at){for(var ot=st+at,lt=_e._bin,ct=[];st<ot;){var ut=it[st],ft=it[st+1];it[st+2],it[st+3],it[st+4];var ht=1,pt=null,dt=null;ut<=20&&(pt=ut,ht=1),ut==12&&(pt=100*ut+ft,ht=2),ut!=19&&ut!=20||(pt=ut,ht=2),21<=ut&&ut<=27&&(pt=ut,ht=1),ut==28&&(dt=lt.readShort(it,st+1),ht=3),29<=ut&&ut<=31&&(pt=ut,ht=1),32<=ut&&ut<=246&&(dt=ut-139,ht=1),247<=ut&&ut<=250&&(dt=256*(ut-247)+ft+108,ht=2),251<=ut&&ut<=254&&(dt=256*-(ut-251)-ft-108,ht=2),ut==255&&(dt=lt.readInt(it,st+1)/65535,ht=5),ct.push(dt??"o"+pt),st+=ht}return ct},_e.CFF.readDict=function(it,st,at){for(var ot=_e._bin,lt={},ct=[];st<at;){var ut=it[st],ft=it[st+1];it[st+2],it[st+3],it[st+4];var ht=1,pt=null,dt=null;if(ut==28&&(dt=ot.readShort(it,st+1),ht=3),ut==29&&(dt=ot.readInt(it,st+1),ht=5),32<=ut&&ut<=246&&(dt=ut-139,ht=1),247<=ut&&ut<=250&&(dt=256*(ut-247)+ft+108,ht=2),251<=ut&&ut<=254&&(dt=256*-(ut-251)-ft-108,ht=2),ut==255)throw dt=ot.readInt(it,st+1)/65535,ht=5,"unknown number";if(ut==30){var gt=[];for(ht=1;;){var vt=it[st+ht];ht++;var mt=vt>>4,xt=15&vt;if(mt!=15&&gt.push(mt),xt!=15&&gt.push(xt),xt==15)break}for(var St="",Et=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],bt=0;bt<gt.length;bt++)St+=Et[gt[bt]];dt=parseFloat(St)}ut<=21&&(pt=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][ut],ht=1,ut==12&&(pt=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][ft],ht=2)),pt!=null?(lt[pt]=ct.length==1?ct[0]:ct,ct=[]):ct.push(dt),st+=ht}return lt},_e.cmap={},_e.cmap.parse=function(it,st,at){it=new Uint8Array(it.buffer,st,at),st=0;var ot=_e._bin,lt={};ot.readUshort(it,st),st+=2;var ct=ot.readUshort(it,st);st+=2;var ut=[];lt.tables=[];for(var ft=0;ft<ct;ft++){var ht=ot.readUshort(it,st);st+=2;var pt=ot.readUshort(it,st);st+=2;var dt=ot.readUint(it,st);st+=4;var gt="p"+ht+"e"+pt,vt=ut.indexOf(dt);if(vt==-1){var mt;vt=lt.tables.length,ut.push(dt);var xt=ot.readUshort(it,dt);xt==0?mt=_e.cmap.parse0(it,dt):xt==4?mt=_e.cmap.parse4(it,dt):xt==6?mt=_e.cmap.parse6(it,dt):xt==12?mt=_e.cmap.parse12(it,dt):console.debug("unknown format: "+xt,ht,pt,dt),lt.tables.push(mt)}if(lt[gt]!=null)throw"multiple tables for one platform+encoding";lt[gt]=vt}return lt},_e.cmap.parse0=function(it,st){var at=_e._bin,ot={};ot.format=at.readUshort(it,st),st+=2;var lt=at.readUshort(it,st);st+=2,at.readUshort(it,st),st+=2,ot.map=[];for(var ct=0;ct<lt-6;ct++)ot.map.push(it[st+ct]);return ot},_e.cmap.parse4=function(it,st){var at=_e._bin,ot=st,lt={};lt.format=at.readUshort(it,st),st+=2;var ct=at.readUshort(it,st);st+=2,at.readUshort(it,st),st+=2;var ut=at.readUshort(it,st);st+=2;var ft=ut/2;lt.searchRange=at.readUshort(it,st),st+=2,lt.entrySelector=at.readUshort(it,st),st+=2,lt.rangeShift=at.readUshort(it,st),st+=2,lt.endCount=at.readUshorts(it,st,ft),st+=2*ft,st+=2,lt.startCount=at.readUshorts(it,st,ft),st+=2*ft,lt.idDelta=[];for(var ht=0;ht<ft;ht++)lt.idDelta.push(at.readShort(it,st)),st+=2;for(lt.idRangeOffset=at.readUshorts(it,st,ft),st+=2*ft,lt.glyphIdArray=[];st<ot+ct;)lt.glyphIdArray.push(at.readUshort(it,st)),st+=2;return lt},_e.cmap.parse6=function(it,st){var at=_e._bin,ot={};ot.format=at.readUshort(it,st),st+=2,at.readUshort(it,st),st+=2,at.readUshort(it,st),st+=2,ot.firstCode=at.readUshort(it,st),st+=2;var lt=at.readUshort(it,st);st+=2,ot.glyphIdArray=[];for(var ct=0;ct<lt;ct++)ot.glyphIdArray.push(at.readUshort(it,st)),st+=2;return ot},_e.cmap.parse12=function(it,st){var at=_e._bin,ot={};ot.format=at.readUshort(it,st),st+=2,st+=2,at.readUint(it,st),st+=4,at.readUint(it,st),st+=4;var lt=at.readUint(it,st);st+=4,ot.groups=[];for(var ct=0;ct<lt;ct++){var ut=st+12*ct,ft=at.readUint(it,ut+0),ht=at.readUint(it,ut+4),pt=at.readUint(it,ut+8);ot.groups.push([ft,ht,pt])}return ot},_e.glyf={},_e.glyf.parse=function(it,st,at,ot){for(var lt=[],ct=0;ct<ot.maxp.numGlyphs;ct++)lt.push(null);return lt},_e.glyf._parseGlyf=function(it,st){var at=_e._bin,ot=it._data,lt=_e._tabOffset(ot,"glyf",it._offset)+it.loca[st];if(it.loca[st]==it.loca[st+1])return null;var ct={};if(ct.noc=at.readShort(ot,lt),lt+=2,ct.xMin=at.readShort(ot,lt),lt+=2,ct.yMin=at.readShort(ot,lt),lt+=2,ct.xMax=at.readShort(ot,lt),lt+=2,ct.yMax=at.readShort(ot,lt),lt+=2,ct.xMin>=ct.xMax||ct.yMin>=ct.yMax)return null;if(ct.noc>0){ct.endPts=[];for(var ut=0;ut<ct.noc;ut++)ct.endPts.push(at.readUshort(ot,lt)),lt+=2;var ft=at.readUshort(ot,lt);if(lt+=2,ot.length-lt<ft)return null;ct.instructions=at.readBytes(ot,lt,ft),lt+=ft;var ht=ct.endPts[ct.noc-1]+1;for(ct.flags=[],ut=0;ut<ht;ut++){var pt=ot[lt];if(lt++,ct.flags.push(pt),(8&pt)!=0){var dt=ot[lt];lt++;for(var gt=0;gt<dt;gt++)ct.flags.push(pt),ut++}}for(ct.xs=[],ut=0;ut<ht;ut++){var vt=(2&ct.flags[ut])!=0,mt=(16&ct.flags[ut])!=0;vt?(ct.xs.push(mt?ot[lt]:-ot[lt]),lt++):mt?ct.xs.push(0):(ct.xs.push(at.readShort(ot,lt)),lt+=2)}for(ct.ys=[],ut=0;ut<ht;ut++)vt=(4&ct.flags[ut])!=0,mt=(32&ct.flags[ut])!=0,vt?(ct.ys.push(mt?ot[lt]:-ot[lt]),lt++):mt?ct.ys.push(0):(ct.ys.push(at.readShort(ot,lt)),lt+=2);var xt=0,St=0;for(ut=0;ut<ht;ut++)xt+=ct.xs[ut],St+=ct.ys[ut],ct.xs[ut]=xt,ct.ys[ut]=St}else{var Et;ct.parts=[];do{Et=at.readUshort(ot,lt),lt+=2;var bt={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(ct.parts.push(bt),bt.glyphIndex=at.readUshort(ot,lt),lt+=2,1&Et){var Tt=at.readShort(ot,lt);lt+=2;var At=at.readShort(ot,lt);lt+=2}else Tt=at.readInt8(ot,lt),lt++,At=at.readInt8(ot,lt),lt++;2&Et?(bt.m.tx=Tt,bt.m.ty=At):(bt.p1=Tt,bt.p2=At),8&Et?(bt.m.a=bt.m.d=at.readF2dot14(ot,lt),lt+=2):64&Et?(bt.m.a=at.readF2dot14(ot,lt),lt+=2,bt.m.d=at.readF2dot14(ot,lt),lt+=2):128&Et&&(bt.m.a=at.readF2dot14(ot,lt),lt+=2,bt.m.b=at.readF2dot14(ot,lt),lt+=2,bt.m.c=at.readF2dot14(ot,lt),lt+=2,bt.m.d=at.readF2dot14(ot,lt),lt+=2)}while(32&Et);if(256&Et){var Ct=at.readUshort(ot,lt);for(lt+=2,ct.instr=[],ut=0;ut<Ct;ut++)ct.instr.push(ot[lt]),lt++}}return ct},_e.GDEF={},_e.GDEF.parse=function(it,st,at,ot){var lt=st;st+=4;var ct=_e._bin.readUshort(it,st);return{glyphClassDef:ct===0?null:_e._lctf.readClassDef(it,lt+ct)}},_e.GPOS={},_e.GPOS.parse=function(it,st,at,ot){return _e._lctf.parse(it,st,at,ot,_e.GPOS.subt)},_e.GPOS.subt=function(it,st,at,ot){var lt=_e._bin,ct=at,ut={};if(ut.fmt=lt.readUshort(it,at),at+=2,st==1||st==2||st==3||st==7||st==8&&ut.fmt<=2){var ft=lt.readUshort(it,at);at+=2,ut.coverage=_e._lctf.readCoverage(it,ft+ct)}if(st==1&&ut.fmt==1){var ht=lt.readUshort(it,at);at+=2,ht!=0&&(ut.pos=_e.GPOS.readValueRecord(it,at,ht))}else if(st==2&&ut.fmt>=1&&ut.fmt<=2){ht=lt.readUshort(it,at),at+=2;var pt=lt.readUshort(it,at);at+=2;var dt=_e._lctf.numOfOnes(ht),gt=_e._lctf.numOfOnes(pt);if(ut.fmt==1){ut.pairsets=[];var vt=lt.readUshort(it,at);at+=2;for(var mt=0;mt<vt;mt++){var xt=ct+lt.readUshort(it,at);at+=2;var St=lt.readUshort(it,xt);xt+=2;for(var Et=[],bt=0;bt<St;bt++){var Tt=lt.readUshort(it,xt);xt+=2,ht!=0&&(Vt=_e.GPOS.readValueRecord(it,xt,ht),xt+=2*dt),pt!=0&&(Ut=_e.GPOS.readValueRecord(it,xt,pt),xt+=2*gt),Et.push({gid2:Tt,val1:Vt,val2:Ut})}ut.pairsets.push(Et)}}if(ut.fmt==2){var At=lt.readUshort(it,at);at+=2;var Ct=lt.readUshort(it,at);at+=2;var Pt=lt.readUshort(it,at);at+=2;var It=lt.readUshort(it,at);for(at+=2,ut.classDef1=_e._lctf.readClassDef(it,ct+At),ut.classDef2=_e._lctf.readClassDef(it,ct+Ct),ut.matrix=[],mt=0;mt<Pt;mt++){var Lt=[];for(bt=0;bt<It;bt++){var Vt=null,Ut=null;ht!=0&&(Vt=_e.GPOS.readValueRecord(it,at,ht),at+=2*dt),pt!=0&&(Ut=_e.GPOS.readValueRecord(it,at,pt),at+=2*gt),Lt.push({val1:Vt,val2:Ut})}ut.matrix.push(Lt)}}}else if(st==4&&ut.fmt==1)ut.markCoverage=_e._lctf.readCoverage(it,lt.readUshort(it,at)+ct),ut.baseCoverage=_e._lctf.readCoverage(it,lt.readUshort(it,at+2)+ct),ut.markClassCount=lt.readUshort(it,at+4),ut.markArray=_e.GPOS.readMarkArray(it,lt.readUshort(it,at+6)+ct),ut.baseArray=_e.GPOS.readBaseArray(it,lt.readUshort(it,at+8)+ct,ut.markClassCount);else if(st==6&&ut.fmt==1)ut.mark1Coverage=_e._lctf.readCoverage(it,lt.readUshort(it,at)+ct),ut.mark2Coverage=_e._lctf.readCoverage(it,lt.readUshort(it,at+2)+ct),ut.markClassCount=lt.readUshort(it,at+4),ut.mark1Array=_e.GPOS.readMarkArray(it,lt.readUshort(it,at+6)+ct),ut.mark2Array=_e.GPOS.readBaseArray(it,lt.readUshort(it,at+8)+ct,ut.markClassCount);else{if(st==9&&ut.fmt==1){var Ot=lt.readUshort(it,at);at+=2;var zt=lt.readUint(it,at);if(at+=4,ot.ltype==9)ot.ltype=Ot;else if(ot.ltype!=Ot)throw"invalid extension substitution";return _e.GPOS.subt(it,ot.ltype,ct+zt)}console.debug("unsupported GPOS table LookupType",st,"format",ut.fmt)}return ut},_e.GPOS.readValueRecord=function(it,st,at){var ot=_e._bin,lt=[];return lt.push(1&at?ot.readShort(it,st):0),st+=1&at?2:0,lt.push(2&at?ot.readShort(it,st):0),st+=2&at?2:0,lt.push(4&at?ot.readShort(it,st):0),st+=4&at?2:0,lt.push(8&at?ot.readShort(it,st):0),st+=8&at?2:0,lt},_e.GPOS.readBaseArray=function(it,st,at){var ot=_e._bin,lt=[],ct=st,ut=ot.readUshort(it,st);st+=2;for(var ft=0;ft<ut;ft++){for(var ht=[],pt=0;pt<at;pt++)ht.push(_e.GPOS.readAnchorRecord(it,ct+ot.readUshort(it,st))),st+=2;lt.push(ht)}return lt},_e.GPOS.readMarkArray=function(it,st){var at=_e._bin,ot=[],lt=st,ct=at.readUshort(it,st);st+=2;for(var ut=0;ut<ct;ut++){var ft=_e.GPOS.readAnchorRecord(it,at.readUshort(it,st+2)+lt);ft.markClass=at.readUshort(it,st),ot.push(ft),st+=4}return ot},_e.GPOS.readAnchorRecord=function(it,st){var at=_e._bin,ot={};return ot.fmt=at.readUshort(it,st),ot.x=at.readShort(it,st+2),ot.y=at.readShort(it,st+4),ot},_e.GSUB={},_e.GSUB.parse=function(it,st,at,ot){return _e._lctf.parse(it,st,at,ot,_e.GSUB.subt)},_e.GSUB.subt=function(it,st,at,ot){var lt=_e._bin,ct=at,ut={};if(ut.fmt=lt.readUshort(it,at),at+=2,st!=1&&st!=2&&st!=4&&st!=5&&st!=6)return null;if(st==1||st==2||st==4||st==5&&ut.fmt<=2||st==6&&ut.fmt<=2){var ft=lt.readUshort(it,at);at+=2,ut.coverage=_e._lctf.readCoverage(it,ct+ft)}if(st==1&&ut.fmt>=1&&ut.fmt<=2){if(ut.fmt==1)ut.delta=lt.readShort(it,at),at+=2;else if(ut.fmt==2){var ht=lt.readUshort(it,at);at+=2,ut.newg=lt.readUshorts(it,at,ht),at+=2*ut.newg.length}}else if(st==2&&ut.fmt==1){ht=lt.readUshort(it,at),at+=2,ut.seqs=[];for(var pt=0;pt<ht;pt++){var dt=lt.readUshort(it,at)+ct;at+=2;var gt=lt.readUshort(it,dt);ut.seqs.push(lt.readUshorts(it,dt+2,gt))}}else if(st==4)for(ut.vals=[],ht=lt.readUshort(it,at),at+=2,pt=0;pt<ht;pt++){var vt=lt.readUshort(it,at);at+=2,ut.vals.push(_e.GSUB.readLigatureSet(it,ct+vt))}else if(st==5&&ut.fmt==2){if(ut.fmt==2){var mt=lt.readUshort(it,at);at+=2,ut.cDef=_e._lctf.readClassDef(it,ct+mt),ut.scset=[];var xt=lt.readUshort(it,at);for(at+=2,pt=0;pt<xt;pt++){var St=lt.readUshort(it,at);at+=2,ut.scset.push(St==0?null:_e.GSUB.readSubClassSet(it,ct+St))}}}else if(st==6&&ut.fmt==3){if(ut.fmt==3){for(pt=0;pt<3;pt++){ht=lt.readUshort(it,at),at+=2;for(var Et=[],bt=0;bt<ht;bt++)Et.push(_e._lctf.readCoverage(it,ct+lt.readUshort(it,at+2*bt)));at+=2*ht,pt==0&&(ut.backCvg=Et),pt==1&&(ut.inptCvg=Et),pt==2&&(ut.ahedCvg=Et)}ht=lt.readUshort(it,at),at+=2,ut.lookupRec=_e.GSUB.readSubstLookupRecords(it,at,ht)}}else{if(st==7&&ut.fmt==1){var Tt=lt.readUshort(it,at);at+=2;var At=lt.readUint(it,at);if(at+=4,ot.ltype==9)ot.ltype=Tt;else if(ot.ltype!=Tt)throw"invalid extension substitution";return _e.GSUB.subt(it,ot.ltype,ct+At)}console.debug("unsupported GSUB table LookupType",st,"format",ut.fmt)}return ut},_e.GSUB.readSubClassSet=function(it,st){var at=_e._bin.readUshort,ot=st,lt=[],ct=at(it,st);st+=2;for(var ut=0;ut<ct;ut++){var ft=at(it,st);st+=2,lt.push(_e.GSUB.readSubClassRule(it,ot+ft))}return lt},_e.GSUB.readSubClassRule=function(it,st){var at=_e._bin.readUshort,ot={},lt=at(it,st),ct=at(it,st+=2);st+=2,ot.input=[];for(var ut=0;ut<lt-1;ut++)ot.input.push(at(it,st)),st+=2;return ot.substLookupRecords=_e.GSUB.readSubstLookupRecords(it,st,ct),ot},_e.GSUB.readSubstLookupRecords=function(it,st,at){for(var ot=_e._bin.readUshort,lt=[],ct=0;ct<at;ct++)lt.push(ot(it,st),ot(it,st+2)),st+=4;return lt},_e.GSUB.readChainSubClassSet=function(it,st){var at=_e._bin,ot=st,lt=[],ct=at.readUshort(it,st);st+=2;for(var ut=0;ut<ct;ut++){var ft=at.readUshort(it,st);st+=2,lt.push(_e.GSUB.readChainSubClassRule(it,ot+ft))}return lt},_e.GSUB.readChainSubClassRule=function(it,st){for(var at=_e._bin,ot={},lt=["backtrack","input","lookahead"],ct=0;ct<lt.length;ct++){var ut=at.readUshort(it,st);st+=2,ct==1&&ut--,ot[lt[ct]]=at.readUshorts(it,st,ut),st+=2*ot[lt[ct]].length}return ut=at.readUshort(it,st),st+=2,ot.subst=at.readUshorts(it,st,2*ut),st+=2*ot.subst.length,ot},_e.GSUB.readLigatureSet=function(it,st){var at=_e._bin,ot=st,lt=[],ct=at.readUshort(it,st);st+=2;for(var ut=0;ut<ct;ut++){var ft=at.readUshort(it,st);st+=2,lt.push(_e.GSUB.readLigature(it,ot+ft))}return lt},_e.GSUB.readLigature=function(it,st){var at=_e._bin,ot={chain:[]};ot.nglyph=at.readUshort(it,st),st+=2;var lt=at.readUshort(it,st);st+=2;for(var ct=0;ct<lt-1;ct++)ot.chain.push(at.readUshort(it,st)),st+=2;return ot},_e.head={},_e.head.parse=function(it,st,at){var ot=_e._bin,lt={};return ot.readFixed(it,st),st+=4,lt.fontRevision=ot.readFixed(it,st),st+=4,ot.readUint(it,st),st+=4,ot.readUint(it,st),st+=4,lt.flags=ot.readUshort(it,st),st+=2,lt.unitsPerEm=ot.readUshort(it,st),st+=2,lt.created=ot.readUint64(it,st),st+=8,lt.modified=ot.readUint64(it,st),st+=8,lt.xMin=ot.readShort(it,st),st+=2,lt.yMin=ot.readShort(it,st),st+=2,lt.xMax=ot.readShort(it,st),st+=2,lt.yMax=ot.readShort(it,st),st+=2,lt.macStyle=ot.readUshort(it,st),st+=2,lt.lowestRecPPEM=ot.readUshort(it,st),st+=2,lt.fontDirectionHint=ot.readShort(it,st),st+=2,lt.indexToLocFormat=ot.readShort(it,st),st+=2,lt.glyphDataFormat=ot.readShort(it,st),st+=2,lt},_e.hhea={},_e.hhea.parse=function(it,st,at){var ot=_e._bin,lt={};return ot.readFixed(it,st),st+=4,lt.ascender=ot.readShort(it,st),st+=2,lt.descender=ot.readShort(it,st),st+=2,lt.lineGap=ot.readShort(it,st),st+=2,lt.advanceWidthMax=ot.readUshort(it,st),st+=2,lt.minLeftSideBearing=ot.readShort(it,st),st+=2,lt.minRightSideBearing=ot.readShort(it,st),st+=2,lt.xMaxExtent=ot.readShort(it,st),st+=2,lt.caretSlopeRise=ot.readShort(it,st),st+=2,lt.caretSlopeRun=ot.readShort(it,st),st+=2,lt.caretOffset=ot.readShort(it,st),st+=2,st+=8,lt.metricDataFormat=ot.readShort(it,st),st+=2,lt.numberOfHMetrics=ot.readUshort(it,st),st+=2,lt},_e.hmtx={},_e.hmtx.parse=function(it,st,at,ot){for(var lt=_e._bin,ct={aWidth:[],lsBearing:[]},ut=0,ft=0,ht=0;ht<ot.maxp.numGlyphs;ht++)ht<ot.hhea.numberOfHMetrics&&(ut=lt.readUshort(it,st),st+=2,ft=lt.readShort(it,st),st+=2),ct.aWidth.push(ut),ct.lsBearing.push(ft);return ct},_e.kern={},_e.kern.parse=function(it,st,at,ot){var lt=_e._bin,ct=lt.readUshort(it,st);if(st+=2,ct==1)return _e.kern.parseV1(it,st-2,at,ot);var ut=lt.readUshort(it,st);st+=2;for(var ft={glyph1:[],rval:[]},ht=0;ht<ut;ht++){st+=2,at=lt.readUshort(it,st),st+=2;var pt=lt.readUshort(it,st);st+=2;var dt=pt>>>8;if((dt&=15)!=0)throw"unknown kern table format: "+dt;st=_e.kern.readFormat0(it,st,ft)}return ft},_e.kern.parseV1=function(it,st,at,ot){var lt=_e._bin;lt.readFixed(it,st),st+=4;var ct=lt.readUint(it,st);st+=4;for(var ut={glyph1:[],rval:[]},ft=0;ft<ct;ft++){lt.readUint(it,st),st+=4;var ht=lt.readUshort(it,st);st+=2,lt.readUshort(it,st),st+=2;var pt=ht>>>8;if((pt&=15)!=0)throw"unknown kern table format: "+pt;st=_e.kern.readFormat0(it,st,ut)}return ut},_e.kern.readFormat0=function(it,st,at){var ot=_e._bin,lt=-1,ct=ot.readUshort(it,st);st+=2,ot.readUshort(it,st),st+=2,ot.readUshort(it,st),st+=2,ot.readUshort(it,st),st+=2;for(var ut=0;ut<ct;ut++){var ft=ot.readUshort(it,st);st+=2;var ht=ot.readUshort(it,st);st+=2;var pt=ot.readShort(it,st);st+=2,ft!=lt&&(at.glyph1.push(ft),at.rval.push({glyph2:[],vals:[]}));var dt=at.rval[at.rval.length-1];dt.glyph2.push(ht),dt.vals.push(pt),lt=ft}return st},_e.loca={},_e.loca.parse=function(it,st,at,ot){var lt=_e._bin,ct=[],ut=ot.head.indexToLocFormat,ft=ot.maxp.numGlyphs+1;if(ut==0)for(var ht=0;ht<ft;ht++)ct.push(lt.readUshort(it,st+(ht<<1))<<1);if(ut==1)for(ht=0;ht<ft;ht++)ct.push(lt.readUint(it,st+(ht<<2)));return ct},_e.maxp={},_e.maxp.parse=function(it,st,at){var ot=_e._bin,lt={},ct=ot.readUint(it,st);return st+=4,lt.numGlyphs=ot.readUshort(it,st),st+=2,ct==65536&&(lt.maxPoints=ot.readUshort(it,st),st+=2,lt.maxContours=ot.readUshort(it,st),st+=2,lt.maxCompositePoints=ot.readUshort(it,st),st+=2,lt.maxCompositeContours=ot.readUshort(it,st),st+=2,lt.maxZones=ot.readUshort(it,st),st+=2,lt.maxTwilightPoints=ot.readUshort(it,st),st+=2,lt.maxStorage=ot.readUshort(it,st),st+=2,lt.maxFunctionDefs=ot.readUshort(it,st),st+=2,lt.maxInstructionDefs=ot.readUshort(it,st),st+=2,lt.maxStackElements=ot.readUshort(it,st),st+=2,lt.maxSizeOfInstructions=ot.readUshort(it,st),st+=2,lt.maxComponentElements=ot.readUshort(it,st),st+=2,lt.maxComponentDepth=ot.readUshort(it,st),st+=2),lt},_e.name={},_e.name.parse=function(it,st,at){var ot=_e._bin,lt={};ot.readUshort(it,st),st+=2;var ct=ot.readUshort(it,st);st+=2,ot.readUshort(it,st);for(var ut,ft=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],ht=st+=2,pt=0;pt<ct;pt++){var dt=ot.readUshort(it,st);st+=2;var gt=ot.readUshort(it,st);st+=2;var vt=ot.readUshort(it,st);st+=2;var mt=ot.readUshort(it,st);st+=2;var xt=ot.readUshort(it,st);st+=2;var St=ot.readUshort(it,st);st+=2;var Et,bt=ft[mt],Tt=ht+12*ct+St;if(dt==0)Et=ot.readUnicode(it,Tt,xt/2);else if(dt==3&&gt==0)Et=ot.readUnicode(it,Tt,xt/2);else if(gt==0)Et=ot.readASCII(it,Tt,xt);else if(gt==1)Et=ot.readUnicode(it,Tt,xt/2);else if(gt==3)Et=ot.readUnicode(it,Tt,xt/2);else{if(dt!=1)throw"unknown encoding "+gt+", platformID: "+dt;Et=ot.readASCII(it,Tt,xt),console.debug("reading unknown MAC encoding "+gt+" as ASCII")}var At="p"+dt+","+vt.toString(16);lt[At]==null&&(lt[At]={}),lt[At][bt!==void 0?bt:mt]=Et,lt[At]._lang=vt}for(var Ct in lt)if(lt[Ct].postScriptName!=null&&lt[Ct]._lang==1033)return lt[Ct];for(var Ct in lt)if(lt[Ct].postScriptName!=null&&lt[Ct]._lang==0)return lt[Ct];for(var Ct in lt)if(lt[Ct].postScriptName!=null&&lt[Ct]._lang==3084)return lt[Ct];for(var Ct in lt)if(lt[Ct].postScriptName!=null)return lt[Ct];for(var Ct in lt){ut=Ct;break}return console.debug("returning name table with languageID "+lt[ut]._lang),lt[ut]},_e["OS/2"]={},_e["OS/2"].parse=function(it,st,at){var ot=_e._bin.readUshort(it,st);st+=2;var lt={};if(ot==0)_e["OS/2"].version0(it,st,lt);else if(ot==1)_e["OS/2"].version1(it,st,lt);else if(ot==2||ot==3||ot==4)_e["OS/2"].version2(it,st,lt);else{if(ot!=5)throw"unknown OS/2 table version: "+ot;_e["OS/2"].version5(it,st,lt)}return lt},_e["OS/2"].version0=function(it,st,at){var ot=_e._bin;return at.xAvgCharWidth=ot.readShort(it,st),st+=2,at.usWeightClass=ot.readUshort(it,st),st+=2,at.usWidthClass=ot.readUshort(it,st),st+=2,at.fsType=ot.readUshort(it,st),st+=2,at.ySubscriptXSize=ot.readShort(it,st),st+=2,at.ySubscriptYSize=ot.readShort(it,st),st+=2,at.ySubscriptXOffset=ot.readShort(it,st),st+=2,at.ySubscriptYOffset=ot.readShort(it,st),st+=2,at.ySuperscriptXSize=ot.readShort(it,st),st+=2,at.ySuperscriptYSize=ot.readShort(it,st),st+=2,at.ySuperscriptXOffset=ot.readShort(it,st),st+=2,at.ySuperscriptYOffset=ot.readShort(it,st),st+=2,at.yStrikeoutSize=ot.readShort(it,st),st+=2,at.yStrikeoutPosition=ot.readShort(it,st),st+=2,at.sFamilyClass=ot.readShort(it,st),st+=2,at.panose=ot.readBytes(it,st,10),st+=10,at.ulUnicodeRange1=ot.readUint(it,st),st+=4,at.ulUnicodeRange2=ot.readUint(it,st),st+=4,at.ulUnicodeRange3=ot.readUint(it,st),st+=4,at.ulUnicodeRange4=ot.readUint(it,st),st+=4,at.achVendID=[ot.readInt8(it,st),ot.readInt8(it,st+1),ot.readInt8(it,st+2),ot.readInt8(it,st+3)],st+=4,at.fsSelection=ot.readUshort(it,st),st+=2,at.usFirstCharIndex=ot.readUshort(it,st),st+=2,at.usLastCharIndex=ot.readUshort(it,st),st+=2,at.sTypoAscender=ot.readShort(it,st),st+=2,at.sTypoDescender=ot.readShort(it,st),st+=2,at.sTypoLineGap=ot.readShort(it,st),st+=2,at.usWinAscent=ot.readUshort(it,st),st+=2,at.usWinDescent=ot.readUshort(it,st),st+=2},_e["OS/2"].version1=function(it,st,at){var ot=_e._bin;return st=_e["OS/2"].version0(it,st,at),at.ulCodePageRange1=ot.readUint(it,st),st+=4,at.ulCodePageRange2=ot.readUint(it,st),st+=4},_e["OS/2"].version2=function(it,st,at){var ot=_e._bin;return st=_e["OS/2"].version1(it,st,at),at.sxHeight=ot.readShort(it,st),st+=2,at.sCapHeight=ot.readShort(it,st),st+=2,at.usDefault=ot.readUshort(it,st),st+=2,at.usBreak=ot.readUshort(it,st),st+=2,at.usMaxContext=ot.readUshort(it,st),st+=2},_e["OS/2"].version5=function(it,st,at){var ot=_e._bin;return st=_e["OS/2"].version2(it,st,at),at.usLowerOpticalPointSize=ot.readUshort(it,st),st+=2,at.usUpperOpticalPointSize=ot.readUshort(it,st),st+=2},_e.post={},_e.post.parse=function(it,st,at){var ot=_e._bin,lt={};return lt.version=ot.readFixed(it,st),st+=4,lt.italicAngle=ot.readFixed(it,st),st+=4,lt.underlinePosition=ot.readShort(it,st),st+=2,lt.underlineThickness=ot.readShort(it,st),st+=2,lt},_e==null&&(_e={}),_e.U==null&&(_e.U={}),_e.U.codeToGlyph=function(it,st){var at=it.cmap,ot=-1;if(at.p0e4!=null?ot=at.p0e4:at.p3e1!=null?ot=at.p3e1:at.p1e0!=null?ot=at.p1e0:at.p0e3!=null&&(ot=at.p0e3),ot==-1)throw"no familiar platform and encoding!";var lt=at.tables[ot];if(lt.format==0)return st>=lt.map.length?0:lt.map[st];if(lt.format==4){for(var ct=-1,ut=0;ut<lt.endCount.length;ut++)if(st<=lt.endCount[ut]){ct=ut;break}return ct==-1||lt.startCount[ct]>st?0:65535&(lt.idRangeOffset[ct]!=0?lt.glyphIdArray[st-lt.startCount[ct]+(lt.idRangeOffset[ct]>>1)-(lt.idRangeOffset.length-ct)]:st+lt.idDelta[ct])}if(lt.format==12){if(st>lt.groups[lt.groups.length-1][1])return 0;for(ut=0;ut<lt.groups.length;ut++){var ft=lt.groups[ut];if(ft[0]<=st&&st<=ft[1])return ft[2]+(st-ft[0])}return 0}throw"unknown cmap table format "+lt.format},_e.U.glyphToPath=function(it,st){var at={cmds:[],crds:[]};if(it.SVG&&it.SVG.entries[st]){var ot=it.SVG.entries[st];return ot==null?at:(typeof ot=="string"&&(ot=_e.SVG.toPath(ot),it.SVG.entries[st]=ot),ot)}if(it.CFF){var lt={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:it.CFF.Private?it.CFF.Private.defaultWidthX:0,open:!1},ct=it.CFF,ut=it.CFF.Private;if(ct.ROS){for(var ft=0;ct.FDSelect[ft+2]<=st;)ft+=2;ut=ct.FDArray[ct.FDSelect[ft+1]].Private}_e.U._drawCFF(it.CFF.CharStrings[st],lt,ct,ut,at)}else it.glyf&&_e.U._drawGlyf(st,it,at);return at},_e.U._drawGlyf=function(it,st,at){var ot=st.glyf[it];ot==null&&(ot=st.glyf[it]=_e.glyf._parseGlyf(st,it)),ot!=null&&(ot.noc>-1?_e.U._simpleGlyph(ot,at):_e.U._compoGlyph(ot,st,at))},_e.U._simpleGlyph=function(it,st){for(var at=0;at<it.noc;at++){for(var ot=at==0?0:it.endPts[at-1]+1,lt=it.endPts[at],ct=ot;ct<=lt;ct++){var ut=ct==ot?lt:ct-1,ft=ct==lt?ot:ct+1,ht=1&it.flags[ct],pt=1&it.flags[ut],dt=1&it.flags[ft],gt=it.xs[ct],vt=it.ys[ct];if(ct==ot)if(ht){if(!pt){_e.U.P.moveTo(st,gt,vt);continue}_e.U.P.moveTo(st,it.xs[ut],it.ys[ut])}else pt?_e.U.P.moveTo(st,it.xs[ut],it.ys[ut]):_e.U.P.moveTo(st,(it.xs[ut]+gt)/2,(it.ys[ut]+vt)/2);ht?pt&&_e.U.P.lineTo(st,gt,vt):dt?_e.U.P.qcurveTo(st,gt,vt,it.xs[ft],it.ys[ft]):_e.U.P.qcurveTo(st,gt,vt,(gt+it.xs[ft])/2,(vt+it.ys[ft])/2)}_e.U.P.closePath(st)}},_e.U._compoGlyph=function(it,st,at){for(var ot=0;ot<it.parts.length;ot++){var lt={cmds:[],crds:[]},ct=it.parts[ot];_e.U._drawGlyf(ct.glyphIndex,st,lt);for(var ut=ct.m,ft=0;ft<lt.crds.length;ft+=2){var ht=lt.crds[ft],pt=lt.crds[ft+1];at.crds.push(ht*ut.a+pt*ut.b+ut.tx),at.crds.push(ht*ut.c+pt*ut.d+ut.ty)}for(ft=0;ft<lt.cmds.length;ft++)at.cmds.push(lt.cmds[ft])}},_e.U._getGlyphClass=function(it,st){var at=_e._lctf.getInterval(st,it);return at==-1?0:st[at+2]},_e.U._applySubs=function(it,st,at,ot){for(var lt=it.length-st-1,ct=0;ct<at.tabs.length;ct++)if(at.tabs[ct]!=null){var ut,ft=at.tabs[ct];if(!ft.coverage||(ut=_e._lctf.coverageIndex(ft.coverage,it[st]))!=-1){if(at.ltype==1)it[st],ft.fmt==1?it[st]=it[st]+ft.delta:it[st]=ft.newg[ut];else if(at.ltype==4)for(var ht=ft.vals[ut],pt=0;pt<ht.length;pt++){var dt=ht[pt],gt=dt.chain.length;if(!(gt>lt)){for(var vt=!0,mt=0,xt=0;xt<gt;xt++){for(;it[st+mt+(1+xt)]==-1;)mt++;dt.chain[xt]!=it[st+mt+(1+xt)]&&(vt=!1)}if(vt){for(it[st]=dt.nglyph,xt=0;xt<gt+mt;xt++)it[st+xt+1]=-1;break}}}else if(at.ltype==5&&ft.fmt==2)for(var St=_e._lctf.getInterval(ft.cDef,it[st]),Et=ft.cDef[St+2],bt=ft.scset[Et],Tt=0;Tt<bt.length;Tt++){var At=bt[Tt],Ct=At.input;if(!(Ct.length>lt)){for(vt=!0,xt=0;xt<Ct.length;xt++){var Pt=_e._lctf.getInterval(ft.cDef,it[st+1+xt]);if(St==-1&&ft.cDef[Pt+2]!=Ct[xt]){vt=!1;break}}if(vt){var It=At.substLookupRecords;for(pt=0;pt<It.length;pt+=2)It[pt],It[pt+1]}}}else if(at.ltype==6&&ft.fmt==3){if(!_e.U._glsCovered(it,ft.backCvg,st-ft.backCvg.length)||!_e.U._glsCovered(it,ft.inptCvg,st)||!_e.U._glsCovered(it,ft.ahedCvg,st+ft.inptCvg.length))continue;var Lt=ft.lookupRec;for(Tt=0;Tt<Lt.length;Tt+=2){St=Lt[Tt];var Vt=ot[Lt[Tt+1]];_e.U._applySubs(it,st+St,Vt,ot)}}}}},_e.U._glsCovered=function(it,st,at){for(var ot=0;ot<st.length;ot++)if(_e._lctf.coverageIndex(st[ot],it[at+ot])==-1)return!1;return!0},_e.U.glyphsToPath=function(it,st,at){for(var ot={cmds:[],crds:[]},lt=0,ct=0;ct<st.length;ct++){var ut=st[ct];if(ut!=-1){for(var ft=ct<st.length-1&&st[ct+1]!=-1?st[ct+1]:0,ht=_e.U.glyphToPath(it,ut),pt=0;pt<ht.crds.length;pt+=2)ot.crds.push(ht.crds[pt]+lt),ot.crds.push(ht.crds[pt+1]);for(at&&ot.cmds.push(at),pt=0;pt<ht.cmds.length;pt++)ot.cmds.push(ht.cmds[pt]);at&&ot.cmds.push("X"),lt+=it.hmtx.aWidth[ut],ct<st.length-1&&(lt+=_e.U.getPairAdjustment(it,ut,ft))}}return ot},_e.U.P={},_e.U.P.moveTo=function(it,st,at){it.cmds.push("M"),it.crds.push(st,at)},_e.U.P.lineTo=function(it,st,at){it.cmds.push("L"),it.crds.push(st,at)},_e.U.P.curveTo=function(it,st,at,ot,lt,ct,ut){it.cmds.push("C"),it.crds.push(st,at,ot,lt,ct,ut)},_e.U.P.qcurveTo=function(it,st,at,ot,lt){it.cmds.push("Q"),it.crds.push(st,at,ot,lt)},_e.U.P.closePath=function(it){it.cmds.push("Z")},_e.U._drawCFF=function(it,st,at,ot,lt){for(var ct=st.stack,ut=st.nStems,ft=st.haveWidth,ht=st.width,pt=st.open,dt=0,gt=st.x,vt=st.y,mt=0,xt=0,St=0,Et=0,bt=0,Tt=0,At=0,Ct=0,Pt=0,It=0,Lt={val:0,size:0};dt<it.length;){_e.CFF.getCharString(it,dt,Lt);var Vt=Lt.val;if(dt+=Lt.size,Vt=="o1"||Vt=="o18")ct.length%2!=0&&!ft&&(ht=ct.shift()+ot.nominalWidthX),ut+=ct.length>>1,ct.length=0,ft=!0;else if(Vt=="o3"||Vt=="o23")ct.length%2!=0&&!ft&&(ht=ct.shift()+ot.nominalWidthX),ut+=ct.length>>1,ct.length=0,ft=!0;else if(Vt=="o4")ct.length>1&&!ft&&(ht=ct.shift()+ot.nominalWidthX,ft=!0),pt&&_e.U.P.closePath(lt),vt+=ct.pop(),_e.U.P.moveTo(lt,gt,vt),pt=!0;else if(Vt=="o5")for(;ct.length>0;)gt+=ct.shift(),vt+=ct.shift(),_e.U.P.lineTo(lt,gt,vt);else if(Vt=="o6"||Vt=="o7")for(var Ut=ct.length,Ot=Vt=="o6",zt=0;zt<Ut;zt++){var Dt=ct.shift();Ot?gt+=Dt:vt+=Dt,Ot=!Ot,_e.U.P.lineTo(lt,gt,vt)}else if(Vt=="o8"||Vt=="o24"){Ut=ct.length;for(var $t=0;$t+6<=Ut;)mt=gt+ct.shift(),xt=vt+ct.shift(),St=mt+ct.shift(),Et=xt+ct.shift(),gt=St+ct.shift(),vt=Et+ct.shift(),_e.U.P.curveTo(lt,mt,xt,St,Et,gt,vt),$t+=6;Vt=="o24"&&(gt+=ct.shift(),vt+=ct.shift(),_e.U.P.lineTo(lt,gt,vt))}else{if(Vt=="o11")break;if(Vt=="o1234"||Vt=="o1235"||Vt=="o1236"||Vt=="o1237")Vt=="o1234"&&(xt=vt,St=(mt=gt+ct.shift())+ct.shift(),It=Et=xt+ct.shift(),Tt=Et,Ct=vt,gt=(At=(bt=(Pt=St+ct.shift())+ct.shift())+ct.shift())+ct.shift(),_e.U.P.curveTo(lt,mt,xt,St,Et,Pt,It),_e.U.P.curveTo(lt,bt,Tt,At,Ct,gt,vt)),Vt=="o1235"&&(mt=gt+ct.shift(),xt=vt+ct.shift(),St=mt+ct.shift(),Et=xt+ct.shift(),Pt=St+ct.shift(),It=Et+ct.shift(),bt=Pt+ct.shift(),Tt=It+ct.shift(),At=bt+ct.shift(),Ct=Tt+ct.shift(),gt=At+ct.shift(),vt=Ct+ct.shift(),ct.shift(),_e.U.P.curveTo(lt,mt,xt,St,Et,Pt,It),_e.U.P.curveTo(lt,bt,Tt,At,Ct,gt,vt)),Vt=="o1236"&&(mt=gt+ct.shift(),xt=vt+ct.shift(),St=mt+ct.shift(),It=Et=xt+ct.shift(),Tt=Et,At=(bt=(Pt=St+ct.shift())+ct.shift())+ct.shift(),Ct=Tt+ct.shift(),gt=At+ct.shift(),_e.U.P.curveTo(lt,mt,xt,St,Et,Pt,It),_e.U.P.curveTo(lt,bt,Tt,At,Ct,gt,vt)),Vt=="o1237"&&(mt=gt+ct.shift(),xt=vt+ct.shift(),St=mt+ct.shift(),Et=xt+ct.shift(),Pt=St+ct.shift(),It=Et+ct.shift(),bt=Pt+ct.shift(),Tt=It+ct.shift(),At=bt+ct.shift(),Ct=Tt+ct.shift(),Math.abs(At-gt)>Math.abs(Ct-vt)?gt=At+ct.shift():vt=Ct+ct.shift(),_e.U.P.curveTo(lt,mt,xt,St,Et,Pt,It),_e.U.P.curveTo(lt,bt,Tt,At,Ct,gt,vt));else if(Vt=="o14"){if(ct.length>0&&!ft&&(ht=ct.shift()+at.nominalWidthX,ft=!0),ct.length==4){var Mt=ct.shift(),Rt=ct.shift(),Nt=ct.shift(),Ft=ct.shift(),qt=_e.CFF.glyphBySE(at,Nt),Qt=_e.CFF.glyphBySE(at,Ft);_e.U._drawCFF(at.CharStrings[qt],st,at,ot,lt),st.x=Mt,st.y=Rt,_e.U._drawCFF(at.CharStrings[Qt],st,at,ot,lt)}pt&&(_e.U.P.closePath(lt),pt=!1)}else if(Vt=="o19"||Vt=="o20")ct.length%2!=0&&!ft&&(ht=ct.shift()+ot.nominalWidthX),ut+=ct.length>>1,ct.length=0,ft=!0,dt+=ut+7>>3;else if(Vt=="o21")ct.length>2&&!ft&&(ht=ct.shift()+ot.nominalWidthX,ft=!0),vt+=ct.pop(),gt+=ct.pop(),pt&&_e.U.P.closePath(lt),_e.U.P.moveTo(lt,gt,vt),pt=!0;else if(Vt=="o22")ct.length>1&&!ft&&(ht=ct.shift()+ot.nominalWidthX,ft=!0),gt+=ct.pop(),pt&&_e.U.P.closePath(lt),_e.U.P.moveTo(lt,gt,vt),pt=!0;else if(Vt=="o25"){for(;ct.length>6;)gt+=ct.shift(),vt+=ct.shift(),_e.U.P.lineTo(lt,gt,vt);mt=gt+ct.shift(),xt=vt+ct.shift(),St=mt+ct.shift(),Et=xt+ct.shift(),gt=St+ct.shift(),vt=Et+ct.shift(),_e.U.P.curveTo(lt,mt,xt,St,Et,gt,vt)}else if(Vt=="o26")for(ct.length%2&&(gt+=ct.shift());ct.length>0;)mt=gt,xt=vt+ct.shift(),gt=St=mt+ct.shift(),vt=(Et=xt+ct.shift())+ct.shift(),_e.U.P.curveTo(lt,mt,xt,St,Et,gt,vt);else if(Vt=="o27")for(ct.length%2&&(vt+=ct.shift());ct.length>0;)xt=vt,St=(mt=gt+ct.shift())+ct.shift(),Et=xt+ct.shift(),gt=St+ct.shift(),vt=Et,_e.U.P.curveTo(lt,mt,xt,St,Et,gt,vt);else if(Vt=="o10"||Vt=="o29"){var Kt=Vt=="o10"?ot:at;if(ct.length==0)console.debug("error: empty stack");else{var Zt=ct.pop(),tn=Kt.Subrs[Zt+Kt.Bias];st.x=gt,st.y=vt,st.nStems=ut,st.haveWidth=ft,st.width=ht,st.open=pt,_e.U._drawCFF(tn,st,at,ot,lt),gt=st.x,vt=st.y,ut=st.nStems,ft=st.haveWidth,ht=st.width,pt=st.open}}else if(Vt=="o30"||Vt=="o31"){var en=ct.length,un=($t=0,Vt=="o31");for($t+=en-(Ut=-3&en);$t<Ut;)un?(xt=vt,St=(mt=gt+ct.shift())+ct.shift(),vt=(Et=xt+ct.shift())+ct.shift(),Ut-$t==5?(gt=St+ct.shift(),$t++):gt=St,un=!1):(mt=gt,xt=vt+ct.shift(),St=mt+ct.shift(),Et=xt+ct.shift(),gt=St+ct.shift(),Ut-$t==5?(vt=Et+ct.shift(),$t++):vt=Et,un=!0),_e.U.P.curveTo(lt,mt,xt,St,Et,gt,vt),$t+=4}else{if((Vt+"").charAt(0)=="o")throw console.debug("Unknown operation: "+Vt,it),Vt;ct.push(Vt)}}}st.x=gt,st.y=vt,st.nStems=ut,st.haveWidth=ft,st.width=ht,st.open=pt};var nt=_e,rt={Typr:nt};return tt.Typr=nt,tt.default=rt,Object.defineProperty(tt,"__esModule",{value:!0}),tt}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function woff2otfFactory(){return function(tt){var _e=Uint8Array,nt=Uint16Array,rt=Uint32Array,it=new _e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),st=new _e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),at=new _e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ot=function(Vt,Ut){for(var Ot=new nt(31),zt=0;zt<31;++zt)Ot[zt]=Ut+=1<<Vt[zt-1];var Dt=new rt(Ot[30]);for(zt=1;zt<30;++zt)for(var $t=Ot[zt];$t<Ot[zt+1];++$t)Dt[$t]=$t-Ot[zt]<<5|zt;return[Ot,Dt]},lt=ot(it,2),ct=lt[0],ut=lt[1];ct[28]=258,ut[258]=28;for(var ft=ot(st,0)[0],ht=new nt(32768),pt=0;pt<32768;++pt){var dt=(43690&pt)>>>1|(21845&pt)<<1;dt=(61680&(dt=(52428&dt)>>>2|(13107&dt)<<2))>>>4|(3855&dt)<<4,ht[pt]=((65280&dt)>>>8|(255&dt)<<8)>>>1}var gt=function(Vt,Ut,Ot){for(var zt=Vt.length,Dt=0,$t=new nt(Ut);Dt<zt;++Dt)++$t[Vt[Dt]-1];var Mt,Rt=new nt(Ut);for(Dt=0;Dt<Ut;++Dt)Rt[Dt]=Rt[Dt-1]+$t[Dt-1]<<1;{Mt=new nt(1<<Ut);var Nt=15-Ut;for(Dt=0;Dt<zt;++Dt)if(Vt[Dt])for(var Ft=Dt<<4|Vt[Dt],qt=Ut-Vt[Dt],Qt=Rt[Vt[Dt]-1]++<<qt,Kt=Qt|(1<<qt)-1;Qt<=Kt;++Qt)Mt[ht[Qt]>>>Nt]=Ft}return Mt},vt=new _e(288);for(pt=0;pt<144;++pt)vt[pt]=8;for(pt=144;pt<256;++pt)vt[pt]=9;for(pt=256;pt<280;++pt)vt[pt]=7;for(pt=280;pt<288;++pt)vt[pt]=8;var mt=new _e(32);for(pt=0;pt<32;++pt)mt[pt]=5;var xt=gt(vt,9),St=gt(mt,5),Et=function(Vt){for(var Ut=Vt[0],Ot=1;Ot<Vt.length;++Ot)Vt[Ot]>Ut&&(Ut=Vt[Ot]);return Ut},bt=function(Vt,Ut,Ot){var zt=Ut/8|0;return(Vt[zt]|Vt[zt+1]<<8)>>(7&Ut)&Ot},Tt=function(Vt,Ut){var Ot=Ut/8|0;return(Vt[Ot]|Vt[Ot+1]<<8|Vt[Ot+2]<<16)>>(7&Ut)},At=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ct=function(Vt,Ut,Ot){var zt=new Error(Ut||At[Vt]);if(zt.code=Vt,Error.captureStackTrace&&Error.captureStackTrace(zt,Ct),!Ot)throw zt;return zt},Pt=function(Vt,Ut,Ot){var zt=Vt.length;if(!zt||Ot&&!Ot.l&&zt<5)return Ut||new _e(0);var Dt=!Ut||Ot,$t=!Ot||Ot.i;Ot||(Ot={}),Ut||(Ut=new _e(3*zt));var Mt,Rt=function(On){var rr=Ut.length;if(On>rr){var nr=new _e(Math.max(2*rr,On));nr.set(Ut),Ut=nr}},Nt=Ot.f||0,Ft=Ot.p||0,qt=Ot.b||0,Qt=Ot.l,Kt=Ot.d,Zt=Ot.m,tn=Ot.n,en=8*zt;do{if(!Qt){Ot.f=Nt=bt(Vt,Ft,1);var un=bt(Vt,Ft+1,3);if(Ft+=3,!un){var Cn=Vt[(Tn=((Mt=Ft)/8|0)+(7&Mt&&1)+4)-4]|Vt[Tn-3]<<8,Rn=Tn+Cn;if(Rn>zt){$t&&Ct(0);break}Dt&&Rt(qt+Cn),Ut.set(Vt.subarray(Tn,Rn),qt),Ot.b=qt+=Cn,Ot.p=Ft=8*Rn;continue}if(un==1)Qt=xt,Kt=St,Zt=9,tn=5;else if(un==2){var Mn=bt(Vt,Ft,31)+257,ln=bt(Vt,Ft+10,15)+4,gn=Mn+bt(Vt,Ft+5,31)+1;Ft+=14;for(var Yt=new _e(gn),Fn=new _e(19),wn=0;wn<ln;++wn)Fn[at[wn]]=bt(Vt,Ft+3*wn,7);Ft+=3*ln;var Vn=Et(Fn),xn=(1<<Vn)-1,Bn=gt(Fn,Vn);for(wn=0;wn<gn;){var Tn,Wt=Bn[bt(Vt,Ft,xn)];if(Ft+=15&Wt,(Tn=Wt>>>4)<16)Yt[wn++]=Tn;else{var Ht=0,an=0;for(Tn==16?(an=3+bt(Vt,Ft,3),Ft+=2,Ht=Yt[wn-1]):Tn==17?(an=3+bt(Vt,Ft,7),Ft+=3):Tn==18&&(an=11+bt(Vt,Ft,127),Ft+=7);an--;)Yt[wn++]=Ht}}var dn=Yt.subarray(0,Mn),mn=Yt.subarray(Mn);Zt=Et(dn),tn=Et(mn),Qt=gt(dn,Zt),Kt=gt(mn,tn)}else Ct(1);if(Ft>en){$t&&Ct(0);break}}Dt&&Rt(qt+131072);for(var En=(1<<Zt)-1,Dn=(1<<tn)-1,kn=Ft;;kn=Ft){var Nn=(Ht=Qt[Tt(Vt,Ft)&En])>>>4;if((Ft+=15&Ht)>en){$t&&Ct(0);break}if(Ht||Ct(2),Nn<256)Ut[qt++]=Nn;else{if(Nn==256){kn=Ft,Qt=null;break}var tr=Nn-254;if(Nn>264){var Un=it[wn=Nn-257];tr=bt(Vt,Ft,(1<<Un)-1)+ct[wn],Ft+=Un}var Kn=Kt[Tt(Vt,Ft)&Dn],Yn=Kn>>>4;if(Kn||Ct(3),Ft+=15&Kn,mn=ft[Yn],Yn>3&&(Un=st[Yn],mn+=Tt(Vt,Ft)&(1<<Un)-1,Ft+=Un),Ft>en){$t&&Ct(0);break}Dt&&Rt(qt+131072);for(var Wn=qt+tr;qt<Wn;qt+=4)Ut[qt]=Ut[qt-mn],Ut[qt+1]=Ut[qt+1-mn],Ut[qt+2]=Ut[qt+2-mn],Ut[qt+3]=Ut[qt+3-mn];qt=Wn}}Ot.l=Qt,Ot.p=kn,Ot.b=qt,Qt&&(Nt=1,Ot.m=Zt,Ot.d=Kt,Ot.n=tn)}while(!Nt);return qt==Ut.length?Ut:function(On,rr,nr){(nr==null||nr>On.length)&&(nr=On.length);var pr=new(On instanceof nt?nt:On instanceof rt?rt:_e)(nr-rr);return pr.set(On.subarray(rr,nr)),pr}(Ut,0,qt)},It=new _e(0),Lt=typeof TextDecoder<"u"&&new TextDecoder;try{Lt.decode(It,{stream:!0})}catch{}return tt.convert_streams=function(Vt){var Ut=new DataView(Vt),Ot=0;function zt(){var Mn=Ut.getUint16(Ot);return Ot+=2,Mn}function Dt(){var Mn=Ut.getUint32(Ot);return Ot+=4,Mn}function $t(Mn){Cn.setUint16(Rn,Mn),Rn+=2}function Mt(Mn){Cn.setUint32(Rn,Mn),Rn+=4}for(var Rt={signature:Dt(),flavor:Dt(),length:Dt(),numTables:zt(),reserved:zt(),totalSfntSize:Dt(),majorVersion:zt(),minorVersion:zt(),metaOffset:Dt(),metaLength:Dt(),metaOrigLength:Dt(),privOffset:Dt(),privLength:Dt()},Nt=0;Math.pow(2,Nt)<=Rt.numTables;)Nt++;Nt--;for(var Ft=16*Math.pow(2,Nt),qt=16*Rt.numTables-Ft,Qt=12,Kt=[],Zt=0;Zt<Rt.numTables;Zt++)Kt.push({tag:Dt(),offset:Dt(),compLength:Dt(),origLength:Dt(),origChecksum:Dt()}),Qt+=16;var tn,en=new Uint8Array(12+16*Kt.length+Kt.reduce(function(Mn,ln){return Mn+ln.origLength+4},0)),un=en.buffer,Cn=new DataView(un),Rn=0;return Mt(Rt.flavor),$t(Rt.numTables),$t(Ft),$t(Nt),$t(qt),Kt.forEach(function(Mn){Mt(Mn.tag),Mt(Mn.origChecksum),Mt(Qt),Mt(Mn.origLength),Mn.outOffset=Qt,(Qt+=Mn.origLength)%4!=0&&(Qt+=4-Qt%4)}),Kt.forEach(function(Mn){var ln,gn=Vt.slice(Mn.offset,Mn.offset+Mn.compLength);if(Mn.compLength!=Mn.origLength){var Yt=new Uint8Array(Mn.origLength);ln=new Uint8Array(gn,2),Pt(ln,Yt)}else Yt=new Uint8Array(gn);en.set(Yt,Mn.outOffset);var Fn=0;(Qt=Mn.outOffset+Mn.origLength)%4!=0&&(Fn=4-Qt%4),en.set(new Uint8Array(Fn).buffer,Mn.outOffset+Mn.origLength),tn=Qt+Fn}),un.slice(0,tn)},Object.defineProperty(tt,"__esModule",{value:!0}),tt}({}).convert_streams}function parserFactory(tt,_e){const nt={M:2,L:2,Q:4,C:6,Z:0},rt={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},it=1,st=2,at=4,ot=8,lt=16,ct=32;let ut;function ft(At){if(!ut){const Ct={R:st,L:it,D:at,C:lt,U:ct,T:ot};ut=new Map;for(let Pt in rt){let It=0;rt[Pt].split(",").forEach(Lt=>{let[Vt,Ut]=Lt.split("+");Vt=parseInt(Vt,36),Ut=Ut?parseInt(Ut,36):0,ut.set(It+=Vt,Ct[Pt]);for(let Ot=Ut;Ot--;)ut.set(++It,Ct[Pt])})}}return ut.get(At)||ct}const ht=1,pt=2,dt=3,gt=4,vt=[null,"isol","init","fina","medi"];function mt(At){const Ct=new Uint8Array(At.length);let Pt=ct,It=ht,Lt=-1;for(let Vt=0;Vt<At.length;Vt++){const Ut=At.codePointAt(Vt);let Ot=ft(Ut)|0,zt=ht;Ot&ot||(Pt&(it|at|lt)?Ot&(st|at|lt)?(zt=dt,(It===ht||It===dt)&&Ct[Lt]++):Ot&(it|ct)&&(It===pt||It===gt)&&Ct[Lt]--:Pt&(st|ct)&&(It===pt||It===gt)&&Ct[Lt]--,It=Ct[Vt]=zt,Pt=Ot,Lt=Vt,Ut>65535&&Vt++)}return Ct}function xt(At,Ct){const Pt=[];for(let Lt=0;Lt<Ct.length;Lt++){const Vt=Ct.codePointAt(Lt);Vt>65535&&Lt++,Pt.push(tt.U.codeToGlyph(At,Vt))}const It=At.GSUB;if(It){const{lookupList:Lt,featureList:Vt}=It;let Ut;const Ot=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,zt=[];Vt.forEach(Dt=>{if(Ot.test(Dt.tag))for(let $t=0;$t<Dt.tab.length;$t++){if(zt[Dt.tab[$t]])continue;zt[Dt.tab[$t]]=!0;const Mt=Lt[Dt.tab[$t]],Rt=/^(isol|init|fina|medi)$/.test(Dt.tag);Rt&&!Ut&&(Ut=mt(Ct));for(let Nt=0;Nt<Pt.length;Nt++)(!Ut||!Rt||vt[Ut[Nt]]===Dt.tag)&&tt.U._applySubs(Pt,Nt,Mt,Lt)}})}return Pt}function St(At,Ct){const Pt=new Int16Array(Ct.length*3);let It=0;for(;It<Ct.length;It++){const Ot=Ct[It];if(Ot===-1)continue;Pt[It*3+2]=At.hmtx.aWidth[Ot];const zt=At.GPOS;if(zt){const Dt=zt.lookupList;for(let $t=0;$t<Dt.length;$t++){const Mt=Dt[$t];for(let Rt=0;Rt<Mt.tabs.length;Rt++){const Nt=Mt.tabs[Rt];if(Mt.ltype===1){if(tt._lctf.coverageIndex(Nt.coverage,Ot)!==-1&&Nt.pos){Ut(Nt.pos,It);break}}else if(Mt.ltype===2){let Ft=null,qt=Lt();if(qt!==-1){const Qt=tt._lctf.coverageIndex(Nt.coverage,Ct[qt]);if(Qt!==-1){if(Nt.fmt===1){const Kt=Nt.pairsets[Qt];for(let Zt=0;Zt<Kt.length;Zt++)Kt[Zt].gid2===Ot&&(Ft=Kt[Zt])}else if(Nt.fmt===2){const Kt=tt.U._getGlyphClass(Ct[qt],Nt.classDef1),Zt=tt.U._getGlyphClass(Ot,Nt.classDef2);Ft=Nt.matrix[Kt][Zt]}if(Ft){Ft.val1&&Ut(Ft.val1,qt),Ft.val2&&Ut(Ft.val2,It);break}}}}else if(Mt.ltype===4){const Ft=tt._lctf.coverageIndex(Nt.markCoverage,Ot);if(Ft!==-1){const qt=Lt(Vt),Qt=qt===-1?-1:tt._lctf.coverageIndex(Nt.baseCoverage,Ct[qt]);if(Qt!==-1){const Kt=Nt.markArray[Ft],Zt=Nt.baseArray[Qt][Kt.markClass];Pt[It*3]=Zt.x-Kt.x+Pt[qt*3]-Pt[qt*3+2],Pt[It*3+1]=Zt.y-Kt.y+Pt[qt*3+1];break}}}else if(Mt.ltype===6){const Ft=tt._lctf.coverageIndex(Nt.mark1Coverage,Ot);if(Ft!==-1){const qt=Lt();if(qt!==-1){const Qt=Ct[qt];if(Et(At,Qt)===3){const Kt=tt._lctf.coverageIndex(Nt.mark2Coverage,Qt);if(Kt!==-1){const Zt=Nt.mark1Array[Ft],tn=Nt.mark2Array[Kt][Zt.markClass];Pt[It*3]=tn.x-Zt.x+Pt[qt*3]-Pt[qt*3+2],Pt[It*3+1]=tn.y-Zt.y+Pt[qt*3+1];break}}}}}}}}else if(At.kern&&!At.cff){const Dt=Lt();if(Dt!==-1){const $t=At.kern.glyph1.indexOf(Ct[Dt]);if($t!==-1){const Mt=At.kern.rval[$t].glyph2.indexOf(Ot);Mt!==-1&&(Pt[Dt*3+2]+=At.kern.rval[$t].vals[Mt])}}}}return Pt;function Lt(Ot){for(let zt=It-1;zt>=0;zt--)if(Ct[zt]!==-1&&(!Ot||Ot(Ct[zt])))return zt;return-1}function Vt(Ot){return Et(At,Ot)===1}function Ut(Ot,zt){for(let Dt=0;Dt<3;Dt++)Pt[zt*3+Dt]+=Ot[Dt]||0}}function Et(At,Ct){const Pt=At.GDEF&&At.GDEF.glyphClassDef;return Pt?tt.U._getGlyphClass(Ct,Pt):0}function bt(...At){for(let Ct=0;Ct<At.length;Ct++)if(typeof At[Ct]=="number")return At[Ct]}function Tt(At){const Ct=Object.create(null),Pt=At["OS/2"],It=At.hhea,Lt=At.head.unitsPerEm,Vt=bt(Pt&&Pt.sTypoAscender,It&&It.ascender,Lt),Ut={unitsPerEm:Lt,ascender:Vt,descender:bt(Pt&&Pt.sTypoDescender,It&&It.descender,0),capHeight:bt(Pt&&Pt.sCapHeight,Vt),xHeight:bt(Pt&&Pt.sxHeight,Vt),lineGap:bt(Pt&&Pt.sTypoLineGap,It&&It.lineGap),supportsCodePoint(Ot){return tt.U.codeToGlyph(At,Ot)>0},forEachGlyph(Ot,zt,Dt,$t){let Mt=0;const Rt=1/Ut.unitsPerEm*zt,Nt=xt(At,Ot);let Ft=0;const qt=St(At,Nt);return Nt.forEach((Qt,Kt)=>{if(Qt!==-1){let Zt=Ct[Qt];if(!Zt){const{cmds:tn,crds:en}=tt.U.glyphToPath(At,Qt);let un="",Cn=0;for(let Yt=0,Fn=tn.length;Yt<Fn;Yt++){const wn=nt[tn[Yt]];un+=tn[Yt];for(let Vn=1;Vn<=wn;Vn++)un+=(Vn>1?",":"")+en[Cn++]}let Rn,Mn,ln,gn;if(en.length){Rn=Mn=1/0,ln=gn=-1/0;for(let Yt=0,Fn=en.length;Yt<Fn;Yt+=2){let wn=en[Yt],Vn=en[Yt+1];wn<Rn&&(Rn=wn),Vn<Mn&&(Mn=Vn),wn>ln&&(ln=wn),Vn>gn&&(gn=Vn)}}else Rn=ln=Mn=gn=0;Zt=Ct[Qt]={index:Qt,advanceWidth:At.hmtx.aWidth[Qt],xMin:Rn,yMin:Mn,xMax:ln,yMax:gn,path:un}}$t.call(null,Zt,Mt+qt[Kt*3]*Rt,qt[Kt*3+1]*Rt,Ft),Mt+=qt[Kt*3+2]*Rt,Dt&&(Mt+=Dt*zt)}Ft+=Ot.codePointAt(Ft)>65535?2:1}),Mt}};return Ut}return function(Ct){const Pt=new Uint8Array(Ct,0,4),It=tt._bin.readASCII(Pt,0,4);if(It==="wOFF")Ct=_e(Ct);else if(It==="wOF2")throw new Error("woff2 fonts not supported");return Tt(tt.parse(Ct)[0])}}const workerModule=defineWorkerModule({name:"Typr Font Parser",dependencies:[typrFactory,woff2otfFactory,parserFactory],init(tt,_e,nt){const rt=tt(),it=_e();return nt(rt,it)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function unicodeFontResolverClientFactory(){return function(tt){var _e=function(){this.buckets=new Map};_e.prototype.add=function(St){var Et=St>>5;this.buckets.set(Et,(this.buckets.get(Et)||0)|1<<(31&St))},_e.prototype.has=function(St){var Et=this.buckets.get(St>>5);return Et!==void 0&&(Et&1<<(31&St))!=0},_e.prototype.serialize=function(){var St=[];return this.buckets.forEach(function(Et,bt){St.push((+bt).toString(36)+":"+Et.toString(36))}),St.join(",")},_e.prototype.deserialize=function(St){var Et=this;this.buckets.clear(),St.split(",").forEach(function(bt){var Tt=bt.split(":");Et.buckets.set(parseInt(Tt[0],36),parseInt(Tt[1],36))})};var nt=Math.pow(2,8),rt=nt-1,it=~rt;function st(St){var Et=function(Tt){return Tt&it}(St).toString(16),bt=function(Tt){return(Tt&it)+nt-1}(St).toString(16);return"codepoint-index/plane"+(St>>16)+"/"+Et+"-"+bt+".json"}function at(St,Et){var bt=St&rt,Tt=Et.codePointAt(bt/6|0);return((Tt=(Tt||48)-48)&1<<bt%6)!=0}function ot(St,Et){var bt;(bt=St,bt.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(Tt){return Tt.split("-").map(function(At){return parseInt(At.trim(),16)})})).forEach(function(Tt){var At=Tt[0],Ct=Tt[1];Ct===void 0&&(Ct=At),Et(At,Ct)})}function lt(St,Et){ot(St,function(bt,Tt){for(var At=bt;At<=Tt;At++)Et(At)})}var ct={},ut={},ft=new WeakMap,ht="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function pt(St){var Et=ft.get(St);return Et||(Et=new _e,lt(St.ranges,function(bt){return Et.add(bt)}),ft.set(St,Et)),Et}var dt,gt=new Map;function vt(St,Et,bt){return St[Et]?Et:St[bt]?bt:function(Tt){for(var At in Tt)return At}(St)}function mt(St,Et){var bt=Et;if(!St.includes(bt)){bt=1/0;for(var Tt=0;Tt<St.length;Tt++)Math.abs(St[Tt]-Et)<Math.abs(bt-Et)&&(bt=St[Tt])}return bt}function xt(St){return dt||(dt=new Set,lt("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(Et){dt.add(Et)})),dt.has(St)}return tt.CodePointSet=_e,tt.clearCache=function(){ct={},ut={}},tt.getFontsForString=function(St,Et){Et===void 0&&(Et={});var bt,Tt=Et.lang;Tt===void 0&&(Tt=new RegExp("\\p{Script=Hangul}","u").test(bt=St)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(bt)?"ja":"en");var At=Et.category;At===void 0&&(At="sans-serif");var Ct=Et.style;Ct===void 0&&(Ct="normal");var Pt=Et.weight;Pt===void 0&&(Pt=400);var It=(Et.dataUrl||ht).replace(/\/$/g,""),Lt=new Map,Vt=new Uint8Array(St.length),Ut={},Ot={},zt=new Array(St.length),Dt=new Map,$t=!1;function Mt(Ft){var qt=gt.get(Ft);return qt||(qt=fetch(It+"/"+Ft).then(function(Qt){if(!Qt.ok)throw new Error(Qt.statusText);return Qt.json().then(function(Kt){if(!Array.isArray(Kt)||Kt[0]!==1)throw new Error("Incorrect schema version; need 1, got "+Kt[0]);return Kt[1]})}).catch(function(Qt){if(It!==ht)return $t||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+It+'", trying default CDN. '+Qt.message),$t=!0),It=ht,gt.delete(Ft),Mt(Ft);throw Qt}),gt.set(Ft,qt)),qt}for(var Rt=function(Ft){var qt=St.codePointAt(Ft),Qt=st(qt);zt[Ft]=Qt,ct[Qt]||Dt.has(Qt)||Dt.set(Qt,Mt(Qt).then(function(Kt){ct[Qt]=Kt})),qt>65535&&(Ft++,Nt=Ft)},Nt=0;Nt<St.length;Nt++)Rt(Nt);return Promise.all(Dt.values()).then(function(){Dt.clear();for(var Ft=function(Qt){var Kt=St.codePointAt(Qt),Zt=null,tn=ct[zt[Qt]],en=void 0;for(var un in tn){var Cn=Ot[un];if(Cn===void 0&&(Cn=Ot[un]=new RegExp(un).test(Tt||"en")),Cn){for(var Rn in en=un,tn[un])if(at(Kt,tn[un][Rn])){Zt=Rn;break}break}}if(!Zt){e:for(var Mn in tn)if(Mn!==en){for(var ln in tn[Mn])if(at(Kt,tn[Mn][ln])){Zt=ln;break e}}}Zt||(console.debug("No font coverage for U+"+Kt.toString(16)),Zt="latin"),zt[Qt]=Zt,ut[Zt]||Dt.has(Zt)||Dt.set(Zt,Mt("font-meta/"+Zt+".json").then(function(gn){ut[Zt]=gn})),Kt>65535&&(Qt++,qt=Qt)},qt=0;qt<St.length;qt++)Ft(qt);return Promise.all(Dt.values())}).then(function(){for(var Ft,qt=null,Qt=0;Qt<St.length;Qt++){var Kt=St.codePointAt(Qt);if(qt&&(xt(Kt)||pt(qt).has(Kt)))Vt[Qt]=Vt[Qt-1];else{qt=ut[zt[Qt]];var Zt=Ut[qt.id];if(!Zt){var tn=qt.typeforms,en=vt(tn,At,"sans-serif"),un=vt(tn[en],Ct,"normal"),Cn=mt((Ft=tn[en])===null||Ft===void 0?void 0:Ft[un],Pt);Zt=Ut[qt.id]=It+"/font-files/"+qt.id+"/"+en+"."+un+"."+Cn+".woff"}var Rn=Lt.get(Zt);Rn==null&&(Rn=Lt.size,Lt.set(Zt,Rn)),Vt[Qt]=Rn}Kt>65535&&(Qt++,Vt[Qt]=Vt[Qt-1])}return{fontUrls:Array.from(Lt.keys()),chars:Vt}})},Object.defineProperty(tt,"__esModule",{value:!0}),tt}({})}function createFontResolver(tt,_e){const nt=Object.create(null),rt=Object.create(null);function it(at,ot){const lt=ct=>{console.error(`Failure loading font ${at}`,ct)};try{const ct=new XMLHttpRequest;ct.open("get",at,!0),ct.responseType="arraybuffer",ct.onload=function(){if(ct.status>=400)lt(new Error(ct.statusText));else if(ct.status>0)try{const ut=tt(ct.response);ut.src=at,ot(ut)}catch(ut){lt(ut)}},ct.onerror=lt,ct.send()}catch(ct){lt(ct)}}function st(at,ot){let lt=nt[at];lt?ot(lt):rt[at]?rt[at].push(ot):(rt[at]=[ot],it(at,ct=>{ct.src=at,nt[at]=ct,rt[at].forEach(ut=>ut(ct)),delete rt[at]}))}return function(at,ot,{lang:lt,fonts:ct=[],style:ut="normal",weight:ft="normal",unicodeFontsURL:ht}={}){const pt=new Uint8Array(at.length),dt=[];at.length||xt();const gt=new Map,vt=[];if(ut!=="italic"&&(ut="normal"),typeof ft!="number"&&(ft=ft==="bold"?700:400),ct&&!Array.isArray(ct)&&(ct=[ct]),ct=ct.slice().filter(Et=>!Et.lang||Et.lang.test(lt)).reverse(),ct.length){let At=0;(function Ct(Pt=0){for(let It=Pt,Lt=at.length;It<Lt;It++){const Vt=at.codePointAt(It);if(At===1&&dt[pt[It-1]].supportsCodePoint(Vt)||It>0&&/\s/.test(at[It]))pt[It]=pt[It-1],At===2&&(vt[vt.length-1][1]=It);else for(let Ut=pt[It],Ot=ct.length;Ut<=Ot;Ut++)if(Ut===Ot){const zt=At===2?vt[vt.length-1]:vt[vt.length]=[It,It];zt[1]=It,At=2}else{pt[It]=Ut;const{src:zt,unicodeRange:Dt}=ct[Ut];if(!Dt||St(Vt,Dt)){const $t=nt[zt];if(!$t){st(zt,()=>{Ct(It)});return}if($t.supportsCodePoint(Vt)){let Mt=gt.get($t);typeof Mt!="number"&&(Mt=dt.length,dt.push($t),gt.set($t,Mt)),pt[It]=Mt,At=1;break}}}Vt>65535&&It+1<Lt&&(pt[It+1]=pt[It],It++,At===2&&(vt[vt.length-1][1]=It))}mt()})()}else vt.push([0,at.length-1]),mt();function mt(){if(vt.length){const Et=vt.map(bt=>at.substring(bt[0],bt[1]+1)).join(`
`);_e.getFontsForString(Et,{lang:lt||void 0,style:ut,weight:ft,dataUrl:ht}).then(({fontUrls:bt,chars:Tt})=>{const At=dt.length;let Ct=0;vt.forEach(It=>{for(let Lt=0,Vt=It[1]-It[0];Lt<=Vt;Lt++)pt[It[0]+Lt]=Tt[Ct++]+At;Ct++});let Pt=0;bt.forEach((It,Lt)=>{st(It,Vt=>{dt[Lt+At]=Vt,++Pt===bt.length&&xt()})})})}else xt()}function xt(){ot({chars:pt,fonts:dt})}function St(Et,bt){for(let Tt=0;Tt<bt.length;Tt++){const[At,Ct=At]=bt[Tt];if(At<=Et&&Et<=Ct)return!0}return!1}}}const fontResolverWorkerModule=defineWorkerModule({name:"FontResolver",dependencies:[createFontResolver,workerModule,unicodeFontResolverClientFactory],init(tt,_e,nt){return tt(_e,nt())}});function createTypesetter(tt,_e){const rt=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,it="[^\\S\\u00A0]",st=new RegExp(`${it}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function at({text:dt,lang:gt,fonts:vt,style:mt,weight:xt,preResolvedFonts:St,unicodeFontsURL:Et},bt){const Tt=({chars:At,fonts:Ct})=>{let Pt,It;const Lt=[];for(let Vt=0;Vt<At.length;Vt++)At[Vt]!==It?(It=At[Vt],Lt.push(Pt={start:Vt,end:Vt,fontObj:Ct[At[Vt]]})):Pt.end=Vt;bt(Lt)};St?Tt(St):tt(dt,Tt,{lang:gt,fonts:vt,style:mt,weight:xt,unicodeFontsURL:Et})}function ot({text:dt="",font:gt,lang:vt,sdfGlyphSize:mt=64,fontSize:xt=400,fontWeight:St=1,fontStyle:Et="normal",letterSpacing:bt=0,lineHeight:Tt="normal",maxWidth:At=1/0,direction:Ct,textAlign:Pt="left",textIndent:It=0,whiteSpace:Lt="normal",overflowWrap:Vt="normal",anchorX:Ut=0,anchorY:Ot=0,metricsOnly:zt=!1,unicodeFontsURL:Dt,preResolvedFonts:$t=null,includeCaretPositions:Mt=!1,chunkedBoundsSize:Rt=8192,colorRanges:Nt=null},Ft){const qt=ft(),Qt={fontLoad:0,typesetting:0};dt.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),dt=dt.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),xt=+xt,bt=+bt,At=+At,Tt=Tt||"normal",It=+It,at({text:dt,lang:vt,style:Et,weight:St,fonts:typeof gt=="string"?[{src:gt}]:gt,unicodeFontsURL:Dt,preResolvedFonts:$t},Kt=>{Qt.fontLoad=ft()-qt;const Zt=isFinite(At);let tn=null,en=null,un=null,Cn=null,Rn=null,Mn=null,ln=null,gn=null,Yt=0,Fn=0,wn=Lt!=="nowrap";const Vn=new Map,xn=ft();let Bn=It,Tn=0,Wt=new ht;const Ht=[Wt];Kt.forEach(Dn=>{const{fontObj:kn}=Dn,{ascender:Nn,descender:tr,unitsPerEm:Un,lineGap:Kn,capHeight:Yn,xHeight:Wn}=kn;let On=Vn.get(kn);if(!On){const vn=xt/Un,bn=Tt==="normal"?(Nn-tr+Kn)*vn:Tt*xt,zn=(bn-(Nn-tr)*vn)/2,qn=Math.min(bn,(Nn-tr)*vn),Gn=(Nn+tr)/2*vn+qn/2;On={index:Vn.size,src:kn.src,fontObj:kn,fontSizeMult:vn,unitsPerEm:Un,ascender:Nn*vn,descender:tr*vn,capHeight:Yn*vn,xHeight:Wn*vn,lineHeight:bn,baseline:-zn-Nn*vn,caretTop:Gn,caretBottom:Gn-qn},Vn.set(kn,On)}const{fontSizeMult:rr}=On,nr=dt.slice(Dn.start,Dn.end+1);let pr,fn;kn.forEachGlyph(nr,xt,bt,(vn,bn,zn,qn)=>{bn+=Tn,qn+=Dn.start,pr=bn,fn=vn;const Gn=dt.charAt(qn),cr=vn.advanceWidth*rr,Er=Wt.count;let fr;if("isEmpty"in vn||(vn.isWhitespace=!!Gn&&new RegExp(it).test(Gn),vn.canBreakAfter=!!Gn&&st.test(Gn),vn.isEmpty=vn.xMin===vn.xMax||vn.yMin===vn.yMax||rt.test(Gn)),!vn.isWhitespace&&!vn.isEmpty&&Fn++,wn&&Zt&&!vn.isWhitespace&&bn+cr+Bn>At&&Er){if(Wt.glyphAt(Er-1).glyphObj.canBreakAfter)fr=new ht,Bn=-bn;else for(let Fr=Er;Fr--;)if(Fr===0&&Vt==="break-word"){fr=new ht,Bn=-bn;break}else if(Wt.glyphAt(Fr).glyphObj.canBreakAfter){fr=Wt.splitAt(Fr+1);const $r=fr.glyphAt(0).x;Bn-=$r;for(let jr=fr.count;jr--;)fr.glyphAt(jr).x-=$r;break}fr&&(Wt.isSoftWrapped=!0,Wt=fr,Ht.push(Wt),Yt=At)}let gr=Wt.glyphAt(Wt.count);gr.glyphObj=vn,gr.x=bn+Bn,gr.y=zn,gr.width=cr,gr.charIndex=qn,gr.fontData=On,Gn===`
`&&(Wt=new ht,Ht.push(Wt),Bn=-(bn+cr+bt*xt)+It)}),Tn=pr+fn.advanceWidth*rr+bt*xt});let an=0;Ht.forEach(Dn=>{let kn=!0;for(let Nn=Dn.count;Nn--;){const tr=Dn.glyphAt(Nn);kn&&!tr.glyphObj.isWhitespace&&(Dn.width=tr.x+tr.width,Dn.width>Yt&&(Yt=Dn.width),kn=!1);let{lineHeight:Un,capHeight:Kn,xHeight:Yn,baseline:Wn}=tr.fontData;Un>Dn.lineHeight&&(Dn.lineHeight=Un);const On=Wn-Dn.baseline;On<0&&(Dn.baseline+=On,Dn.cap+=On,Dn.ex+=On),Dn.cap=Math.max(Dn.cap,Dn.baseline+Kn),Dn.ex=Math.max(Dn.ex,Dn.baseline+Yn)}Dn.baseline-=an,Dn.cap-=an,Dn.ex-=an,an+=Dn.lineHeight});let dn=0,mn=0;if(Ut&&(typeof Ut=="number"?dn=-Ut:typeof Ut=="string"&&(dn=-Yt*(Ut==="left"?0:Ut==="center"?.5:Ut==="right"?1:ct(Ut)))),Ot&&(typeof Ot=="number"?mn=-Ot:typeof Ot=="string"&&(mn=Ot==="top"?0:Ot==="top-baseline"?-Ht[0].baseline:Ot==="top-cap"?-Ht[0].cap:Ot==="top-ex"?-Ht[0].ex:Ot==="middle"?an/2:Ot==="bottom"?an:Ot==="bottom-baseline"?-Ht[Ht.length-1].baseline:ct(Ot)*an)),!zt){const Dn=_e.getEmbeddingLevels(dt,Ct);tn=new Uint16Array(Fn),en=new Uint8Array(Fn),un=new Float32Array(Fn*2),Cn={},ln=[1/0,1/0,-1/0,-1/0],gn=[],Mt&&(Mn=new Float32Array(dt.length*4)),Nt&&(Rn=new Uint8Array(Fn*3));let kn=0,Nn=-1,tr=-1,Un,Kn;if(Ht.forEach((Yn,Wn)=>{let{count:On,width:rr}=Yn;if(On>0){let nr=0;for(let qn=On;qn--&&Yn.glyphAt(qn).glyphObj.isWhitespace;)nr++;let pr=0,fn=0;if(Pt==="center")pr=(Yt-rr)/2;else if(Pt==="right")pr=Yt-rr;else if(Pt==="justify"&&Yn.isSoftWrapped){let qn=0;for(let Gn=On-nr;Gn--;)Yn.glyphAt(Gn).glyphObj.isWhitespace&&qn++;fn=(Yt-rr)/qn}if(fn||pr){let qn=0;for(let Gn=0;Gn<On;Gn++){let cr=Yn.glyphAt(Gn);const Er=cr.glyphObj;cr.x+=pr+qn,fn!==0&&Er.isWhitespace&&Gn<On-nr&&(qn+=fn,cr.width+=fn)}}const vn=_e.getReorderSegments(dt,Dn,Yn.glyphAt(0).charIndex,Yn.glyphAt(Yn.count-1).charIndex);for(let qn=0;qn<vn.length;qn++){const[Gn,cr]=vn[qn];let Er=1/0,fr=-1/0;for(let gr=0;gr<On;gr++)if(Yn.glyphAt(gr).charIndex>=Gn){let Fr=gr,$r=gr;for(;$r<On;$r++){let jr=Yn.glyphAt($r);if(jr.charIndex>cr)break;$r<On-nr&&(Er=Math.min(Er,jr.x),fr=Math.max(fr,jr.x+jr.width))}for(let jr=Fr;jr<$r;jr++){const as=Yn.glyphAt(jr);as.x=fr-(as.x+as.width-Er)}break}}let bn;const zn=qn=>bn=qn;for(let qn=0;qn<On;qn++){const Gn=Yn.glyphAt(qn);bn=Gn.glyphObj;const cr=bn.index,Er=Dn.levels[Gn.charIndex]&1;if(Er){const fr=_e.getMirroredCharacter(dt[Gn.charIndex]);fr&&Gn.fontData.fontObj.forEachGlyph(fr,0,0,zn)}if(Mt){const{charIndex:fr,fontData:gr}=Gn,Fr=Gn.x+dn,$r=Gn.x+Gn.width+dn;Mn[fr*4]=Er?$r:Fr,Mn[fr*4+1]=Er?Fr:$r,Mn[fr*4+2]=Yn.baseline+gr.caretBottom+mn,Mn[fr*4+3]=Yn.baseline+gr.caretTop+mn;const jr=fr-Nn;jr>1&&ut(Mn,Nn,jr),Nn=fr}if(Nt){const{charIndex:fr}=Gn;for(;fr>tr;)tr++,Nt.hasOwnProperty(tr)&&(Kn=Nt[tr])}if(!bn.isWhitespace&&!bn.isEmpty){const fr=kn++,{fontSizeMult:gr,src:Fr,index:$r}=Gn.fontData,jr=Cn[Fr]||(Cn[Fr]={});jr[cr]||(jr[cr]={path:bn.path,pathBounds:[bn.xMin,bn.yMin,bn.xMax,bn.yMax]});const as=Gn.x+dn,zr=Gn.y+Yn.baseline+mn;un[fr*2]=as,un[fr*2+1]=zr;const ns=as+bn.xMin*gr,rs=zr+bn.yMin*gr,Yr=as+bn.xMax*gr,_r=zr+bn.yMax*gr;ns<ln[0]&&(ln[0]=ns),rs<ln[1]&&(ln[1]=rs),Yr>ln[2]&&(ln[2]=Yr),_r>ln[3]&&(ln[3]=_r),fr%Rt===0&&(Un={start:fr,end:fr,rect:[1/0,1/0,-1/0,-1/0]},gn.push(Un)),Un.end++;const Hr=Un.rect;if(ns<Hr[0]&&(Hr[0]=ns),rs<Hr[1]&&(Hr[1]=rs),Yr>Hr[2]&&(Hr[2]=Yr),_r>Hr[3]&&(Hr[3]=_r),tn[fr]=cr,en[fr]=$r,Nt){const fs=fr*3;Rn[fs]=Kn>>16&255,Rn[fs+1]=Kn>>8&255,Rn[fs+2]=Kn&255}}}}}),Mn){const Yn=dt.length-Nn;Yn>1&&ut(Mn,Nn,Yn)}}const En=[];Vn.forEach(({index:Dn,src:kn,unitsPerEm:Nn,ascender:tr,descender:Un,lineHeight:Kn,capHeight:Yn,xHeight:Wn})=>{En[Dn]={src:kn,unitsPerEm:Nn,ascender:tr,descender:Un,lineHeight:Kn,capHeight:Yn,xHeight:Wn}}),Qt.typesetting=ft()-xn,Ft({glyphIds:tn,glyphFontIndices:en,glyphPositions:un,glyphData:Cn,fontData:En,caretPositions:Mn,glyphColors:Rn,chunkedBounds:gn,fontSize:xt,topBaseline:mn+Ht[0].baseline,blockBounds:[dn,mn-an,dn+Yt,mn],visibleBounds:ln,timings:Qt})})}function lt(dt,gt){ot({...dt,metricsOnly:!0},vt=>{const[mt,xt,St,Et]=vt.blockBounds;gt({width:St-mt,height:Et-xt})})}function ct(dt){let gt=dt.match(/^([\d.]+)%$/),vt=gt?parseFloat(gt[1]):NaN;return isNaN(vt)?0:vt/100}function ut(dt,gt,vt){const mt=dt[gt*4],xt=dt[gt*4+1],St=dt[gt*4+2],Et=dt[gt*4+3],bt=(xt-mt)/vt;for(let Tt=0;Tt<vt;Tt++){const At=(gt+Tt)*4;dt[At]=mt+bt*Tt,dt[At+1]=mt+bt*(Tt+1),dt[At+2]=St,dt[At+3]=Et}}function ft(){return(self.performance||Date).now()}function ht(){this.data=[]}const pt=["glyphObj","x","y","width","charIndex","fontData"];return ht.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/pt.length)},glyphAt(dt){let gt=ht.flyweight;return gt.data=this.data,gt.index=dt,gt},splitAt(dt){let gt=new ht;return gt.data=this.data.splice(dt*pt.length),gt}},ht.flyweight=pt.reduce((dt,gt,vt,mt)=>(Object.defineProperty(dt,gt,{get(){return this.data[this.index*pt.length+vt]},set(xt){this.data[this.index*pt.length+vt]=xt}}),dt),{data:null,index:0}),{typeset:ot,measure:lt}}const now=()=>(self.performance||Date).now(),mainThreadGenerator=SDFGenerator();let warned;function generateSDF(tt,_e,nt,rt,it,st,at,ot,lt,ct,ut=!0){return ut?generateSDF_GL(tt,_e,nt,rt,it,st,at,ot,lt,ct).then(null,ft=>(warned||(console.warn("WebGL SDF generation failed, falling back to JS",ft),warned=!0),generateSDF_JS_Worker(tt,_e,nt,rt,it,st,at,ot,lt,ct))):generateSDF_JS_Worker(tt,_e,nt,rt,it,st,at,ot,lt,ct)}const queue=[],chunkTimeBudget=5;let timer=0;function nextChunk(){const tt=now();for(;queue.length&&now()-tt<chunkTimeBudget;)queue.shift()();timer=queue.length?setTimeout(nextChunk,0):0}const generateSDF_GL=(...tt)=>new Promise((_e,nt)=>{queue.push(()=>{const rt=now();try{mainThreadGenerator.webgl.generateIntoCanvas(...tt),_e({timing:now()-rt})}catch(it){nt(it)}}),timer||(timer=setTimeout(nextChunk,0))}),threadCount=4,idleTimeout=2e3,threads={};let callNum=0;function generateSDF_JS_Worker(tt,_e,nt,rt,it,st,at,ot,lt,ct){const ut="TroikaTextSDFGenerator_JS_"+callNum++%threadCount;let ft=threads[ut];return ft||(ft=threads[ut]={workerModule:defineWorkerModule({name:ut,workerId:ut,dependencies:[SDFGenerator,now],init(ht,pt){const dt=ht().javascript.generate;return function(...gt){const vt=pt();return{textureData:dt(...gt),timing:pt()-vt}}},getTransferables(ht){return[ht.textureData.buffer]}}),requests:0,idleTimer:null}),ft.requests++,clearTimeout(ft.idleTimer),ft.workerModule(tt,_e,nt,rt,it,st).then(({textureData:ht,timing:pt})=>{const dt=now(),gt=new Uint8Array(ht.length*4);for(let vt=0;vt<ht.length;vt++)gt[vt*4+ct]=ht[vt];return mainThreadGenerator.webglUtils.renderImageData(at,gt,ot,lt,tt,_e,1<<3-ct),pt+=now()-dt,--ft.requests===0&&(ft.idleTimer=setTimeout(()=>{terminateWorker(ut)},idleTimeout)),{timing:pt}})}function warmUpSDFCanvas(tt){tt._warm||(mainThreadGenerator.webgl.isSupported(tt),tt._warm=!0)}const resizeWebGLCanvasWithoutClearing=mainThreadGenerator.webglUtils.resizeWebGLCanvasWithoutClearing,CONFIG={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},tempColor=new Color;function now$1(){return(self.performance||Date).now()}const atlases=Object.create(null);function getTextRenderInfo(tt,_e){tt=assign({},tt);const nt=now$1(),{defaultFontURL:rt}=CONFIG,it=[];if(rt&&it.push({label:"default",src:toAbsoluteURL(rt)}),tt.font&&it.push({label:"user",src:toAbsoluteURL(tt.font)}),tt.font=it,tt.text=""+tt.text,tt.sdfGlyphSize=tt.sdfGlyphSize||CONFIG.sdfGlyphSize,tt.unicodeFontsURL=tt.unicodeFontsURL||CONFIG.unicodeFontsURL,tt.colorRanges!=null){let pt={};for(let dt in tt.colorRanges)if(tt.colorRanges.hasOwnProperty(dt)){let gt=tt.colorRanges[dt];typeof gt!="number"&&(gt=tempColor.set(gt).getHex()),pt[dt]=gt}tt.colorRanges=pt}Object.freeze(tt);const{textureWidth:st,sdfExponent:at}=CONFIG,{sdfGlyphSize:ot}=tt,lt=st/ot*4;let ct=atlases[ot];if(!ct){const pt=document.createElement("canvas");pt.width=st,pt.height=ot*256/lt,ct=atlases[ot]={glyphCount:0,sdfGlyphSize:ot,sdfCanvas:pt,sdfTexture:new Texture(pt,void 0,void 0,void 0,LinearFilter,LinearFilter),contextLost:!1,glyphsByFont:new Map},ct.sdfTexture.generateMipmaps=!1,initContextLossHandling(ct)}const{sdfTexture:ut,sdfCanvas:ft}=ct;typesetInWorker(tt).then(pt=>{const{glyphIds:dt,glyphFontIndices:gt,fontData:vt,glyphPositions:mt,fontSize:xt,timings:St}=pt,Et=[],bt=new Float32Array(dt.length*4);let Tt=0,At=0;const Ct=now$1(),Pt=vt.map(Ot=>{let zt=ct.glyphsByFont.get(Ot.src);return zt||ct.glyphsByFont.set(Ot.src,zt=new Map),zt});dt.forEach((Ot,zt)=>{const Dt=gt[zt],{src:$t,unitsPerEm:Mt}=vt[Dt];let Rt=Pt[Dt].get(Ot);if(!Rt){const{path:Kt,pathBounds:Zt}=pt.glyphData[$t][Ot],tn=Math.max(Zt[2]-Zt[0],Zt[3]-Zt[1])/ot*(CONFIG.sdfMargin*ot+.5),en=ct.glyphCount++,un=[Zt[0]-tn,Zt[1]-tn,Zt[2]+tn,Zt[3]+tn];Pt[Dt].set(Ot,Rt={path:Kt,atlasIndex:en,sdfViewBox:un}),Et.push(Rt)}const{sdfViewBox:Nt}=Rt,Ft=mt[At++],qt=mt[At++],Qt=xt/Mt;bt[Tt++]=Ft+Nt[0]*Qt,bt[Tt++]=qt+Nt[1]*Qt,bt[Tt++]=Ft+Nt[2]*Qt,bt[Tt++]=qt+Nt[3]*Qt,dt[zt]=Rt.atlasIndex}),St.quads=(St.quads||0)+(now$1()-Ct);const It=now$1();St.sdf={};const Lt=ft.height,Vt=Math.ceil(ct.glyphCount/lt),Ut=Math.pow(2,Math.ceil(Math.log2(Vt*ot)));Ut>Lt&&(console.info(`Increasing SDF texture size ${Lt}->${Ut}`),resizeWebGLCanvasWithoutClearing(ft,st,Ut),ut.dispose()),Promise.all(Et.map(Ot=>generateGlyphSDF(Ot,ct,tt.gpuAccelerateSDF).then(({timing:zt})=>{St.sdf[Ot.atlasIndex]=zt}))).then(()=>{Et.length&&!ct.contextLost&&(safariPre15Workaround(ct),ut.needsUpdate=!0),St.sdfTotal=now$1()-It,St.total=now$1()-nt,_e(Object.freeze({parameters:tt,sdfTexture:ut,sdfGlyphSize:ot,sdfExponent:at,glyphBounds:bt,glyphAtlasIndices:dt,glyphColors:pt.glyphColors,caretPositions:pt.caretPositions,chunkedBounds:pt.chunkedBounds,ascender:pt.ascender,descender:pt.descender,lineHeight:pt.lineHeight,capHeight:pt.capHeight,xHeight:pt.xHeight,topBaseline:pt.topBaseline,blockBounds:pt.blockBounds,visibleBounds:pt.visibleBounds,timings:pt.timings}))})}),Promise.resolve().then(()=>{ct.contextLost||warmUpSDFCanvas(ft)})}function generateGlyphSDF({path:tt,atlasIndex:_e,sdfViewBox:nt},{sdfGlyphSize:rt,sdfCanvas:it,contextLost:st},at){if(st)return Promise.resolve({timing:-1});const{textureWidth:ot,sdfExponent:lt}=CONFIG,ct=Math.max(nt[2]-nt[0],nt[3]-nt[1]),ut=Math.floor(_e/4),ft=ut%(ot/rt)*rt,ht=Math.floor(ut/(ot/rt))*rt,pt=_e%4;return generateSDF(rt,rt,tt,nt,ct,lt,it,ft,ht,pt,at)}function initContextLossHandling(tt){const _e=tt.sdfCanvas;_e.addEventListener("webglcontextlost",nt=>{console.log("Context Lost",nt),nt.preventDefault(),tt.contextLost=!0}),_e.addEventListener("webglcontextrestored",nt=>{console.log("Context Restored",nt),tt.contextLost=!1;const rt=[];tt.glyphsByFont.forEach(it=>{it.forEach(st=>{rt.push(generateGlyphSDF(st,tt,!0))})}),Promise.all(rt).then(()=>{safariPre15Workaround(tt),tt.sdfTexture.needsUpdate=!0})})}function preloadFont({font:tt,characters:_e,sdfGlyphSize:nt},rt){let it=Array.isArray(_e)?_e.join(`
`):""+_e;getTextRenderInfo({font:tt,sdfGlyphSize:nt,text:it},rt)}function assign(tt,_e){for(let nt in _e)_e.hasOwnProperty(nt)&&(tt[nt]=_e[nt]);return tt}let linkEl;function toAbsoluteURL(tt){return linkEl||(linkEl=typeof document>"u"?{}:document.createElement("a")),linkEl.href=tt,linkEl.href}function safariPre15Workaround(tt){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:_e,sdfTexture:nt}=tt,{width:rt,height:it}=_e,st=tt.sdfCanvas.getContext("webgl");let at=nt.image.data;(!at||at.length!==rt*it*4)&&(at=new Uint8Array(rt*it*4),nt.image={width:rt,height:it,data:at},nt.flipY=!1,nt.isDataTexture=!0),st.readPixels(0,0,rt,it,st.RGBA,st.UNSIGNED_BYTE,at)}}const typesetterWorkerModule=defineWorkerModule({name:"Typesetter",dependencies:[createTypesetter,fontResolverWorkerModule,bidiFactory],init(tt,_e,nt){return tt(_e,nt())}}),typesetInWorker=defineWorkerModule({name:"Typesetter",dependencies:[typesetterWorkerModule],init(tt){return function(_e){return new Promise(nt=>{tt.typeset(_e,nt)})}},getTransferables(tt){const _e=[];for(let nt in tt)tt[nt]&&tt[nt].buffer&&_e.push(tt[nt].buffer);return _e}});typesetInWorker.onMainThread;const templateGeometries={};function getTemplateGeometry(tt){let _e=templateGeometries[tt];return _e||(_e=templateGeometries[tt]=new PlaneGeometry(1,1,tt,tt).translate(.5,.5,0)),_e}const glyphBoundsAttrName="aTroikaGlyphBounds",glyphIndexAttrName="aTroikaGlyphIndex",glyphColorAttrName="aTroikaGlyphColor";class GlyphsGeometry extends InstancedBufferGeometry{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Sphere,this.boundingBox=new Box3}computeBoundingSphere(){}computeBoundingBox(){}set detail(_e){if(_e!==this._detail){this._detail=_e,(typeof _e!="number"||_e<1)&&(_e=1);let nt=getTemplateGeometry(_e);["position","normal","uv"].forEach(rt=>{this.attributes[rt]=nt.attributes[rt].clone()}),this.setIndex(nt.getIndex().clone())}}get detail(){return this._detail}set curveRadius(_e){_e!==this._curveRadius&&(this._curveRadius=_e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(_e,nt,rt,it,st){this.updateAttributeData(glyphBoundsAttrName,_e,4),this.updateAttributeData(glyphIndexAttrName,nt,1),this.updateAttributeData(glyphColorAttrName,st,3),this._blockBounds=rt,this._chunkedBounds=it,this.instanceCount=nt.length,this._updateBounds()}_updateBounds(){const _e=this._blockBounds;if(_e){const{curveRadius:nt,boundingBox:rt}=this;if(nt){const{PI:it,floor:st,min:at,max:ot,sin:lt,cos:ct}=Math,ut=it/2,ft=it*2,ht=Math.abs(nt),pt=_e[0]/ht,dt=_e[2]/ht,gt=st((pt+ut)/ft)!==st((dt+ut)/ft)?-ht:at(lt(pt)*ht,lt(dt)*ht),vt=st((pt-ut)/ft)!==st((dt-ut)/ft)?ht:ot(lt(pt)*ht,lt(dt)*ht),mt=st((pt+it)/ft)!==st((dt+it)/ft)?ht*2:ot(ht-ct(pt)*ht,ht-ct(dt)*ht);rt.min.set(gt,_e[1],nt<0?-mt:0),rt.max.set(vt,_e[3],nt<0?0:mt)}else rt.min.set(_e[0],_e[1],0),rt.max.set(_e[2],_e[3],0);rt.getBoundingSphere(this.boundingSphere)}}applyClipRect(_e){let nt=this.getAttribute(glyphIndexAttrName).count,rt=this._chunkedBounds;if(rt)for(let it=rt.length;it--;){nt=rt[it].end;let st=rt[it].rect;if(st[1]<_e.w&&st[3]>_e.y&&st[0]<_e.z&&st[2]>_e.x)break}this.instanceCount=nt}updateAttributeData(_e,nt,rt){const it=this.getAttribute(_e);nt?it&&it.array.length===nt.length?(it.array.set(nt),it.needsUpdate=!0):(this.setAttribute(_e,new InstancedBufferAttribute(nt,rt)),delete this._maxInstanceCount,this.dispose()):it&&this.deleteAttribute(_e)}}const VERTEX_DEFS=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,VERTEX_TRANSFORM=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,FRAGMENT_DEFS=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,FRAGMENT_TRANSFORM=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function createTextDerivedMaterial(tt){const _e=createDerivedMaterial(tt,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Vector4(0,0,0,0)},uTroikaClipRect:{value:new Vector4(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Vector2},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Color},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:VERTEX_DEFS,vertexTransform:VERTEX_TRANSFORM,fragmentDefs:FRAGMENT_DEFS,fragmentColorTransform:FRAGMENT_TRANSFORM,customRewriter({vertexShader:nt,fragmentShader:rt}){let it=/\buniform\s+vec3\s+diffuse\b/;return it.test(rt)&&(rt=rt.replace(it,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),it.test(nt)||(nt=nt.replace(voidMainRegExp,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:nt,fragmentShader:rt}}});return _e.transparent=!0,_e.forceSinglePass=!0,Object.defineProperties(_e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),_e}const defaultMaterial=new MeshBasicMaterial({color:16777215,side:DoubleSide,transparent:!0}),defaultStrokeColor=8421504,tempMat4=new Matrix4,tempVec3a=new Vector3,tempVec3b=new Vector3,tempArray=[],origin=new Vector3,defaultOrient="+x+y";function first(tt){return Array.isArray(tt)?tt[0]:tt}let getFlatRaycastMesh=()=>{const tt=new Mesh(new PlaneGeometry(1,1),defaultMaterial);return getFlatRaycastMesh=()=>tt,tt},getCurvedRaycastMesh=()=>{const tt=new Mesh(new PlaneGeometry(1,1,32,1),defaultMaterial);return getCurvedRaycastMesh=()=>tt,tt};const syncStartEvent={type:"syncstart"},syncCompleteEvent={type:"synccomplete"},SYNCABLE_PROPS=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],COPYABLE_PROPS=SYNCABLE_PROPS.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Text$1=class extends Mesh{constructor(){const _e=new GlyphsGeometry;super(_e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=defaultStrokeColor,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=defaultOrient,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(_e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(_e):(this._isSyncing=!0,this.dispatchEvent(syncStartEvent),getTextRenderInfo({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},nt=>{this._isSyncing=!1,this._textRenderInfo=nt,this.geometry.updateGlyphs(nt.glyphBounds,nt.glyphAtlasIndices,nt.blockBounds,nt.chunkedBounds,nt.glyphColors);const rt=this._queuedSyncs;rt&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{rt.forEach(it=>it&&it())})),this.dispatchEvent(syncCompleteEvent),_e&&_e()})))}onBeforeRender(_e,nt,rt,it,st,at){this.sync(),st.isTroikaTextMaterial&&this._prepareForRender(st)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(_e){return createTextDerivedMaterial(_e)}get material(){let _e=this._derivedMaterial;const nt=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=defaultMaterial.clone());if((!_e||!_e.isDerivedFrom(nt))&&(_e=this._derivedMaterial=this.createDerivedMaterial(nt),nt.addEventListener("dispose",function rt(){nt.removeEventListener("dispose",rt),_e.dispose()})),this.hasOutline()){let rt=_e._outlineMtl;return rt||(rt=_e._outlineMtl=Object.create(_e,{id:{value:_e.id+.1}}),rt.isTextOutlineMaterial=!0,rt.depthWrite=!1,rt.map=null,_e.addEventListener("dispose",function it(){_e.removeEventListener("dispose",it),rt.dispose()})),[rt,_e]}else return _e}set material(_e){_e&&_e.isTroikaTextMaterial?(this._derivedMaterial=_e,this._baseMaterial=_e.baseMaterial):this._baseMaterial=_e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(_e){this.geometry.detail=_e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(_e){this.geometry.curveRadius=_e}get customDepthMaterial(){return first(this.material).getDepthMaterial()}set customDepthMaterial(_e){}get customDistanceMaterial(){return first(this.material).getDistanceMaterial()}set customDistanceMaterial(_e){}_prepareForRender(_e){const nt=_e.isTextOutlineMaterial,rt=_e.uniforms,it=this.textRenderInfo;if(it){const{sdfTexture:ot,blockBounds:lt}=it;rt.uTroikaSDFTexture.value=ot,rt.uTroikaSDFTextureSize.value.set(ot.image.width,ot.image.height),rt.uTroikaSDFGlyphSize.value=it.sdfGlyphSize,rt.uTroikaSDFExponent.value=it.sdfExponent,rt.uTroikaTotalBounds.value.fromArray(lt),rt.uTroikaUseGlyphColors.value=!nt&&!!it.glyphColors;let ct=0,ut=0,ft=0,ht,pt,dt,gt=0,vt=0;if(nt){let{outlineWidth:xt,outlineOffsetX:St,outlineOffsetY:Et,outlineBlur:bt,outlineOpacity:Tt}=this;ct=this._parsePercent(xt)||0,ut=Math.max(0,this._parsePercent(bt)||0),ht=Tt,gt=this._parsePercent(St)||0,vt=this._parsePercent(Et)||0}else ft=Math.max(0,this._parsePercent(this.strokeWidth)||0),ft&&(dt=this.strokeColor,rt.uTroikaStrokeColor.value.set(dt??defaultStrokeColor),pt=this.strokeOpacity,pt==null&&(pt=1)),ht=this.fillOpacity;rt.uTroikaEdgeOffset.value=ct,rt.uTroikaPositionOffset.value.set(gt,vt),rt.uTroikaBlurRadius.value=ut,rt.uTroikaStrokeWidth.value=ft,rt.uTroikaStrokeOpacity.value=pt,rt.uTroikaFillOpacity.value=ht??1,rt.uTroikaCurveRadius.value=this.curveRadius||0;let mt=this.clipRect;if(mt&&Array.isArray(mt)&&mt.length===4)rt.uTroikaClipRect.value.fromArray(mt);else{const xt=(this.fontSize||.1)*100;rt.uTroikaClipRect.value.set(lt[0]-xt,lt[1]-xt,lt[2]+xt,lt[3]+xt)}this.geometry.applyClipRect(rt.uTroikaClipRect.value)}rt.uTroikaSDFDebug.value=!!this.debugSDF,_e.polygonOffset=!!this.depthOffset,_e.polygonOffsetFactor=_e.polygonOffsetUnits=this.depthOffset||0;const st=nt?this.outlineColor||0:this.color;if(st==null)delete _e.color;else{const ot=_e.hasOwnProperty("color")?_e.color:_e.color=new Color;(st!==ot._input||typeof st=="object")&&ot.set(ot._input=st)}let at=this.orientation||defaultOrient;if(at!==_e._orientation){let ot=rt.uTroikaOrient.value;at=at.replace(/[^-+xyz]/g,"");let lt=at!==defaultOrient&&at.match(/^([-+])([xyz])([-+])([xyz])$/);if(lt){let[,ct,ut,ft,ht]=lt;tempVec3a.set(0,0,0)[ut]=ct==="-"?1:-1,tempVec3b.set(0,0,0)[ht]=ft==="-"?-1:1,tempMat4.lookAt(origin,tempVec3a.cross(tempVec3b),tempVec3b),ot.setFromMatrix4(tempMat4)}else ot.identity();_e._orientation=at}}_parsePercent(_e){if(typeof _e=="string"){let nt=_e.match(/^(-?[\d.]+)%$/),rt=nt?parseFloat(nt[1]):NaN;_e=(isNaN(rt)?0:rt/100)*this.fontSize}return _e}localPositionToTextCoords(_e,nt=new Vector2){nt.copy(_e);const rt=this.curveRadius;return rt&&(nt.x=Math.atan2(_e.x,Math.abs(rt)-Math.abs(_e.z))*Math.abs(rt)),nt}worldPositionToTextCoords(_e,nt=new Vector2){return tempVec3a.copy(_e),this.localPositionToTextCoords(this.worldToLocal(tempVec3a),nt)}raycast(_e,nt){const{textRenderInfo:rt,curveRadius:it}=this;if(rt){const st=rt.blockBounds,at=it?getCurvedRaycastMesh():getFlatRaycastMesh(),ot=at.geometry,{position:lt,uv:ct}=ot.attributes;for(let ut=0;ut<ct.count;ut++){let ft=st[0]+ct.getX(ut)*(st[2]-st[0]);const ht=st[1]+ct.getY(ut)*(st[3]-st[1]);let pt=0;it&&(pt=it-Math.cos(ft/it)*it,ft=Math.sin(ft/it)*it),lt.setXYZ(ut,ft,ht,pt)}ot.boundingSphere=this.geometry.boundingSphere,ot.boundingBox=this.geometry.boundingBox,at.matrixWorld=this.matrixWorld,at.material.side=this.material.side,tempArray.length=0,at.raycast(_e,tempArray);for(let ut=0;ut<tempArray.length;ut++)tempArray[ut].object=this,nt.push(tempArray[ut])}}copy(_e){const nt=this.geometry;return super.copy(_e),this.geometry=nt,COPYABLE_PROPS.forEach(rt=>{this[rt]=_e[rt]}),this}clone(){return new this.constructor().copy(this)}};SYNCABLE_PROPS.forEach(tt=>{const _e="_private_"+tt;Object.defineProperty(Text$1.prototype,tt,{get(){return this[_e]},set(nt){nt!==this[_e]&&(this[_e]=nt,this._needsSync=!0)}})});new Box3;new Color;const Text=reactExports.forwardRef(({sdfGlyphSize:tt=64,anchorX:_e="center",anchorY:nt="middle",font:rt,fontSize:it=1,children:st,characters:at,onSync:ot,...lt},ct)=>{const ut=useThree(({invalidate:dt})=>dt),[ft]=reactExports.useState(()=>new Text$1),[ht,pt]=reactExports.useMemo(()=>{const dt=[];let gt="";return reactExports.Children.forEach(st,vt=>{typeof vt=="string"||typeof vt=="number"?gt+=vt:dt.push(vt)}),[dt,gt]},[st]);return suspend(()=>new Promise(dt=>preloadFont({font:rt,characters:at},dt)),["troika-text",rt,at]),reactExports.useLayoutEffect(()=>void ft.sync(()=>{ut(),ot&&ot(ft)})),reactExports.useEffect(()=>()=>ft.dispose(),[ft]),reactExports.createElement("primitive",_extends({object:ft,ref:ct,font:rt,text:pt,anchorX:_e,anchorY:nt,fontSize:it,sdfGlyphSize:tt},lt),ht)}),IsObject=tt=>tt===Object(tt)&&!Array.isArray(tt)&&typeof tt!="function";function useTexture(tt,_e){const nt=useThree(st=>st.gl),rt=useLoader(TextureLoader,IsObject(tt)?Object.values(tt):tt);return reactExports.useLayoutEffect(()=>{_e==null||_e(rt)},[_e]),reactExports.useEffect(()=>{if("initTexture"in nt){let st=[];Array.isArray(rt)?st=rt:rt instanceof Texture?st=[rt]:IsObject(rt)&&(st=Object.values(rt)),st.forEach(at=>{at instanceof Texture&&nt.initTexture(at)})}},[nt,rt]),reactExports.useMemo(()=>{if(IsObject(tt)){const st={};let at=0;for(const ot in tt)st[ot]=rt[at++];return st}else return rt},[tt,rt])}useTexture.preload=tt=>useLoader.preload(TextureLoader,tt);useTexture.clear=tt=>useLoader.clear(TextureLoader,tt);const LinearEncoding=3e3,sRGBEncoding=3001,getBufferForType=(tt,_e,nt)=>{let rt;switch(tt){case UnsignedByteType:rt=new Uint8ClampedArray(_e*nt*4);break;case HalfFloatType:rt=new Uint16Array(_e*nt*4);break;case UnsignedIntType:rt=new Uint32Array(_e*nt*4);break;case ByteType:rt=new Int8Array(_e*nt*4);break;case ShortType:rt=new Int16Array(_e*nt*4);break;case IntType:rt=new Int32Array(_e*nt*4);break;case FloatType:rt=new Float32Array(_e*nt*4);break;default:throw new Error("Unsupported data type")}return rt};let _canReadPixelsResult;const canReadPixels=(tt,_e,nt,rt)=>{if(_canReadPixelsResult!==void 0)return _canReadPixelsResult;const it=new WebGLRenderTarget(1,1,rt);_e.setRenderTarget(it);const st=new Mesh(new PlaneGeometry,new MeshBasicMaterial({color:16777215}));_e.render(st,nt),_e.setRenderTarget(null);const at=getBufferForType(tt,it.width,it.height);return _e.readRenderTargetPixels(it,0,0,it.width,it.height,at),it.dispose(),st.geometry.dispose(),st.material.dispose(),_canReadPixelsResult=at[0]!==0,_canReadPixelsResult};class QuadRenderer{constructor(_e){Zr(this,"_renderer");Zr(this,"_rendererIsDisposable",!1);Zr(this,"_material");Zr(this,"_scene");Zr(this,"_camera");Zr(this,"_quad");Zr(this,"_renderTarget");Zr(this,"_width");Zr(this,"_height");Zr(this,"_type");Zr(this,"_colorSpace");Zr(this,"_supportsReadPixels",!0);Zr(this,"render",()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(_e){throw this._renderer.setRenderTarget(null),_e}this._renderer.setRenderTarget(null)});var rt,it,st,at,ot,lt,ct,ut,ft,ht,pt,dt,gt,vt,mt,xt;this._width=_e.width,this._height=_e.height,this._type=_e.type,this._colorSpace=_e.colorSpace;const nt={format:RGBAFormat,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((rt=_e.renderTargetOptions)==null?void 0:rt.anisotropy)!==void 0?(it=_e.renderTargetOptions)==null?void 0:it.anisotropy:1,generateMipmaps:((st=_e.renderTargetOptions)==null?void 0:st.generateMipmaps)!==void 0?(at=_e.renderTargetOptions)==null?void 0:at.generateMipmaps:!1,magFilter:((ot=_e.renderTargetOptions)==null?void 0:ot.magFilter)!==void 0?(lt=_e.renderTargetOptions)==null?void 0:lt.magFilter:LinearFilter,minFilter:((ct=_e.renderTargetOptions)==null?void 0:ct.minFilter)!==void 0?(ut=_e.renderTargetOptions)==null?void 0:ut.minFilter:LinearFilter,samples:((ft=_e.renderTargetOptions)==null?void 0:ft.samples)!==void 0?(ht=_e.renderTargetOptions)==null?void 0:ht.samples:void 0,wrapS:((pt=_e.renderTargetOptions)==null?void 0:pt.wrapS)!==void 0?(dt=_e.renderTargetOptions)==null?void 0:dt.wrapS:ClampToEdgeWrapping,wrapT:((gt=_e.renderTargetOptions)==null?void 0:gt.wrapT)!==void 0?(vt=_e.renderTargetOptions)==null?void 0:vt.wrapT:ClampToEdgeWrapping};if(this._material=_e.material,_e.renderer?this._renderer=_e.renderer:(this._renderer=QuadRenderer.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new Scene,this._camera=new OrthographicCamera,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!canReadPixels(this._type,this._renderer,this._camera,nt)){let St;switch(this._type){case HalfFloatType:St=this._renderer.extensions.has("EXT_color_buffer_float")?FloatType:void 0;break}St!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${FloatType}`),this._type=St):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new Mesh(new PlaneGeometry,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new WebGLRenderTarget(this.width,this.height,nt),this._renderTarget.texture.mapping=((mt=_e.renderTargetOptions)==null?void 0:mt.mapping)!==void 0?(xt=_e.renderTargetOptions)==null?void 0:xt.mapping:UVMapping}static instantiateRenderer(){const _e=new WebGLRenderer;return _e.setSize(128,128),_e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const _e=getBufferForType(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,_e),_e}toDataTexture(_e){const nt=new DataTexture(this.toArray(),this.width,this.height,RGBAFormat,this._type,(_e==null?void 0:_e.mapping)||UVMapping,(_e==null?void 0:_e.wrapS)||ClampToEdgeWrapping,(_e==null?void 0:_e.wrapT)||ClampToEdgeWrapping,(_e==null?void 0:_e.magFilter)||LinearFilter,(_e==null?void 0:_e.minFilter)||LinearFilter,(_e==null?void 0:_e.anisotropy)||1,LinearSRGBColorSpace);return nt.generateMipmaps=(_e==null?void 0:_e.generateMipmaps)!==void 0?_e==null?void 0:_e.generateMipmaps:!1,nt}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(_e){this.disposeOnDemandRenderer(),_e&&this.renderTarget.dispose(),this.material instanceof ShaderMaterial&&Object.values(this.material.uniforms).forEach(nt=>{nt.value instanceof Texture&&nt.value.dispose()}),Object.values(this.material).forEach(nt=>{nt instanceof Texture&&nt.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(_e){this._width=_e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(_e){this._height=_e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(_e){this._renderTarget=_e,this._width=_e.width,this._height=_e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}class GainMapNotFoundError extends Error{}class XMPMetadataNotFoundError extends Error{}const getXMLValue=(tt,_e,nt)=>{const rt=new RegExp(`${_e}="([^"]*)"`,"i").exec(tt);if(rt)return rt[1];const it=new RegExp(`<${_e}[^>]*>([\\s\\S]*?)</${_e}>`,"i").exec(tt);if(it){const st=it[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return st&&st.length===3?st.map(at=>at.replace(/<\/?rdf:li>/g,"")):it[1].trim()}if(nt!==void 0)return nt;throw new Error(`Can't find ${_e} in gainmap metadata`)},extractXMP=tt=>{let _e;typeof TextDecoder<"u"?_e=new TextDecoder().decode(tt):_e=tt.toString();let nt=_e.indexOf("<x:xmpmeta");for(;nt!==-1;){const rt=_e.indexOf("x:xmpmeta>",nt),it=_e.slice(nt,rt+10);try{const st=getXMLValue(it,"hdrgm:GainMapMin","0"),at=getXMLValue(it,"hdrgm:GainMapMax"),ot=getXMLValue(it,"hdrgm:Gamma","1"),lt=getXMLValue(it,"hdrgm:OffsetSDR","0.015625"),ct=getXMLValue(it,"hdrgm:OffsetHDR","0.015625"),ut=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(it),ft=ut?ut[1]:"0",ht=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(it);if(!ht)throw new Error("Incomplete gainmap metadata");const pt=ht[1];return{gainMapMin:Array.isArray(st)?st.map(dt=>parseFloat(dt)):[parseFloat(st),parseFloat(st),parseFloat(st)],gainMapMax:Array.isArray(at)?at.map(dt=>parseFloat(dt)):[parseFloat(at),parseFloat(at),parseFloat(at)],gamma:Array.isArray(ot)?ot.map(dt=>parseFloat(dt)):[parseFloat(ot),parseFloat(ot),parseFloat(ot)],offsetSdr:Array.isArray(lt)?lt.map(dt=>parseFloat(dt)):[parseFloat(lt),parseFloat(lt),parseFloat(lt)],offsetHdr:Array.isArray(ct)?ct.map(dt=>parseFloat(dt)):[parseFloat(ct),parseFloat(ct),parseFloat(ct)],hdrCapacityMin:parseFloat(ft),hdrCapacityMax:parseFloat(pt)}}catch{}nt=_e.indexOf("<x:xmpmeta",rt)}};class MPFExtractor{constructor(_e){Zr(this,"options");this.options={debug:_e&&_e.debug!==void 0?_e.debug:!1,extractFII:_e&&_e.extractFII!==void 0?_e.extractFII:!0,extractNonFII:_e&&_e.extractNonFII!==void 0?_e.extractNonFII:!0}}extract(_e){return new Promise((nt,rt)=>{const it=this.options.debug,st=new DataView(_e.buffer);if(st.getUint16(0)!==65496){rt(new Error("Not a valid jpeg"));return}const at=st.byteLength;let ot=2,lt=0,ct;for(;ot<at;){if(++lt>250){rt(new Error(`Found no marker after ${lt} loops `));return}if(st.getUint8(ot)!==255){rt(new Error(`Not a valid marker at offset 0x${ot.toString(16)}, found: 0x${st.getUint8(ot).toString(16)}`));return}if(ct=st.getUint8(ot+1),it&&console.log(`Marker: ${ct.toString(16)}`),ct===226){it&&console.log("Found APP2 marker (0xffe2)");const ut=ot+4;if(st.getUint32(ut)===1297106432){const ft=ut+4;let ht;if(st.getUint16(ft)===18761)ht=!1;else if(st.getUint16(ft)===19789)ht=!0;else{rt(new Error("No valid endianness marker found in TIFF header"));return}if(st.getUint16(ft+2,!ht)!==42){rt(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const pt=st.getUint32(ft+4,!ht);if(pt<8){rt(new Error("Not valid TIFF data! (First offset less than 8)"));return}const dt=ft+pt,gt=st.getUint16(dt,!ht),vt=dt+2;let mt=0;for(let bt=vt;bt<vt+12*gt;bt+=12)st.getUint16(bt,!ht)===45057&&(mt=st.getUint32(bt+8,!ht));const St=dt+2+gt*12+4,Et=[];for(let bt=St;bt<St+mt*16;bt+=16){const Tt={MPType:st.getUint32(bt,!ht),size:st.getUint32(bt+4,!ht),dataOffset:st.getUint32(bt+8,!ht),dependantImages:st.getUint32(bt+12,!ht),start:-1,end:-1,isFII:!1};Tt.dataOffset?(Tt.start=ft+Tt.dataOffset,Tt.isFII=!1):(Tt.start=0,Tt.isFII=!0),Tt.end=Tt.start+Tt.size,Et.push(Tt)}if(this.options.extractNonFII&&Et.length){const bt=new Blob([st]),Tt=[];for(const At of Et){if(At.isFII&&!this.options.extractFII)continue;const Ct=bt.slice(At.start,At.end+1,"image/jpeg");Tt.push(Ct)}nt(Tt)}}}ot+=2+st.getUint16(ot+2)}})}}const extractGainmapFromJPEG=async tt=>{const _e=extractXMP(tt);if(!_e)throw new XMPMetadataNotFoundError("Gain map XMP metadata not found");const rt=await new MPFExtractor({extractFII:!0,extractNonFII:!0}).extract(tt);if(rt.length!==2)throw new GainMapNotFoundError("Gain map recovery image not found");return{sdr:new Uint8Array(await rt[0].arrayBuffer()),gainMap:new Uint8Array(await rt[1].arrayBuffer()),metadata:_e}},getHTMLImageFromBlob=tt=>new Promise((_e,nt)=>{const rt=document.createElement("img");rt.onload=()=>{_e(rt)},rt.onerror=it=>{nt(it)},rt.src=URL.createObjectURL(tt)});class LoaderBaseShared extends Loader$1{constructor(nt,rt){super(rt);Zr(this,"_renderer");Zr(this,"_renderTargetOptions");Zr(this,"_internalLoadingManager");Zr(this,"_config");this._config=nt,nt.renderer&&(this._renderer=nt.renderer),this._internalLoadingManager=new LoadingManager}setRenderer(nt){return this._renderer=nt,this}setRenderTargetOptions(nt){return this._renderTargetOptions=nt,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: A Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const nt=this._config.createMaterial({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new Texture,sdr:new Texture});return this._config.createQuadRenderer({width:16,height:16,type:HalfFloatType,colorSpace:LinearSRGBColorSpace,material:nt,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async processImages(nt,rt,it){const st=rt?new Blob([rt],{type:"image/jpeg"}):void 0,at=new Blob([nt],{type:"image/jpeg"});let ot,lt,ct=!1;if(typeof createImageBitmap>"u"){const ut=await Promise.all([st?getHTMLImageFromBlob(st):Promise.resolve(void 0),getHTMLImageFromBlob(at)]);lt=ut[0],ot=ut[1],ct=it==="flipY"}else{const ut=await Promise.all([st?createImageBitmap(st,{imageOrientation:it||"flipY"}):Promise.resolve(void 0),createImageBitmap(at,{imageOrientation:it||"flipY"})]);lt=ut[0],ot=ut[1]}return{sdrImage:ot,gainMapImage:lt,needsFlip:ct}}createTextures(nt,rt,it){const st=new Texture(rt||new ImageData(2,2),UVMapping,ClampToEdgeWrapping,ClampToEdgeWrapping,LinearFilter,LinearMipMapLinearFilter,RGBAFormat,UnsignedByteType,1,LinearSRGBColorSpace);st.flipY=it,st.needsUpdate=!0;const at=new Texture(nt,UVMapping,ClampToEdgeWrapping,ClampToEdgeWrapping,LinearFilter,LinearMipMapLinearFilter,RGBAFormat,UnsignedByteType,1,SRGBColorSpace);return at.flipY=it,at.needsUpdate=!0,{gainMap:st,sdr:at}}updateQuadRenderer(nt,rt,it,st,at){nt.width=rt.width,nt.height=rt.height,nt.material.gainMap=it,nt.material.sdr=st,nt.material.gainMapMin=at.gainMapMin,nt.material.gainMapMax=at.gainMapMax,nt.material.offsetHdr=at.offsetHdr,nt.material.offsetSdr=at.offsetSdr,nt.material.gamma=at.gamma,nt.material.hdrCapacityMin=at.hdrCapacityMin,nt.material.hdrCapacityMax=at.hdrCapacityMax,nt.material.maxDisplayBoost=Math.pow(2,at.hdrCapacityMax),nt.material.needsUpdate=!0}}const vertexShader=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,fragmentShader=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class GainMapDecoderMaterial extends ShaderMaterial{constructor({gamma:nt,offsetHdr:rt,offsetSdr:it,gainMapMin:st,gainMapMax:at,maxDisplayBoost:ot,hdrCapacityMin:lt,hdrCapacityMax:ct,sdr:ut,gainMap:ft}){super({name:"GainMapDecoderMaterial",vertexShader,fragmentShader,uniforms:{sdr:{value:ut},gainMap:{value:ft},gamma:{value:new Vector3(1/nt[0],1/nt[1],1/nt[2])},offsetHdr:{value:new Vector3().fromArray(rt)},offsetSdr:{value:new Vector3().fromArray(it)},gainMapMin:{value:new Vector3().fromArray(st)},gainMapMax:{value:new Vector3().fromArray(at)},weightFactor:{value:(Math.log2(ot)-lt)/(ct-lt)}},blending:NoBlending,depthTest:!1,depthWrite:!1});Zr(this,"_maxDisplayBoost");Zr(this,"_hdrCapacityMin");Zr(this,"_hdrCapacityMax");this._maxDisplayBoost=ot,this._hdrCapacityMin=lt,this._hdrCapacityMax=ct,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(nt){this.uniforms.sdr.value=nt}get gainMap(){return this.uniforms.gainMap.value}set gainMap(nt){this.uniforms.gainMap.value=nt}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(nt){this.uniforms.offsetHdr.value.fromArray(nt)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(nt){this.uniforms.offsetSdr.value.fromArray(nt)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(nt){this.uniforms.gainMapMin.value.fromArray(nt)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(nt){this.uniforms.gainMapMax.value.fromArray(nt)}get gamma(){const nt=this.uniforms.gamma.value;return[1/nt.x,1/nt.y,1/nt.z]}set gamma(nt){const rt=this.uniforms.gamma.value;rt.x=1/nt[0],rt.y=1/nt[1],rt.z=1/nt[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(nt){this._hdrCapacityMin=nt,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(nt){this._hdrCapacityMax=nt,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(nt){this._maxDisplayBoost=Math.max(1,Math.min(65504,nt)),this.calculateWeight()}calculateWeight(){const nt=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,nt))}}class LoaderBaseWebGL extends LoaderBaseShared{constructor(_e,nt){super({renderer:_e,createMaterial:rt=>new GainMapDecoderMaterial(rt),createQuadRenderer:rt=>new QuadRenderer(rt)},nt)}async render(_e,nt,rt,it){const{sdrImage:st,gainMapImage:at,needsFlip:ot}=await this.processImages(rt,it,"flipY"),{gainMap:lt,sdr:ct}=this.createTextures(st,at,ot);this.updateQuadRenderer(_e,st,lt,ct,nt),_e.render()}}class GainMapLoader extends LoaderBaseWebGL{load([_e,nt,rt],it,st,at){const ot=this.prepareQuadRenderer();let lt,ct,ut;const ft=async()=>{if(lt&&ct&&ut){try{await this.render(ot,ut,lt,ct)}catch(Pt){this.manager.itemError(_e),this.manager.itemError(nt),this.manager.itemError(rt),typeof at=="function"&&at(Pt),ot.disposeOnDemandRenderer();return}typeof it=="function"&&it(ot),this.manager.itemEnd(_e),this.manager.itemEnd(nt),this.manager.itemEnd(rt),ot.disposeOnDemandRenderer()}};let ht=!0,pt=0,dt=0,gt=!0,vt=0,mt=0,xt=!0,St=0,Et=0;const bt=()=>{if(typeof st=="function"){const Pt=pt+vt+St,It=dt+mt+Et,Lt=ht&&gt&&xt;st(new ProgressEvent("progress",{lengthComputable:Lt,loaded:It,total:Pt}))}};this.manager.itemStart(_e),this.manager.itemStart(nt),this.manager.itemStart(rt);const Tt=new FileLoader(this._internalLoadingManager);Tt.setResponseType("arraybuffer"),Tt.setRequestHeader(this.requestHeader),Tt.setPath(this.path),Tt.setWithCredentials(this.withCredentials),Tt.load(_e,async Pt=>{if(typeof Pt=="string")throw new Error("Invalid sdr buffer");lt=Pt,await ft()},Pt=>{ht=Pt.lengthComputable,dt=Pt.loaded,pt=Pt.total,bt()},Pt=>{this.manager.itemError(_e),typeof at=="function"&&at(Pt)});const At=new FileLoader(this._internalLoadingManager);At.setResponseType("arraybuffer"),At.setRequestHeader(this.requestHeader),At.setPath(this.path),At.setWithCredentials(this.withCredentials),At.load(nt,async Pt=>{if(typeof Pt=="string")throw new Error("Invalid gainmap buffer");ct=Pt,await ft()},Pt=>{gt=Pt.lengthComputable,mt=Pt.loaded,vt=Pt.total,bt()},Pt=>{this.manager.itemError(nt),typeof at=="function"&&at(Pt)});const Ct=new FileLoader(this._internalLoadingManager);return Ct.setRequestHeader(this.requestHeader),Ct.setPath(this.path),Ct.setWithCredentials(this.withCredentials),Ct.load(rt,async Pt=>{if(typeof Pt!="string")throw new Error("Invalid metadata string");ut=JSON.parse(Pt),await ft()},Pt=>{xt=Pt.lengthComputable,Et=Pt.loaded,St=Pt.total,bt()},Pt=>{this.manager.itemError(rt),typeof at=="function"&&at(Pt)}),ot}}class HDRJPGLoader extends LoaderBaseWebGL{load(_e,nt,rt,it){const st=this.prepareQuadRenderer(),at=new FileLoader(this._internalLoadingManager);return at.setResponseType("arraybuffer"),at.setRequestHeader(this.requestHeader),at.setPath(this.path),at.setWithCredentials(this.withCredentials),this.manager.itemStart(_e),at.load(_e,async ot=>{if(typeof ot=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const lt=new Uint8Array(ot);let ct,ut,ft;try{const ht=await extractGainmapFromJPEG(lt);ct=ht.sdr,ut=ht.gainMap,ft=ht.metadata}catch(ht){if(ht instanceof XMPMetadataNotFoundError||ht instanceof GainMapNotFoundError)console.warn(`Failure to reconstruct an HDR image from ${_e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),ft={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},ct=lt;else throw ht}try{await this.render(st,ft,ct.buffer,ut==null?void 0:ut.buffer)}catch(ht){this.manager.itemError(_e),typeof it=="function"&&it(ht),st.disposeOnDemandRenderer();return}typeof nt=="function"&&nt(st),this.manager.itemEnd(_e),st.disposeOnDemandRenderer()},rt,ot=>{this.manager.itemError(_e),typeof it=="function"&&it(ot)}),st}}const presetsObj={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},CUBEMAP_ROOT="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",isArray=tt=>Array.isArray(tt),defaultFiles=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function useEnvironment({files:tt=defaultFiles,path:_e="",preset:nt=void 0,encoding:rt=void 0,extensions:it}={}){let st=null,at=!1;nt&&(validatePreset(nt),tt=presetsObj[nt],_e=CUBEMAP_ROOT),at=isArray(tt);const{extension:ot,isCubemap:lt}=getExtension(tt);if(st=getLoader(ot),!st)throw new Error("useEnvironment: Unrecognized file extension: "+tt);const ct=useThree(pt=>pt.gl);reactExports.useLayoutEffect(()=>{if(ot!=="webp"&&ot!=="jpg"&&ot!=="jpeg")return;function pt(){useLoader.clear(st,at?[tt]:tt)}ct.domElement.addEventListener("webglcontextlost",pt,{once:!0})},[tt,ct.domElement]);const ut=useLoader(st,at?[tt]:tt,pt=>{(ot==="webp"||ot==="jpg"||ot==="jpeg")&&pt.setRenderer(ct),pt.setPath==null||pt.setPath(_e),it&&it(pt)});let ft=at?ut[0]:ut;if(ot==="jpg"||ot==="jpeg"||ot==="webp"){var ht;ft=(ht=ft.renderTarget)==null?void 0:ht.texture}return ft.mapping=lt?CubeReflectionMapping:EquirectangularReflectionMapping,"colorSpace"in ft?ft.colorSpace=rt??lt?"srgb":"srgb-linear":ft.encoding=rt??lt?sRGBEncoding:LinearEncoding,ft}const preloadDefaultOptions={files:defaultFiles,path:"",preset:void 0,extensions:void 0};useEnvironment.preload=tt=>{const _e={...preloadDefaultOptions,...tt};let{files:nt,path:rt=""}=_e;const{preset:it,extensions:st}=_e;it&&(validatePreset(it),nt=presetsObj[it],rt=CUBEMAP_ROOT);const{extension:at}=getExtension(nt);if(at==="webp"||at==="jpg"||at==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const ot=getLoader(at);if(!ot)throw new Error("useEnvironment: Unrecognized file extension: "+nt);useLoader.preload(ot,isArray(nt)?[nt]:nt,lt=>{lt.setPath==null||lt.setPath(rt),st&&st(lt)})};const clearDefaultOptins={files:defaultFiles,preset:void 0};useEnvironment.clear=tt=>{const _e={...clearDefaultOptins,...tt};let{files:nt}=_e;const{preset:rt}=_e;rt&&(validatePreset(rt),nt=presetsObj[rt]);const{extension:it}=getExtension(nt),st=getLoader(it);if(!st)throw new Error("useEnvironment: Unrecognized file extension: "+nt);useLoader.clear(st,isArray(nt)?[nt]:nt)};function validatePreset(tt){if(!(tt in presetsObj))throw new Error("Preset must be one of: "+Object.keys(presetsObj).join(", "))}function getExtension(tt){var _e;const nt=isArray(tt)&&tt.length===6,rt=isArray(tt)&&tt.length===3&&tt.some(at=>at.endsWith("json")),it=isArray(tt)?tt[0]:tt;return{extension:nt?"cube":rt?"webp":it.startsWith("data:application/exr")?"exr":it.startsWith("data:application/hdr")?"hdr":it.startsWith("data:image/jpeg")?"jpg":(_e=it.split(".").pop())==null||(_e=_e.split("?"))==null||(_e=_e.shift())==null?void 0:_e.toLowerCase(),isCubemap:nt,isGainmap:rt}}function getLoader(tt){return tt==="cube"?CubeTextureLoader:tt==="hdr"?RGBELoader:tt==="exr"?EXRLoader:tt==="jpg"||tt==="jpeg"?HDRJPGLoader:tt==="webp"?GainMapLoader:null}const isRef=tt=>tt.current&&tt.current.isScene,resolveScene=tt=>isRef(tt)?tt.current:tt;function setEnvProps(tt,_e,nt,rt,it={}){var st,at,ot,lt;it={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...it};const ct=resolveScene(_e||nt),ut=ct.background,ft=ct.environment,ht={backgroundBlurriness:ct.backgroundBlurriness,backgroundIntensity:ct.backgroundIntensity,backgroundRotation:(st=(at=ct.backgroundRotation)==null||at.clone==null?void 0:at.clone())!==null&&st!==void 0?st:[0,0,0],environmentIntensity:ct.environmentIntensity,environmentRotation:(ot=(lt=ct.environmentRotation)==null||lt.clone==null?void 0:lt.clone())!==null&&ot!==void 0?ot:[0,0,0]};return tt!=="only"&&(ct.environment=rt),tt&&(ct.background=rt),applyProps(ct,it),()=>{tt!=="only"&&(ct.environment=ft),tt&&(ct.background=ut),applyProps(ct,ht)}}function EnvironmentMap({scene:tt,background:_e=!1,map:nt,...rt}){const it=useThree(st=>st.scene);return reactExports.useLayoutEffect(()=>{if(nt)return setEnvProps(_e,tt,it,nt,rt)}),null}function EnvironmentCube({background:tt=!1,scene:_e,blur:nt,backgroundBlurriness:rt,backgroundIntensity:it,backgroundRotation:st,environmentIntensity:at,environmentRotation:ot,...lt}){const ct=useEnvironment(lt),ut=useThree(ft=>ft.scene);return reactExports.useLayoutEffect(()=>setEnvProps(tt,_e,ut,ct,{backgroundBlurriness:nt??rt,backgroundIntensity:it,backgroundRotation:st,environmentIntensity:at,environmentRotation:ot})),reactExports.useEffect(()=>()=>{ct.dispose()},[ct]),null}function EnvironmentPortal({children:tt,near:_e=.1,far:nt=1e3,resolution:rt=256,frames:it=1,map:st,background:at=!1,blur:ot,backgroundBlurriness:lt,backgroundIntensity:ct,backgroundRotation:ut,environmentIntensity:ft,environmentRotation:ht,scene:pt,files:dt,path:gt,preset:vt=void 0,extensions:mt}){const xt=useThree(Ct=>Ct.gl),St=useThree(Ct=>Ct.scene),Et=reactExports.useRef(null),[bt]=reactExports.useState(()=>new Scene),Tt=reactExports.useMemo(()=>{const Ct=new WebGLCubeRenderTarget(rt);return Ct.texture.type=HalfFloatType,Ct},[rt]);reactExports.useEffect(()=>()=>{Tt.dispose()},[Tt]),reactExports.useLayoutEffect(()=>{if(it===1){const Ct=xt.autoClear;xt.autoClear=!0,Et.current.update(xt,bt),xt.autoClear=Ct}return setEnvProps(at,pt,St,Tt.texture,{backgroundBlurriness:ot??lt,backgroundIntensity:ct,backgroundRotation:ut,environmentIntensity:ft,environmentRotation:ht})},[tt,bt,Tt.texture,pt,St,at,it,xt]);let At=1;return useFrame(()=>{if(it===1/0||At<it){const Ct=xt.autoClear;xt.autoClear=!0,Et.current.update(xt,bt),xt.autoClear=Ct,At++}}),reactExports.createElement(reactExports.Fragment,null,createPortal(reactExports.createElement(reactExports.Fragment,null,tt,reactExports.createElement("cubeCamera",{ref:Et,args:[_e,nt,Tt]}),dt||vt?reactExports.createElement(EnvironmentCube,{background:!0,files:dt,preset:vt,path:gt,extensions:mt}):st?reactExports.createElement(EnvironmentMap,{background:!0,map:st,extensions:mt}):null),bt))}function EnvironmentGround(tt){var _e,nt,rt,it;const st=useEnvironment(tt),at=tt.map||st;reactExports.useMemo(()=>extend({GroundProjectedEnvImpl:GroundProjectedEnv}),[]),reactExports.useEffect(()=>()=>{st.dispose()},[st]);const ot=reactExports.useMemo(()=>[at],[at]),lt=(_e=tt.ground)==null?void 0:_e.height,ct=(nt=tt.ground)==null?void 0:nt.radius,ut=(rt=(it=tt.ground)==null?void 0:it.scale)!==null&&rt!==void 0?rt:1e3;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(EnvironmentMap,_extends({},tt,{map:at})),reactExports.createElement("groundProjectedEnvImpl",{args:ot,scale:ut,height:lt,radius:ct}))}function Environment(tt){return tt.ground?reactExports.createElement(EnvironmentGround,tt):tt.map?reactExports.createElement(EnvironmentMap,tt):tt.children?reactExports.createElement(EnvironmentPortal,tt):reactExports.createElement(EnvironmentCube,tt)}const ImageNames=["90.jpg","91.jpg","92.jpg","93.jpg","94.jpg","95.jpg","96.jpg","100.jpg","101.jpg","102.jpg","103.jpg","104.jpg","105.jpg","106.jpg","108.jpg","111.jpg","112.jpg","113.jpg","114.jpg","115.jpg","116.jpg","117.jpg","118.jpg","119.jpg","120.jpg","121.jpg","122.jpg","123.jpg","124.jpg","125.jpg","126.jpg","127.jpg","128.jpg","129.jpg","130.jpg","131.jpg","132.jpg","133.jpg","134.jpg","135.jpg","136.jpg","137.jpg","138.jpg","139.jpg","140.jpg","141.jpg","142.jpg","143.jpg","144.jpg","145.jpg","146.jpg","147.jpg","148.jpg","149.jpg","150.jpg","151.jpg","152.jpg","153.jpg","154.jpg","155.jpg","156.jpg","157.jpg","158.jpg","159.jpg","160.jpg","161.jpg","162.jpg","163.jpg","164.jpg","165.jpg","166.jpg","167.jpg","168.jpg","169.jpg","170.jpg"],ENABLE_HELMET_MODEL=!1,withBase=tt=>`/portfolio/${tt.replace(/^\/+/,"")}`,HEADER_TITLE_FONT=withBase("fonts/ObjectSans/PPObjectSans-Bold.ttf"),HEADER_TEXT_FONT=withBase("fonts/ObjectSans/PPObjectSans-Regular.ttf"),SIDEFX_LOGO=withBase("assets/logos/product_logo=sidefx.svg");function gcd(tt,_e){let nt=Math.abs(tt),rt=Math.abs(_e);for(;rt!==0;){const it=rt;rt=nt%rt,nt=it}return nt}function ImageTube({scrollTargetRef:tt,spinVelocityRef:_e,naturalDirRef:nt,tubeAngleRef:rt,onImageHover:it,onImageClick:st}){const at=reactExports.useRef(null),ot=reactExports.useRef([]),lt=reactExports.useRef(0),ct=reactExports.useRef(0),ut=reactExports.useRef(!1),ft=reactExports.useRef(1),ht=reactExports.useCallback((zt,Dt)=>{const $t=zt.nativeEvent.target;$t&&($t.style.cursor=Dt)},[]),pt=reactExports.useMemo(()=>ImageNames.map(zt=>withBase(`assets/procedural/${zt}`)),[]),dt=reactExports.useMemo(()=>ImageNames.map((zt,Dt)=>`PROCEDURAL ${Dt+1}  ${zt}`),[]),gt=useTexture(pt),vt=reactExports.useCallback((zt,Dt)=>{ut.current=zt!==null;const $t=Dt!==null?gt[Dt]:null,Mt=Dt!==null?pt[Dt]:null;it(zt,$t,Mt)},[pt,it,gt]),mt=8,xt=5,St=3,Et=.72,bt=1,Tt=1.7,Ct=xt*10,Pt=Ct*Tt,It=-.12,Lt=reactExports.useMemo(()=>{const zt=[];for(let Dt=0;Dt<xt;Dt++){const $t=Dt/(xt-1);zt.push(.65+$t*2)}return zt},[xt]),Vt=reactExports.useMemo(()=>{const zt=[];for(let Dt=0;Dt<Ct;Dt++){const $t=(Dt-(Ct-1)/2)*Tt,Mt=Dt%xt,Rt=Mt%2===0?0:.5;zt.push({rowIndex:Dt,y:$t,baseRow:Mt,rowOffset:Rt})}return zt},[xt,Ct,Tt]),Ut=reactExports.useMemo(()=>{const zt=pt.length;if(zt<=1)return 1;let Dt=Math.floor(zt/2)+1;for(;Dt<zt&&gcd(Dt,zt)!==1;)Dt++;return Dt>=zt?1:Dt},[pt.length]),Ot=reactExports.useCallback(zt=>{var Ft;if(!zt)return Et/bt;const Dt=zt.image,$t=(Ft=zt.source)==null?void 0:Ft.data,Mt=(Dt==null?void 0:Dt.naturalWidth)??(Dt==null?void 0:Dt.videoWidth)??(Dt==null?void 0:Dt.width)??($t==null?void 0:$t.naturalWidth)??($t==null?void 0:$t.videoWidth)??($t==null?void 0:$t.width),Rt=(Dt==null?void 0:Dt.naturalHeight)??(Dt==null?void 0:Dt.videoHeight)??(Dt==null?void 0:Dt.height)??($t==null?void 0:$t.naturalHeight)??($t==null?void 0:$t.videoHeight)??($t==null?void 0:$t.height);if(!Mt||!Rt)return Et/bt;const Nt=Mt/Rt;return!Number.isFinite(Nt)||Nt<=0?Et/bt:Math.min(2.2,Math.max(.45,Nt))},[bt,Et]);return useFrame((zt,Dt)=>{tt.current-=It*Dt,lt.current+=(tt.current-lt.current)*.12,lt.current>Pt/2?(lt.current-=Pt,tt.current-=Pt):lt.current<-Pt/2&&(lt.current+=Pt,tt.current+=Pt);const $t=ut.current?.05:1;ft.current+=($t-ft.current)*.1;const Mt=.92;_e.current*=Math.pow(Mt,Dt*60),_e.current=Math.max(-2,Math.min(2,_e.current));const Rt=nt.current*.1*ft.current;ct.current+=(Rt+_e.current*ft.current)*Dt,rt.current=ct.current;const Nt=at.current;if(Nt){Nt.position.y=-lt.current;for(let Ft=0;Ft<Ct;Ft++){const qt=ot.current[Ft];if(!qt)continue;const Qt=Ft%xt;qt.rotation.y=ct.current*Lt[Qt]}}}),jsxRuntimeExports.jsx("group",{ref:at,children:Vt.map(({rowIndex:zt,y:Dt,rowOffset:$t})=>jsxRuntimeExports.jsx("group",{position:[0,Dt,0],ref:Mt=>{ot.current[zt]=Mt},children:Array.from({length:mt}).map((Mt,Rt)=>{const Nt=(Rt+$t)/mt*Math.PI*2,Ft=Math.cos(Nt)*St,qt=Math.sin(Nt)*St,Qt=-(Nt+Math.PI/2),Zt=((zt*mt+Rt)*Ut+zt)%pt.length,tn=gt[Zt],en=Ot(tn),un=bt*en;return jsxRuntimeExports.jsxs("mesh",{position:[Ft,0,qt],rotation:[0,Qt,0],onPointerOver:Cn=>{Cn.stopPropagation(),ht(Cn,"pointer"),vt(dt[Zt],Zt)},onPointerOut:Cn=>{Cn.stopPropagation(),ht(Cn,"auto"),vt(null,null)},onClick:()=>st(dt[Zt],pt[Zt],Zt),children:[jsxRuntimeExports.jsx("planeGeometry",{args:[un,bt]}),jsxRuntimeExports.jsx("meshBasicMaterial",{map:tn,toneMapped:!1,side:DoubleSide})]},Rt)})},zt))})}function CenterCopy3D({title:tt,description:_e}){const nt=useTexture(SIDEFX_LOGO),rt=reactExports.useMemo(()=>{const at=nt.image,ot=(at==null?void 0:at.width)??320,lt=(at==null?void 0:at.height)??100,ct=ot/lt;return Number.isFinite(ct)&&ct>0?ct:3.2},[nt]),it=.85,st=it/rt;return jsxRuntimeExports.jsxs("group",{position:[0,0,0],children:[jsxRuntimeExports.jsxs("mesh",{position:[0,.36,0],children:[jsxRuntimeExports.jsx("planeGeometry",{args:[it,st]}),jsxRuntimeExports.jsx("meshBasicMaterial",{map:nt,transparent:!0,toneMapped:!1})]}),jsxRuntimeExports.jsx(Text,{font:HEADER_TITLE_FONT,position:[0,-.02,0],fontSize:.2,color:"#ffffff",anchorX:"center",anchorY:"middle",maxWidth:2.5,textAlign:"center",children:tt}),jsxRuntimeExports.jsx(Text,{font:HEADER_TEXT_FONT,position:[0,-.35,0],fontSize:.08,color:"#ebebeb",anchorX:"center",anchorY:"middle",maxWidth:2.5,lineHeight:1.35,textAlign:"center",children:_e})]})}function RubensScene({centerTitle:tt="Procedural Art",centerDescription:_e="Procedural and generative art created in Houdini  each model starts from four points and evolves through SubD modeling, procedural generation, and transformations."}){const nt=reactExports.useRef(null),rt=reactExports.useRef(0),it=reactExports.useRef(0),st=reactExports.useRef(1),at=reactExports.useRef(0),[ot,lt]=reactExports.useState(null),[ct,ut]=reactExports.useState(null),[ft,ht]=reactExports.useState(null),[pt,dt]=reactExports.useState(!1),gt=reactExports.useRef(null),vt=reactExports.useCallback(Et=>{rt.current+=Et.deltaY*.002,it.current+=Et.deltaY*.004,Et.deltaY<0?st.current=-1:Et.deltaY>0&&(st.current=1)},[]),mt=reactExports.useCallback((Et,bt,Tt)=>{Tt!==ot&&(ut(ot),lt(Tt))},[ot]),xt=reactExports.useCallback((Et,bt,Tt)=>{ht({name:Et,imageUrl:bt,index:Tt}),requestAnimationFrame(()=>{dt(!0)})},[]),St=reactExports.useCallback(()=>{dt(!1),gt.current!=null&&window.clearTimeout(gt.current),gt.current=window.setTimeout(()=>{ht(null)},1200)},[]);return reactExports.useEffect(()=>{if(ot&&ct){const Et=setTimeout(()=>{ut(null)},2e3);return()=>clearTimeout(Et)}},[ot,ct]),reactExports.useEffect(()=>()=>{gt.current!=null&&window.clearTimeout(gt.current)},[]),jsxRuntimeExports.jsxs("div",{className:"sceneRoot",ref:nt,onWheel:vt,children:[ct&&jsxRuntimeExports.jsx("div",{className:"background-image-blur background-image-previous",style:{backgroundImage:`url(${ct})`}}),ot&&jsxRuntimeExports.jsx("div",{className:"background-image-blur background-image-current",style:{backgroundImage:`url(${ot})`}}),jsxRuntimeExports.jsx(Canvas,{camera:{position:[0,0,6],fov:50},gl:{antialias:!0,powerPreference:"high-performance",alpha:!0},dpr:[1,2],frameloop:"always",onCreated:Et=>{Et.camera.lookAt(0,0,0),Et.gl.setClearColor(0,0)},children:jsxRuntimeExports.jsxs(reactExports.Suspense,{fallback:null,children:[jsxRuntimeExports.jsx("ambientLight",{intensity:.5}),jsxRuntimeExports.jsx("directionalLight",{position:[5,5,5],intensity:1}),jsxRuntimeExports.jsx(Environment,{preset:"studio",blur:10.5}),jsxRuntimeExports.jsx(CenterCopy3D,{title:tt,description:_e}),jsxRuntimeExports.jsx(ImageTube,{scrollTargetRef:rt,spinVelocityRef:it,naturalDirRef:st,tubeAngleRef:at,onImageHover:mt,onImageClick:xt}),ENABLE_HELMET_MODEL]})}),ft&&jsxRuntimeExports.jsxs("div",{className:`project-single-view ${pt?"visible":"hidden"}`,style:{backgroundImage:`url(${ft.imageUrl})`,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},onClick:St,children:[jsxRuntimeExports.jsx("div",{className:"project-content",children:jsxRuntimeExports.jsx("img",{src:ft.imageUrl,alt:ft.name,style:{width:"100%",height:"auto"}})}),jsxRuntimeExports.jsx("div",{style:{position:"absolute",bottom:"40px"},children:jsxRuntimeExports.jsx("div",{className:"dialog-close-btn",onClick:St,children:"Close"})})]}),jsxRuntimeExports.jsx("div",{className:"whiteEdgeGradient","aria-hidden":"true"}),jsxRuntimeExports.jsx(Loader,{})]})}const ProjectDetailsProcedural$1=()=>jsxRuntimeExports.jsxs("div",{className:"container-fluid px-0",children:[jsxRuntimeExports.jsx(Menu,{proceduralArt:!0}),jsxRuntimeExports.jsx(RubensScene,{centerTitle:"Procedural Art",centerDescription:"Procedural and generative art created in Houdini  each model starts from four points and evolves through SubD modeling, procedural generation, and transformations."})]}),squareVariants={visible:tt=>({opacity:1,scale:1,y:0,scaleX:1,transition:{duration:1,delay:tt*1.25,ease:"easeInOut"}}),hidden:{opacity:0,scale:1,scaleX:1,y:250}},ImageGallery=({source:tt=ImageNames,basePath:_e="assets/procedural/",aspectRatio:nt="9 / 12"})=>jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("div",{className:"row row-gap-10",children:tt.map((rt,it)=>{const st=useAnimation(),[at,ot]=useInView({triggerOnce:!0,threshold:.1});return reactExports.useEffect(()=>{ot&&st.start("visible")},[st,ot]),jsxRuntimeExports.jsx("div",{className:"col-6 col-lg-4 gallery-image-wrapper aspect-ratio card-gap-10",style:{aspectRatio:nt},children:jsxRuntimeExports.jsx(motion$1.div,{ref:at,initial:"hidden",variants:squareVariants,animate:st,children:jsxRuntimeExports.jsx("img",{src:`${_e}${rt}`,className:"gallery-image",alt:`Image ${it+1}`})})},rt)})})}),ImageNames2=["old work 1.jpg","old work 10.jpg","old work 2.jpg","old work 20.jpg","old work 21.jpg","old work 22.jpg","old work 23.jpg","old work 24.jpg","old work 25.jpg","old work 26.jpg","old work 27.jpg","old work 28.jpg","old work 29.jpg","old work 3.jpg","old work 30.jpg","old work 31.jpg","old work 32.jpg","old work 33.jpg","old work 34.jpg","old work 35.jpg","old work 36.jpg","old work 37.jpg","old work 38.jpg","old work 39.jpg","old work 4.jpg","old work 40.jpg","old work 41.jpg","old work 42.jpg","old work 43.jpg","old work 44.jpg","old work 45.jpg","old work 46.jpg","old work 47.jpg","old work 48.jpg","old work 49.jpg","old work 5.jpg","old work 50.jpg","old work 51.jpg","old work 52.jpg","old work 53.jpg","old work 54.jpg","old work 55.jpg","old work 56.jpg","old work 57.jpg","old work 58.jpg","old work 59.jpg","old work 6.jpg","old work 60.jpg","old work 61.jpg","old work 62.jpg","old work 63.jpg","old work 64.jpg","old work 65.jpg","old work 66.jpg","old work 67.jpg","old work 68.jpg","old work 69.jpg","old work 7.jpg","old work 70.jpg","old work 71.jpg","old work 72.jpg","old work 73.jpg","old work 74.jpg","old work 75.jpg","old work 76.jpg","old work 8.jpg","old work 9.jpg"],ProjectDetailsProcedural=()=>jsxRuntimeExports.jsxs("div",{className:"container-fluid px-0",children:[jsxRuntimeExports.jsx(Menu,{productDesign:!0}),jsxRuntimeExports.jsx(PageHero,{title:jsxRuntimeExports.jsx("span",{children:"Old Works"}),description:jsxRuntimeExports.jsx("span",{children:"A selection of projects from the early stages of my design career, including UX/UI design, web design, and game design. These projects laid the foundation for my expertise in creating engaging, user-friendly experiences across various platforms."}),wrapperclassName:"container-fluid justify-items-center",headerwrapper:"justify-content-center",imageMobile:"/portfolio/assets/project_old.jpg",imageDesktop:"/portfolio/assets/project_old.jpg",color:"var(--txt-light-1)",colorDescription:"var(--txt-light-3)",alignment:"center"}),jsxRuntimeExports.jsxs("div",{className:"container-xxl mb-80 px-3",children:[jsxRuntimeExports.jsx("div",{className:"pt-160",children:jsxRuntimeExports.jsx(ImageGallery,{source:ImageNames2,basePath:"assets/oldworks/",aspectRatio:"10 / 13"})}),jsxRuntimeExports.jsx(Footer,{})]})]});var lottie$1={exports:{}};(function(module,exports){typeof navigator<"u"&&function(tt,_e){module.exports=_e()}(commonjsGlobal,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(_e){_useWebWorker=!!_e},getWebWorker=function(){return _useWebWorker},setLocationHref=function(_e){locationHref=_e},getLocationHref=function(){return locationHref};function createTag(tt){return document.createElement(tt)}function extendPrototype(tt,_e){var nt,rt=tt.length,it;for(nt=0;nt<rt;nt+=1){it=tt[nt].prototype;for(var st in it)Object.prototype.hasOwnProperty.call(it,st)&&(_e.prototype[st]=it[st])}}function getDescriptor(tt,_e){return Object.getOwnPropertyDescriptor(tt,_e)}function createProxyFunction(tt){function _e(){}return _e.prototype=tt,_e}var audioControllerFactory=function(){function tt(_e){this.audios=[],this.audioFactory=_e,this._volume=1,this._isMuted=!1}return tt.prototype={addAudio:function(nt){this.audios.push(nt)},pause:function(){var nt,rt=this.audios.length;for(nt=0;nt<rt;nt+=1)this.audios[nt].pause()},resume:function(){var nt,rt=this.audios.length;for(nt=0;nt<rt;nt+=1)this.audios[nt].resume()},setRate:function(nt){var rt,it=this.audios.length;for(rt=0;rt<it;rt+=1)this.audios[rt].setRate(nt)},createAudio:function(nt){return this.audioFactory?this.audioFactory(nt):window.Howl?new window.Howl({src:[nt]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(nt){this.audioFactory=nt},setVolume:function(nt){this._volume=nt,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var nt,rt=this.audios.length;for(nt=0;nt<rt;nt+=1)this.audios[nt].volume(this._volume*(this._isMuted?0:1))}},function(){return new tt}}(),createTypedArray=function(){function tt(nt,rt){var it=0,st=[],at;switch(nt){case"int16":case"uint8c":at=1;break;default:at=1.1;break}for(it=0;it<rt;it+=1)st.push(at);return st}function _e(nt,rt){return nt==="float32"?new Float32Array(rt):nt==="int16"?new Int16Array(rt):nt==="uint8c"?new Uint8ClampedArray(rt):tt(nt,rt)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?_e:tt}();function createSizedArray(tt){return Array.apply(null,{length:tt})}function _typeof$6(tt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(nt){return typeof nt}:_typeof$6=function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt},_typeof$6(tt)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var tt=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],_e,nt=tt.length;for(_e=0;_e<nt;_e+=1)BMMath[tt[_e]]=Math[tt[_e]]})(),BMMath.random=Math.random,BMMath.abs=function(tt){var _e=_typeof$6(tt);if(_e==="object"&&tt.length){var nt=createSizedArray(tt.length),rt,it=tt.length;for(rt=0;rt<it;rt+=1)nt[rt]=Math.abs(tt[rt]);return nt}return Math.abs(tt)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(tt){tt.style.position="absolute",tt.style.top=0,tt.style.left=0,tt.style.display="block",tt.style.transformOrigin="0 0",tt.style.webkitTransformOrigin="0 0",tt.style.backfaceVisibility="visible",tt.style.webkitBackfaceVisibility="visible",tt.style.transformStyle="preserve-3d",tt.style.webkitTransformStyle="preserve-3d",tt.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(tt,_e,nt,rt){this.type=tt,this.currentTime=_e,this.totalTime=nt,this.direction=rt<0?-1:1}function BMCompleteEvent(tt,_e){this.type=tt,this.direction=_e<0?-1:1}function BMCompleteLoopEvent(tt,_e,nt,rt){this.type=tt,this.currentLoop=nt,this.totalLoops=_e,this.direction=rt<0?-1:1}function BMSegmentStartEvent(tt,_e,nt){this.type=tt,this.firstFrame=_e,this.totalFrames=nt}function BMDestroyEvent(tt,_e){this.type=tt,this.target=_e}function BMRenderFrameErrorEvent(tt,_e){this.type="renderFrameError",this.nativeError=tt,this.currentTime=_e}function BMConfigErrorEvent(tt){this.type="configError",this.nativeError=tt}var createElementID=function(){var tt=0;return function(){return tt+=1,idPrefix$1+"__lottie_element_"+tt}}();function HSVtoRGB(tt,_e,nt){var rt,it,st,at,ot,lt,ct,ut;switch(at=Math.floor(tt*6),ot=tt*6-at,lt=nt*(1-_e),ct=nt*(1-ot*_e),ut=nt*(1-(1-ot)*_e),at%6){case 0:rt=nt,it=ut,st=lt;break;case 1:rt=ct,it=nt,st=lt;break;case 2:rt=lt,it=nt,st=ut;break;case 3:rt=lt,it=ct,st=nt;break;case 4:rt=ut,it=lt,st=nt;break;case 5:rt=nt,it=lt,st=ct;break}return[rt,it,st]}function RGBtoHSV(tt,_e,nt){var rt=Math.max(tt,_e,nt),it=Math.min(tt,_e,nt),st=rt-it,at,ot=rt===0?0:st/rt,lt=rt/255;switch(rt){case it:at=0;break;case tt:at=_e-nt+st*(_e<nt?6:0),at/=6*st;break;case _e:at=nt-tt+st*2,at/=6*st;break;case nt:at=tt-_e+st*4,at/=6*st;break}return[at,ot,lt]}function addSaturationToRGB(tt,_e){var nt=RGBtoHSV(tt[0]*255,tt[1]*255,tt[2]*255);return nt[1]+=_e,nt[1]>1?nt[1]=1:nt[1]<=0&&(nt[1]=0),HSVtoRGB(nt[0],nt[1],nt[2])}function addBrightnessToRGB(tt,_e){var nt=RGBtoHSV(tt[0]*255,tt[1]*255,tt[2]*255);return nt[2]+=_e,nt[2]>1?nt[2]=1:nt[2]<0&&(nt[2]=0),HSVtoRGB(nt[0],nt[1],nt[2])}function addHueToRGB(tt,_e){var nt=RGBtoHSV(tt[0]*255,tt[1]*255,tt[2]*255);return nt[0]+=_e/360,nt[0]>1?nt[0]-=1:nt[0]<0&&(nt[0]+=1),HSVtoRGB(nt[0],nt[1],nt[2])}var rgbToHex=function(){var tt=[],_e,nt;for(_e=0;_e<256;_e+=1)nt=_e.toString(16),tt[_e]=nt.length===1?"0"+nt:nt;return function(rt,it,st){return rt<0&&(rt=0),it<0&&(it=0),st<0&&(st=0),"#"+tt[rt]+tt[it]+tt[st]}}(),setSubframeEnabled=function(_e){subframeEnabled=!!_e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(_e){expressionsPlugin=_e},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(_e){expressionsInterfaces=_e},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(_e){defaultCurveSegments=_e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(_e){idPrefix$1=_e};function createNS(tt){return document.createElementNS(svgNS,tt)}function _typeof$5(tt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(nt){return typeof nt}:_typeof$5=function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt},_typeof$5(tt)}var dataManager=function(){var tt=1,_e=[],nt,rt,it={onmessage:function(){},postMessage:function(pt){nt({data:pt})}},st={postMessage:function(pt){it.onmessage({data:pt})}};function at(ht){if(window.Worker&&window.Blob&&getWebWorker()){var pt=new Blob(["var _workerSelf = self; self.onmessage = ",ht.toString()],{type:"text/javascript"}),dt=URL.createObjectURL(pt);return new Worker(dt)}return nt=ht,it}function ot(){rt||(rt=at(function(pt){function dt(){function vt(zt,Dt){var $t,Mt,Rt=zt.length,Nt,Ft,qt,Qt;for(Mt=0;Mt<Rt;Mt+=1)if($t=zt[Mt],"ks"in $t&&!$t.completed){if($t.completed=!0,$t.hasMask){var Kt=$t.masksProperties;for(Ft=Kt.length,Nt=0;Nt<Ft;Nt+=1)if(Kt[Nt].pt.k.i)bt(Kt[Nt].pt.k);else for(Qt=Kt[Nt].pt.k.length,qt=0;qt<Qt;qt+=1)Kt[Nt].pt.k[qt].s&&bt(Kt[Nt].pt.k[qt].s[0]),Kt[Nt].pt.k[qt].e&&bt(Kt[Nt].pt.k[qt].e[0])}$t.ty===0?($t.layers=St($t.refId,Dt),vt($t.layers,Dt)):$t.ty===4?Et($t.shapes):$t.ty===5&&Ut($t)}}function mt(zt,Dt){if(zt){var $t=0,Mt=zt.length;for($t=0;$t<Mt;$t+=1)zt[$t].t===1&&(zt[$t].data.layers=St(zt[$t].data.refId,Dt),vt(zt[$t].data.layers,Dt))}}function xt(zt,Dt){for(var $t=0,Mt=Dt.length;$t<Mt;){if(Dt[$t].id===zt)return Dt[$t];$t+=1}return null}function St(zt,Dt){var $t=xt(zt,Dt);return $t?$t.layers.__used?JSON.parse(JSON.stringify($t.layers)):($t.layers.__used=!0,$t.layers):null}function Et(zt){var Dt,$t=zt.length,Mt,Rt;for(Dt=$t-1;Dt>=0;Dt-=1)if(zt[Dt].ty==="sh")if(zt[Dt].ks.k.i)bt(zt[Dt].ks.k);else for(Rt=zt[Dt].ks.k.length,Mt=0;Mt<Rt;Mt+=1)zt[Dt].ks.k[Mt].s&&bt(zt[Dt].ks.k[Mt].s[0]),zt[Dt].ks.k[Mt].e&&bt(zt[Dt].ks.k[Mt].e[0]);else zt[Dt].ty==="gr"&&Et(zt[Dt].it)}function bt(zt){var Dt,$t=zt.i.length;for(Dt=0;Dt<$t;Dt+=1)zt.i[Dt][0]+=zt.v[Dt][0],zt.i[Dt][1]+=zt.v[Dt][1],zt.o[Dt][0]+=zt.v[Dt][0],zt.o[Dt][1]+=zt.v[Dt][1]}function Tt(zt,Dt){var $t=Dt?Dt.split("."):[100,100,100];return zt[0]>$t[0]?!0:$t[0]>zt[0]?!1:zt[1]>$t[1]?!0:$t[1]>zt[1]?!1:zt[2]>$t[2]?!0:$t[2]>zt[2]?!1:null}var At=function(){var zt=[4,4,14];function Dt(Mt){var Rt=Mt.t.d;Mt.t.d={k:[{s:Rt,t:0}]}}function $t(Mt){var Rt,Nt=Mt.length;for(Rt=0;Rt<Nt;Rt+=1)Mt[Rt].ty===5&&Dt(Mt[Rt])}return function(Mt){if(Tt(zt,Mt.v)&&($t(Mt.layers),Mt.assets)){var Rt,Nt=Mt.assets.length;for(Rt=0;Rt<Nt;Rt+=1)Mt.assets[Rt].layers&&$t(Mt.assets[Rt].layers)}}}(),Ct=function(){var zt=[4,7,99];return function(Dt){if(Dt.chars&&!Tt(zt,Dt.v)){var $t,Mt=Dt.chars.length;for($t=0;$t<Mt;$t+=1){var Rt=Dt.chars[$t];Rt.data&&Rt.data.shapes&&(Et(Rt.data.shapes),Rt.data.ip=0,Rt.data.op=99999,Rt.data.st=0,Rt.data.sr=1,Rt.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},Dt.chars[$t].t||(Rt.data.shapes.push({ty:"no"}),Rt.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),Pt=function(){var zt=[5,7,15];function Dt(Mt){var Rt=Mt.t.p;typeof Rt.a=="number"&&(Rt.a={a:0,k:Rt.a}),typeof Rt.p=="number"&&(Rt.p={a:0,k:Rt.p}),typeof Rt.r=="number"&&(Rt.r={a:0,k:Rt.r})}function $t(Mt){var Rt,Nt=Mt.length;for(Rt=0;Rt<Nt;Rt+=1)Mt[Rt].ty===5&&Dt(Mt[Rt])}return function(Mt){if(Tt(zt,Mt.v)&&($t(Mt.layers),Mt.assets)){var Rt,Nt=Mt.assets.length;for(Rt=0;Rt<Nt;Rt+=1)Mt.assets[Rt].layers&&$t(Mt.assets[Rt].layers)}}}(),It=function(){var zt=[4,1,9];function Dt(Mt){var Rt,Nt=Mt.length,Ft,qt;for(Rt=0;Rt<Nt;Rt+=1)if(Mt[Rt].ty==="gr")Dt(Mt[Rt].it);else if(Mt[Rt].ty==="fl"||Mt[Rt].ty==="st")if(Mt[Rt].c.k&&Mt[Rt].c.k[0].i)for(qt=Mt[Rt].c.k.length,Ft=0;Ft<qt;Ft+=1)Mt[Rt].c.k[Ft].s&&(Mt[Rt].c.k[Ft].s[0]/=255,Mt[Rt].c.k[Ft].s[1]/=255,Mt[Rt].c.k[Ft].s[2]/=255,Mt[Rt].c.k[Ft].s[3]/=255),Mt[Rt].c.k[Ft].e&&(Mt[Rt].c.k[Ft].e[0]/=255,Mt[Rt].c.k[Ft].e[1]/=255,Mt[Rt].c.k[Ft].e[2]/=255,Mt[Rt].c.k[Ft].e[3]/=255);else Mt[Rt].c.k[0]/=255,Mt[Rt].c.k[1]/=255,Mt[Rt].c.k[2]/=255,Mt[Rt].c.k[3]/=255}function $t(Mt){var Rt,Nt=Mt.length;for(Rt=0;Rt<Nt;Rt+=1)Mt[Rt].ty===4&&Dt(Mt[Rt].shapes)}return function(Mt){if(Tt(zt,Mt.v)&&($t(Mt.layers),Mt.assets)){var Rt,Nt=Mt.assets.length;for(Rt=0;Rt<Nt;Rt+=1)Mt.assets[Rt].layers&&$t(Mt.assets[Rt].layers)}}}(),Lt=function(){var zt=[4,4,18];function Dt(Mt){var Rt,Nt=Mt.length,Ft,qt;for(Rt=Nt-1;Rt>=0;Rt-=1)if(Mt[Rt].ty==="sh")if(Mt[Rt].ks.k.i)Mt[Rt].ks.k.c=Mt[Rt].closed;else for(qt=Mt[Rt].ks.k.length,Ft=0;Ft<qt;Ft+=1)Mt[Rt].ks.k[Ft].s&&(Mt[Rt].ks.k[Ft].s[0].c=Mt[Rt].closed),Mt[Rt].ks.k[Ft].e&&(Mt[Rt].ks.k[Ft].e[0].c=Mt[Rt].closed);else Mt[Rt].ty==="gr"&&Dt(Mt[Rt].it)}function $t(Mt){var Rt,Nt,Ft=Mt.length,qt,Qt,Kt,Zt;for(Nt=0;Nt<Ft;Nt+=1){if(Rt=Mt[Nt],Rt.hasMask){var tn=Rt.masksProperties;for(Qt=tn.length,qt=0;qt<Qt;qt+=1)if(tn[qt].pt.k.i)tn[qt].pt.k.c=tn[qt].cl;else for(Zt=tn[qt].pt.k.length,Kt=0;Kt<Zt;Kt+=1)tn[qt].pt.k[Kt].s&&(tn[qt].pt.k[Kt].s[0].c=tn[qt].cl),tn[qt].pt.k[Kt].e&&(tn[qt].pt.k[Kt].e[0].c=tn[qt].cl)}Rt.ty===4&&Dt(Rt.shapes)}}return function(Mt){if(Tt(zt,Mt.v)&&($t(Mt.layers),Mt.assets)){var Rt,Nt=Mt.assets.length;for(Rt=0;Rt<Nt;Rt+=1)Mt.assets[Rt].layers&&$t(Mt.assets[Rt].layers)}}}();function Vt(zt){zt.__complete||(It(zt),At(zt),Ct(zt),Pt(zt),Lt(zt),vt(zt.layers,zt.assets),mt(zt.chars,zt.assets),zt.__complete=!0)}function Ut(zt){zt.t.a.length===0&&"m"in zt.t.p}var Ot={};return Ot.completeData=Vt,Ot.checkColors=It,Ot.checkChars=Ct,Ot.checkPathProperties=Pt,Ot.checkShapes=Lt,Ot.completeLayers=vt,Ot}if(st.dataManager||(st.dataManager=dt()),st.assetLoader||(st.assetLoader=function(){function vt(xt){var St=xt.getResponseHeader("content-type");return St&&xt.responseType==="json"&&St.indexOf("json")!==-1||xt.response&&_typeof$5(xt.response)==="object"?xt.response:xt.response&&typeof xt.response=="string"?JSON.parse(xt.response):xt.responseText?JSON.parse(xt.responseText):null}function mt(xt,St,Et,bt){var Tt,At=new XMLHttpRequest;try{At.responseType="json"}catch{}At.onreadystatechange=function(){if(At.readyState===4)if(At.status===200)Tt=vt(At),Et(Tt);else try{Tt=vt(At),Et(Tt)}catch(Ct){bt&&bt(Ct)}};try{At.open(["G","E","T"].join(""),xt,!0)}catch{At.open(["G","E","T"].join(""),St+"/"+xt,!0)}At.send()}return{load:mt}}()),pt.data.type==="loadAnimation")st.assetLoader.load(pt.data.path,pt.data.fullPath,function(vt){st.dataManager.completeData(vt),st.postMessage({id:pt.data.id,payload:vt,status:"success"})},function(){st.postMessage({id:pt.data.id,status:"error"})});else if(pt.data.type==="complete"){var gt=pt.data.animation;st.dataManager.completeData(gt),st.postMessage({id:pt.data.id,payload:gt,status:"success"})}else pt.data.type==="loadData"&&st.assetLoader.load(pt.data.path,pt.data.fullPath,function(vt){st.postMessage({id:pt.data.id,payload:vt,status:"success"})},function(){st.postMessage({id:pt.data.id,status:"error"})})}),rt.onmessage=function(ht){var pt=ht.data,dt=pt.id,gt=_e[dt];_e[dt]=null,pt.status==="success"?gt.onComplete(pt.payload):gt.onError&&gt.onError()})}function lt(ht,pt){tt+=1;var dt="processId_"+tt;return _e[dt]={onComplete:ht,onError:pt},dt}function ct(ht,pt,dt){ot();var gt=lt(pt,dt);rt.postMessage({type:"loadAnimation",path:ht,fullPath:window.location.origin+window.location.pathname,id:gt})}function ut(ht,pt,dt){ot();var gt=lt(pt,dt);rt.postMessage({type:"loadData",path:ht,fullPath:window.location.origin+window.location.pathname,id:gt})}function ft(ht,pt,dt){ot();var gt=lt(pt,dt);rt.postMessage({type:"complete",animation:ht,id:gt})}return{loadAnimation:ct,loadData:ut,completeAnimation:ft}}(),ImagePreloader=function(){var tt=function(){var mt=createTag("canvas");mt.width=1,mt.height=1;var xt=mt.getContext("2d");return xt.fillStyle="rgba(0,0,0,0)",xt.fillRect(0,0,1,1),mt}();function _e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function nt(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function rt(mt,xt,St){var Et="";if(mt.e)Et=mt.p;else if(xt){var bt=mt.p;bt.indexOf("images/")!==-1&&(bt=bt.split("/")[1]),Et=xt+bt}else Et=St,Et+=mt.u?mt.u:"",Et+=mt.p;return Et}function it(mt){var xt=0,St=setInterval((function(){var Et=mt.getBBox();(Et.width||xt>500)&&(this._imageLoaded(),clearInterval(St)),xt+=1}).bind(this),50)}function st(mt){var xt=rt(mt,this.assetsPath,this.path),St=createNS("image");isSafari?this.testImageLoaded(St):St.addEventListener("load",this._imageLoaded,!1),St.addEventListener("error",(function(){Et.img=tt,this._imageLoaded()}).bind(this),!1),St.setAttributeNS("http://www.w3.org/1999/xlink","href",xt),this._elementHelper.append?this._elementHelper.append(St):this._elementHelper.appendChild(St);var Et={img:St,assetData:mt};return Et}function at(mt){var xt=rt(mt,this.assetsPath,this.path),St=createTag("img");St.crossOrigin="anonymous",St.addEventListener("load",this._imageLoaded,!1),St.addEventListener("error",(function(){Et.img=tt,this._imageLoaded()}).bind(this),!1),St.src=xt;var Et={img:St,assetData:mt};return Et}function ot(mt){var xt={assetData:mt},St=rt(mt,this.assetsPath,this.path);return dataManager.loadData(St,(function(Et){xt.img=Et,this._footageLoaded()}).bind(this),(function(){xt.img={},this._footageLoaded()}).bind(this)),xt}function lt(mt,xt){this.imagesLoadedCb=xt;var St,Et=mt.length;for(St=0;St<Et;St+=1)mt[St].layers||(!mt[St].t||mt[St].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(mt[St]))):mt[St].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(mt[St]))))}function ct(mt){this.path=mt||""}function ut(mt){this.assetsPath=mt||""}function ft(mt){for(var xt=0,St=this.images.length;xt<St;){if(this.images[xt].assetData===mt)return this.images[xt].img;xt+=1}return null}function ht(){this.imagesLoadedCb=null,this.images.length=0}function pt(){return this.totalImages===this.loadedAssets}function dt(){return this.totalFootages===this.loadedFootagesCount}function gt(mt,xt){mt==="svg"?(this._elementHelper=xt,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function vt(){this._imageLoaded=_e.bind(this),this._footageLoaded=nt.bind(this),this.testImageLoaded=it.bind(this),this.createFootageData=ot.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return vt.prototype={loadAssets:lt,setAssetsPath:ut,setPath:ct,loadedImages:pt,loadedFootages:dt,destroy:ht,getAsset:ft,createImgData:at,createImageData:st,imageLoaded:_e,footageLoaded:nt,setCacheType:gt},vt}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(_e,nt){if(this._cbs[_e])for(var rt=this._cbs[_e],it=0;it<rt.length;it+=1)rt[it](nt)},addEventListener:function(_e,nt){return this._cbs[_e]||(this._cbs[_e]=[]),this._cbs[_e].push(nt),(function(){this.removeEventListener(_e,nt)}).bind(this)},removeEventListener:function(_e,nt){if(!nt)this._cbs[_e]=null;else if(this._cbs[_e]){for(var rt=0,it=this._cbs[_e].length;rt<it;)this._cbs[_e][rt]===nt&&(this._cbs[_e].splice(rt,1),rt-=1,it-=1),rt+=1;this._cbs[_e].length||(this._cbs[_e]=null)}}};var markerParser=function(){function tt(_e){for(var nt=_e.split(`\r
`),rt={},it,st=0,at=0;at<nt.length;at+=1)it=nt[at].split(":"),it.length===2&&(rt[it[0]]=it[1].trim(),st+=1);if(st===0)throw new Error;return rt}return function(_e){for(var nt=[],rt=0;rt<_e.length;rt+=1){var it=_e[rt],st={time:it.tm,duration:it.dr};try{st.payload=JSON.parse(_e[rt].cm)}catch{try{st.payload=tt(_e[rt].cm)}catch{st.payload={name:_e[rt].cm}}}nt.push(st)}return nt}}(),ProjectInterface=function(){function tt(_e){this.compositions.push(_e)}return function(){function _e(nt){for(var rt=0,it=this.compositions.length;rt<it;){if(this.compositions[rt].data&&this.compositions[rt].data.nm===nt)return this.compositions[rt].prepareFrame&&this.compositions[rt].data.xt&&this.compositions[rt].prepareFrame(this.currentFrame),this.compositions[rt].compInterface;rt+=1}return null}return _e.compositions=[],_e.currentFrame=0,_e.registerComposition=tt,_e}}(),renderers={},registerRenderer=function(_e,nt){renderers[_e]=nt};function getRenderer(tt){return renderers[tt]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var tt in renderers)if(renderers[tt])return tt;return""}function _typeof$4(tt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(nt){return typeof nt}:_typeof$4=function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt},_typeof$4(tt)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(tt){(tt.wrapper||tt.container)&&(this.wrapper=tt.wrapper||tt.container);var _e="svg";tt.animType?_e=tt.animType:tt.renderer&&(_e=tt.renderer);var nt=getRenderer(_e);this.renderer=new nt(this,tt.rendererSettings),this.imagePreloader.setCacheType(_e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=_e,tt.loop===""||tt.loop===null||tt.loop===void 0||tt.loop===!0?this.loop=!0:tt.loop===!1?this.loop=!1:this.loop=parseInt(tt.loop,10),this.autoplay="autoplay"in tt?tt.autoplay:!0,this.name=tt.name?tt.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(tt,"autoloadSegments")?tt.autoloadSegments:!0,this.assetsPath=tt.assetsPath,this.initialSegment=tt.initialSegment,tt.audioFactory&&this.audioController.setAudioFactory(tt.audioFactory),tt.animationData?this.setupAnimation(tt.animationData):tt.path&&(tt.path.lastIndexOf("\\")!==-1?this.path=tt.path.substr(0,tt.path.lastIndexOf("\\")+1):this.path=tt.path.substr(0,tt.path.lastIndexOf("/")+1),this.fileName=tt.path.substr(tt.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(tt.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(tt){dataManager.completeAnimation(tt,this.configAnimation)},AnimationItem.prototype.setData=function(tt,_e){_e&&_typeof$4(_e)!=="object"&&(_e=JSON.parse(_e));var nt={wrapper:tt,animationData:_e},rt=tt.attributes;nt.path=rt.getNamedItem("data-animation-path")?rt.getNamedItem("data-animation-path").value:rt.getNamedItem("data-bm-path")?rt.getNamedItem("data-bm-path").value:rt.getNamedItem("bm-path")?rt.getNamedItem("bm-path").value:"",nt.animType=rt.getNamedItem("data-anim-type")?rt.getNamedItem("data-anim-type").value:rt.getNamedItem("data-bm-type")?rt.getNamedItem("data-bm-type").value:rt.getNamedItem("bm-type")?rt.getNamedItem("bm-type").value:rt.getNamedItem("data-bm-renderer")?rt.getNamedItem("data-bm-renderer").value:rt.getNamedItem("bm-renderer")?rt.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var it=rt.getNamedItem("data-anim-loop")?rt.getNamedItem("data-anim-loop").value:rt.getNamedItem("data-bm-loop")?rt.getNamedItem("data-bm-loop").value:rt.getNamedItem("bm-loop")?rt.getNamedItem("bm-loop").value:"";it==="false"?nt.loop=!1:it==="true"?nt.loop=!0:it!==""&&(nt.loop=parseInt(it,10));var st=rt.getNamedItem("data-anim-autoplay")?rt.getNamedItem("data-anim-autoplay").value:rt.getNamedItem("data-bm-autoplay")?rt.getNamedItem("data-bm-autoplay").value:rt.getNamedItem("bm-autoplay")?rt.getNamedItem("bm-autoplay").value:!0;nt.autoplay=st!=="false",nt.name=rt.getNamedItem("data-name")?rt.getNamedItem("data-name").value:rt.getNamedItem("data-bm-name")?rt.getNamedItem("data-bm-name").value:rt.getNamedItem("bm-name")?rt.getNamedItem("bm-name").value:"";var at=rt.getNamedItem("data-anim-prerender")?rt.getNamedItem("data-anim-prerender").value:rt.getNamedItem("data-bm-prerender")?rt.getNamedItem("data-bm-prerender").value:rt.getNamedItem("bm-prerender")?rt.getNamedItem("bm-prerender").value:"";at==="false"&&(nt.prerender=!1),nt.path?this.setParams(nt):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(tt){tt.op>this.animationData.op&&(this.animationData.op=tt.op,this.totalFrames=Math.floor(tt.op-this.animationData.ip));var _e=this.animationData.layers,nt,rt=_e.length,it=tt.layers,st,at=it.length;for(st=0;st<at;st+=1)for(nt=0;nt<rt;){if(_e[nt].id===it[st].id){_e[nt]=it[st];break}nt+=1}if((tt.chars||tt.fonts)&&(this.renderer.globalData.fontManager.addChars(tt.chars),this.renderer.globalData.fontManager.addFonts(tt.fonts,this.renderer.globalData.defs)),tt.assets)for(rt=tt.assets.length,nt=0;nt<rt;nt+=1)this.animationData.assets.push(tt.assets[nt]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(tt){this.animationData=tt;var _e=getExpressionsPlugin();_e&&_e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var tt=this.animationData.segments;if(!tt||tt.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var _e=tt.shift();this.timeCompleted=_e.time*this.frameRate;var nt=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(nt,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var tt=this.animationData.segments;tt||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(tt){if(this.renderer)try{this.animationData=tt,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(tt),tt.assets||(tt.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(tt.assets),this.markers=markerParser(tt.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(_e){this.triggerConfigError(_e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var tt=getExpressionsPlugin();tt&&tt.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(tt,_e){var nt=typeof tt=="number"?tt:void 0,rt=typeof _e=="number"?_e:void 0;this.renderer.updateContainerSize(nt,rt)},AnimationItem.prototype.setSubframe=function(tt){this.isSubframeEnabled=!!tt},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(tt){this.triggerRenderFrameError(tt)}},AnimationItem.prototype.play=function(tt){tt&&this.name!==tt||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(tt){tt&&this.name!==tt||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(tt){tt&&this.name!==tt||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(tt){tt&&this.name!==tt||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(tt){for(var _e,nt=0;nt<this.markers.length;nt+=1)if(_e=this.markers[nt],_e.payload&&_e.payload.name===tt)return _e;return null},AnimationItem.prototype.goToAndStop=function(tt,_e,nt){if(!(nt&&this.name!==nt)){var rt=Number(tt);if(isNaN(rt)){var it=this.getMarkerData(tt);it&&this.goToAndStop(it.time,!0)}else _e?this.setCurrentRawFrameValue(tt):this.setCurrentRawFrameValue(tt*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(tt,_e,nt){if(!(nt&&this.name!==nt)){var rt=Number(tt);if(isNaN(rt)){var it=this.getMarkerData(tt);it&&(it.duration?this.playSegments([it.time,it.time+it.duration],!0):this.goToAndStop(it.time,!0))}else this.goToAndStop(rt,_e,nt);this.play()}},AnimationItem.prototype.advanceTime=function(tt){if(!(this.isPaused===!0||this.isLoaded===!1)){var _e=this.currentRawFrame+tt*this.frameModifier,nt=!1;_e>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(_e>this.totalFrames?_e%this.totalFrames:0)||(nt=!0,_e=this.totalFrames-1):_e>=this.totalFrames?(this.playCount+=1,this.checkSegments(_e%this.totalFrames)||(this.setCurrentRawFrameValue(_e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(_e):_e<0?this.checkSegments(_e%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+_e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(nt=!0,_e=0)):this.setCurrentRawFrameValue(_e),nt&&(this.setCurrentRawFrameValue(_e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(tt,_e){this.playCount=0,tt[1]<tt[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=tt[0]-tt[1],this.timeCompleted=this.totalFrames,this.firstFrame=tt[1],this.setCurrentRawFrameValue(this.totalFrames-.001-_e)):tt[1]>tt[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=tt[1]-tt[0],this.timeCompleted=this.totalFrames,this.firstFrame=tt[0],this.setCurrentRawFrameValue(.001+_e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(tt,_e){var nt=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<tt?nt=tt:this.currentRawFrame+this.firstFrame>_e&&(nt=_e-tt)),this.firstFrame=tt,this.totalFrames=_e-tt,this.timeCompleted=this.totalFrames,nt!==-1&&this.goToAndStop(nt,!0)},AnimationItem.prototype.playSegments=function(tt,_e){if(_e&&(this.segments.length=0),_typeof$4(tt[0])==="object"){var nt,rt=tt.length;for(nt=0;nt<rt;nt+=1)this.segments.push(tt[nt])}else this.segments.push(tt);this.segments.length&&_e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(tt){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),tt&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(tt){return this.segments.length?(this.adjustSegment(this.segments.shift(),tt),!0):!1},AnimationItem.prototype.destroy=function(tt){tt&&this.name!==tt||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(tt){this.currentRawFrame=tt,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(tt){this.playSpeed=tt,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(tt){this.playDirection=tt<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(tt){this.loop=tt},AnimationItem.prototype.setVolume=function(tt,_e){_e&&this.name!==_e||this.audioController.setVolume(tt)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(tt){tt&&this.name!==tt||this.audioController.mute()},AnimationItem.prototype.unmute=function(tt){tt&&this.name!==tt||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(tt){var _e="";if(tt.e)_e=tt.p;else if(this.assetsPath){var nt=tt.p;nt.indexOf("images/")!==-1&&(nt=nt.split("/")[1]),_e=this.assetsPath+nt}else _e=this.path,_e+=tt.u?tt.u:"",_e+=tt.p;return _e},AnimationItem.prototype.getAssetData=function(tt){for(var _e=0,nt=this.assets.length;_e<nt;){if(tt===this.assets[_e].id)return this.assets[_e];_e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(tt){return tt?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(tt,_e,nt){try{var rt=this.renderer.getElementByPath(tt);rt.updateDocumentData(_e,nt)}catch{}},AnimationItem.prototype.trigger=function(tt){if(this._cbs&&this._cbs[tt])switch(tt){case"enterFrame":this.triggerEvent(tt,new BMEnterFrameEvent(tt,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(tt,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(tt,new BMCompleteLoopEvent(tt,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(tt,new BMCompleteEvent(tt,this.frameMult));break;case"segmentStart":this.triggerEvent(tt,new BMSegmentStartEvent(tt,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(tt,new BMDestroyEvent(tt,this));break;default:this.triggerEvent(tt)}tt==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(tt,this.currentFrame,this.totalFrames,this.frameMult)),tt==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(tt,this.loop,this.playCount,this.frameMult)),tt==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(tt,this.frameMult)),tt==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(tt,this.firstFrame,this.totalFrames)),tt==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(tt,this))},AnimationItem.prototype.triggerRenderFrameError=function(tt){var _e=new BMRenderFrameErrorEvent(tt,this.currentFrame);this.triggerEvent("error",_e),this.onError&&this.onError.call(this,_e)},AnimationItem.prototype.triggerConfigError=function(tt){var _e=new BMConfigErrorEvent(tt,this.currentFrame);this.triggerEvent("error",_e),this.onError&&this.onError.call(this,_e)};var animationManager=function(){var tt={},_e=[],nt=0,rt=0,it=0,st=!0,at=!1;function ot(Dt){for(var $t=0,Mt=Dt.target;$t<rt;)_e[$t].animation===Mt&&(_e.splice($t,1),$t-=1,rt-=1,Mt.isPaused||ft()),$t+=1}function lt(Dt,$t){if(!Dt)return null;for(var Mt=0;Mt<rt;){if(_e[Mt].elem===Dt&&_e[Mt].elem!==null)return _e[Mt].animation;Mt+=1}var Rt=new AnimationItem;return ht(Rt,Dt),Rt.setData(Dt,$t),Rt}function ct(){var Dt,$t=_e.length,Mt=[];for(Dt=0;Dt<$t;Dt+=1)Mt.push(_e[Dt].animation);return Mt}function ut(){it+=1,It()}function ft(){it-=1}function ht(Dt,$t){Dt.addEventListener("destroy",ot),Dt.addEventListener("_active",ut),Dt.addEventListener("_idle",ft),_e.push({elem:$t,animation:Dt}),rt+=1}function pt(Dt){var $t=new AnimationItem;return ht($t,null),$t.setParams(Dt),$t}function dt(Dt,$t){var Mt;for(Mt=0;Mt<rt;Mt+=1)_e[Mt].animation.setSpeed(Dt,$t)}function gt(Dt,$t){var Mt;for(Mt=0;Mt<rt;Mt+=1)_e[Mt].animation.setDirection(Dt,$t)}function vt(Dt){var $t;for($t=0;$t<rt;$t+=1)_e[$t].animation.play(Dt)}function mt(Dt){var $t=Dt-nt,Mt;for(Mt=0;Mt<rt;Mt+=1)_e[Mt].animation.advanceTime($t);nt=Dt,it&&!at?window.requestAnimationFrame(mt):st=!0}function xt(Dt){nt=Dt,window.requestAnimationFrame(mt)}function St(Dt){var $t;for($t=0;$t<rt;$t+=1)_e[$t].animation.pause(Dt)}function Et(Dt,$t,Mt){var Rt;for(Rt=0;Rt<rt;Rt+=1)_e[Rt].animation.goToAndStop(Dt,$t,Mt)}function bt(Dt){var $t;for($t=0;$t<rt;$t+=1)_e[$t].animation.stop(Dt)}function Tt(Dt){var $t;for($t=0;$t<rt;$t+=1)_e[$t].animation.togglePause(Dt)}function At(Dt){var $t;for($t=rt-1;$t>=0;$t-=1)_e[$t].animation.destroy(Dt)}function Ct(Dt,$t,Mt){var Rt=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Nt,Ft=Rt.length;for(Nt=0;Nt<Ft;Nt+=1)Mt&&Rt[Nt].setAttribute("data-bm-type",Mt),lt(Rt[Nt],Dt);if($t&&Ft===0){Mt||(Mt="svg");var qt=document.getElementsByTagName("body")[0];qt.innerText="";var Qt=createTag("div");Qt.style.width="100%",Qt.style.height="100%",Qt.setAttribute("data-bm-type",Mt),qt.appendChild(Qt),lt(Qt,Dt)}}function Pt(){var Dt;for(Dt=0;Dt<rt;Dt+=1)_e[Dt].animation.resize()}function It(){!at&&it&&st&&(window.requestAnimationFrame(xt),st=!1)}function Lt(){at=!0}function Vt(){at=!1,It()}function Ut(Dt,$t){var Mt;for(Mt=0;Mt<rt;Mt+=1)_e[Mt].animation.setVolume(Dt,$t)}function Ot(Dt){var $t;for($t=0;$t<rt;$t+=1)_e[$t].animation.mute(Dt)}function zt(Dt){var $t;for($t=0;$t<rt;$t+=1)_e[$t].animation.unmute(Dt)}return tt.registerAnimation=lt,tt.loadAnimation=pt,tt.setSpeed=dt,tt.setDirection=gt,tt.play=vt,tt.pause=St,tt.stop=bt,tt.togglePause=Tt,tt.searchAnimations=Ct,tt.resize=Pt,tt.goToAndStop=Et,tt.destroy=At,tt.freeze=Lt,tt.unfreeze=Vt,tt.setVolume=Ut,tt.mute=Ot,tt.unmute=zt,tt.getRegisteredAnimations=ct,tt}(),BezierFactory=function(){var tt={};tt.getBezierEasing=nt;var _e={};function nt(xt,St,Et,bt,Tt){var At=Tt||("bez_"+xt+"_"+St+"_"+Et+"_"+bt).replace(/\./g,"p");if(_e[At])return _e[At];var Ct=new mt([xt,St,Et,bt]);return _e[At]=Ct,Ct}var rt=4,it=.001,st=1e-7,at=10,ot=11,lt=1/(ot-1),ct=typeof Float32Array=="function";function ut(xt,St){return 1-3*St+3*xt}function ft(xt,St){return 3*St-6*xt}function ht(xt){return 3*xt}function pt(xt,St,Et){return((ut(St,Et)*xt+ft(St,Et))*xt+ht(St))*xt}function dt(xt,St,Et){return 3*ut(St,Et)*xt*xt+2*ft(St,Et)*xt+ht(St)}function gt(xt,St,Et,bt,Tt){var At,Ct,Pt=0;do Ct=St+(Et-St)/2,At=pt(Ct,bt,Tt)-xt,At>0?Et=Ct:St=Ct;while(Math.abs(At)>st&&++Pt<at);return Ct}function vt(xt,St,Et,bt){for(var Tt=0;Tt<rt;++Tt){var At=dt(St,Et,bt);if(At===0)return St;var Ct=pt(St,Et,bt)-xt;St-=Ct/At}return St}function mt(xt){this._p=xt,this._mSampleValues=ct?new Float32Array(ot):new Array(ot),this._precomputed=!1,this.get=this.get.bind(this)}return mt.prototype={get:function(St){var Et=this._p[0],bt=this._p[1],Tt=this._p[2],At=this._p[3];return this._precomputed||this._precompute(),Et===bt&&Tt===At?St:St===0?0:St===1?1:pt(this._getTForX(St),bt,At)},_precompute:function(){var St=this._p[0],Et=this._p[1],bt=this._p[2],Tt=this._p[3];this._precomputed=!0,(St!==Et||bt!==Tt)&&this._calcSampleValues()},_calcSampleValues:function(){for(var St=this._p[0],Et=this._p[2],bt=0;bt<ot;++bt)this._mSampleValues[bt]=pt(bt*lt,St,Et)},_getTForX:function(St){for(var Et=this._p[0],bt=this._p[2],Tt=this._mSampleValues,At=0,Ct=1,Pt=ot-1;Ct!==Pt&&Tt[Ct]<=St;++Ct)At+=lt;--Ct;var It=(St-Tt[Ct])/(Tt[Ct+1]-Tt[Ct]),Lt=At+It*lt,Vt=dt(Lt,Et,bt);return Vt>=it?vt(St,Lt,Et,bt):Vt===0?Lt:gt(St,At,At+lt,Et,bt)}},tt}(),pooling=function(){function tt(_e){return _e.concat(createSizedArray(_e.length))}return{double:tt}}(),poolFactory=function(){return function(tt,_e,nt){var rt=0,it=tt,st=createSizedArray(it),at={newElement:ot,release:lt};function ot(){var ct;return rt?(rt-=1,ct=st[rt]):ct=_e(),ct}function lt(ct){rt===it&&(st=pooling.double(st),it*=2),nt&&nt(ct),st[rt]=ct,rt+=1}return at}}(),bezierLengthPool=function(){function tt(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,tt)}(),segmentsLengthPool=function(){function tt(){return{lengths:[],totalLength:0}}function _e(nt){var rt,it=nt.lengths.length;for(rt=0;rt<it;rt+=1)bezierLengthPool.release(nt.lengths[rt]);nt.lengths.length=0}return poolFactory(8,tt,_e)}();function bezFunction(){var tt=Math;function _e(ht,pt,dt,gt,vt,mt){var xt=ht*gt+pt*vt+dt*mt-vt*gt-mt*ht-dt*pt;return xt>-.001&&xt<.001}function nt(ht,pt,dt,gt,vt,mt,xt,St,Et){if(dt===0&&mt===0&&Et===0)return _e(ht,pt,gt,vt,xt,St);var bt=tt.sqrt(tt.pow(gt-ht,2)+tt.pow(vt-pt,2)+tt.pow(mt-dt,2)),Tt=tt.sqrt(tt.pow(xt-ht,2)+tt.pow(St-pt,2)+tt.pow(Et-dt,2)),At=tt.sqrt(tt.pow(xt-gt,2)+tt.pow(St-vt,2)+tt.pow(Et-mt,2)),Ct;return bt>Tt?bt>At?Ct=bt-Tt-At:Ct=At-Tt-bt:At>Tt?Ct=At-Tt-bt:Ct=Tt-bt-At,Ct>-1e-4&&Ct<1e-4}var rt=function(){return function(ht,pt,dt,gt){var vt=getDefaultCurveSegments(),mt,xt,St,Et,bt,Tt=0,At,Ct=[],Pt=[],It=bezierLengthPool.newElement();for(St=dt.length,mt=0;mt<vt;mt+=1){for(bt=mt/(vt-1),At=0,xt=0;xt<St;xt+=1)Et=bmPow(1-bt,3)*ht[xt]+3*bmPow(1-bt,2)*bt*dt[xt]+3*(1-bt)*bmPow(bt,2)*gt[xt]+bmPow(bt,3)*pt[xt],Ct[xt]=Et,Pt[xt]!==null&&(At+=bmPow(Ct[xt]-Pt[xt],2)),Pt[xt]=Ct[xt];At&&(At=bmSqrt(At),Tt+=At),It.percents[mt]=bt,It.lengths[mt]=Tt}return It.addedLength=Tt,It}}();function it(ht){var pt=segmentsLengthPool.newElement(),dt=ht.c,gt=ht.v,vt=ht.o,mt=ht.i,xt,St=ht._length,Et=pt.lengths,bt=0;for(xt=0;xt<St-1;xt+=1)Et[xt]=rt(gt[xt],gt[xt+1],vt[xt],mt[xt+1]),bt+=Et[xt].addedLength;return dt&&St&&(Et[xt]=rt(gt[xt],gt[0],vt[xt],mt[0]),bt+=Et[xt].addedLength),pt.totalLength=bt,pt}function st(ht){this.segmentLength=0,this.points=new Array(ht)}function at(ht,pt){this.partialLength=ht,this.point=pt}var ot=function(){var ht={};return function(pt,dt,gt,vt){var mt=(pt[0]+"_"+pt[1]+"_"+dt[0]+"_"+dt[1]+"_"+gt[0]+"_"+gt[1]+"_"+vt[0]+"_"+vt[1]).replace(/\./g,"p");if(!ht[mt]){var xt=getDefaultCurveSegments(),St,Et,bt,Tt,At,Ct=0,Pt,It,Lt=null;pt.length===2&&(pt[0]!==dt[0]||pt[1]!==dt[1])&&_e(pt[0],pt[1],dt[0],dt[1],pt[0]+gt[0],pt[1]+gt[1])&&_e(pt[0],pt[1],dt[0],dt[1],dt[0]+vt[0],dt[1]+vt[1])&&(xt=2);var Vt=new st(xt);for(bt=gt.length,St=0;St<xt;St+=1){for(It=createSizedArray(bt),At=St/(xt-1),Pt=0,Et=0;Et<bt;Et+=1)Tt=bmPow(1-At,3)*pt[Et]+3*bmPow(1-At,2)*At*(pt[Et]+gt[Et])+3*(1-At)*bmPow(At,2)*(dt[Et]+vt[Et])+bmPow(At,3)*dt[Et],It[Et]=Tt,Lt!==null&&(Pt+=bmPow(It[Et]-Lt[Et],2));Pt=bmSqrt(Pt),Ct+=Pt,Vt.points[St]=new at(Pt,It),Lt=It}Vt.segmentLength=Ct,ht[mt]=Vt}return ht[mt]}}();function lt(ht,pt){var dt=pt.percents,gt=pt.lengths,vt=dt.length,mt=bmFloor((vt-1)*ht),xt=ht*pt.addedLength,St=0;if(mt===vt-1||mt===0||xt===gt[mt])return dt[mt];for(var Et=gt[mt]>xt?-1:1,bt=!0;bt;)if(gt[mt]<=xt&&gt[mt+1]>xt?(St=(xt-gt[mt])/(gt[mt+1]-gt[mt]),bt=!1):mt+=Et,mt<0||mt>=vt-1){if(mt===vt-1)return dt[mt];bt=!1}return dt[mt]+(dt[mt+1]-dt[mt])*St}function ct(ht,pt,dt,gt,vt,mt){var xt=lt(vt,mt),St=1-xt,Et=tt.round((St*St*St*ht[0]+(xt*St*St+St*xt*St+St*St*xt)*dt[0]+(xt*xt*St+St*xt*xt+xt*St*xt)*gt[0]+xt*xt*xt*pt[0])*1e3)/1e3,bt=tt.round((St*St*St*ht[1]+(xt*St*St+St*xt*St+St*St*xt)*dt[1]+(xt*xt*St+St*xt*xt+xt*St*xt)*gt[1]+xt*xt*xt*pt[1])*1e3)/1e3;return[Et,bt]}var ut=createTypedArray("float32",8);function ft(ht,pt,dt,gt,vt,mt,xt){vt<0?vt=0:vt>1&&(vt=1);var St=lt(vt,xt);mt=mt>1?1:mt;var Et=lt(mt,xt),bt,Tt=ht.length,At=1-St,Ct=1-Et,Pt=At*At*At,It=St*At*At*3,Lt=St*St*At*3,Vt=St*St*St,Ut=At*At*Ct,Ot=St*At*Ct+At*St*Ct+At*At*Et,zt=St*St*Ct+At*St*Et+St*At*Et,Dt=St*St*Et,$t=At*Ct*Ct,Mt=St*Ct*Ct+At*Et*Ct+At*Ct*Et,Rt=St*Et*Ct+At*Et*Et+St*Ct*Et,Nt=St*Et*Et,Ft=Ct*Ct*Ct,qt=Et*Ct*Ct+Ct*Et*Ct+Ct*Ct*Et,Qt=Et*Et*Ct+Ct*Et*Et+Et*Ct*Et,Kt=Et*Et*Et;for(bt=0;bt<Tt;bt+=1)ut[bt*4]=tt.round((Pt*ht[bt]+It*dt[bt]+Lt*gt[bt]+Vt*pt[bt])*1e3)/1e3,ut[bt*4+1]=tt.round((Ut*ht[bt]+Ot*dt[bt]+zt*gt[bt]+Dt*pt[bt])*1e3)/1e3,ut[bt*4+2]=tt.round(($t*ht[bt]+Mt*dt[bt]+Rt*gt[bt]+Nt*pt[bt])*1e3)/1e3,ut[bt*4+3]=tt.round((Ft*ht[bt]+qt*dt[bt]+Qt*gt[bt]+Kt*pt[bt])*1e3)/1e3;return ut}return{getSegmentsLength:it,getNewSegment:ft,getPointInSegment:ct,buildBezierData:ot,pointOnLine2D:_e,pointOnLine3D:nt}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(tt,_e){var nt=this.offsetTime,rt;this.propType==="multidimensional"&&(rt=createTypedArray("float32",this.pv.length));for(var it=_e.lastIndex,st=it,at=this.keyframes.length-1,ot=!0,lt,ct,ut;ot;){if(lt=this.keyframes[st],ct=this.keyframes[st+1],st===at-1&&tt>=ct.t-nt){lt.h&&(lt=ct),it=0;break}if(ct.t-nt>tt){it=st;break}st<at-1?st+=1:(it=0,ot=!1)}ut=this.keyframesMetadata[st]||{};var ft,ht,pt,dt,gt,vt,mt=ct.t-nt,xt=lt.t-nt,St;if(lt.to){ut.bezierData||(ut.bezierData=bez.buildBezierData(lt.s,ct.s||lt.e,lt.to,lt.ti));var Et=ut.bezierData;if(tt>=mt||tt<xt){var bt=tt>=mt?Et.points.length-1:0;for(ht=Et.points[bt].point.length,ft=0;ft<ht;ft+=1)rt[ft]=Et.points[bt].point[ft]}else{ut.__fnct?vt=ut.__fnct:(vt=BezierFactory.getBezierEasing(lt.o.x,lt.o.y,lt.i.x,lt.i.y,lt.n).get,ut.__fnct=vt),pt=vt((tt-xt)/(mt-xt));var Tt=Et.segmentLength*pt,At,Ct=_e.lastFrame<tt&&_e._lastKeyframeIndex===st?_e._lastAddedLength:0;for(gt=_e.lastFrame<tt&&_e._lastKeyframeIndex===st?_e._lastPoint:0,ot=!0,dt=Et.points.length;ot;){if(Ct+=Et.points[gt].partialLength,Tt===0||pt===0||gt===Et.points.length-1){for(ht=Et.points[gt].point.length,ft=0;ft<ht;ft+=1)rt[ft]=Et.points[gt].point[ft];break}else if(Tt>=Ct&&Tt<Ct+Et.points[gt+1].partialLength){for(At=(Tt-Ct)/Et.points[gt+1].partialLength,ht=Et.points[gt].point.length,ft=0;ft<ht;ft+=1)rt[ft]=Et.points[gt].point[ft]+(Et.points[gt+1].point[ft]-Et.points[gt].point[ft])*At;break}gt<dt-1?gt+=1:ot=!1}_e._lastPoint=gt,_e._lastAddedLength=Ct-Et.points[gt].partialLength,_e._lastKeyframeIndex=st}}else{var Pt,It,Lt,Vt,Ut;if(at=lt.s.length,St=ct.s||lt.e,this.sh&&lt.h!==1)if(tt>=mt)rt[0]=St[0],rt[1]=St[1],rt[2]=St[2];else if(tt<=xt)rt[0]=lt.s[0],rt[1]=lt.s[1],rt[2]=lt.s[2];else{var Ot=createQuaternion(lt.s),zt=createQuaternion(St),Dt=(tt-xt)/(mt-xt);quaternionToEuler(rt,slerp(Ot,zt,Dt))}else for(st=0;st<at;st+=1)lt.h!==1&&(tt>=mt?pt=1:tt<xt?pt=0:(lt.o.x.constructor===Array?(ut.__fnct||(ut.__fnct=[]),ut.__fnct[st]?vt=ut.__fnct[st]:(Pt=lt.o.x[st]===void 0?lt.o.x[0]:lt.o.x[st],It=lt.o.y[st]===void 0?lt.o.y[0]:lt.o.y[st],Lt=lt.i.x[st]===void 0?lt.i.x[0]:lt.i.x[st],Vt=lt.i.y[st]===void 0?lt.i.y[0]:lt.i.y[st],vt=BezierFactory.getBezierEasing(Pt,It,Lt,Vt).get,ut.__fnct[st]=vt)):ut.__fnct?vt=ut.__fnct:(Pt=lt.o.x,It=lt.o.y,Lt=lt.i.x,Vt=lt.i.y,vt=BezierFactory.getBezierEasing(Pt,It,Lt,Vt).get,lt.keyframeMetadata=vt),pt=vt((tt-xt)/(mt-xt)))),St=ct.s||lt.e,Ut=lt.h===1?lt.s[st]:lt.s[st]+(St[st]-lt.s[st])*pt,this.propType==="multidimensional"?rt[st]=Ut:rt=Ut}return _e.lastIndex=it,rt}function slerp(tt,_e,nt){var rt=[],it=tt[0],st=tt[1],at=tt[2],ot=tt[3],lt=_e[0],ct=_e[1],ut=_e[2],ft=_e[3],ht,pt,dt,gt,vt;return pt=it*lt+st*ct+at*ut+ot*ft,pt<0&&(pt=-pt,lt=-lt,ct=-ct,ut=-ut,ft=-ft),1-pt>1e-6?(ht=Math.acos(pt),dt=Math.sin(ht),gt=Math.sin((1-nt)*ht)/dt,vt=Math.sin(nt*ht)/dt):(gt=1-nt,vt=nt),rt[0]=gt*it+vt*lt,rt[1]=gt*st+vt*ct,rt[2]=gt*at+vt*ut,rt[3]=gt*ot+vt*ft,rt}function quaternionToEuler(tt,_e){var nt=_e[0],rt=_e[1],it=_e[2],st=_e[3],at=Math.atan2(2*rt*st-2*nt*it,1-2*rt*rt-2*it*it),ot=Math.asin(2*nt*rt+2*it*st),lt=Math.atan2(2*nt*st-2*rt*it,1-2*nt*nt-2*it*it);tt[0]=at/degToRads,tt[1]=ot/degToRads,tt[2]=lt/degToRads}function createQuaternion(tt){var _e=tt[0]*degToRads,nt=tt[1]*degToRads,rt=tt[2]*degToRads,it=Math.cos(_e/2),st=Math.cos(nt/2),at=Math.cos(rt/2),ot=Math.sin(_e/2),lt=Math.sin(nt/2),ct=Math.sin(rt/2),ut=it*st*at-ot*lt*ct,ft=ot*lt*at+it*st*ct,ht=ot*st*at+it*lt*ct,pt=it*lt*at-ot*st*ct;return[ft,ht,pt,ut]}function getValueAtCurrentTime(){var tt=this.comp.renderedFrame-this.offsetTime,_e=this.keyframes[0].t-this.offsetTime,nt=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(tt===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=nt&&tt>=nt||this._caching.lastFrame<_e&&tt<_e))){this._caching.lastFrame>=tt&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var rt=this.interpolateValue(tt,this._caching);this.pv=rt}return this._caching.lastFrame=tt,this.pv}function setVValue(tt){var _e;if(this.propType==="unidimensional")_e=tt*this.mult,mathAbs(this.v-_e)>1e-5&&(this.v=_e,this._mdf=!0);else for(var nt=0,rt=this.v.length;nt<rt;)_e=tt[nt]*this.mult,mathAbs(this.v[nt]-_e)>1e-5&&(this.v[nt]=_e,this._mdf=!0),nt+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var tt,_e=this.effectsSequence.length,nt=this.kf?this.pv:this.data.k;for(tt=0;tt<_e;tt+=1)nt=this.effectsSequence[tt](nt);this.setVValue(nt),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(tt){this.effectsSequence.push(tt),this.container.addDynamicProperty(this)}function ValueProperty(tt,_e,nt,rt){this.propType="unidimensional",this.mult=nt||1,this.data=_e,this.v=nt?_e.k*nt:_e.k,this.pv=_e.k,this._mdf=!1,this.elem=tt,this.container=rt,this.comp=tt.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(tt,_e,nt,rt){this.propType="multidimensional",this.mult=nt||1,this.data=_e,this._mdf=!1,this.elem=tt,this.container=rt,this.comp=tt.comp,this.k=!1,this.kf=!1,this.frameId=-1;var it,st=_e.k.length;for(this.v=createTypedArray("float32",st),this.pv=createTypedArray("float32",st),this.vel=createTypedArray("float32",st),it=0;it<st;it+=1)this.v[it]=_e.k[it]*this.mult,this.pv[it]=_e.k[it];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(tt,_e,nt,rt){this.propType="unidimensional",this.keyframes=_e.k,this.keyframesMetadata=[],this.offsetTime=tt.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=_e,this.mult=nt||1,this.elem=tt,this.container=rt,this.comp=tt.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(tt,_e,nt,rt){this.propType="multidimensional";var it,st=_e.k.length,at,ot,lt,ct;for(it=0;it<st-1;it+=1)_e.k[it].to&&_e.k[it].s&&_e.k[it+1]&&_e.k[it+1].s&&(at=_e.k[it].s,ot=_e.k[it+1].s,lt=_e.k[it].to,ct=_e.k[it].ti,(at.length===2&&!(at[0]===ot[0]&&at[1]===ot[1])&&bez.pointOnLine2D(at[0],at[1],ot[0],ot[1],at[0]+lt[0],at[1]+lt[1])&&bez.pointOnLine2D(at[0],at[1],ot[0],ot[1],ot[0]+ct[0],ot[1]+ct[1])||at.length===3&&!(at[0]===ot[0]&&at[1]===ot[1]&&at[2]===ot[2])&&bez.pointOnLine3D(at[0],at[1],at[2],ot[0],ot[1],ot[2],at[0]+lt[0],at[1]+lt[1],at[2]+lt[2])&&bez.pointOnLine3D(at[0],at[1],at[2],ot[0],ot[1],ot[2],ot[0]+ct[0],ot[1]+ct[1],ot[2]+ct[2]))&&(_e.k[it].to=null,_e.k[it].ti=null),at[0]===ot[0]&&at[1]===ot[1]&&lt[0]===0&&lt[1]===0&&ct[0]===0&&ct[1]===0&&(at.length===2||at[2]===ot[2]&&lt[2]===0&&ct[2]===0)&&(_e.k[it].to=null,_e.k[it].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=_e,this.keyframes=_e.k,this.keyframesMetadata=[],this.offsetTime=tt.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=nt||1,this.elem=tt,this.container=rt,this.comp=tt.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var ut=_e.k[0].s.length;for(this.v=createTypedArray("float32",ut),this.pv=createTypedArray("float32",ut),it=0;it<ut;it+=1)this.v[it]=initFrame,this.pv[it]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",ut)},this.addEffect=addEffect}var PropertyFactory=function(){function tt(nt,rt,it,st,at){rt.sid&&(rt=nt.globalData.slotManager.getProp(rt));var ot;if(!rt.k.length)ot=new ValueProperty(nt,rt,st,at);else if(typeof rt.k[0]=="number")ot=new MultiDimensionalProperty(nt,rt,st,at);else switch(it){case 0:ot=new KeyframedValueProperty(nt,rt,st,at);break;case 1:ot=new KeyframedMultidimensionalProperty(nt,rt,st,at);break}return ot.effectsSequence.length&&at.addDynamicProperty(ot),ot}var _e={getProp:tt};return _e}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(_e){this.dynamicProperties.indexOf(_e)===-1&&(this.dynamicProperties.push(_e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var _e,nt=this.dynamicProperties.length;for(_e=0;_e<nt;_e+=1)this.dynamicProperties[_e].getValue(),this.dynamicProperties[_e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(_e){this.container=_e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function tt(){return createTypedArray("float32",2)}return poolFactory(8,tt)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(tt,_e){this.c=tt,this.setLength(_e);for(var nt=0;nt<_e;)this.v[nt]=pointPool.newElement(),this.o[nt]=pointPool.newElement(),this.i[nt]=pointPool.newElement(),nt+=1},ShapePath.prototype.setLength=function(tt){for(;this._maxLength<tt;)this.doubleArrayLength();this._length=tt},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(tt,_e,nt,rt,it){var st;switch(this._length=Math.max(this._length,rt+1),this._length>=this._maxLength&&this.doubleArrayLength(),nt){case"v":st=this.v;break;case"i":st=this.i;break;case"o":st=this.o;break;default:st=[];break}(!st[rt]||st[rt]&&!it)&&(st[rt]=pointPool.newElement()),st[rt][0]=tt,st[rt][1]=_e},ShapePath.prototype.setTripleAt=function(tt,_e,nt,rt,it,st,at,ot){this.setXYAt(tt,_e,"v",at,ot),this.setXYAt(nt,rt,"o",at,ot),this.setXYAt(it,st,"i",at,ot)},ShapePath.prototype.reverse=function(){var tt=new ShapePath;tt.setPathData(this.c,this._length);var _e=this.v,nt=this.o,rt=this.i,it=0;this.c&&(tt.setTripleAt(_e[0][0],_e[0][1],rt[0][0],rt[0][1],nt[0][0],nt[0][1],0,!1),it=1);var st=this._length-1,at=this._length,ot;for(ot=it;ot<at;ot+=1)tt.setTripleAt(_e[st][0],_e[st][1],rt[st][0],rt[st][1],nt[st][0],nt[st][1],ot,!1),st-=1;return tt},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function tt(){return new ShapePath}function _e(it){var st=it._length,at;for(at=0;at<st;at+=1)pointPool.release(it.v[at]),pointPool.release(it.i[at]),pointPool.release(it.o[at]),it.v[at]=null,it.i[at]=null,it.o[at]=null;it._length=0,it.c=!1}function nt(it){var st=rt.newElement(),at,ot=it._length===void 0?it.v.length:it._length;for(st.setLength(ot),st.c=it.c,at=0;at<ot;at+=1)st.setTripleAt(it.v[at][0],it.v[at][1],it.o[at][0],it.o[at][1],it.i[at][0],it.i[at][1],at);return st}var rt=poolFactory(4,tt,_e);return rt.clone=nt,rt}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(tt){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=tt,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var tt;for(tt=0;tt<this._length;tt+=1)shapePool.release(this.shapes[tt]);this._length=0};var shapeCollectionPool=function(){var tt={newShapeCollection:it,release:st},_e=0,nt=4,rt=createSizedArray(nt);function it(){var at;return _e?(_e-=1,at=rt[_e]):at=new ShapeCollection,at}function st(at){var ot,lt=at._length;for(ot=0;ot<lt;ot+=1)shapePool.release(at.shapes[ot]);at._length=0,_e===nt&&(rt=pooling.double(rt),nt*=2),rt[_e]=at,_e+=1}return tt}(),ShapePropertyFactory=function(){var tt=-999999;function _e(mt,xt,St){var Et=St.lastIndex,bt,Tt,At,Ct,Pt,It,Lt,Vt,Ut,Ot=this.keyframes;if(mt<Ot[0].t-this.offsetTime)bt=Ot[0].s[0],At=!0,Et=0;else if(mt>=Ot[Ot.length-1].t-this.offsetTime)bt=Ot[Ot.length-1].s?Ot[Ot.length-1].s[0]:Ot[Ot.length-2].e[0],At=!0;else{for(var zt=Et,Dt=Ot.length-1,$t=!0,Mt,Rt,Nt;$t&&(Mt=Ot[zt],Rt=Ot[zt+1],!(Rt.t-this.offsetTime>mt));)zt<Dt-1?zt+=1:$t=!1;if(Nt=this.keyframesMetadata[zt]||{},At=Mt.h===1,Et=zt,!At){if(mt>=Rt.t-this.offsetTime)Vt=1;else if(mt<Mt.t-this.offsetTime)Vt=0;else{var Ft;Nt.__fnct?Ft=Nt.__fnct:(Ft=BezierFactory.getBezierEasing(Mt.o.x,Mt.o.y,Mt.i.x,Mt.i.y).get,Nt.__fnct=Ft),Vt=Ft((mt-(Mt.t-this.offsetTime))/(Rt.t-this.offsetTime-(Mt.t-this.offsetTime)))}Tt=Rt.s?Rt.s[0]:Mt.e[0]}bt=Mt.s[0]}for(It=xt._length,Lt=bt.i[0].length,St.lastIndex=Et,Ct=0;Ct<It;Ct+=1)for(Pt=0;Pt<Lt;Pt+=1)Ut=At?bt.i[Ct][Pt]:bt.i[Ct][Pt]+(Tt.i[Ct][Pt]-bt.i[Ct][Pt])*Vt,xt.i[Ct][Pt]=Ut,Ut=At?bt.o[Ct][Pt]:bt.o[Ct][Pt]+(Tt.o[Ct][Pt]-bt.o[Ct][Pt])*Vt,xt.o[Ct][Pt]=Ut,Ut=At?bt.v[Ct][Pt]:bt.v[Ct][Pt]+(Tt.v[Ct][Pt]-bt.v[Ct][Pt])*Vt,xt.v[Ct][Pt]=Ut}function nt(){var mt=this.comp.renderedFrame-this.offsetTime,xt=this.keyframes[0].t-this.offsetTime,St=this.keyframes[this.keyframes.length-1].t-this.offsetTime,Et=this._caching.lastFrame;return Et!==tt&&(Et<xt&&mt<xt||Et>St&&mt>St)||(this._caching.lastIndex=Et<mt?this._caching.lastIndex:0,this.interpolateShape(mt,this.pv,this._caching)),this._caching.lastFrame=mt,this.pv}function rt(){this.paths=this.localShapeCollection}function it(mt,xt){if(mt._length!==xt._length||mt.c!==xt.c)return!1;var St,Et=mt._length;for(St=0;St<Et;St+=1)if(mt.v[St][0]!==xt.v[St][0]||mt.v[St][1]!==xt.v[St][1]||mt.o[St][0]!==xt.o[St][0]||mt.o[St][1]!==xt.o[St][1]||mt.i[St][0]!==xt.i[St][0]||mt.i[St][1]!==xt.i[St][1])return!1;return!0}function st(mt){it(this.v,mt)||(this.v=shapePool.clone(mt),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function at(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var mt;this.kf?mt=this.pv:this.data.ks?mt=this.data.ks.k:mt=this.data.pt.k;var xt,St=this.effectsSequence.length;for(xt=0;xt<St;xt+=1)mt=this.effectsSequence[xt](mt);this.setVValue(mt),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function ot(mt,xt,St){this.propType="shape",this.comp=mt.comp,this.container=mt,this.elem=mt,this.data=xt,this.k=!1,this.kf=!1,this._mdf=!1;var Et=St===3?xt.pt.k:xt.ks.k;this.v=shapePool.clone(Et),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=rt,this.effectsSequence=[]}function lt(mt){this.effectsSequence.push(mt),this.container.addDynamicProperty(this)}ot.prototype.interpolateShape=_e,ot.prototype.getValue=at,ot.prototype.setVValue=st,ot.prototype.addEffect=lt;function ct(mt,xt,St){this.propType="shape",this.comp=mt.comp,this.elem=mt,this.container=mt,this.offsetTime=mt.data.st,this.keyframes=St===3?xt.pt.k:xt.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var Et=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,Et),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=tt,this.reset=rt,this._caching={lastFrame:tt,lastIndex:0},this.effectsSequence=[nt.bind(this)]}ct.prototype.getValue=at,ct.prototype.interpolateShape=_e,ct.prototype.setVValue=st,ct.prototype.addEffect=lt;var ut=function(){var mt=roundCorner;function xt(St,Et){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=Et.d,this.elem=St,this.comp=St.comp,this.frameId=-1,this.initDynamicPropertyContainer(St),this.p=PropertyFactory.getProp(St,Et.p,1,0,this),this.s=PropertyFactory.getProp(St,Et.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return xt.prototype={reset:rt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var Et=this.p.v[0],bt=this.p.v[1],Tt=this.s.v[0]/2,At=this.s.v[1]/2,Ct=this.d!==3,Pt=this.v;Pt.v[0][0]=Et,Pt.v[0][1]=bt-At,Pt.v[1][0]=Ct?Et+Tt:Et-Tt,Pt.v[1][1]=bt,Pt.v[2][0]=Et,Pt.v[2][1]=bt+At,Pt.v[3][0]=Ct?Et-Tt:Et+Tt,Pt.v[3][1]=bt,Pt.i[0][0]=Ct?Et-Tt*mt:Et+Tt*mt,Pt.i[0][1]=bt-At,Pt.i[1][0]=Ct?Et+Tt:Et-Tt,Pt.i[1][1]=bt-At*mt,Pt.i[2][0]=Ct?Et+Tt*mt:Et-Tt*mt,Pt.i[2][1]=bt+At,Pt.i[3][0]=Ct?Et-Tt:Et+Tt,Pt.i[3][1]=bt+At*mt,Pt.o[0][0]=Ct?Et+Tt*mt:Et-Tt*mt,Pt.o[0][1]=bt-At,Pt.o[1][0]=Ct?Et+Tt:Et-Tt,Pt.o[1][1]=bt+At*mt,Pt.o[2][0]=Ct?Et-Tt*mt:Et+Tt*mt,Pt.o[2][1]=bt+At,Pt.o[3][0]=Ct?Et-Tt:Et+Tt,Pt.o[3][1]=bt-At*mt}},extendPrototype([DynamicPropertyContainer],xt),xt}(),ft=function(){function mt(xt,St){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=xt,this.comp=xt.comp,this.data=St,this.frameId=-1,this.d=St.d,this.initDynamicPropertyContainer(xt),St.sy===1?(this.ir=PropertyFactory.getProp(xt,St.ir,0,0,this),this.is=PropertyFactory.getProp(xt,St.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(xt,St.pt,0,0,this),this.p=PropertyFactory.getProp(xt,St.p,1,0,this),this.r=PropertyFactory.getProp(xt,St.r,0,degToRads,this),this.or=PropertyFactory.getProp(xt,St.or,0,0,this),this.os=PropertyFactory.getProp(xt,St.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return mt.prototype={reset:rt,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var St=Math.floor(this.pt.v)*2,Et=Math.PI*2/St,bt=!0,Tt=this.or.v,At=this.ir.v,Ct=this.os.v,Pt=this.is.v,It=2*Math.PI*Tt/(St*2),Lt=2*Math.PI*At/(St*2),Vt,Ut,Ot,zt,Dt=-Math.PI/2;Dt+=this.r.v;var $t=this.data.d===3?-1:1;for(this.v._length=0,Vt=0;Vt<St;Vt+=1){Ut=bt?Tt:At,Ot=bt?Ct:Pt,zt=bt?It:Lt;var Mt=Ut*Math.cos(Dt),Rt=Ut*Math.sin(Dt),Nt=Mt===0&&Rt===0?0:Rt/Math.sqrt(Mt*Mt+Rt*Rt),Ft=Mt===0&&Rt===0?0:-Mt/Math.sqrt(Mt*Mt+Rt*Rt);Mt+=+this.p.v[0],Rt+=+this.p.v[1],this.v.setTripleAt(Mt,Rt,Mt-Nt*zt*Ot*$t,Rt-Ft*zt*Ot*$t,Mt+Nt*zt*Ot*$t,Rt+Ft*zt*Ot*$t,Vt,!0),bt=!bt,Dt+=Et*$t}},convertPolygonToPath:function(){var St=Math.floor(this.pt.v),Et=Math.PI*2/St,bt=this.or.v,Tt=this.os.v,At=2*Math.PI*bt/(St*4),Ct,Pt=-Math.PI*.5,It=this.data.d===3?-1:1;for(Pt+=this.r.v,this.v._length=0,Ct=0;Ct<St;Ct+=1){var Lt=bt*Math.cos(Pt),Vt=bt*Math.sin(Pt),Ut=Lt===0&&Vt===0?0:Vt/Math.sqrt(Lt*Lt+Vt*Vt),Ot=Lt===0&&Vt===0?0:-Lt/Math.sqrt(Lt*Lt+Vt*Vt);Lt+=+this.p.v[0],Vt+=+this.p.v[1],this.v.setTripleAt(Lt,Vt,Lt-Ut*At*Tt*It,Vt-Ot*At*Tt*It,Lt+Ut*At*Tt*It,Vt+Ot*At*Tt*It,Ct,!0),Pt+=Et*It}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],mt),mt}(),ht=function(){function mt(xt,St){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=xt,this.comp=xt.comp,this.frameId=-1,this.d=St.d,this.initDynamicPropertyContainer(xt),this.p=PropertyFactory.getProp(xt,St.p,1,0,this),this.s=PropertyFactory.getProp(xt,St.s,1,0,this),this.r=PropertyFactory.getProp(xt,St.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return mt.prototype={convertRectToPath:function(){var St=this.p.v[0],Et=this.p.v[1],bt=this.s.v[0]/2,Tt=this.s.v[1]/2,At=bmMin(bt,Tt,this.r.v),Ct=At*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(St+bt,Et-Tt+At,St+bt,Et-Tt+At,St+bt,Et-Tt+Ct,0,!0),this.v.setTripleAt(St+bt,Et+Tt-At,St+bt,Et+Tt-Ct,St+bt,Et+Tt-At,1,!0),At!==0?(this.v.setTripleAt(St+bt-At,Et+Tt,St+bt-At,Et+Tt,St+bt-Ct,Et+Tt,2,!0),this.v.setTripleAt(St-bt+At,Et+Tt,St-bt+Ct,Et+Tt,St-bt+At,Et+Tt,3,!0),this.v.setTripleAt(St-bt,Et+Tt-At,St-bt,Et+Tt-At,St-bt,Et+Tt-Ct,4,!0),this.v.setTripleAt(St-bt,Et-Tt+At,St-bt,Et-Tt+Ct,St-bt,Et-Tt+At,5,!0),this.v.setTripleAt(St-bt+At,Et-Tt,St-bt+At,Et-Tt,St-bt+Ct,Et-Tt,6,!0),this.v.setTripleAt(St+bt-At,Et-Tt,St+bt-Ct,Et-Tt,St+bt-At,Et-Tt,7,!0)):(this.v.setTripleAt(St-bt,Et+Tt,St-bt+Ct,Et+Tt,St-bt,Et+Tt,2),this.v.setTripleAt(St-bt,Et-Tt,St-bt,Et-Tt+Ct,St-bt,Et-Tt,3))):(this.v.setTripleAt(St+bt,Et-Tt+At,St+bt,Et-Tt+Ct,St+bt,Et-Tt+At,0,!0),At!==0?(this.v.setTripleAt(St+bt-At,Et-Tt,St+bt-At,Et-Tt,St+bt-Ct,Et-Tt,1,!0),this.v.setTripleAt(St-bt+At,Et-Tt,St-bt+Ct,Et-Tt,St-bt+At,Et-Tt,2,!0),this.v.setTripleAt(St-bt,Et-Tt+At,St-bt,Et-Tt+At,St-bt,Et-Tt+Ct,3,!0),this.v.setTripleAt(St-bt,Et+Tt-At,St-bt,Et+Tt-Ct,St-bt,Et+Tt-At,4,!0),this.v.setTripleAt(St-bt+At,Et+Tt,St-bt+At,Et+Tt,St-bt+Ct,Et+Tt,5,!0),this.v.setTripleAt(St+bt-At,Et+Tt,St+bt-Ct,Et+Tt,St+bt-At,Et+Tt,6,!0),this.v.setTripleAt(St+bt,Et+Tt-At,St+bt,Et+Tt-At,St+bt,Et+Tt-Ct,7,!0)):(this.v.setTripleAt(St-bt,Et-Tt,St-bt+Ct,Et-Tt,St-bt,Et-Tt,1,!0),this.v.setTripleAt(St-bt,Et+Tt,St-bt,Et+Tt-Ct,St-bt,Et+Tt,2,!0),this.v.setTripleAt(St+bt,Et+Tt,St+bt-Ct,Et+Tt,St+bt,Et+Tt,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:rt},extendPrototype([DynamicPropertyContainer],mt),mt}();function pt(mt,xt,St){var Et;if(St===3||St===4){var bt=St===3?xt.pt:xt.ks,Tt=bt.k;Tt.length?Et=new ct(mt,xt,St):Et=new ot(mt,xt,St)}else St===5?Et=new ht(mt,xt):St===6?Et=new ut(mt,xt):St===7&&(Et=new ft(mt,xt));return Et.k&&mt.addDynamicProperty(Et),Et}function dt(){return ot}function gt(){return ct}var vt={};return vt.getShapeProp=pt,vt.getConstructorFunction=dt,vt.getKeyframedConstructorFunction=gt,vt}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var tt=Math.cos,_e=Math.sin,nt=Math.tan,rt=Math.round;function it(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function st(Mt){if(Mt===0)return this;var Rt=tt(Mt),Nt=_e(Mt);return this._t(Rt,-Nt,0,0,Nt,Rt,0,0,0,0,1,0,0,0,0,1)}function at(Mt){if(Mt===0)return this;var Rt=tt(Mt),Nt=_e(Mt);return this._t(1,0,0,0,0,Rt,-Nt,0,0,Nt,Rt,0,0,0,0,1)}function ot(Mt){if(Mt===0)return this;var Rt=tt(Mt),Nt=_e(Mt);return this._t(Rt,0,Nt,0,0,1,0,0,-Nt,0,Rt,0,0,0,0,1)}function lt(Mt){if(Mt===0)return this;var Rt=tt(Mt),Nt=_e(Mt);return this._t(Rt,-Nt,0,0,Nt,Rt,0,0,0,0,1,0,0,0,0,1)}function ct(Mt,Rt){return this._t(1,Rt,Mt,1,0,0)}function ut(Mt,Rt){return this.shear(nt(Mt),nt(Rt))}function ft(Mt,Rt){var Nt=tt(Rt),Ft=_e(Rt);return this._t(Nt,Ft,0,0,-Ft,Nt,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,nt(Mt),1,0,0,0,0,1,0,0,0,0,1)._t(Nt,-Ft,0,0,Ft,Nt,0,0,0,0,1,0,0,0,0,1)}function ht(Mt,Rt,Nt){return!Nt&&Nt!==0&&(Nt=1),Mt===1&&Rt===1&&Nt===1?this:this._t(Mt,0,0,0,0,Rt,0,0,0,0,Nt,0,0,0,0,1)}function pt(Mt,Rt,Nt,Ft,qt,Qt,Kt,Zt,tn,en,un,Cn,Rn,Mn,ln,gn){return this.props[0]=Mt,this.props[1]=Rt,this.props[2]=Nt,this.props[3]=Ft,this.props[4]=qt,this.props[5]=Qt,this.props[6]=Kt,this.props[7]=Zt,this.props[8]=tn,this.props[9]=en,this.props[10]=un,this.props[11]=Cn,this.props[12]=Rn,this.props[13]=Mn,this.props[14]=ln,this.props[15]=gn,this}function dt(Mt,Rt,Nt){return Nt=Nt||0,Mt!==0||Rt!==0||Nt!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Mt,Rt,Nt,1):this}function gt(Mt,Rt,Nt,Ft,qt,Qt,Kt,Zt,tn,en,un,Cn,Rn,Mn,ln,gn){var Yt=this.props;if(Mt===1&&Rt===0&&Nt===0&&Ft===0&&qt===0&&Qt===1&&Kt===0&&Zt===0&&tn===0&&en===0&&un===1&&Cn===0)return Yt[12]=Yt[12]*Mt+Yt[15]*Rn,Yt[13]=Yt[13]*Qt+Yt[15]*Mn,Yt[14]=Yt[14]*un+Yt[15]*ln,Yt[15]*=gn,this._identityCalculated=!1,this;var Fn=Yt[0],wn=Yt[1],Vn=Yt[2],xn=Yt[3],Bn=Yt[4],Tn=Yt[5],Wt=Yt[6],Ht=Yt[7],an=Yt[8],dn=Yt[9],mn=Yt[10],En=Yt[11],Dn=Yt[12],kn=Yt[13],Nn=Yt[14],tr=Yt[15];return Yt[0]=Fn*Mt+wn*qt+Vn*tn+xn*Rn,Yt[1]=Fn*Rt+wn*Qt+Vn*en+xn*Mn,Yt[2]=Fn*Nt+wn*Kt+Vn*un+xn*ln,Yt[3]=Fn*Ft+wn*Zt+Vn*Cn+xn*gn,Yt[4]=Bn*Mt+Tn*qt+Wt*tn+Ht*Rn,Yt[5]=Bn*Rt+Tn*Qt+Wt*en+Ht*Mn,Yt[6]=Bn*Nt+Tn*Kt+Wt*un+Ht*ln,Yt[7]=Bn*Ft+Tn*Zt+Wt*Cn+Ht*gn,Yt[8]=an*Mt+dn*qt+mn*tn+En*Rn,Yt[9]=an*Rt+dn*Qt+mn*en+En*Mn,Yt[10]=an*Nt+dn*Kt+mn*un+En*ln,Yt[11]=an*Ft+dn*Zt+mn*Cn+En*gn,Yt[12]=Dn*Mt+kn*qt+Nn*tn+tr*Rn,Yt[13]=Dn*Rt+kn*Qt+Nn*en+tr*Mn,Yt[14]=Dn*Nt+kn*Kt+Nn*un+tr*ln,Yt[15]=Dn*Ft+kn*Zt+Nn*Cn+tr*gn,this._identityCalculated=!1,this}function vt(Mt){var Rt=Mt.props;return this.transform(Rt[0],Rt[1],Rt[2],Rt[3],Rt[4],Rt[5],Rt[6],Rt[7],Rt[8],Rt[9],Rt[10],Rt[11],Rt[12],Rt[13],Rt[14],Rt[15])}function mt(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function xt(Mt){for(var Rt=0;Rt<16;){if(Mt.props[Rt]!==this.props[Rt])return!1;Rt+=1}return!0}function St(Mt){var Rt;for(Rt=0;Rt<16;Rt+=1)Mt.props[Rt]=this.props[Rt];return Mt}function Et(Mt){var Rt;for(Rt=0;Rt<16;Rt+=1)this.props[Rt]=Mt[Rt]}function bt(Mt,Rt,Nt){return{x:Mt*this.props[0]+Rt*this.props[4]+Nt*this.props[8]+this.props[12],y:Mt*this.props[1]+Rt*this.props[5]+Nt*this.props[9]+this.props[13],z:Mt*this.props[2]+Rt*this.props[6]+Nt*this.props[10]+this.props[14]}}function Tt(Mt,Rt,Nt){return Mt*this.props[0]+Rt*this.props[4]+Nt*this.props[8]+this.props[12]}function At(Mt,Rt,Nt){return Mt*this.props[1]+Rt*this.props[5]+Nt*this.props[9]+this.props[13]}function Ct(Mt,Rt,Nt){return Mt*this.props[2]+Rt*this.props[6]+Nt*this.props[10]+this.props[14]}function Pt(){var Mt=this.props[0]*this.props[5]-this.props[1]*this.props[4],Rt=this.props[5]/Mt,Nt=-this.props[1]/Mt,Ft=-this.props[4]/Mt,qt=this.props[0]/Mt,Qt=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Mt,Kt=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Mt,Zt=new Matrix;return Zt.props[0]=Rt,Zt.props[1]=Nt,Zt.props[4]=Ft,Zt.props[5]=qt,Zt.props[12]=Qt,Zt.props[13]=Kt,Zt}function It(Mt){var Rt=this.getInverseMatrix();return Rt.applyToPointArray(Mt[0],Mt[1],Mt[2]||0)}function Lt(Mt){var Rt,Nt=Mt.length,Ft=[];for(Rt=0;Rt<Nt;Rt+=1)Ft[Rt]=It(Mt[Rt]);return Ft}function Vt(Mt,Rt,Nt){var Ft=createTypedArray("float32",6);if(this.isIdentity())Ft[0]=Mt[0],Ft[1]=Mt[1],Ft[2]=Rt[0],Ft[3]=Rt[1],Ft[4]=Nt[0],Ft[5]=Nt[1];else{var qt=this.props[0],Qt=this.props[1],Kt=this.props[4],Zt=this.props[5],tn=this.props[12],en=this.props[13];Ft[0]=Mt[0]*qt+Mt[1]*Kt+tn,Ft[1]=Mt[0]*Qt+Mt[1]*Zt+en,Ft[2]=Rt[0]*qt+Rt[1]*Kt+tn,Ft[3]=Rt[0]*Qt+Rt[1]*Zt+en,Ft[4]=Nt[0]*qt+Nt[1]*Kt+tn,Ft[5]=Nt[0]*Qt+Nt[1]*Zt+en}return Ft}function Ut(Mt,Rt,Nt){var Ft;return this.isIdentity()?Ft=[Mt,Rt,Nt]:Ft=[Mt*this.props[0]+Rt*this.props[4]+Nt*this.props[8]+this.props[12],Mt*this.props[1]+Rt*this.props[5]+Nt*this.props[9]+this.props[13],Mt*this.props[2]+Rt*this.props[6]+Nt*this.props[10]+this.props[14]],Ft}function Ot(Mt,Rt){if(this.isIdentity())return Mt+","+Rt;var Nt=this.props;return Math.round((Mt*Nt[0]+Rt*Nt[4]+Nt[12])*100)/100+","+Math.round((Mt*Nt[1]+Rt*Nt[5]+Nt[13])*100)/100}function zt(){for(var Mt=0,Rt=this.props,Nt="matrix3d(",Ft=1e4;Mt<16;)Nt+=rt(Rt[Mt]*Ft)/Ft,Nt+=Mt===15?")":",",Mt+=1;return Nt}function Dt(Mt){var Rt=1e4;return Mt<1e-6&&Mt>0||Mt>-1e-6&&Mt<0?rt(Mt*Rt)/Rt:Mt}function $t(){var Mt=this.props,Rt=Dt(Mt[0]),Nt=Dt(Mt[1]),Ft=Dt(Mt[4]),qt=Dt(Mt[5]),Qt=Dt(Mt[12]),Kt=Dt(Mt[13]);return"matrix("+Rt+","+Nt+","+Ft+","+qt+","+Qt+","+Kt+")"}return function(){this.reset=it,this.rotate=st,this.rotateX=at,this.rotateY=ot,this.rotateZ=lt,this.skew=ut,this.skewFromAxis=ft,this.shear=ct,this.scale=ht,this.setTransform=pt,this.translate=dt,this.transform=gt,this.multiply=vt,this.applyToPoint=bt,this.applyToX=Tt,this.applyToY=At,this.applyToZ=Ct,this.applyToPointArray=Ut,this.applyToTriplePoints=Vt,this.applyToPointStringified=Ot,this.toCSS=zt,this.to2dCSS=$t,this.clone=St,this.cloneFromProps=Et,this.equals=xt,this.inversePoints=Lt,this.inversePoint=It,this.getInverseMatrix=Pt,this._t=this.transform,this.isIdentity=mt,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(tt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(nt){return typeof nt}:_typeof$3=function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt},_typeof$3(tt)}var lottie={};function setLocation(tt){setLocationHref(tt)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(tt){setSubframeEnabled(tt)}function setPrefix(tt){setIdPrefix(tt)}function loadAnimation(tt){return animationManager.loadAnimation(tt)}function setQuality(tt){if(typeof tt=="string")switch(tt){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(tt)&&tt>1&&setDefaultCurveSegments(tt)}function inBrowser(){return typeof navigator<"u"}function installPlugin(tt,_e){tt==="expressions"&&setExpressionsPlugin(_e)}function getFactory(tt){switch(tt){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(tt){for(var _e=queryString.split("&"),nt=0;nt<_e.length;nt+=1){var rt=_e[nt].split("=");if(decodeURIComponent(rt[0])==tt)return decodeURIComponent(rt[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(tt){}var ShapeModifiers=function(){var tt={},_e={};tt.registerModifier=nt,tt.getModifier=rt;function nt(it,st){_e[it]||(_e[it]=st)}function rt(it,st,at){return new _e[it](st,at)}return tt}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(tt){if(!this.closed){tt.sh.container.addDynamicProperty(tt.sh);var _e={shape:tt.sh,data:tt,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(_e),this.addShapeToModifier(_e),this._isAnimated&&tt.setAsAnimated()}},ShapeModifier.prototype.init=function(tt,_e){this.shapes=[],this.elem=tt,this.initDynamicPropertyContainer(tt),this.initModifierProperties(tt,_e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(tt,_e){this.s=PropertyFactory.getProp(tt,_e.s,0,.01,this),this.e=PropertyFactory.getProp(tt,_e.e,0,.01,this),this.o=PropertyFactory.getProp(tt,_e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=_e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(tt){tt.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(tt,_e,nt,rt,it){var st=[];_e<=1?st.push({s:tt,e:_e}):tt>=1?st.push({s:tt-1,e:_e-1}):(st.push({s:tt,e:1}),st.push({s:0,e:_e-1}));var at=[],ot,lt=st.length,ct;for(ot=0;ot<lt;ot+=1)if(ct=st[ot],!(ct.e*it<rt||ct.s*it>rt+nt)){var ut,ft;ct.s*it<=rt?ut=0:ut=(ct.s*it-rt)/nt,ct.e*it>=rt+nt?ft=1:ft=(ct.e*it-rt)/nt,at.push([ut,ft])}return at.length||at.push([0,0]),at},TrimModifier.prototype.releasePathsData=function(tt){var _e,nt=tt.length;for(_e=0;_e<nt;_e+=1)segmentsLengthPool.release(tt[_e]);return tt.length=0,tt},TrimModifier.prototype.processShapes=function(tt){var _e,nt;if(this._mdf||tt){var rt=this.o.v%360/360;if(rt<0&&(rt+=1),this.s.v>1?_e=1+rt:this.s.v<0?_e=0+rt:_e=this.s.v+rt,this.e.v>1?nt=1+rt:this.e.v<0?nt=0+rt:nt=this.e.v+rt,_e>nt){var it=_e;_e=nt,nt=it}_e=Math.round(_e*1e4)*1e-4,nt=Math.round(nt*1e4)*1e-4,this.sValue=_e,this.eValue=nt}else _e=this.sValue,nt=this.eValue;var st,at,ot=this.shapes.length,lt,ct,ut,ft,ht,pt=0;if(nt===_e)for(at=0;at<ot;at+=1)this.shapes[at].localShapeCollection.releaseShapes(),this.shapes[at].shape._mdf=!0,this.shapes[at].shape.paths=this.shapes[at].localShapeCollection,this._mdf&&(this.shapes[at].pathsData.length=0);else if(nt===1&&_e===0||nt===0&&_e===1){if(this._mdf)for(at=0;at<ot;at+=1)this.shapes[at].pathsData.length=0,this.shapes[at].shape._mdf=!0}else{var dt=[],gt,vt;for(at=0;at<ot;at+=1)if(gt=this.shapes[at],!gt.shape._mdf&&!this._mdf&&!tt&&this.m!==2)gt.shape.paths=gt.localShapeCollection;else{if(st=gt.shape.paths,ct=st._length,ht=0,!gt.shape._mdf&&gt.pathsData.length)ht=gt.totalShapeLength;else{for(ut=this.releasePathsData(gt.pathsData),lt=0;lt<ct;lt+=1)ft=bez.getSegmentsLength(st.shapes[lt]),ut.push(ft),ht+=ft.totalLength;gt.totalShapeLength=ht,gt.pathsData=ut}pt+=ht,gt.shape._mdf=!0}var mt=_e,xt=nt,St=0,Et;for(at=ot-1;at>=0;at-=1)if(gt=this.shapes[at],gt.shape._mdf){for(vt=gt.localShapeCollection,vt.releaseShapes(),this.m===2&&ot>1?(Et=this.calculateShapeEdges(_e,nt,gt.totalShapeLength,St,pt),St+=gt.totalShapeLength):Et=[[mt,xt]],ct=Et.length,lt=0;lt<ct;lt+=1){mt=Et[lt][0],xt=Et[lt][1],dt.length=0,xt<=1?dt.push({s:gt.totalShapeLength*mt,e:gt.totalShapeLength*xt}):mt>=1?dt.push({s:gt.totalShapeLength*(mt-1),e:gt.totalShapeLength*(xt-1)}):(dt.push({s:gt.totalShapeLength*mt,e:gt.totalShapeLength}),dt.push({s:0,e:gt.totalShapeLength*(xt-1)}));var bt=this.addShapes(gt,dt[0]);if(dt[0].s!==dt[0].e){if(dt.length>1){var Tt=gt.shape.paths.shapes[gt.shape.paths._length-1];if(Tt.c){var At=bt.pop();this.addPaths(bt,vt),bt=this.addShapes(gt,dt[1],At)}else this.addPaths(bt,vt),bt=this.addShapes(gt,dt[1])}this.addPaths(bt,vt)}}gt.shape.paths=vt}}},TrimModifier.prototype.addPaths=function(tt,_e){var nt,rt=tt.length;for(nt=0;nt<rt;nt+=1)_e.addShape(tt[nt])},TrimModifier.prototype.addSegment=function(tt,_e,nt,rt,it,st,at){it.setXYAt(_e[0],_e[1],"o",st),it.setXYAt(nt[0],nt[1],"i",st+1),at&&it.setXYAt(tt[0],tt[1],"v",st),it.setXYAt(rt[0],rt[1],"v",st+1)},TrimModifier.prototype.addSegmentFromArray=function(tt,_e,nt,rt){_e.setXYAt(tt[1],tt[5],"o",nt),_e.setXYAt(tt[2],tt[6],"i",nt+1),rt&&_e.setXYAt(tt[0],tt[4],"v",nt),_e.setXYAt(tt[3],tt[7],"v",nt+1)},TrimModifier.prototype.addShapes=function(tt,_e,nt){var rt=tt.pathsData,it=tt.shape.paths.shapes,st,at=tt.shape.paths._length,ot,lt,ct=0,ut,ft,ht,pt,dt=[],gt,vt=!0;for(nt?(ft=nt._length,gt=nt._length):(nt=shapePool.newElement(),ft=0,gt=0),dt.push(nt),st=0;st<at;st+=1){for(ht=rt[st].lengths,nt.c=it[st].c,lt=it[st].c?ht.length:ht.length+1,ot=1;ot<lt;ot+=1)if(ut=ht[ot-1],ct+ut.addedLength<_e.s)ct+=ut.addedLength,nt.c=!1;else if(ct>_e.e){nt.c=!1;break}else _e.s<=ct&&_e.e>=ct+ut.addedLength?(this.addSegment(it[st].v[ot-1],it[st].o[ot-1],it[st].i[ot],it[st].v[ot],nt,ft,vt),vt=!1):(pt=bez.getNewSegment(it[st].v[ot-1],it[st].v[ot],it[st].o[ot-1],it[st].i[ot],(_e.s-ct)/ut.addedLength,(_e.e-ct)/ut.addedLength,ht[ot-1]),this.addSegmentFromArray(pt,nt,ft,vt),vt=!1,nt.c=!1),ct+=ut.addedLength,ft+=1;if(it[st].c&&ht.length){if(ut=ht[ot-1],ct<=_e.e){var mt=ht[ot-1].addedLength;_e.s<=ct&&_e.e>=ct+mt?(this.addSegment(it[st].v[ot-1],it[st].o[ot-1],it[st].i[0],it[st].v[0],nt,ft,vt),vt=!1):(pt=bez.getNewSegment(it[st].v[ot-1],it[st].v[0],it[st].o[ot-1],it[st].i[0],(_e.s-ct)/mt,(_e.e-ct)/mt,ht[ot-1]),this.addSegmentFromArray(pt,nt,ft,vt),vt=!1,nt.c=!1)}else nt.c=!1;ct+=ut.addedLength,ft+=1}if(nt._length&&(nt.setXYAt(nt.v[gt][0],nt.v[gt][1],"i",gt),nt.setXYAt(nt.v[nt._length-1][0],nt.v[nt._length-1][1],"o",nt._length-1)),ct>_e.e)break;st<at-1&&(nt=shapePool.newElement(),vt=!0,dt.push(nt),ft=0)}return dt};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(tt,_e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(tt,_e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(tt,_e){var nt=_e/100,rt=[0,0],it=tt._length,st=0;for(st=0;st<it;st+=1)rt[0]+=tt.v[st][0],rt[1]+=tt.v[st][1];rt[0]/=it,rt[1]/=it;var at=shapePool.newElement();at.c=tt.c;var ot,lt,ct,ut,ft,ht;for(st=0;st<it;st+=1)ot=tt.v[st][0]+(rt[0]-tt.v[st][0])*nt,lt=tt.v[st][1]+(rt[1]-tt.v[st][1])*nt,ct=tt.o[st][0]+(rt[0]-tt.o[st][0])*-nt,ut=tt.o[st][1]+(rt[1]-tt.o[st][1])*-nt,ft=tt.i[st][0]+(rt[0]-tt.i[st][0])*-nt,ht=tt.i[st][1]+(rt[1]-tt.i[st][1])*-nt,at.setTripleAt(ot,lt,ct,ut,ft,ht,st);return at},PuckerAndBloatModifier.prototype.processShapes=function(tt){var _e,nt,rt=this.shapes.length,it,st,at=this.amount.v;if(at!==0){var ot,lt;for(nt=0;nt<rt;nt+=1){if(ot=this.shapes[nt],lt=ot.localShapeCollection,!(!ot.shape._mdf&&!this._mdf&&!tt))for(lt.releaseShapes(),ot.shape._mdf=!0,_e=ot.shape.paths.shapes,st=ot.shape.paths._length,it=0;it<st;it+=1)lt.addShape(this.processPath(_e[it],at));ot.shape.paths=ot.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var tt=[0,0];function _e(lt){var ct=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||ct,this.a&&lt.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&lt.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&lt.skewFromAxis(-this.sk.v,this.sa.v),this.r?lt.rotate(-this.r.v):lt.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?lt.translate(this.px.v,this.py.v,-this.pz.v):lt.translate(this.px.v,this.py.v,0):lt.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function nt(lt){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||lt){var ct;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var ut,ft;if(ct=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(ut=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/ct,0),ft=this.p.getValueAtTime(this.p.keyframes[0].t/ct,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(ut=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/ct,0),ft=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/ct,0)):(ut=this.p.pv,ft=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/ct,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){ut=[],ft=[];var ht=this.px,pt=this.py;ht._caching.lastFrame+ht.offsetTime<=ht.keyframes[0].t?(ut[0]=ht.getValueAtTime((ht.keyframes[0].t+.01)/ct,0),ut[1]=pt.getValueAtTime((pt.keyframes[0].t+.01)/ct,0),ft[0]=ht.getValueAtTime(ht.keyframes[0].t/ct,0),ft[1]=pt.getValueAtTime(pt.keyframes[0].t/ct,0)):ht._caching.lastFrame+ht.offsetTime>=ht.keyframes[ht.keyframes.length-1].t?(ut[0]=ht.getValueAtTime(ht.keyframes[ht.keyframes.length-1].t/ct,0),ut[1]=pt.getValueAtTime(pt.keyframes[pt.keyframes.length-1].t/ct,0),ft[0]=ht.getValueAtTime((ht.keyframes[ht.keyframes.length-1].t-.01)/ct,0),ft[1]=pt.getValueAtTime((pt.keyframes[pt.keyframes.length-1].t-.01)/ct,0)):(ut=[ht.pv,pt.pv],ft[0]=ht.getValueAtTime((ht._caching.lastFrame+ht.offsetTime-.01)/ct,ht.offsetTime),ft[1]=pt.getValueAtTime((pt._caching.lastFrame+pt.offsetTime-.01)/ct,pt.offsetTime))}else ft=tt,ut=ft;this.v.rotate(-Math.atan2(ut[1]-ft[1],ut[0]-ft[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function rt(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function it(){}function st(lt){this._addDynamicProperty(lt),this.elem.addDynamicProperty(lt),this._isDirty=!0}function at(lt,ct,ut){if(this.elem=lt,this.frameId=-1,this.propType="transform",this.data=ct,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(ut||lt),ct.p&&ct.p.s?(this.px=PropertyFactory.getProp(lt,ct.p.x,0,0,this),this.py=PropertyFactory.getProp(lt,ct.p.y,0,0,this),ct.p.z&&(this.pz=PropertyFactory.getProp(lt,ct.p.z,0,0,this))):this.p=PropertyFactory.getProp(lt,ct.p||{k:[0,0,0]},1,0,this),ct.rx){if(this.rx=PropertyFactory.getProp(lt,ct.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(lt,ct.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(lt,ct.rz,0,degToRads,this),ct.or.k[0].ti){var ft,ht=ct.or.k.length;for(ft=0;ft<ht;ft+=1)ct.or.k[ft].to=null,ct.or.k[ft].ti=null}this.or=PropertyFactory.getProp(lt,ct.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(lt,ct.r||{k:0},0,degToRads,this);ct.sk&&(this.sk=PropertyFactory.getProp(lt,ct.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(lt,ct.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(lt,ct.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(lt,ct.s||{k:[100,100,100]},1,.01,this),ct.o?this.o=PropertyFactory.getProp(lt,ct.o,0,.01,lt):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}at.prototype={applyToMatrix:_e,getValue:nt,precalculateMatrix:rt,autoOrient:it},extendPrototype([DynamicPropertyContainer],at),at.prototype.addDynamicProperty=st,at.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function ot(lt,ct,ut){return new at(lt,ct,ut)}return{getTransformProperty:ot}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(tt,_e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(tt,_e.c,0,null,this),this.o=PropertyFactory.getProp(tt,_e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(tt,_e.tr,this),this.so=PropertyFactory.getProp(tt,_e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(tt,_e.tr.eo,0,.01,this),this.data=_e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(tt,_e,nt,rt,it,st){var at=st?-1:1,ot=rt.s.v[0]+(1-rt.s.v[0])*(1-it),lt=rt.s.v[1]+(1-rt.s.v[1])*(1-it);tt.translate(rt.p.v[0]*at*it,rt.p.v[1]*at*it,rt.p.v[2]),_e.translate(-rt.a.v[0],-rt.a.v[1],rt.a.v[2]),_e.rotate(-rt.r.v*at*it),_e.translate(rt.a.v[0],rt.a.v[1],rt.a.v[2]),nt.translate(-rt.a.v[0],-rt.a.v[1],rt.a.v[2]),nt.scale(st?1/ot:ot,st?1/lt:lt),nt.translate(rt.a.v[0],rt.a.v[1],rt.a.v[2])},RepeaterModifier.prototype.init=function(tt,_e,nt,rt){for(this.elem=tt,this.arr=_e,this.pos=nt,this.elemsData=rt,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(tt),this.initModifierProperties(tt,_e[nt]);nt>0;)nt-=1,this._elements.unshift(_e[nt]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(tt){var _e,nt=tt.length;for(_e=0;_e<nt;_e+=1)tt[_e]._processed=!1,tt[_e].ty==="gr"&&this.resetElements(tt[_e].it)},RepeaterModifier.prototype.cloneElements=function(tt){var _e=JSON.parse(JSON.stringify(tt));return this.resetElements(_e),_e},RepeaterModifier.prototype.changeGroupRender=function(tt,_e){var nt,rt=tt.length;for(nt=0;nt<rt;nt+=1)tt[nt]._render=_e,tt[nt].ty==="gr"&&this.changeGroupRender(tt[nt].it,_e)},RepeaterModifier.prototype.processShapes=function(tt){var _e,nt,rt,it,st,at=!1;if(this._mdf||tt){var ot=Math.ceil(this.c.v);if(this._groups.length<ot){for(;this._groups.length<ot;){var lt={it:this.cloneElements(this._elements),ty:"gr"};lt.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,lt),this._groups.splice(0,0,lt),this._currentCopies+=1}this.elem.reloadShapes(),at=!0}st=0;var ct;for(rt=0;rt<=this._groups.length-1;rt+=1){if(ct=st<ot,this._groups[rt]._render=ct,this.changeGroupRender(this._groups[rt].it,ct),!ct){var ut=this.elemsData[rt].it,ft=ut[ut.length-1];ft.transform.op.v!==0?(ft.transform.op._mdf=!0,ft.transform.op.v=0):ft.transform.op._mdf=!1}st+=1}this._currentCopies=ot;var ht=this.o.v,pt=ht%1,dt=ht>0?Math.floor(ht):Math.ceil(ht),gt=this.pMatrix.props,vt=this.rMatrix.props,mt=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var xt=0;if(ht>0){for(;xt<dt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),xt+=1;pt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,pt,!1),xt+=pt)}else if(ht<0){for(;xt>dt;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),xt-=1;pt&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-pt,!0),xt-=pt)}rt=this.data.m===1?0:this._currentCopies-1,it=this.data.m===1?1:-1,st=this._currentCopies;for(var St,Et;st;){if(_e=this.elemsData[rt].it,nt=_e[_e.length-1].transform.mProps.v.props,Et=nt.length,_e[_e.length-1].transform.mProps._mdf=!0,_e[_e.length-1].transform.op._mdf=!0,_e[_e.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(rt/(this._currentCopies-1)),xt!==0){for((rt!==0&&it===1||rt!==this._currentCopies-1&&it===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(vt[0],vt[1],vt[2],vt[3],vt[4],vt[5],vt[6],vt[7],vt[8],vt[9],vt[10],vt[11],vt[12],vt[13],vt[14],vt[15]),this.matrix.transform(mt[0],mt[1],mt[2],mt[3],mt[4],mt[5],mt[6],mt[7],mt[8],mt[9],mt[10],mt[11],mt[12],mt[13],mt[14],mt[15]),this.matrix.transform(gt[0],gt[1],gt[2],gt[3],gt[4],gt[5],gt[6],gt[7],gt[8],gt[9],gt[10],gt[11],gt[12],gt[13],gt[14],gt[15]),St=0;St<Et;St+=1)nt[St]=this.matrix.props[St];this.matrix.reset()}else for(this.matrix.reset(),St=0;St<Et;St+=1)nt[St]=this.matrix.props[St];xt+=1,st-=1,rt+=it}}else for(st=this._currentCopies,rt=0,it=1;st;)_e=this.elemsData[rt].it,nt=_e[_e.length-1].transform.mProps.v.props,_e[_e.length-1].transform.mProps._mdf=!1,_e[_e.length-1].transform.op._mdf=!1,st-=1,rt+=it;return at},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(tt,_e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(tt,_e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(tt,_e){var nt=shapePool.newElement();nt.c=tt.c;var rt,it=tt._length,st,at,ot,lt,ct,ut,ft=0,ht,pt,dt,gt,vt,mt;for(rt=0;rt<it;rt+=1)st=tt.v[rt],ot=tt.o[rt],at=tt.i[rt],st[0]===ot[0]&&st[1]===ot[1]&&st[0]===at[0]&&st[1]===at[1]?(rt===0||rt===it-1)&&!tt.c?(nt.setTripleAt(st[0],st[1],ot[0],ot[1],at[0],at[1],ft),ft+=1):(rt===0?lt=tt.v[it-1]:lt=tt.v[rt-1],ct=Math.sqrt(Math.pow(st[0]-lt[0],2)+Math.pow(st[1]-lt[1],2)),ut=ct?Math.min(ct/2,_e)/ct:0,vt=st[0]+(lt[0]-st[0])*ut,ht=vt,mt=st[1]-(st[1]-lt[1])*ut,pt=mt,dt=ht-(ht-st[0])*roundCorner,gt=pt-(pt-st[1])*roundCorner,nt.setTripleAt(ht,pt,dt,gt,vt,mt,ft),ft+=1,rt===it-1?lt=tt.v[0]:lt=tt.v[rt+1],ct=Math.sqrt(Math.pow(st[0]-lt[0],2)+Math.pow(st[1]-lt[1],2)),ut=ct?Math.min(ct/2,_e)/ct:0,dt=st[0]+(lt[0]-st[0])*ut,ht=dt,gt=st[1]+(lt[1]-st[1])*ut,pt=gt,vt=ht-(ht-st[0])*roundCorner,mt=pt-(pt-st[1])*roundCorner,nt.setTripleAt(ht,pt,dt,gt,vt,mt,ft),ft+=1):(nt.setTripleAt(tt.v[rt][0],tt.v[rt][1],tt.o[rt][0],tt.o[rt][1],tt.i[rt][0],tt.i[rt][1],ft),ft+=1);return nt},RoundCornersModifier.prototype.processShapes=function(tt){var _e,nt,rt=this.shapes.length,it,st,at=this.rd.v;if(at!==0){var ot,lt;for(nt=0;nt<rt;nt+=1){if(ot=this.shapes[nt],lt=ot.localShapeCollection,!(!ot.shape._mdf&&!this._mdf&&!tt))for(lt.releaseShapes(),ot.shape._mdf=!0,_e=ot.shape.paths.shapes,st=ot.shape.paths._length,it=0;it<st;it+=1)lt.addShape(this.processPath(_e[it],at));ot.shape.paths=ot.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(tt,_e){return Math.abs(tt-_e)*1e5<=Math.min(Math.abs(tt),Math.abs(_e))}function floatZero(tt){return Math.abs(tt)<=1e-5}function lerp(tt,_e,nt){return tt*(1-nt)+_e*nt}function lerpPoint(tt,_e,nt){return[lerp(tt[0],_e[0],nt),lerp(tt[1],_e[1],nt)]}function quadRoots(tt,_e,nt){if(tt===0)return[];var rt=_e*_e-4*tt*nt;if(rt<0)return[];var it=-_e/(2*tt);if(rt===0)return[it];var st=Math.sqrt(rt)/(2*tt);return[it-st,it+st]}function polynomialCoefficients(tt,_e,nt,rt){return[-tt+3*_e-3*nt+rt,3*tt-6*_e+3*nt,-3*tt+3*_e,tt]}function singlePoint(tt){return new PolynomialBezier(tt,tt,tt,tt,!1)}function PolynomialBezier(tt,_e,nt,rt,it){it&&pointEqual(tt,_e)&&(_e=lerpPoint(tt,rt,1/3)),it&&pointEqual(nt,rt)&&(nt=lerpPoint(tt,rt,2/3));var st=polynomialCoefficients(tt[0],_e[0],nt[0],rt[0]),at=polynomialCoefficients(tt[1],_e[1],nt[1],rt[1]);this.a=[st[0],at[0]],this.b=[st[1],at[1]],this.c=[st[2],at[2]],this.d=[st[3],at[3]],this.points=[tt,_e,nt,rt]}PolynomialBezier.prototype.point=function(tt){return[((this.a[0]*tt+this.b[0])*tt+this.c[0])*tt+this.d[0],((this.a[1]*tt+this.b[1])*tt+this.c[1])*tt+this.d[1]]},PolynomialBezier.prototype.derivative=function(tt){return[(3*tt*this.a[0]+2*this.b[0])*tt+this.c[0],(3*tt*this.a[1]+2*this.b[1])*tt+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(tt){var _e=this.derivative(tt);return Math.atan2(_e[1],_e[0])},PolynomialBezier.prototype.normalAngle=function(tt){var _e=this.derivative(tt);return Math.atan2(_e[0],_e[1])},PolynomialBezier.prototype.inflectionPoints=function(){var tt=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(tt))return[];var _e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/tt,nt=_e*_e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/tt;if(nt<0)return[];var rt=Math.sqrt(nt);return floatZero(rt)?rt>0&&rt<1?[_e]:[]:[_e-rt,_e+rt].filter(function(it){return it>0&&it<1})},PolynomialBezier.prototype.split=function(tt){if(tt<=0)return[singlePoint(this.points[0]),this];if(tt>=1)return[this,singlePoint(this.points[this.points.length-1])];var _e=lerpPoint(this.points[0],this.points[1],tt),nt=lerpPoint(this.points[1],this.points[2],tt),rt=lerpPoint(this.points[2],this.points[3],tt),it=lerpPoint(_e,nt,tt),st=lerpPoint(nt,rt,tt),at=lerpPoint(it,st,tt);return[new PolynomialBezier(this.points[0],_e,it,at,!0),new PolynomialBezier(at,st,rt,this.points[3],!0)]};function extrema(tt,_e){var nt=tt.points[0][_e],rt=tt.points[tt.points.length-1][_e];if(nt>rt){var it=rt;rt=nt,nt=it}for(var st=quadRoots(3*tt.a[_e],2*tt.b[_e],tt.c[_e]),at=0;at<st.length;at+=1)if(st[at]>0&&st[at]<1){var ot=tt.point(st[at])[_e];ot<nt?nt=ot:ot>rt&&(rt=ot)}return{min:nt,max:rt}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var tt=this.bounds();return{left:tt.x.min,right:tt.x.max,top:tt.y.min,bottom:tt.y.max,width:tt.x.max-tt.x.min,height:tt.y.max-tt.y.min,cx:(tt.x.max+tt.x.min)/2,cy:(tt.y.max+tt.y.min)/2}};function intersectData(tt,_e,nt){var rt=tt.boundingBox();return{cx:rt.cx,cy:rt.cy,width:rt.width,height:rt.height,bez:tt,t:(_e+nt)/2,t1:_e,t2:nt}}function splitData(tt){var _e=tt.bez.split(.5);return[intersectData(_e[0],tt.t1,tt.t),intersectData(_e[1],tt.t,tt.t2)]}function boxIntersect(tt,_e){return Math.abs(tt.cx-_e.cx)*2<tt.width+_e.width&&Math.abs(tt.cy-_e.cy)*2<tt.height+_e.height}function intersectsImpl(tt,_e,nt,rt,it,st){if(boxIntersect(tt,_e)){if(nt>=st||tt.width<=rt&&tt.height<=rt&&_e.width<=rt&&_e.height<=rt){it.push([tt.t,_e.t]);return}var at=splitData(tt),ot=splitData(_e);intersectsImpl(at[0],ot[0],nt+1,rt,it,st),intersectsImpl(at[0],ot[1],nt+1,rt,it,st),intersectsImpl(at[1],ot[0],nt+1,rt,it,st),intersectsImpl(at[1],ot[1],nt+1,rt,it,st)}}PolynomialBezier.prototype.intersections=function(tt,_e,nt){_e===void 0&&(_e=2),nt===void 0&&(nt=7);var rt=[];return intersectsImpl(intersectData(this,0,1),intersectData(tt,0,1),0,_e,rt,nt),rt},PolynomialBezier.shapeSegment=function(tt,_e){var nt=(_e+1)%tt.length();return new PolynomialBezier(tt.v[_e],tt.o[_e],tt.i[nt],tt.v[nt],!0)},PolynomialBezier.shapeSegmentInverted=function(tt,_e){var nt=(_e+1)%tt.length();return new PolynomialBezier(tt.v[nt],tt.i[nt],tt.o[_e],tt.v[_e],!0)};function crossProduct(tt,_e){return[tt[1]*_e[2]-tt[2]*_e[1],tt[2]*_e[0]-tt[0]*_e[2],tt[0]*_e[1]-tt[1]*_e[0]]}function lineIntersection(tt,_e,nt,rt){var it=[tt[0],tt[1],1],st=[_e[0],_e[1],1],at=[nt[0],nt[1],1],ot=[rt[0],rt[1],1],lt=crossProduct(crossProduct(it,st),crossProduct(at,ot));return floatZero(lt[2])?null:[lt[0]/lt[2],lt[1]/lt[2]]}function polarOffset(tt,_e,nt){return[tt[0]+Math.cos(_e)*nt,tt[1]-Math.sin(_e)*nt]}function pointDistance(tt,_e){return Math.hypot(tt[0]-_e[0],tt[1]-_e[1])}function pointEqual(tt,_e){return floatEqual(tt[0],_e[0])&&floatEqual(tt[1],_e[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(tt,_e){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(tt,_e.s,0,null,this),this.frequency=PropertyFactory.getProp(tt,_e.r,0,null,this),this.pointsType=PropertyFactory.getProp(tt,_e.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(tt,_e,nt,rt,it,st,at){var ot=nt-Math.PI/2,lt=nt+Math.PI/2,ct=_e[0]+Math.cos(nt)*rt*it,ut=_e[1]-Math.sin(nt)*rt*it;tt.setTripleAt(ct,ut,ct+Math.cos(ot)*st,ut-Math.sin(ot)*st,ct+Math.cos(lt)*at,ut-Math.sin(lt)*at,tt.length())}function getPerpendicularVector(tt,_e){var nt=[_e[0]-tt[0],_e[1]-tt[1]],rt=-Math.PI*.5,it=[Math.cos(rt)*nt[0]-Math.sin(rt)*nt[1],Math.sin(rt)*nt[0]+Math.cos(rt)*nt[1]];return it}function getProjectingAngle(tt,_e){var nt=_e===0?tt.length()-1:_e-1,rt=(_e+1)%tt.length(),it=tt.v[nt],st=tt.v[rt],at=getPerpendicularVector(it,st);return Math.atan2(0,1)-Math.atan2(at[1],at[0])}function zigZagCorner(tt,_e,nt,rt,it,st,at){var ot=getProjectingAngle(_e,nt),lt=_e.v[nt%_e._length],ct=_e.v[nt===0?_e._length-1:nt-1],ut=_e.v[(nt+1)%_e._length],ft=st===2?Math.sqrt(Math.pow(lt[0]-ct[0],2)+Math.pow(lt[1]-ct[1],2)):0,ht=st===2?Math.sqrt(Math.pow(lt[0]-ut[0],2)+Math.pow(lt[1]-ut[1],2)):0;setPoint(tt,_e.v[nt%_e._length],ot,at,rt,ht/((it+1)*2),ft/((it+1)*2))}function zigZagSegment(tt,_e,nt,rt,it,st){for(var at=0;at<rt;at+=1){var ot=(at+1)/(rt+1),lt=it===2?Math.sqrt(Math.pow(_e.points[3][0]-_e.points[0][0],2)+Math.pow(_e.points[3][1]-_e.points[0][1],2)):0,ct=_e.normalAngle(ot),ut=_e.point(ot);setPoint(tt,ut,ct,st,nt,lt/((rt+1)*2),lt/((rt+1)*2)),st=-st}return st}ZigZagModifier.prototype.processPath=function(tt,_e,nt,rt){var it=tt._length,st=shapePool.newElement();if(st.c=tt.c,tt.c||(it-=1),it===0)return st;var at=-1,ot=PolynomialBezier.shapeSegment(tt,0);zigZagCorner(st,tt,0,_e,nt,rt,at);for(var lt=0;lt<it;lt+=1)at=zigZagSegment(st,ot,_e,nt,rt,-at),lt===it-1&&!tt.c?ot=null:ot=PolynomialBezier.shapeSegment(tt,(lt+1)%it),zigZagCorner(st,tt,lt+1,_e,nt,rt,at);return st},ZigZagModifier.prototype.processShapes=function(tt){var _e,nt,rt=this.shapes.length,it,st,at=this.amplitude.v,ot=Math.max(0,Math.round(this.frequency.v)),lt=this.pointsType.v;if(at!==0){var ct,ut;for(nt=0;nt<rt;nt+=1){if(ct=this.shapes[nt],ut=ct.localShapeCollection,!(!ct.shape._mdf&&!this._mdf&&!tt))for(ut.releaseShapes(),ct.shape._mdf=!0,_e=ct.shape.paths.shapes,st=ct.shape.paths._length,it=0;it<st;it+=1)ut.addShape(this.processPath(_e[it],at,ot,lt));ct.shape.paths=ct.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(tt,_e,nt){var rt=Math.atan2(_e[0]-tt[0],_e[1]-tt[1]);return[polarOffset(tt,rt,nt),polarOffset(_e,rt,nt)]}function offsetSegment(tt,_e){var nt,rt,it,st,at,ot,lt;lt=linearOffset(tt.points[0],tt.points[1],_e),nt=lt[0],rt=lt[1],lt=linearOffset(tt.points[1],tt.points[2],_e),it=lt[0],st=lt[1],lt=linearOffset(tt.points[2],tt.points[3],_e),at=lt[0],ot=lt[1];var ct=lineIntersection(nt,rt,it,st);ct===null&&(ct=rt);var ut=lineIntersection(at,ot,it,st);return ut===null&&(ut=at),new PolynomialBezier(nt,ct,ut,ot)}function joinLines(tt,_e,nt,rt,it){var st=_e.points[3],at=nt.points[0];if(rt===3||pointEqual(st,at))return st;if(rt===2){var ot=-_e.tangentAngle(1),lt=-nt.tangentAngle(0)+Math.PI,ct=lineIntersection(st,polarOffset(st,ot+Math.PI/2,100),at,polarOffset(at,ot+Math.PI/2,100)),ut=ct?pointDistance(ct,st):pointDistance(st,at)/2,ft=polarOffset(st,ot,2*ut*roundCorner);return tt.setXYAt(ft[0],ft[1],"o",tt.length()-1),ft=polarOffset(at,lt,2*ut*roundCorner),tt.setTripleAt(at[0],at[1],at[0],at[1],ft[0],ft[1],tt.length()),at}var ht=pointEqual(st,_e.points[2])?_e.points[0]:_e.points[2],pt=pointEqual(at,nt.points[1])?nt.points[3]:nt.points[1],dt=lineIntersection(ht,st,at,pt);return dt&&pointDistance(dt,st)<it?(tt.setTripleAt(dt[0],dt[1],dt[0],dt[1],dt[0],dt[1],tt.length()),dt):st}function getIntersection(tt,_e){var nt=tt.intersections(_e);return nt.length&&floatEqual(nt[0][0],1)&&nt.shift(),nt.length?nt[0]:null}function pruneSegmentIntersection(tt,_e){var nt=tt.slice(),rt=_e.slice(),it=getIntersection(tt[tt.length-1],_e[0]);return it&&(nt[tt.length-1]=tt[tt.length-1].split(it[0])[0],rt[0]=_e[0].split(it[1])[1]),tt.length>1&&_e.length>1&&(it=getIntersection(tt[0],_e[_e.length-1]),it)?[[tt[0].split(it[0])[0]],[_e[_e.length-1].split(it[1])[1]]]:[nt,rt]}function pruneIntersections(tt){for(var _e,nt=1;nt<tt.length;nt+=1)_e=pruneSegmentIntersection(tt[nt-1],tt[nt]),tt[nt-1]=_e[0],tt[nt]=_e[1];return tt.length>1&&(_e=pruneSegmentIntersection(tt[tt.length-1],tt[0]),tt[tt.length-1]=_e[0],tt[0]=_e[1]),tt}function offsetSegmentSplit(tt,_e){var nt=tt.inflectionPoints(),rt,it,st,at;if(nt.length===0)return[offsetSegment(tt,_e)];if(nt.length===1||floatEqual(nt[1],1))return st=tt.split(nt[0]),rt=st[0],it=st[1],[offsetSegment(rt,_e),offsetSegment(it,_e)];st=tt.split(nt[0]),rt=st[0];var ot=(nt[1]-nt[0])/(1-nt[0]);return st=st[1].split(ot),at=st[0],it=st[1],[offsetSegment(rt,_e),offsetSegment(at,_e),offsetSegment(it,_e)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(tt,_e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(tt,_e.a,0,null,this),this.miterLimit=PropertyFactory.getProp(tt,_e.ml,0,null,this),this.lineJoin=_e.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(tt,_e,nt,rt){var it=shapePool.newElement();it.c=tt.c;var st=tt.length();tt.c||(st-=1);var at,ot,lt,ct=[];for(at=0;at<st;at+=1)lt=PolynomialBezier.shapeSegment(tt,at),ct.push(offsetSegmentSplit(lt,_e));if(!tt.c)for(at=st-1;at>=0;at-=1)lt=PolynomialBezier.shapeSegmentInverted(tt,at),ct.push(offsetSegmentSplit(lt,_e));ct=pruneIntersections(ct);var ut=null,ft=null;for(at=0;at<ct.length;at+=1){var ht=ct[at];for(ft&&(ut=joinLines(it,ft,ht[0],nt,rt)),ft=ht[ht.length-1],ot=0;ot<ht.length;ot+=1)lt=ht[ot],ut&&pointEqual(lt.points[0],ut)?it.setXYAt(lt.points[1][0],lt.points[1][1],"o",it.length()-1):it.setTripleAt(lt.points[0][0],lt.points[0][1],lt.points[1][0],lt.points[1][1],lt.points[0][0],lt.points[0][1],it.length()),it.setTripleAt(lt.points[3][0],lt.points[3][1],lt.points[3][0],lt.points[3][1],lt.points[2][0],lt.points[2][1],it.length()),ut=lt.points[3]}return ct.length&&joinLines(it,ft,ct[0][0],nt,rt),it},OffsetPathModifier.prototype.processShapes=function(tt){var _e,nt,rt=this.shapes.length,it,st,at=this.amount.v,ot=this.miterLimit.v,lt=this.lineJoin;if(at!==0){var ct,ut;for(nt=0;nt<rt;nt+=1){if(ct=this.shapes[nt],ut=ct.localShapeCollection,!(!ct.shape._mdf&&!this._mdf&&!tt))for(ut.releaseShapes(),ct.shape._mdf=!0,_e=ct.shape.paths.shapes,st=ct.shape.paths._length,it=0;it<st;it+=1)ut.addShape(this.processPath(_e[it],at,lt,ot));ct.shape.paths=ct.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(tt){for(var _e=tt.fStyle?tt.fStyle.split(" "):[],nt="normal",rt="normal",it=_e.length,st,at=0;at<it;at+=1)switch(st=_e[at].toLowerCase(),st){case"italic":rt="italic";break;case"bold":nt="700";break;case"black":nt="900";break;case"medium":nt="500";break;case"regular":case"normal":nt="400";break;case"light":case"thin":nt="200";break}return{style:rt,weight:tt.fWeight||nt}}var FontManager=function(){var tt=5e3,_e={w:0,size:0,shapes:[],data:{shapes:[]}},nt=[];nt=nt.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var rt=127988,it=917631,st=917601,at=917626,ot=65039,lt=8205,ct=127462,ut=127487,ft=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function ht(Dt){var $t=Dt.split(","),Mt,Rt=$t.length,Nt=[];for(Mt=0;Mt<Rt;Mt+=1)$t[Mt]!=="sans-serif"&&$t[Mt]!=="monospace"&&Nt.push($t[Mt]);return Nt.join(",")}function pt(Dt,$t){var Mt=createTag("span");Mt.setAttribute("aria-hidden",!0),Mt.style.fontFamily=$t;var Rt=createTag("span");Rt.innerText="giItT1WQy@!-/#",Mt.style.position="absolute",Mt.style.left="-10000px",Mt.style.top="-10000px",Mt.style.fontSize="300px",Mt.style.fontVariant="normal",Mt.style.fontStyle="normal",Mt.style.fontWeight="normal",Mt.style.letterSpacing="0",Mt.appendChild(Rt),document.body.appendChild(Mt);var Nt=Rt.offsetWidth;return Rt.style.fontFamily=ht(Dt)+", "+$t,{node:Rt,w:Nt,parent:Mt}}function dt(){var Dt,$t=this.fonts.length,Mt,Rt,Nt=$t;for(Dt=0;Dt<$t;Dt+=1)this.fonts[Dt].loaded?Nt-=1:this.fonts[Dt].fOrigin==="n"||this.fonts[Dt].origin===0?this.fonts[Dt].loaded=!0:(Mt=this.fonts[Dt].monoCase.node,Rt=this.fonts[Dt].monoCase.w,Mt.offsetWidth!==Rt?(Nt-=1,this.fonts[Dt].loaded=!0):(Mt=this.fonts[Dt].sansCase.node,Rt=this.fonts[Dt].sansCase.w,Mt.offsetWidth!==Rt&&(Nt-=1,this.fonts[Dt].loaded=!0)),this.fonts[Dt].loaded&&(this.fonts[Dt].sansCase.parent.parentNode.removeChild(this.fonts[Dt].sansCase.parent),this.fonts[Dt].monoCase.parent.parentNode.removeChild(this.fonts[Dt].monoCase.parent)));Nt!==0&&Date.now()-this.initTime<tt?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function gt(Dt,$t){var Mt=document.body&&$t?"svg":"canvas",Rt,Nt=getFontProperties(Dt);if(Mt==="svg"){var Ft=createNS("text");Ft.style.fontSize="100px",Ft.setAttribute("font-family",Dt.fFamily),Ft.setAttribute("font-style",Nt.style),Ft.setAttribute("font-weight",Nt.weight),Ft.textContent="1",Dt.fClass?(Ft.style.fontFamily="inherit",Ft.setAttribute("class",Dt.fClass)):Ft.style.fontFamily=Dt.fFamily,$t.appendChild(Ft),Rt=Ft}else{var qt=new OffscreenCanvas(500,500).getContext("2d");qt.font=Nt.style+" "+Nt.weight+" 100px "+Dt.fFamily,Rt=qt}function Qt(Kt){return Mt==="svg"?(Rt.textContent=Kt,Rt.getComputedTextLength()):Rt.measureText(Kt).width}return{measureText:Qt}}function vt(Dt,$t){if(!Dt){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=Dt.list;return}if(!document.body){this.isLoaded=!0,Dt.list.forEach(function(un){un.helper=gt(un),un.cache={}}),this.fonts=Dt.list;return}var Mt=Dt.list,Rt,Nt=Mt.length,Ft=Nt;for(Rt=0;Rt<Nt;Rt+=1){var qt=!0,Qt,Kt;if(Mt[Rt].loaded=!1,Mt[Rt].monoCase=pt(Mt[Rt].fFamily,"monospace"),Mt[Rt].sansCase=pt(Mt[Rt].fFamily,"sans-serif"),!Mt[Rt].fPath)Mt[Rt].loaded=!0,Ft-=1;else if(Mt[Rt].fOrigin==="p"||Mt[Rt].origin===3){if(Qt=document.querySelectorAll('style[f-forigin="p"][f-family="'+Mt[Rt].fFamily+'"], style[f-origin="3"][f-family="'+Mt[Rt].fFamily+'"]'),Qt.length>0&&(qt=!1),qt){var Zt=createTag("style");Zt.setAttribute("f-forigin",Mt[Rt].fOrigin),Zt.setAttribute("f-origin",Mt[Rt].origin),Zt.setAttribute("f-family",Mt[Rt].fFamily),Zt.type="text/css",Zt.innerText="@font-face {font-family: "+Mt[Rt].fFamily+"; font-style: normal; src: url('"+Mt[Rt].fPath+"');}",$t.appendChild(Zt)}}else if(Mt[Rt].fOrigin==="g"||Mt[Rt].origin===1){for(Qt=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Kt=0;Kt<Qt.length;Kt+=1)Qt[Kt].href.indexOf(Mt[Rt].fPath)!==-1&&(qt=!1);if(qt){var tn=createTag("link");tn.setAttribute("f-forigin",Mt[Rt].fOrigin),tn.setAttribute("f-origin",Mt[Rt].origin),tn.type="text/css",tn.rel="stylesheet",tn.href=Mt[Rt].fPath,document.body.appendChild(tn)}}else if(Mt[Rt].fOrigin==="t"||Mt[Rt].origin===2){for(Qt=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Kt=0;Kt<Qt.length;Kt+=1)Mt[Rt].fPath===Qt[Kt].src&&(qt=!1);if(qt){var en=createTag("link");en.setAttribute("f-forigin",Mt[Rt].fOrigin),en.setAttribute("f-origin",Mt[Rt].origin),en.setAttribute("rel","stylesheet"),en.setAttribute("href",Mt[Rt].fPath),$t.appendChild(en)}}Mt[Rt].helper=gt(Mt[Rt],$t),Mt[Rt].cache={},this.fonts.push(Mt[Rt])}Ft===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function mt(Dt){if(Dt){this.chars||(this.chars=[]);var $t,Mt=Dt.length,Rt,Nt=this.chars.length,Ft;for($t=0;$t<Mt;$t+=1){for(Rt=0,Ft=!1;Rt<Nt;)this.chars[Rt].style===Dt[$t].style&&this.chars[Rt].fFamily===Dt[$t].fFamily&&this.chars[Rt].ch===Dt[$t].ch&&(Ft=!0),Rt+=1;Ft||(this.chars.push(Dt[$t]),Nt+=1)}}}function xt(Dt,$t,Mt){for(var Rt=0,Nt=this.chars.length;Rt<Nt;){if(this.chars[Rt].ch===Dt&&this.chars[Rt].style===$t&&this.chars[Rt].fFamily===Mt)return this.chars[Rt];Rt+=1}return(typeof Dt=="string"&&Dt.charCodeAt(0)!==13||!Dt)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",Dt,$t,Mt)),_e}function St(Dt,$t,Mt){var Rt=this.getFontByName($t),Nt=Dt;if(!Rt.cache[Nt]){var Ft=Rt.helper;if(Dt===" "){var qt=Ft.measureText("|"+Dt+"|"),Qt=Ft.measureText("||");Rt.cache[Nt]=(qt-Qt)/100}else Rt.cache[Nt]=Ft.measureText(Dt)/100}return Rt.cache[Nt]*Mt}function Et(Dt){for(var $t=0,Mt=this.fonts.length;$t<Mt;){if(this.fonts[$t].fName===Dt)return this.fonts[$t];$t+=1}return this.fonts[0]}function bt(Dt){var $t=0,Mt=Dt.charCodeAt(0);if(Mt>=55296&&Mt<=56319){var Rt=Dt.charCodeAt(1);Rt>=56320&&Rt<=57343&&($t=(Mt-55296)*1024+Rt-56320+65536)}return $t}function Tt(Dt,$t){var Mt=Dt.toString(16)+$t.toString(16);return ft.indexOf(Mt)!==-1}function At(Dt){return Dt===lt}function Ct(Dt){return Dt===ot}function Pt(Dt){var $t=bt(Dt);return $t>=ct&&$t<=ut}function It(Dt){return Pt(Dt.substr(0,2))&&Pt(Dt.substr(2,2))}function Lt(Dt){return nt.indexOf(Dt)!==-1}function Vt(Dt,$t){var Mt=bt(Dt.substr($t,2));if(Mt!==rt)return!1;var Rt=0;for($t+=2;Rt<5;){if(Mt=bt(Dt.substr($t,2)),Mt<st||Mt>at)return!1;Rt+=1,$t+=2}return bt(Dt.substr($t,2))===it}function Ut(){this.isLoaded=!0}var Ot=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Ot.isModifier=Tt,Ot.isZeroWidthJoiner=At,Ot.isFlagEmoji=It,Ot.isRegionalCode=Pt,Ot.isCombinedCharacter=Lt,Ot.isRegionalFlag=Vt,Ot.isVariationSelector=Ct,Ot.BLACK_FLAG_CODE_POINT=rt;var zt={addChars:mt,addFonts:vt,getCharData:xt,getFontByName:Et,measureText:St,checkLoadedFonts:dt,setIsLoaded:Ut};return Ot.prototype=zt,Ot}();function SlotManager(tt){this.animationData=tt}SlotManager.prototype.getProp=function(tt){return this.animationData.slots&&this.animationData.slots[tt.sid]?Object.assign(tt,this.animationData.slots[tt.sid].p):tt};function slotFactory(tt){return new SlotManager(tt)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(_e){this.renderableComponents.indexOf(_e)===-1&&this.renderableComponents.push(_e)},removeRenderableComponent:function(_e){this.renderableComponents.indexOf(_e)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(_e),1)},prepareRenderableFrame:function(_e){this.checkLayerLimits(_e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(_e){this.data.ip-this.data.st<=_e&&this.data.op-this.data.st>_e?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var _e,nt=this.renderableComponents.length;for(_e=0;_e<nt;_e+=1)this.renderableComponents[_e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var tt={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(_e){return tt[_e]||""}}();function SliderEffect(tt,_e,nt){this.p=PropertyFactory.getProp(_e,tt.v,0,0,nt)}function AngleEffect(tt,_e,nt){this.p=PropertyFactory.getProp(_e,tt.v,0,0,nt)}function ColorEffect(tt,_e,nt){this.p=PropertyFactory.getProp(_e,tt.v,1,0,nt)}function PointEffect(tt,_e,nt){this.p=PropertyFactory.getProp(_e,tt.v,1,0,nt)}function LayerIndexEffect(tt,_e,nt){this.p=PropertyFactory.getProp(_e,tt.v,0,0,nt)}function MaskIndexEffect(tt,_e,nt){this.p=PropertyFactory.getProp(_e,tt.v,0,0,nt)}function CheckboxEffect(tt,_e,nt){this.p=PropertyFactory.getProp(_e,tt.v,0,0,nt)}function NoValueEffect(){this.p={}}function EffectsManager(tt,_e){var nt=tt.ef||[];this.effectElements=[];var rt,it=nt.length,st;for(rt=0;rt<it;rt+=1)st=new GroupEffect(nt[rt],_e),this.effectElements.push(st)}function GroupEffect(tt,_e){this.init(tt,_e)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(tt,_e){this.data=tt,this.effectElements=[],this.initDynamicPropertyContainer(_e);var nt,rt=this.data.ef.length,it,st=this.data.ef;for(nt=0;nt<rt;nt+=1){switch(it=null,st[nt].ty){case 0:it=new SliderEffect(st[nt],_e,this);break;case 1:it=new AngleEffect(st[nt],_e,this);break;case 2:it=new ColorEffect(st[nt],_e,this);break;case 3:it=new PointEffect(st[nt],_e,this);break;case 4:case 7:it=new CheckboxEffect(st[nt],_e,this);break;case 10:it=new LayerIndexEffect(st[nt],_e,this);break;case 11:it=new MaskIndexEffect(st[nt],_e,this);break;case 5:it=new EffectsManager(st[nt],_e);break;default:it=new NoValueEffect(st[nt]);break}it&&this.effectElements.push(it)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var _e=0,nt=this.data.masksProperties.length;_e<nt;){if(this.data.masksProperties[_e].mode!=="n"&&this.data.masksProperties[_e].cl!==!1)return!0;_e+=1}return!1},initExpressions:function(){var _e=getExpressionInterfaces();if(_e){var nt=_e("layer"),rt=_e("effects"),it=_e("shape"),st=_e("text"),at=_e("comp");this.layerInterface=nt(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var ot=rt.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(ot),this.data.ty===0||this.data.xt?this.compInterface=at(this):this.data.ty===4?(this.layerInterface.shapeInterface=it(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=st(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var _e=getBlendMode(this.data.bm),nt=this.baseElement||this.layerElement;nt.style["mix-blend-mode"]=_e},initBaseData:function(_e,nt,rt){this.globalData=nt,this.comp=rt,this.data=_e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(_e,nt){var rt,it=this.dynamicProperties.length;for(rt=0;rt<it;rt+=1)(nt||this._isParent&&this.dynamicProperties[rt].propType==="transform")&&(this.dynamicProperties[rt].getValue(),this.dynamicProperties[rt]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(_e){this.dynamicProperties.indexOf(_e)===-1&&this.dynamicProperties.push(_e)}};function FootageElement(tt,_e,nt){this.initFrame(),this.initRenderable(),this.assetData=_e.getAssetData(tt.refId),this.footageData=_e.imageLoader.getAsset(this.assetData),this.initBaseData(tt,_e,nt)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var tt=getExpressionInterfaces();if(tt){var _e=tt("footage");this.layerInterface=_e(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(tt,_e,nt){this.initFrame(),this.initRenderable(),this.assetData=_e.getAssetData(tt.refId),this.initBaseData(tt,_e,nt),this._isPlaying=!1,this._canPlay=!1;var rt=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(rt),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=tt.tm?PropertyFactory.getProp(this,tt.tm,0,_e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,tt.au&&tt.au.lv?tt.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(tt){if(this.prepareRenderableFrame(tt,!0),this.prepareProperties(tt,!0),this.tm._placeholder)this._currentTime=tt/this.data.sr;else{var _e=this.tm.v;this._currentTime=_e}this._volume=this.lv.v[0];var nt=this._volume*this._volumeMultiplier;this._previousVolume!==nt&&(this._previousVolume=nt,this.audio.volume(nt))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(tt){this.audio.rate(tt)},AudioElement.prototype.volume=function(tt){this._volumeMultiplier=tt,this._previousVolume=tt*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(tt){var _e,nt=this.layers.length,rt;for(this.completeLayers=!0,_e=nt-1;_e>=0;_e-=1)this.elements[_e]||(rt=this.layers[_e],rt.ip-rt.st<=tt-this.layers[_e].st&&rt.op-rt.st>tt-this.layers[_e].st&&this.buildItem(_e)),this.completeLayers=this.elements[_e]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(tt){switch(tt.ty){case 2:return this.createImage(tt);case 0:return this.createComp(tt);case 1:return this.createSolid(tt);case 3:return this.createNull(tt);case 4:return this.createShape(tt);case 5:return this.createText(tt);case 6:return this.createAudio(tt);case 13:return this.createCamera(tt);case 15:return this.createFootage(tt);default:return this.createNull(tt)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(tt){return new AudioElement(tt,this.globalData,this)},BaseRenderer.prototype.createFootage=function(tt){return new FootageElement(tt,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var tt,_e=this.layers.length;for(tt=0;tt<_e;tt+=1)this.buildItem(tt);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(tt){this.completeLayers=!1;var _e,nt=tt.length,rt,it=this.layers.length;for(_e=0;_e<nt;_e+=1)for(rt=0;rt<it;){if(this.layers[rt].id===tt[_e].id){this.layers[rt]=tt[_e];break}rt+=1}},BaseRenderer.prototype.setProjectInterface=function(tt){this.globalData.projectInterface=tt},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(tt,_e,nt){for(var rt=this.elements,it=this.layers,st=0,at=it.length;st<at;)it[st].ind==_e&&(!rt[st]||rt[st]===!0?(this.buildItem(st),this.addPendingElement(tt)):(nt.push(rt[st]),rt[st].setAsParent(),it[st].parent!==void 0?this.buildElementParenting(tt,it[st].parent,nt):tt.setHierarchy(nt))),st+=1},BaseRenderer.prototype.addPendingElement=function(tt){this.pendingElements.push(tt)},BaseRenderer.prototype.searchExtraCompositions=function(tt){var _e,nt=tt.length;for(_e=0;_e<nt;_e+=1)if(tt[_e].xt){var rt=this.createComp(tt[_e]);rt.initExpressions(),this.globalData.projectInterface.registerComposition(rt)}},BaseRenderer.prototype.getElementById=function(tt){var _e,nt=this.elements.length;for(_e=0;_e<nt;_e+=1)if(this.elements[_e].data.ind===tt)return this.elements[_e];return null},BaseRenderer.prototype.getElementByPath=function(tt){var _e=tt.shift(),nt;if(typeof _e=="number")nt=this.elements[_e];else{var rt,it=this.elements.length;for(rt=0;rt<it;rt+=1)if(this.elements[rt].data.nm===_e){nt=this.elements[rt];break}}return tt.length===0?nt:nt.getElementByPath(tt)},BaseRenderer.prototype.setupGlobalData=function(tt,_e){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(tt),this.globalData.fontManager.addChars(tt.chars),this.globalData.fontManager.addFonts(tt.fonts,_e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=tt.fr,this.globalData.nm=tt.nm,this.globalData.compSize={w:tt.w,h:tt.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var _e=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:_e,localMat:_e,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var _e,nt=this.finalTransform.mat,rt=0,it=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;rt<it;){if(this.hierarchy[rt].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}rt+=1}if(this.finalTransform._matMdf)for(_e=this.finalTransform.mProp.v.props,nt.cloneFromProps(_e),rt=0;rt<it;rt+=1)nt.multiply(this.hierarchy[rt].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var _e=0,nt=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;_e<nt;)this.localTransforms[_e]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[_e]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),_e+=1;if(this.finalTransform._localMatMdf){var rt=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(rt),_e=1;_e<nt;_e+=1){var it=this.localTransforms[_e].matrix;rt.multiply(it)}rt.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var st=this.finalTransform.localOpacity;for(_e=0;_e<nt;_e+=1)st*=this.localTransforms[_e].opacity*.01;this.finalTransform.localOpacity=st}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var _e=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(_e.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var nt=0,rt=_e.length;for(nt=0;nt<rt;nt+=1)this.localTransforms.push(_e[nt])}}},globalToLocal:function(_e){var nt=[];nt.push(this.finalTransform);for(var rt=!0,it=this.comp;rt;)it.finalTransform?(it.data.hasMask&&nt.splice(0,0,it.finalTransform),it=it.comp):rt=!1;var st,at=nt.length,ot;for(st=0;st<at;st+=1)ot=nt[st].mat.applyToPointArray(0,0,0),_e=[_e[0]-ot[0],_e[1]-ot[1],0];return _e},mHelper:new Matrix};function MaskElement(tt,_e,nt){this.data=tt,this.element=_e,this.globalData=nt,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var rt=this.globalData.defs,it,st=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(st),this.solidPath="";var at,ot=this.masksProperties,lt=0,ct=[],ut,ft,ht=createElementID(),pt,dt,gt,vt,mt="clipPath",xt="clip-path";for(it=0;it<st;it+=1)if((ot[it].mode!=="a"&&ot[it].mode!=="n"||ot[it].inv||ot[it].o.k!==100||ot[it].o.x)&&(mt="mask",xt="mask"),(ot[it].mode==="s"||ot[it].mode==="i")&&lt===0?(pt=createNS("rect"),pt.setAttribute("fill","#ffffff"),pt.setAttribute("width",this.element.comp.data.w||0),pt.setAttribute("height",this.element.comp.data.h||0),ct.push(pt)):pt=null,at=createNS("path"),ot[it].mode==="n")this.viewData[it]={op:PropertyFactory.getProp(this.element,ot[it].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ot[it],3),elem:at,lastPath:""},rt.appendChild(at);else{lt+=1,at.setAttribute("fill",ot[it].mode==="s"?"#000000":"#ffffff"),at.setAttribute("clip-rule","nonzero");var St;if(ot[it].x.k!==0?(mt="mask",xt="mask",vt=PropertyFactory.getProp(this.element,ot[it].x,0,null,this.element),St=createElementID(),dt=createNS("filter"),dt.setAttribute("id",St),gt=createNS("feMorphology"),gt.setAttribute("operator","erode"),gt.setAttribute("in","SourceGraphic"),gt.setAttribute("radius","0"),dt.appendChild(gt),rt.appendChild(dt),at.setAttribute("stroke",ot[it].mode==="s"?"#000000":"#ffffff")):(gt=null,vt=null),this.storedData[it]={elem:at,x:vt,expan:gt,lastPath:"",lastOperator:"",filterId:St,lastRadius:0},ot[it].mode==="i"){ft=ct.length;var Et=createNS("g");for(ut=0;ut<ft;ut+=1)Et.appendChild(ct[ut]);var bt=createNS("mask");bt.setAttribute("mask-type","alpha"),bt.setAttribute("id",ht+"_"+lt),bt.appendChild(at),rt.appendChild(bt),Et.setAttribute("mask","url("+getLocationHref()+"#"+ht+"_"+lt+")"),ct.length=0,ct.push(Et)}else ct.push(at);ot[it].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[it]={elem:at,lastPath:"",op:PropertyFactory.getProp(this.element,ot[it].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,ot[it],3),invRect:pt},this.viewData[it].prop.k||this.drawPath(ot[it],this.viewData[it].prop.v,this.viewData[it])}for(this.maskElement=createNS(mt),st=ct.length,it=0;it<st;it+=1)this.maskElement.appendChild(ct[it]);lt>0&&(this.maskElement.setAttribute("id",ht),this.element.maskedElement.setAttribute(xt,"url("+getLocationHref()+"#"+ht+")"),rt.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(tt){return this.viewData[tt].prop},MaskElement.prototype.renderFrame=function(tt){var _e=this.element.finalTransform.mat,nt,rt=this.masksProperties.length;for(nt=0;nt<rt;nt+=1)if((this.viewData[nt].prop._mdf||tt)&&this.drawPath(this.masksProperties[nt],this.viewData[nt].prop.v,this.viewData[nt]),(this.viewData[nt].op._mdf||tt)&&this.viewData[nt].elem.setAttribute("fill-opacity",this.viewData[nt].op.v),this.masksProperties[nt].mode!=="n"&&(this.viewData[nt].invRect&&(this.element.finalTransform.mProp._mdf||tt)&&this.viewData[nt].invRect.setAttribute("transform",_e.getInverseMatrix().to2dCSS()),this.storedData[nt].x&&(this.storedData[nt].x._mdf||tt))){var it=this.storedData[nt].expan;this.storedData[nt].x.v<0?(this.storedData[nt].lastOperator!=="erode"&&(this.storedData[nt].lastOperator="erode",this.storedData[nt].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[nt].filterId+")")),it.setAttribute("radius",-this.storedData[nt].x.v)):(this.storedData[nt].lastOperator!=="dilate"&&(this.storedData[nt].lastOperator="dilate",this.storedData[nt].elem.setAttribute("filter",null)),this.storedData[nt].elem.setAttribute("stroke-width",this.storedData[nt].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var tt="M0,0 ";return tt+=" h"+this.globalData.compSize.w,tt+=" v"+this.globalData.compSize.h,tt+=" h-"+this.globalData.compSize.w,tt+=" v-"+this.globalData.compSize.h+" ",tt},MaskElement.prototype.drawPath=function(tt,_e,nt){var rt=" M"+_e.v[0][0]+","+_e.v[0][1],it,st;for(st=_e._length,it=1;it<st;it+=1)rt+=" C"+_e.o[it-1][0]+","+_e.o[it-1][1]+" "+_e.i[it][0]+","+_e.i[it][1]+" "+_e.v[it][0]+","+_e.v[it][1];if(_e.c&&st>1&&(rt+=" C"+_e.o[it-1][0]+","+_e.o[it-1][1]+" "+_e.i[0][0]+","+_e.i[0][1]+" "+_e.v[0][0]+","+_e.v[0][1]),nt.lastPath!==rt){var at="";nt.elem&&(_e.c&&(at=tt.inv?this.solidPath+rt:rt),nt.elem.setAttribute("d",at)),nt.lastPath=rt}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var tt={};tt.createFilter=_e,tt.createAlphaToLuminanceFilter=nt;function _e(rt,it){var st=createNS("filter");return st.setAttribute("id",rt),it!==!0&&(st.setAttribute("filterUnits","objectBoundingBox"),st.setAttribute("x","0%"),st.setAttribute("y","0%"),st.setAttribute("width","100%"),st.setAttribute("height","100%")),st}function nt(){var rt=createNS("feColorMatrix");return rt.setAttribute("type","matrix"),rt.setAttribute("color-interpolation-filters","sRGB"),rt.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),rt}return tt}(),featureSupport=function(){var tt={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(tt.maskType=!1),/firefox/i.test(navigator.userAgent)&&(tt.svgLumaHidden=!1),tt}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(tt){var _e,nt="SourceGraphic",rt=tt.data.ef?tt.data.ef.length:0,it=createElementID(),st=filtersFactory.createFilter(it,!0),at=0;this.filters=[];var ot;for(_e=0;_e<rt;_e+=1){ot=null;var lt=tt.data.ef[_e].ty;if(registeredEffects$1[lt]){var ct=registeredEffects$1[lt].effect;ot=new ct(st,tt.effectsManager.effectElements[_e],tt,idPrefix+at,nt),nt=idPrefix+at,registeredEffects$1[lt].countsAsEffect&&(at+=1)}ot&&this.filters.push(ot)}at&&(tt.globalData.defs.appendChild(st),tt.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+it+")")),this.filters.length&&tt.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(tt){var _e,nt=this.filters.length;for(_e=0;_e<nt;_e+=1)this.filters[_e].renderFrame(tt)},SVGEffects.prototype.getEffects=function(tt){var _e,nt=this.filters.length,rt=[];for(_e=0;_e<nt;_e+=1)this.filters[_e].type===tt&&rt.push(this.filters[_e]);return rt};function registerEffect$1(tt,_e,nt){registeredEffects$1[tt]={effect:_e,countsAsEffect:nt}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var _e=null;if(this.data.td){this.matteMasks={};var nt=createNS("g");nt.setAttribute("id",this.layerId),nt.appendChild(this.layerElement),_e=nt,this.globalData.defs.appendChild(nt)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),_e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var rt=createNS("clipPath"),it=createNS("path");it.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var st=createElementID();if(rt.setAttribute("id",st),rt.appendChild(it),this.globalData.defs.appendChild(rt),this.checkMasks()){var at=createNS("g");at.setAttribute("clip-path","url("+getLocationHref()+"#"+st+")"),at.appendChild(this.layerElement),this.transformedElement=at,_e?_e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+st+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(_e){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[_e]){var nt=this.layerId+"_"+_e,rt,it,st,at;if(_e===1||_e===3){var ot=createNS("mask");ot.setAttribute("id",nt),ot.setAttribute("mask-type",_e===3?"luminance":"alpha"),st=createNS("use"),st.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ot.appendChild(st),this.globalData.defs.appendChild(ot),!featureSupport.maskType&&_e===1&&(ot.setAttribute("mask-type","luminance"),rt=createElementID(),it=filtersFactory.createFilter(rt),this.globalData.defs.appendChild(it),it.appendChild(filtersFactory.createAlphaToLuminanceFilter()),at=createNS("g"),at.appendChild(st),ot.appendChild(at),at.setAttribute("filter","url("+getLocationHref()+"#"+rt+")"))}else if(_e===2){var lt=createNS("mask");lt.setAttribute("id",nt),lt.setAttribute("mask-type","alpha");var ct=createNS("g");lt.appendChild(ct),rt=createElementID(),it=filtersFactory.createFilter(rt);var ut=createNS("feComponentTransfer");ut.setAttribute("in","SourceGraphic"),it.appendChild(ut);var ft=createNS("feFuncA");ft.setAttribute("type","table"),ft.setAttribute("tableValues","1.0 0.0"),ut.appendChild(ft),this.globalData.defs.appendChild(it);var ht=createNS("rect");ht.setAttribute("width",this.comp.data.w),ht.setAttribute("height",this.comp.data.h),ht.setAttribute("x","0"),ht.setAttribute("y","0"),ht.setAttribute("fill","#ffffff"),ht.setAttribute("opacity","0"),ct.setAttribute("filter","url("+getLocationHref()+"#"+rt+")"),ct.appendChild(ht),st=createNS("use"),st.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ct.appendChild(st),featureSupport.maskType||(lt.setAttribute("mask-type","luminance"),it.appendChild(filtersFactory.createAlphaToLuminanceFilter()),at=createNS("g"),ct.appendChild(ht),at.appendChild(this.layerElement),ct.appendChild(at)),this.globalData.defs.appendChild(lt)}this.matteMasks[_e]=nt}return this.matteMasks[_e]},setMatte:function(_e){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+_e+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(_e){this.hierarchy=_e},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var tt={initElement:function(nt,rt,it){this.initFrame(),this.initBaseData(nt,rt,it),this.initTransform(nt,rt,it),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var nt=this.baseElement||this.layerElement;nt.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var nt=this.baseElement||this.layerElement;nt.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(nt){this._mdf=!1,this.prepareRenderableFrame(nt),this.prepareProperties(nt,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(tt)],RenderableDOMElement)})();function IImageElement(tt,_e,nt){this.assetData=_e.getAssetData(tt.refId),this.assetData&&this.assetData.sid&&(this.assetData=_e.slotManager.getProp(this.assetData)),this.initElement(tt,_e,nt),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var tt=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",tt),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(tt,_e){this.elem=tt,this.pos=_e}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(_e){var nt,rt=this.shapeModifiers.length;for(nt=0;nt<rt;nt+=1)this.shapeModifiers[nt].addShape(_e)},isShapeInAnimatedModifiers:function(_e){for(var nt=0,rt=this.shapeModifiers.length;nt<rt;)if(this.shapeModifiers[nt].isAnimatedWithShape(_e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var _e,nt=this.shapes.length;for(_e=0;_e<nt;_e+=1)this.shapes[_e].sh.reset();nt=this.shapeModifiers.length;var rt;for(_e=nt-1;_e>=0&&(rt=this.shapeModifiers[_e].processShapes(this._isFirstFrame),!rt);_e-=1);}},searchProcessedElement:function(_e){for(var nt=this.processedElements,rt=0,it=nt.length;rt<it;){if(nt[rt].elem===_e)return nt[rt].pos;rt+=1}return 0},addProcessedElement:function(_e,nt){for(var rt=this.processedElements,it=rt.length;it;)if(it-=1,rt[it].elem===_e){rt[it].pos=nt;return}rt.push(new ProcessedElement(_e,nt))},prepareFrame:function(_e){this.prepareRenderableFrame(_e),this.prepareProperties(_e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(tt,_e,nt){this.caches=[],this.styles=[],this.transformers=tt,this.lStr="",this.sh=nt,this.lvl=_e,this._isAnimated=!!nt.k;for(var rt=0,it=tt.length;rt<it;){if(tt[rt].mProps.dynamicProperties.length){this._isAnimated=!0;break}rt+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(tt,_e){this.data=tt,this.type=tt.ty,this.d="",this.lvl=_e,this._mdf=!1,this.closed=tt.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(tt,_e,nt,rt){this.elem=tt,this.frameId=-1,this.dataProps=createSizedArray(_e.length),this.renderer=nt,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",_e.length?_e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(rt);var it,st=_e.length||0,at;for(it=0;it<st;it+=1)at=PropertyFactory.getProp(tt,_e[it].v,0,0,this),this.k=at.k||this.k,this.dataProps[it]={n:_e[it].n,p:at};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(tt){if(!(this.elem.globalData.frameId===this.frameId&&!tt)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||tt,this._mdf)){var _e=0,nt=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),_e=0;_e<nt;_e+=1)this.dataProps[_e].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[_e].p.v:this.dashArray[_e]=this.dataProps[_e].p.v:this.dashoffset[0]=this.dataProps[_e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(tt,_e,nt){this.initDynamicPropertyContainer(tt),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(tt,_e.o,0,.01,this),this.w=PropertyFactory.getProp(tt,_e.w,0,null,this),this.d=new DashProperty(tt,_e.d||{},"svg",this),this.c=PropertyFactory.getProp(tt,_e.c,1,255,this),this.style=nt,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(tt,_e,nt){this.initDynamicPropertyContainer(tt),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(tt,_e.o,0,.01,this),this.c=PropertyFactory.getProp(tt,_e.c,1,255,this),this.style=nt}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(tt,_e,nt){this.initDynamicPropertyContainer(tt),this.getValue=this.iterateDynamicProperties,this.style=nt}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(tt,_e,nt){this.data=_e,this.c=createTypedArray("uint8c",_e.p*4);var rt=_e.k.k[0].s?_e.k.k[0].s.length-_e.p*4:_e.k.k.length-_e.p*4;this.o=createTypedArray("float32",rt),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=rt,this.initDynamicPropertyContainer(nt),this.prop=PropertyFactory.getProp(tt,_e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(tt,_e){for(var nt=0,rt=this.o.length/2,it;nt<rt;){if(it=Math.abs(tt[nt*4]-tt[_e*4+nt*2]),it>.01)return!1;nt+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var tt=0,_e=this.data.k.k.length;tt<_e;){if(!this.comparePoints(this.data.k.k[tt].s,this.data.p))return!1;tt+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(tt){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||tt){var _e,nt=this.data.p*4,rt,it;for(_e=0;_e<nt;_e+=1)rt=_e%4===0?100:255,it=Math.round(this.prop.v[_e]*rt),this.c[_e]!==it&&(this.c[_e]=it,this._cmdf=!tt);if(this.o.length)for(nt=this.prop.v.length,_e=this.data.p*4;_e<nt;_e+=1)rt=_e%2===0?100:1,it=_e%2===0?Math.round(this.prop.v[_e]*100):this.prop.v[_e],this.o[_e-this.data.p*4]!==it&&(this.o[_e-this.data.p*4]=it,this._omdf=!tt);this._mdf=!tt}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(tt,_e,nt){this.initDynamicPropertyContainer(tt),this.getValue=this.iterateDynamicProperties,this.initGradientData(tt,_e,nt)}SVGGradientFillStyleData.prototype.initGradientData=function(tt,_e,nt){this.o=PropertyFactory.getProp(tt,_e.o,0,.01,this),this.s=PropertyFactory.getProp(tt,_e.s,1,null,this),this.e=PropertyFactory.getProp(tt,_e.e,1,null,this),this.h=PropertyFactory.getProp(tt,_e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(tt,_e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(tt,_e.g,this),this.style=nt,this.stops=[],this.setGradientData(nt.pElem,_e),this.setGradientOpacity(_e,nt),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(tt,_e){var nt=createElementID(),rt=createNS(_e.t===1?"linearGradient":"radialGradient");rt.setAttribute("id",nt),rt.setAttribute("spreadMethod","pad"),rt.setAttribute("gradientUnits","userSpaceOnUse");var it=[],st,at,ot;for(ot=_e.g.p*4,at=0;at<ot;at+=4)st=createNS("stop"),rt.appendChild(st),it.push(st);tt.setAttribute(_e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+nt+")"),this.gf=rt,this.cst=it},SVGGradientFillStyleData.prototype.setGradientOpacity=function(tt,_e){if(this.g._hasOpacity&&!this.g._collapsable){var nt,rt,it,st=createNS("mask"),at=createNS("path");st.appendChild(at);var ot=createElementID(),lt=createElementID();st.setAttribute("id",lt);var ct=createNS(tt.t===1?"linearGradient":"radialGradient");ct.setAttribute("id",ot),ct.setAttribute("spreadMethod","pad"),ct.setAttribute("gradientUnits","userSpaceOnUse"),it=tt.g.k.k[0].s?tt.g.k.k[0].s.length:tt.g.k.k.length;var ut=this.stops;for(rt=tt.g.p*4;rt<it;rt+=2)nt=createNS("stop"),nt.setAttribute("stop-color","rgb(255,255,255)"),ct.appendChild(nt),ut.push(nt);at.setAttribute(tt.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+ot+")"),tt.ty==="gs"&&(at.setAttribute("stroke-linecap",lineCapEnum[tt.lc||2]),at.setAttribute("stroke-linejoin",lineJoinEnum[tt.lj||2]),tt.lj===1&&at.setAttribute("stroke-miterlimit",tt.ml)),this.of=ct,this.ms=st,this.ost=ut,this.maskId=lt,_e.msElem=at}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(tt,_e,nt){this.initDynamicPropertyContainer(tt),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(tt,_e.w,0,null,this),this.d=new DashProperty(tt,_e.d||{},"svg",this),this.initGradientData(tt,_e,nt),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(tt,_e,nt){this.transform={mProps:tt,op:_e,container:nt},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(_e,nt,rt,it){if(nt===0)return"";var st=_e.o,at=_e.i,ot=_e.v,lt,ct=" M"+it.applyToPointStringified(ot[0][0],ot[0][1]);for(lt=1;lt<nt;lt+=1)ct+=" C"+it.applyToPointStringified(st[lt-1][0],st[lt-1][1])+" "+it.applyToPointStringified(at[lt][0],at[lt][1])+" "+it.applyToPointStringified(ot[lt][0],ot[lt][1]);return rt&&nt&&(ct+=" C"+it.applyToPointStringified(st[lt-1][0],st[lt-1][1])+" "+it.applyToPointStringified(at[0][0],at[0][1])+" "+it.applyToPointStringified(ot[0][0],ot[0][1]),ct+="z"),ct},SVGElementsRenderer=function(){var tt=new Matrix,_e=new Matrix,nt={createRenderFunction:rt};function rt(ft){switch(ft.ty){case"fl":return ot;case"gf":return ct;case"gs":return lt;case"st":return ut;case"sh":case"el":case"rc":case"sr":return at;case"tr":return it;case"no":return st;default:return null}}function it(ft,ht,pt){(pt||ht.transform.op._mdf)&&ht.transform.container.setAttribute("opacity",ht.transform.op.v),(pt||ht.transform.mProps._mdf)&&ht.transform.container.setAttribute("transform",ht.transform.mProps.v.to2dCSS())}function st(){}function at(ft,ht,pt){var dt,gt,vt,mt,xt,St,Et=ht.styles.length,bt=ht.lvl,Tt,At,Ct,Pt;for(St=0;St<Et;St+=1){if(mt=ht.sh._mdf||pt,ht.styles[St].lvl<bt){for(At=_e.reset(),Ct=bt-ht.styles[St].lvl,Pt=ht.transformers.length-1;!mt&&Ct>0;)mt=ht.transformers[Pt].mProps._mdf||mt,Ct-=1,Pt-=1;if(mt)for(Ct=bt-ht.styles[St].lvl,Pt=ht.transformers.length-1;Ct>0;)At.multiply(ht.transformers[Pt].mProps.v),Ct-=1,Pt-=1}else At=tt;if(Tt=ht.sh.paths,gt=Tt._length,mt){for(vt="",dt=0;dt<gt;dt+=1)xt=Tt.shapes[dt],xt&&xt._length&&(vt+=buildShapeString(xt,xt._length,xt.c,At));ht.caches[St]=vt}else vt=ht.caches[St];ht.styles[St].d+=ft.hd===!0?"":vt,ht.styles[St]._mdf=mt||ht.styles[St]._mdf}}function ot(ft,ht,pt){var dt=ht.style;(ht.c._mdf||pt)&&dt.pElem.setAttribute("fill","rgb("+bmFloor(ht.c.v[0])+","+bmFloor(ht.c.v[1])+","+bmFloor(ht.c.v[2])+")"),(ht.o._mdf||pt)&&dt.pElem.setAttribute("fill-opacity",ht.o.v)}function lt(ft,ht,pt){ct(ft,ht,pt),ut(ft,ht,pt)}function ct(ft,ht,pt){var dt=ht.gf,gt=ht.g._hasOpacity,vt=ht.s.v,mt=ht.e.v;if(ht.o._mdf||pt){var xt=ft.ty==="gf"?"fill-opacity":"stroke-opacity";ht.style.pElem.setAttribute(xt,ht.o.v)}if(ht.s._mdf||pt){var St=ft.t===1?"x1":"cx",Et=St==="x1"?"y1":"cy";dt.setAttribute(St,vt[0]),dt.setAttribute(Et,vt[1]),gt&&!ht.g._collapsable&&(ht.of.setAttribute(St,vt[0]),ht.of.setAttribute(Et,vt[1]))}var bt,Tt,At,Ct;if(ht.g._cmdf||pt){bt=ht.cst;var Pt=ht.g.c;for(At=bt.length,Tt=0;Tt<At;Tt+=1)Ct=bt[Tt],Ct.setAttribute("offset",Pt[Tt*4]+"%"),Ct.setAttribute("stop-color","rgb("+Pt[Tt*4+1]+","+Pt[Tt*4+2]+","+Pt[Tt*4+3]+")")}if(gt&&(ht.g._omdf||pt)){var It=ht.g.o;for(ht.g._collapsable?bt=ht.cst:bt=ht.ost,At=bt.length,Tt=0;Tt<At;Tt+=1)Ct=bt[Tt],ht.g._collapsable||Ct.setAttribute("offset",It[Tt*2]+"%"),Ct.setAttribute("stop-opacity",It[Tt*2+1])}if(ft.t===1)(ht.e._mdf||pt)&&(dt.setAttribute("x2",mt[0]),dt.setAttribute("y2",mt[1]),gt&&!ht.g._collapsable&&(ht.of.setAttribute("x2",mt[0]),ht.of.setAttribute("y2",mt[1])));else{var Lt;if((ht.s._mdf||ht.e._mdf||pt)&&(Lt=Math.sqrt(Math.pow(vt[0]-mt[0],2)+Math.pow(vt[1]-mt[1],2)),dt.setAttribute("r",Lt),gt&&!ht.g._collapsable&&ht.of.setAttribute("r",Lt)),ht.e._mdf||ht.h._mdf||ht.a._mdf||pt){Lt||(Lt=Math.sqrt(Math.pow(vt[0]-mt[0],2)+Math.pow(vt[1]-mt[1],2)));var Vt=Math.atan2(mt[1]-vt[1],mt[0]-vt[0]),Ut=ht.h.v;Ut>=1?Ut=.99:Ut<=-1&&(Ut=-.99);var Ot=Lt*Ut,zt=Math.cos(Vt+ht.a.v)*Ot+vt[0],Dt=Math.sin(Vt+ht.a.v)*Ot+vt[1];dt.setAttribute("fx",zt),dt.setAttribute("fy",Dt),gt&&!ht.g._collapsable&&(ht.of.setAttribute("fx",zt),ht.of.setAttribute("fy",Dt))}}}function ut(ft,ht,pt){var dt=ht.style,gt=ht.d;gt&&(gt._mdf||pt)&&gt.dashStr&&(dt.pElem.setAttribute("stroke-dasharray",gt.dashStr),dt.pElem.setAttribute("stroke-dashoffset",gt.dashoffset[0])),ht.c&&(ht.c._mdf||pt)&&dt.pElem.setAttribute("stroke","rgb("+bmFloor(ht.c.v[0])+","+bmFloor(ht.c.v[1])+","+bmFloor(ht.c.v[2])+")"),(ht.o._mdf||pt)&&dt.pElem.setAttribute("stroke-opacity",ht.o.v),(ht.w._mdf||pt)&&(dt.pElem.setAttribute("stroke-width",ht.w.v),dt.msElem&&dt.msElem.setAttribute("stroke-width",ht.w.v))}return nt}();function SVGShapeElement(tt,_e,nt){this.shapes=[],this.shapesData=tt.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(tt,_e,nt),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var tt,_e=this.shapes.length,nt,rt,it=this.stylesList.length,st,at=[],ot=!1;for(rt=0;rt<it;rt+=1){for(st=this.stylesList[rt],ot=!1,at.length=0,tt=0;tt<_e;tt+=1)nt=this.shapes[tt],nt.styles.indexOf(st)!==-1&&(at.push(nt),ot=nt._isAnimated||ot);at.length>1&&ot&&this.setShapesAsAnimated(at)}},SVGShapeElement.prototype.setShapesAsAnimated=function(tt){var _e,nt=tt.length;for(_e=0;_e<nt;_e+=1)tt[_e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(tt,_e){var nt,rt=new SVGStyleData(tt,_e),it=rt.pElem;if(tt.ty==="st")nt=new SVGStrokeStyleData(this,tt,rt);else if(tt.ty==="fl")nt=new SVGFillStyleData(this,tt,rt);else if(tt.ty==="gf"||tt.ty==="gs"){var st=tt.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;nt=new st(this,tt,rt),this.globalData.defs.appendChild(nt.gf),nt.maskId&&(this.globalData.defs.appendChild(nt.ms),this.globalData.defs.appendChild(nt.of),it.setAttribute("mask","url("+getLocationHref()+"#"+nt.maskId+")"))}else tt.ty==="no"&&(nt=new SVGNoStyleData(this,tt,rt));return(tt.ty==="st"||tt.ty==="gs")&&(it.setAttribute("stroke-linecap",lineCapEnum[tt.lc||2]),it.setAttribute("stroke-linejoin",lineJoinEnum[tt.lj||2]),it.setAttribute("fill-opacity","0"),tt.lj===1&&it.setAttribute("stroke-miterlimit",tt.ml)),tt.r===2&&it.setAttribute("fill-rule","evenodd"),tt.ln&&it.setAttribute("id",tt.ln),tt.cl&&it.setAttribute("class",tt.cl),tt.bm&&(it.style["mix-blend-mode"]=getBlendMode(tt.bm)),this.stylesList.push(rt),this.addToAnimatedContents(tt,nt),nt},SVGShapeElement.prototype.createGroupElement=function(tt){var _e=new ShapeGroupData;return tt.ln&&_e.gr.setAttribute("id",tt.ln),tt.cl&&_e.gr.setAttribute("class",tt.cl),tt.bm&&(_e.gr.style["mix-blend-mode"]=getBlendMode(tt.bm)),_e},SVGShapeElement.prototype.createTransformElement=function(tt,_e){var nt=TransformPropertyFactory.getTransformProperty(this,tt,this),rt=new SVGTransformData(nt,nt.o,_e);return this.addToAnimatedContents(tt,rt),rt},SVGShapeElement.prototype.createShapeElement=function(tt,_e,nt){var rt=4;tt.ty==="rc"?rt=5:tt.ty==="el"?rt=6:tt.ty==="sr"&&(rt=7);var it=ShapePropertyFactory.getShapeProp(this,tt,rt,this),st=new SVGShapeData(_e,nt,it);return this.shapes.push(st),this.addShapeToModifiers(st),this.addToAnimatedContents(tt,st),st},SVGShapeElement.prototype.addToAnimatedContents=function(tt,_e){for(var nt=0,rt=this.animatedContents.length;nt<rt;){if(this.animatedContents[nt].element===_e)return;nt+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(tt),element:_e,data:tt})},SVGShapeElement.prototype.setElementStyles=function(tt){var _e=tt.styles,nt,rt=this.stylesList.length;for(nt=0;nt<rt;nt+=1)this.stylesList[nt].closed||_e.push(this.stylesList[nt])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var tt,_e=this.itemsData.length;for(tt=0;tt<_e;tt+=1)this.prevViewData[tt]=this.itemsData[tt];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),_e=this.dynamicProperties.length,tt=0;tt<_e;tt+=1)this.dynamicProperties[tt].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(tt,_e,nt,rt,it,st,at){var ot=[].concat(st),lt,ct=tt.length-1,ut,ft,ht=[],pt=[],dt,gt,vt;for(lt=ct;lt>=0;lt-=1){if(vt=this.searchProcessedElement(tt[lt]),vt?_e[lt]=nt[vt-1]:tt[lt]._render=at,tt[lt].ty==="fl"||tt[lt].ty==="st"||tt[lt].ty==="gf"||tt[lt].ty==="gs"||tt[lt].ty==="no")vt?_e[lt].style.closed=!1:_e[lt]=this.createStyleElement(tt[lt],it),tt[lt]._render&&_e[lt].style.pElem.parentNode!==rt&&rt.appendChild(_e[lt].style.pElem),ht.push(_e[lt].style);else if(tt[lt].ty==="gr"){if(!vt)_e[lt]=this.createGroupElement(tt[lt]);else for(ft=_e[lt].it.length,ut=0;ut<ft;ut+=1)_e[lt].prevViewData[ut]=_e[lt].it[ut];this.searchShapes(tt[lt].it,_e[lt].it,_e[lt].prevViewData,_e[lt].gr,it+1,ot,at),tt[lt]._render&&_e[lt].gr.parentNode!==rt&&rt.appendChild(_e[lt].gr)}else tt[lt].ty==="tr"?(vt||(_e[lt]=this.createTransformElement(tt[lt],rt)),dt=_e[lt].transform,ot.push(dt)):tt[lt].ty==="sh"||tt[lt].ty==="rc"||tt[lt].ty==="el"||tt[lt].ty==="sr"?(vt||(_e[lt]=this.createShapeElement(tt[lt],ot,it)),this.setElementStyles(_e[lt])):tt[lt].ty==="tm"||tt[lt].ty==="rd"||tt[lt].ty==="ms"||tt[lt].ty==="pb"||tt[lt].ty==="zz"||tt[lt].ty==="op"?(vt?(gt=_e[lt],gt.closed=!1):(gt=ShapeModifiers.getModifier(tt[lt].ty),gt.init(this,tt[lt]),_e[lt]=gt,this.shapeModifiers.push(gt)),pt.push(gt)):tt[lt].ty==="rp"&&(vt?(gt=_e[lt],gt.closed=!0):(gt=ShapeModifiers.getModifier(tt[lt].ty),_e[lt]=gt,gt.init(this,tt,lt,_e),this.shapeModifiers.push(gt),at=!1),pt.push(gt));this.addProcessedElement(tt[lt],lt+1)}for(ct=ht.length,lt=0;lt<ct;lt+=1)ht[lt].closed=!0;for(ct=pt.length,lt=0;lt<ct;lt+=1)pt[lt].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var tt,_e=this.stylesList.length;for(tt=0;tt<_e;tt+=1)this.stylesList[tt].reset();for(this.renderShape(),tt=0;tt<_e;tt+=1)(this.stylesList[tt]._mdf||this._isFirstFrame)&&(this.stylesList[tt].msElem&&(this.stylesList[tt].msElem.setAttribute("d",this.stylesList[tt].d),this.stylesList[tt].d="M0 0"+this.stylesList[tt].d),this.stylesList[tt].pElem.setAttribute("d",this.stylesList[tt].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var tt,_e=this.animatedContents.length,nt;for(tt=0;tt<_e;tt+=1)nt=this.animatedContents[tt],(this._isFirstFrame||nt.element._isAnimated)&&nt.data!==!0&&nt.fn(nt.data,nt.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(tt,_e,nt,rt,it,st){this.o=tt,this.sw=_e,this.sc=nt,this.fc=rt,this.m=it,this.p=st,this._mdf={o:!0,sw:!!_e,sc:!!nt,fc:!!rt,m:!0,p:!0}}LetterProps.prototype.update=function(tt,_e,nt,rt,it,st){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var at=!1;return this.o!==tt&&(this.o=tt,this._mdf.o=!0,at=!0),this.sw!==_e&&(this.sw=_e,this._mdf.sw=!0,at=!0),this.sc!==nt&&(this.sc=nt,this._mdf.sc=!0,at=!0),this.fc!==rt&&(this.fc=rt,this._mdf.fc=!0,at=!0),this.m!==it&&(this.m=it,this._mdf.m=!0,at=!0),st.length&&(this.p[0]!==st[0]||this.p[1]!==st[1]||this.p[4]!==st[4]||this.p[5]!==st[5]||this.p[12]!==st[12]||this.p[13]!==st[13])&&(this.p=st,this._mdf.p=!0,at=!0),at};function TextProperty(tt,_e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,_e.d&&_e.d.sid&&(_e.d=tt.globalData.slotManager.getProp(_e.d)),this.data=_e,this.elem=tt,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(tt,_e){for(var nt in _e)Object.prototype.hasOwnProperty.call(_e,nt)&&(tt[nt]=_e[nt]);return tt},TextProperty.prototype.setCurrentData=function(tt){tt.__complete||this.completeTextData(tt),this.currentData=tt,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(tt){this.effectsSequence.push(tt),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(tt){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!tt)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var _e=this.currentData,nt=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var rt,it=this.effectsSequence.length,st=tt||this.data.d.k[this.keysIndex].s;for(rt=0;rt<it;rt+=1)nt!==this.keysIndex?st=this.effectsSequence[rt](st,st.t):st=this.effectsSequence[rt](this.currentData,st.t);_e!==st&&this.setCurrentData(st),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var tt=this.data.d.k,_e=this.elem.comp.renderedFrame,nt=0,rt=tt.length;nt<=rt-1&&!(nt===rt-1||tt[nt+1].t>_e);)nt+=1;return this.keysIndex!==nt&&(this.keysIndex=nt),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(tt){for(var _e=[],nt=0,rt=tt.length,it,st,at=!1,ot=!1,lt="";nt<rt;)at=ot,ot=!1,it=tt.charCodeAt(nt),lt=tt.charAt(nt),FontManager.isCombinedCharacter(it)?at=!0:it>=55296&&it<=56319?FontManager.isRegionalFlag(tt,nt)?lt=tt.substr(nt,14):(st=tt.charCodeAt(nt+1),st>=56320&&st<=57343&&(FontManager.isModifier(it,st)?(lt=tt.substr(nt,2),at=!0):FontManager.isFlagEmoji(tt.substr(nt,4))?lt=tt.substr(nt,4):lt=tt.substr(nt,2))):it>56319?(st=tt.charCodeAt(nt+1),FontManager.isVariationSelector(it)&&(at=!0)):FontManager.isZeroWidthJoiner(it)&&(at=!0,ot=!0),at?(_e[_e.length-1]+=lt,at=!1):_e.push(lt),nt+=lt.length;return _e},TextProperty.prototype.completeTextData=function(tt){tt.__complete=!0;var _e=this.elem.globalData.fontManager,nt=this.data,rt=[],it,st,at,ot=0,lt,ct=nt.m.g,ut=0,ft=0,ht=0,pt=[],dt=0,gt=0,vt,mt,xt=_e.getFontByName(tt.f),St,Et=0,bt=getFontProperties(xt);tt.fWeight=bt.weight,tt.fStyle=bt.style,tt.finalSize=tt.s,tt.finalText=this.buildFinalText(tt.t),st=tt.finalText.length,tt.finalLineHeight=tt.lh;var Tt=tt.tr/1e3*tt.finalSize,At;if(tt.sz)for(var Ct=!0,Pt=tt.sz[0],It=tt.sz[1],Lt,Vt;Ct;){Vt=this.buildFinalText(tt.t),Lt=0,dt=0,st=Vt.length,Tt=tt.tr/1e3*tt.finalSize;var Ut=-1;for(it=0;it<st;it+=1)At=Vt[it].charCodeAt(0),at=!1,Vt[it]===" "?Ut=it:(At===13||At===3)&&(dt=0,at=!0,Lt+=tt.finalLineHeight||tt.finalSize*1.2),_e.chars?(St=_e.getCharData(Vt[it],xt.fStyle,xt.fFamily),Et=at?0:St.w*tt.finalSize/100):Et=_e.measureText(Vt[it],tt.f,tt.finalSize),dt+Et>Pt&&Vt[it]!==" "?(Ut===-1?st+=1:it=Ut,Lt+=tt.finalLineHeight||tt.finalSize*1.2,Vt.splice(it,Ut===it?1:0,"\r"),Ut=-1,dt=0):(dt+=Et,dt+=Tt);Lt+=xt.ascent*tt.finalSize/100,this.canResize&&tt.finalSize>this.minimumFontSize&&It<Lt?(tt.finalSize-=1,tt.finalLineHeight=tt.finalSize*tt.lh/tt.s):(tt.finalText=Vt,st=tt.finalText.length,Ct=!1)}dt=-Tt,Et=0;var Ot=0,zt;for(it=0;it<st;it+=1)if(at=!1,zt=tt.finalText[it],At=zt.charCodeAt(0),At===13||At===3?(Ot=0,pt.push(dt),gt=dt>gt?dt:gt,dt=-2*Tt,lt="",at=!0,ht+=1):lt=zt,_e.chars?(St=_e.getCharData(zt,xt.fStyle,_e.getFontByName(tt.f).fFamily),Et=at?0:St.w*tt.finalSize/100):Et=_e.measureText(lt,tt.f,tt.finalSize),zt===" "?Ot+=Et+Tt:(dt+=Et+Tt+Ot,Ot=0),rt.push({l:Et,an:Et,add:ut,n:at,anIndexes:[],val:lt,line:ht,animatorJustifyOffset:0}),ct==2){if(ut+=Et,lt===""||lt===" "||it===st-1){for((lt===""||lt===" ")&&(ut-=Et);ft<=it;)rt[ft].an=ut,rt[ft].ind=ot,rt[ft].extra=Et,ft+=1;ot+=1,ut=0}}else if(ct==3){if(ut+=Et,lt===""||it===st-1){for(lt===""&&(ut-=Et);ft<=it;)rt[ft].an=ut,rt[ft].ind=ot,rt[ft].extra=Et,ft+=1;ut=0,ot+=1}}else rt[ot].ind=ot,rt[ot].extra=0,ot+=1;if(tt.l=rt,gt=dt>gt?dt:gt,pt.push(dt),tt.sz)tt.boxWidth=tt.sz[0],tt.justifyOffset=0;else switch(tt.boxWidth=gt,tt.j){case 1:tt.justifyOffset=-tt.boxWidth;break;case 2:tt.justifyOffset=-tt.boxWidth/2;break;default:tt.justifyOffset=0}tt.lineWidths=pt;var Dt=nt.a,$t,Mt;mt=Dt.length;var Rt,Nt,Ft=[];for(vt=0;vt<mt;vt+=1){for($t=Dt[vt],$t.a.sc&&(tt.strokeColorAnim=!0),$t.a.sw&&(tt.strokeWidthAnim=!0),($t.a.fc||$t.a.fh||$t.a.fs||$t.a.fb)&&(tt.fillColorAnim=!0),Nt=0,Rt=$t.s.b,it=0;it<st;it+=1)Mt=rt[it],Mt.anIndexes[vt]=Nt,(Rt==1&&Mt.val!==""||Rt==2&&Mt.val!==""&&Mt.val!==" "||Rt==3&&(Mt.n||Mt.val==" "||it==st-1)||Rt==4&&(Mt.n||it==st-1))&&($t.s.rn===1&&Ft.push(Nt),Nt+=1);nt.a[vt].s.totalChars=Nt;var qt=-1,Qt;if($t.s.rn===1)for(it=0;it<st;it+=1)Mt=rt[it],qt!=Mt.anIndexes[vt]&&(qt=Mt.anIndexes[vt],Qt=Ft.splice(Math.floor(Math.random()*Ft.length),1)[0]),Mt.anIndexes[vt]=Qt}tt.yOffset=tt.finalLineHeight||tt.finalSize*1.2,tt.ls=tt.ls||0,tt.ascent=xt.ascent*tt.finalSize/100},TextProperty.prototype.updateDocumentData=function(tt,_e){_e=_e===void 0?this.keysIndex:_e;var nt=this.copyData({},this.data.d.k[_e].s);nt=this.copyData(nt,tt),this.data.d.k[_e].s=nt,this.recalculate(_e),this.setCurrentData(nt),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(tt){var _e=this.data.d.k[tt].s;_e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(_e)},TextProperty.prototype.canResizeFont=function(tt){this.canResize=tt,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(tt){this.minimumFontSize=Math.floor(tt)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var tt=Math.max,_e=Math.min,nt=Math.floor;function rt(st,at){this._currentTextLength=-1,this.k=!1,this.data=at,this.elem=st,this.comp=st.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(st),this.s=PropertyFactory.getProp(st,at.s||{k:0},0,0,this),"e"in at?this.e=PropertyFactory.getProp(st,at.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(st,at.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(st,at.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(st,at.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(st,at.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(st,at.a,0,.01,this),this.dynamicProperties.length||this.getValue()}rt.prototype={getMult:function(at){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var ot=0,lt=0,ct=1,ut=1;this.ne.v>0?ot=this.ne.v/100:lt=-this.ne.v/100,this.xe.v>0?ct=1-this.xe.v/100:ut=1+this.xe.v/100;var ft=BezierFactory.getBezierEasing(ot,lt,ct,ut).get,ht=0,pt=this.finalS,dt=this.finalE,gt=this.data.sh;if(gt===2)dt===pt?ht=at>=dt?1:0:ht=tt(0,_e(.5/(dt-pt)+(at-pt)/(dt-pt),1)),ht=ft(ht);else if(gt===3)dt===pt?ht=at>=dt?0:1:ht=1-tt(0,_e(.5/(dt-pt)+(at-pt)/(dt-pt),1)),ht=ft(ht);else if(gt===4)dt===pt?ht=0:(ht=tt(0,_e(.5/(dt-pt)+(at-pt)/(dt-pt),1)),ht<.5?ht*=2:ht=1-2*(ht-.5)),ht=ft(ht);else if(gt===5){if(dt===pt)ht=0;else{var vt=dt-pt;at=_e(tt(0,at+.5-pt),dt-pt);var mt=-vt/2+at,xt=vt/2;ht=Math.sqrt(1-mt*mt/(xt*xt))}ht=ft(ht)}else gt===6?(dt===pt?ht=0:(at=_e(tt(0,at+.5-pt),dt-pt),ht=(1+Math.cos(Math.PI+Math.PI*2*at/(dt-pt)))/2),ht=ft(ht)):(at>=nt(pt)&&(at-pt<0?ht=tt(0,_e(_e(dt,1)-(pt-at),1)):ht=tt(0,_e(dt-at,1))),ht=ft(ht));if(this.sm.v!==100){var St=this.sm.v*.01;St===0&&(St=1e-8);var Et=.5-St*.5;ht<Et?ht=0:(ht=(ht-Et)/St,ht>1&&(ht=1))}return ht*this.a.v},getValue:function(at){this.iterateDynamicProperties(),this._mdf=at||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,at&&this.data.r===2&&(this.e.v=this._currentTextLength);var ot=this.data.r===2?1:100/this.data.totalChars,lt=this.o.v/ot,ct=this.s.v/ot+lt,ut=this.e.v/ot+lt;if(ct>ut){var ft=ct;ct=ut,ut=ft}this.finalS=ct,this.finalE=ut}},extendPrototype([DynamicPropertyContainer],rt);function it(st,at,ot){return new rt(st,at)}return{getTextSelectorProp:it}}();function TextAnimatorDataProperty(tt,_e,nt){var rt={propType:!1},it=PropertyFactory.getProp,st=_e.a;this.a={r:st.r?it(tt,st.r,0,degToRads,nt):rt,rx:st.rx?it(tt,st.rx,0,degToRads,nt):rt,ry:st.ry?it(tt,st.ry,0,degToRads,nt):rt,sk:st.sk?it(tt,st.sk,0,degToRads,nt):rt,sa:st.sa?it(tt,st.sa,0,degToRads,nt):rt,s:st.s?it(tt,st.s,1,.01,nt):rt,a:st.a?it(tt,st.a,1,0,nt):rt,o:st.o?it(tt,st.o,0,.01,nt):rt,p:st.p?it(tt,st.p,1,0,nt):rt,sw:st.sw?it(tt,st.sw,0,0,nt):rt,sc:st.sc?it(tt,st.sc,1,0,nt):rt,fc:st.fc?it(tt,st.fc,1,0,nt):rt,fh:st.fh?it(tt,st.fh,0,0,nt):rt,fs:st.fs?it(tt,st.fs,0,.01,nt):rt,fb:st.fb?it(tt,st.fb,0,.01,nt):rt,t:st.t?it(tt,st.t,0,0,nt):rt},this.s=TextSelectorProp.getTextSelectorProp(tt,_e.s,nt),this.s.t=_e.s.t}function TextAnimatorProperty(tt,_e,nt){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=tt,this._renderType=_e,this._elem=nt,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(nt)}TextAnimatorProperty.prototype.searchProperties=function(){var tt,_e=this._textData.a.length,nt,rt=PropertyFactory.getProp;for(tt=0;tt<_e;tt+=1)nt=this._textData.a[tt],this._animatorsData[tt]=new TextAnimatorDataProperty(this._elem,nt,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:rt(this._elem,this._textData.p.a,0,0,this),f:rt(this._elem,this._textData.p.f,0,0,this),l:rt(this._elem,this._textData.p.l,0,0,this),r:rt(this._elem,this._textData.p.r,0,0,this),p:rt(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=rt(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(tt,_e){if(this.lettersChangedFlag=_e,!(!this._mdf&&!this._isFirstFrame&&!_e&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var nt=this._moreOptions.alignment.v,rt=this._animatorsData,it=this._textData,st=this.mHelper,at=this._renderType,ot=this.renderedLetters.length,lt,ct,ut,ft,ht=tt.l,pt,dt,gt,vt,mt,xt,St,Et,bt,Tt,At,Ct,Pt,It,Lt;if(this._hasMaskedPath){if(Lt=this._pathData.m,!this._pathData.n||this._pathData._mdf){var Vt=Lt.v;this._pathData.r.v&&(Vt=Vt.reverse()),pt={tLength:0,segments:[]},ft=Vt._length-1;var Ut;for(Ct=0,ut=0;ut<ft;ut+=1)Ut=bez.buildBezierData(Vt.v[ut],Vt.v[ut+1],[Vt.o[ut][0]-Vt.v[ut][0],Vt.o[ut][1]-Vt.v[ut][1]],[Vt.i[ut+1][0]-Vt.v[ut+1][0],Vt.i[ut+1][1]-Vt.v[ut+1][1]]),pt.tLength+=Ut.segmentLength,pt.segments.push(Ut),Ct+=Ut.segmentLength;ut=ft,Lt.v.c&&(Ut=bez.buildBezierData(Vt.v[ut],Vt.v[0],[Vt.o[ut][0]-Vt.v[ut][0],Vt.o[ut][1]-Vt.v[ut][1]],[Vt.i[0][0]-Vt.v[0][0],Vt.i[0][1]-Vt.v[0][1]]),pt.tLength+=Ut.segmentLength,pt.segments.push(Ut),Ct+=Ut.segmentLength),this._pathData.pi=pt}if(pt=this._pathData.pi,dt=this._pathData.f.v,St=0,xt=1,vt=0,mt=!0,Tt=pt.segments,dt<0&&Lt.v.c)for(pt.tLength<Math.abs(dt)&&(dt=-Math.abs(dt)%pt.tLength),St=Tt.length-1,bt=Tt[St].points,xt=bt.length-1;dt<0;)dt+=bt[xt].partialLength,xt-=1,xt<0&&(St-=1,bt=Tt[St].points,xt=bt.length-1);bt=Tt[St].points,Et=bt[xt-1],gt=bt[xt],At=gt.partialLength}ft=ht.length,lt=0,ct=0;var Ot=tt.finalSize*1.2*.714,zt=!0,Dt,$t,Mt,Rt,Nt;Rt=rt.length;var Ft,qt=-1,Qt,Kt,Zt,tn=dt,en=St,un=xt,Cn=-1,Rn,Mn,ln,gn,Yt,Fn,wn,Vn,xn="",Bn=this.defaultPropsArray,Tn;if(tt.j===2||tt.j===1){var Wt=0,Ht=0,an=tt.j===2?-.5:-1,dn=0,mn=!0;for(ut=0;ut<ft;ut+=1)if(ht[ut].n){for(Wt&&(Wt+=Ht);dn<ut;)ht[dn].animatorJustifyOffset=Wt,dn+=1;Wt=0,mn=!0}else{for(Mt=0;Mt<Rt;Mt+=1)Dt=rt[Mt].a,Dt.t.propType&&(mn&&tt.j===2&&(Ht+=Dt.t.v*an),$t=rt[Mt].s,Ft=$t.getMult(ht[ut].anIndexes[Mt],it.a[Mt].s.totalChars),Ft.length?Wt+=Dt.t.v*Ft[0]*an:Wt+=Dt.t.v*Ft*an);mn=!1}for(Wt&&(Wt+=Ht);dn<ut;)ht[dn].animatorJustifyOffset=Wt,dn+=1}for(ut=0;ut<ft;ut+=1){if(st.reset(),Rn=1,ht[ut].n)lt=0,ct+=tt.yOffset,ct+=zt?1:0,dt=tn,zt=!1,this._hasMaskedPath&&(St=en,xt=un,bt=Tt[St].points,Et=bt[xt-1],gt=bt[xt],At=gt.partialLength,vt=0),xn="",Vn="",Fn="",Tn="",Bn=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Cn!==ht[ut].line){switch(tt.j){case 1:dt+=Ct-tt.lineWidths[ht[ut].line];break;case 2:dt+=(Ct-tt.lineWidths[ht[ut].line])/2;break}Cn=ht[ut].line}qt!==ht[ut].ind&&(ht[qt]&&(dt+=ht[qt].extra),dt+=ht[ut].an/2,qt=ht[ut].ind),dt+=nt[0]*ht[ut].an*.005;var En=0;for(Mt=0;Mt<Rt;Mt+=1)Dt=rt[Mt].a,Dt.p.propType&&($t=rt[Mt].s,Ft=$t.getMult(ht[ut].anIndexes[Mt],it.a[Mt].s.totalChars),Ft.length?En+=Dt.p.v[0]*Ft[0]:En+=Dt.p.v[0]*Ft),Dt.a.propType&&($t=rt[Mt].s,Ft=$t.getMult(ht[ut].anIndexes[Mt],it.a[Mt].s.totalChars),Ft.length?En+=Dt.a.v[0]*Ft[0]:En+=Dt.a.v[0]*Ft);for(mt=!0,this._pathData.a.v&&(dt=ht[0].an*.5+(Ct-this._pathData.f.v-ht[0].an*.5-ht[ht.length-1].an*.5)*qt/(ft-1),dt+=this._pathData.f.v);mt;)vt+At>=dt+En||!bt?(Pt=(dt+En-vt)/gt.partialLength,Kt=Et.point[0]+(gt.point[0]-Et.point[0])*Pt,Zt=Et.point[1]+(gt.point[1]-Et.point[1])*Pt,st.translate(-nt[0]*ht[ut].an*.005,-(nt[1]*Ot)*.01),mt=!1):bt&&(vt+=gt.partialLength,xt+=1,xt>=bt.length&&(xt=0,St+=1,Tt[St]?bt=Tt[St].points:Lt.v.c?(xt=0,St=0,bt=Tt[St].points):(vt-=gt.partialLength,bt=null)),bt&&(Et=gt,gt=bt[xt],At=gt.partialLength));Qt=ht[ut].an/2-ht[ut].add,st.translate(-Qt,0,0)}else Qt=ht[ut].an/2-ht[ut].add,st.translate(-Qt,0,0),st.translate(-nt[0]*ht[ut].an*.005,-nt[1]*Ot*.01,0);for(Mt=0;Mt<Rt;Mt+=1)Dt=rt[Mt].a,Dt.t.propType&&($t=rt[Mt].s,Ft=$t.getMult(ht[ut].anIndexes[Mt],it.a[Mt].s.totalChars),(lt!==0||tt.j!==0)&&(this._hasMaskedPath?Ft.length?dt+=Dt.t.v*Ft[0]:dt+=Dt.t.v*Ft:Ft.length?lt+=Dt.t.v*Ft[0]:lt+=Dt.t.v*Ft));for(tt.strokeWidthAnim&&(ln=tt.sw||0),tt.strokeColorAnim&&(tt.sc?Mn=[tt.sc[0],tt.sc[1],tt.sc[2]]:Mn=[0,0,0]),tt.fillColorAnim&&tt.fc&&(gn=[tt.fc[0],tt.fc[1],tt.fc[2]]),Mt=0;Mt<Rt;Mt+=1)Dt=rt[Mt].a,Dt.a.propType&&($t=rt[Mt].s,Ft=$t.getMult(ht[ut].anIndexes[Mt],it.a[Mt].s.totalChars),Ft.length?st.translate(-Dt.a.v[0]*Ft[0],-Dt.a.v[1]*Ft[1],Dt.a.v[2]*Ft[2]):st.translate(-Dt.a.v[0]*Ft,-Dt.a.v[1]*Ft,Dt.a.v[2]*Ft));for(Mt=0;Mt<Rt;Mt+=1)Dt=rt[Mt].a,Dt.s.propType&&($t=rt[Mt].s,Ft=$t.getMult(ht[ut].anIndexes[Mt],it.a[Mt].s.totalChars),Ft.length?st.scale(1+(Dt.s.v[0]-1)*Ft[0],1+(Dt.s.v[1]-1)*Ft[1],1):st.scale(1+(Dt.s.v[0]-1)*Ft,1+(Dt.s.v[1]-1)*Ft,1));for(Mt=0;Mt<Rt;Mt+=1){if(Dt=rt[Mt].a,$t=rt[Mt].s,Ft=$t.getMult(ht[ut].anIndexes[Mt],it.a[Mt].s.totalChars),Dt.sk.propType&&(Ft.length?st.skewFromAxis(-Dt.sk.v*Ft[0],Dt.sa.v*Ft[1]):st.skewFromAxis(-Dt.sk.v*Ft,Dt.sa.v*Ft)),Dt.r.propType&&(Ft.length?st.rotateZ(-Dt.r.v*Ft[2]):st.rotateZ(-Dt.r.v*Ft)),Dt.ry.propType&&(Ft.length?st.rotateY(Dt.ry.v*Ft[1]):st.rotateY(Dt.ry.v*Ft)),Dt.rx.propType&&(Ft.length?st.rotateX(Dt.rx.v*Ft[0]):st.rotateX(Dt.rx.v*Ft)),Dt.o.propType&&(Ft.length?Rn+=(Dt.o.v*Ft[0]-Rn)*Ft[0]:Rn+=(Dt.o.v*Ft-Rn)*Ft),tt.strokeWidthAnim&&Dt.sw.propType&&(Ft.length?ln+=Dt.sw.v*Ft[0]:ln+=Dt.sw.v*Ft),tt.strokeColorAnim&&Dt.sc.propType)for(Yt=0;Yt<3;Yt+=1)Ft.length?Mn[Yt]+=(Dt.sc.v[Yt]-Mn[Yt])*Ft[0]:Mn[Yt]+=(Dt.sc.v[Yt]-Mn[Yt])*Ft;if(tt.fillColorAnim&&tt.fc){if(Dt.fc.propType)for(Yt=0;Yt<3;Yt+=1)Ft.length?gn[Yt]+=(Dt.fc.v[Yt]-gn[Yt])*Ft[0]:gn[Yt]+=(Dt.fc.v[Yt]-gn[Yt])*Ft;Dt.fh.propType&&(Ft.length?gn=addHueToRGB(gn,Dt.fh.v*Ft[0]):gn=addHueToRGB(gn,Dt.fh.v*Ft)),Dt.fs.propType&&(Ft.length?gn=addSaturationToRGB(gn,Dt.fs.v*Ft[0]):gn=addSaturationToRGB(gn,Dt.fs.v*Ft)),Dt.fb.propType&&(Ft.length?gn=addBrightnessToRGB(gn,Dt.fb.v*Ft[0]):gn=addBrightnessToRGB(gn,Dt.fb.v*Ft))}}for(Mt=0;Mt<Rt;Mt+=1)Dt=rt[Mt].a,Dt.p.propType&&($t=rt[Mt].s,Ft=$t.getMult(ht[ut].anIndexes[Mt],it.a[Mt].s.totalChars),this._hasMaskedPath?Ft.length?st.translate(0,Dt.p.v[1]*Ft[0],-Dt.p.v[2]*Ft[1]):st.translate(0,Dt.p.v[1]*Ft,-Dt.p.v[2]*Ft):Ft.length?st.translate(Dt.p.v[0]*Ft[0],Dt.p.v[1]*Ft[1],-Dt.p.v[2]*Ft[2]):st.translate(Dt.p.v[0]*Ft,Dt.p.v[1]*Ft,-Dt.p.v[2]*Ft));if(tt.strokeWidthAnim&&(Fn=ln<0?0:ln),tt.strokeColorAnim&&(wn="rgb("+Math.round(Mn[0]*255)+","+Math.round(Mn[1]*255)+","+Math.round(Mn[2]*255)+")"),tt.fillColorAnim&&tt.fc&&(Vn="rgb("+Math.round(gn[0]*255)+","+Math.round(gn[1]*255)+","+Math.round(gn[2]*255)+")"),this._hasMaskedPath){if(st.translate(0,-tt.ls),st.translate(0,nt[1]*Ot*.01+ct,0),this._pathData.p.v){It=(gt.point[1]-Et.point[1])/(gt.point[0]-Et.point[0]);var Dn=Math.atan(It)*180/Math.PI;gt.point[0]<Et.point[0]&&(Dn+=180),st.rotate(-Dn*Math.PI/180)}st.translate(Kt,Zt,0),dt-=nt[0]*ht[ut].an*.005,ht[ut+1]&&qt!==ht[ut+1].ind&&(dt+=ht[ut].an/2,dt+=tt.tr*.001*tt.finalSize)}else{switch(st.translate(lt,ct,0),tt.ps&&st.translate(tt.ps[0],tt.ps[1]+tt.ascent,0),tt.j){case 1:st.translate(ht[ut].animatorJustifyOffset+tt.justifyOffset+(tt.boxWidth-tt.lineWidths[ht[ut].line]),0,0);break;case 2:st.translate(ht[ut].animatorJustifyOffset+tt.justifyOffset+(tt.boxWidth-tt.lineWidths[ht[ut].line])/2,0,0);break}st.translate(0,-tt.ls),st.translate(Qt,0,0),st.translate(nt[0]*ht[ut].an*.005,nt[1]*Ot*.01,0),lt+=ht[ut].l+tt.tr*.001*tt.finalSize}at==="html"?xn=st.toCSS():at==="svg"?xn=st.to2dCSS():Bn=[st.props[0],st.props[1],st.props[2],st.props[3],st.props[4],st.props[5],st.props[6],st.props[7],st.props[8],st.props[9],st.props[10],st.props[11],st.props[12],st.props[13],st.props[14],st.props[15]],Tn=Rn}ot<=ut?(Nt=new LetterProps(Tn,Fn,wn,Vn,xn,Bn),this.renderedLetters.push(Nt),ot+=1,this.lettersChangedFlag=!0):(Nt=this.renderedLetters[ut],this.lettersChangedFlag=Nt.update(Tn,Fn,wn,Vn,xn,Bn)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(tt,_e,nt){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(tt,_e,nt),this.textProperty=new TextProperty(this,tt.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(tt.t,this.renderType,this),this.initTransform(tt,_e,nt),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(tt){this._mdf=!1,this.prepareRenderableFrame(tt),this.prepareProperties(tt,this.isInRange)},ITextElement.prototype.createPathShape=function(tt,_e){var nt,rt=_e.length,it,st="";for(nt=0;nt<rt;nt+=1)_e[nt].ty==="sh"&&(it=_e[nt].ks.k,st+=buildShapeString(it,it.i.length,!0,tt));return st},ITextElement.prototype.updateDocumentData=function(tt,_e){this.textProperty.updateDocumentData(tt,_e)},ITextElement.prototype.canResizeFont=function(tt){this.textProperty.canResizeFont(tt)},ITextElement.prototype.setMinimumFontSize=function(tt){this.textProperty.setMinimumFontSize(tt)},ITextElement.prototype.applyTextPropertiesToMatrix=function(tt,_e,nt,rt,it){switch(tt.ps&&_e.translate(tt.ps[0],tt.ps[1]+tt.ascent,0),_e.translate(0,-tt.ls,0),tt.j){case 1:_e.translate(tt.justifyOffset+(tt.boxWidth-tt.lineWidths[nt]),0,0);break;case 2:_e.translate(tt.justifyOffset+(tt.boxWidth-tt.lineWidths[nt])/2,0,0);break}_e.translate(rt,it,0)},ITextElement.prototype.buildColor=function(tt){return"rgb("+Math.round(tt[0]*255)+","+Math.round(tt[1]*255)+","+Math.round(tt[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(tt,_e,nt){this.textSpans=[],this.renderType="svg",this.initElement(tt,_e,nt)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(tt){for(var _e=0,nt=tt.length,rt=[],it="";_e<nt;)tt[_e]==="\r"||tt[_e]===""?(rt.push(it),it=""):it+=tt[_e],_e+=1;return rt.push(it),rt},SVGTextLottieElement.prototype.buildShapeData=function(tt,_e){if(tt.shapes&&tt.shapes.length){var nt=tt.shapes[0];if(nt.it){var rt=nt.it[nt.it.length-1];rt.s&&(rt.s.k[0]=_e,rt.s.k[1]=_e)}}return tt},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var tt,_e,nt=this.textProperty.currentData;this.renderedLetters=createSizedArray(nt?nt.l.length:0),nt.fc?this.layerElement.setAttribute("fill",this.buildColor(nt.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),nt.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(nt.sc)),this.layerElement.setAttribute("stroke-width",nt.sw)),this.layerElement.setAttribute("font-size",nt.finalSize);var rt=this.globalData.fontManager.getFontByName(nt.f);if(rt.fClass)this.layerElement.setAttribute("class",rt.fClass);else{this.layerElement.setAttribute("font-family",rt.fFamily);var it=nt.fWeight,st=nt.fStyle;this.layerElement.setAttribute("font-style",st),this.layerElement.setAttribute("font-weight",it)}this.layerElement.setAttribute("aria-label",nt.t);var at=nt.l||[],ot=!!this.globalData.fontManager.chars;_e=at.length;var lt,ct=this.mHelper,ut="",ft=this.data.singleShape,ht=0,pt=0,dt=!0,gt=nt.tr*.001*nt.finalSize;if(ft&&!ot&&!nt.sz){var vt=this.textContainer,mt="start";switch(nt.j){case 1:mt="end";break;case 2:mt="middle";break;default:mt="start";break}vt.setAttribute("text-anchor",mt),vt.setAttribute("letter-spacing",gt);var xt=this.buildTextContents(nt.finalText);for(_e=xt.length,pt=nt.ps?nt.ps[1]+nt.ascent:0,tt=0;tt<_e;tt+=1)lt=this.textSpans[tt].span||createNS("tspan"),lt.textContent=xt[tt],lt.setAttribute("x",0),lt.setAttribute("y",pt),lt.style.display="inherit",vt.appendChild(lt),this.textSpans[tt]||(this.textSpans[tt]={span:null,glyph:null}),this.textSpans[tt].span=lt,pt+=nt.finalLineHeight;this.layerElement.appendChild(vt)}else{var St=this.textSpans.length,Et;for(tt=0;tt<_e;tt+=1){if(this.textSpans[tt]||(this.textSpans[tt]={span:null,childSpan:null,glyph:null}),!ot||!ft||tt===0){if(lt=St>tt?this.textSpans[tt].span:createNS(ot?"g":"text"),St<=tt){if(lt.setAttribute("stroke-linecap","butt"),lt.setAttribute("stroke-linejoin","round"),lt.setAttribute("stroke-miterlimit","4"),this.textSpans[tt].span=lt,ot){var bt=createNS("g");lt.appendChild(bt),this.textSpans[tt].childSpan=bt}this.textSpans[tt].span=lt,this.layerElement.appendChild(lt)}lt.style.display="inherit"}if(ct.reset(),ft&&(at[tt].n&&(ht=-gt,pt+=nt.yOffset,pt+=dt?1:0,dt=!1),this.applyTextPropertiesToMatrix(nt,ct,at[tt].line,ht,pt),ht+=at[tt].l||0,ht+=gt),ot){Et=this.globalData.fontManager.getCharData(nt.finalText[tt],rt.fStyle,this.globalData.fontManager.getFontByName(nt.f).fFamily);var Tt;if(Et.t===1)Tt=new SVGCompElement(Et.data,this.globalData,this);else{var At=emptyShapeData;Et.data&&Et.data.shapes&&(At=this.buildShapeData(Et.data,nt.finalSize)),Tt=new SVGShapeElement(At,this.globalData,this)}if(this.textSpans[tt].glyph){var Ct=this.textSpans[tt].glyph;this.textSpans[tt].childSpan.removeChild(Ct.layerElement),Ct.destroy()}this.textSpans[tt].glyph=Tt,Tt._debug=!0,Tt.prepareFrame(0),Tt.renderFrame(),this.textSpans[tt].childSpan.appendChild(Tt.layerElement),Et.t===1&&this.textSpans[tt].childSpan.setAttribute("transform","scale("+nt.finalSize/100+","+nt.finalSize/100+")")}else ft&&lt.setAttribute("transform","translate("+ct.props[12]+","+ct.props[13]+")"),lt.textContent=at[tt].val,lt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}ft&&lt&&lt.setAttribute("d",ut)}for(;tt<this.textSpans.length;)this.textSpans[tt].span.style.display="none",tt+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var tt=this.layerElement.getBBox();this.bbox={top:tt.y,left:tt.x,width:tt.width,height:tt.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var tt,_e=this.textSpans.length,nt;for(this.renderedFrame=this.comp.renderedFrame,tt=0;tt<_e;tt+=1)nt=this.textSpans[tt].glyph,nt&&(nt.prepareFrame(this.comp.renderedFrame-this.data.st),nt._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var tt,_e,nt=this.textAnimator.renderedLetters,rt=this.textProperty.currentData.l;_e=rt.length;var it,st,at;for(tt=0;tt<_e;tt+=1)rt[tt].n||(it=nt[tt],st=this.textSpans[tt].span,at=this.textSpans[tt].glyph,at&&at.renderFrame(),it._mdf.m&&st.setAttribute("transform",it.m),it._mdf.o&&st.setAttribute("opacity",it.o),it._mdf.sw&&st.setAttribute("stroke-width",it.sw),it._mdf.sc&&st.setAttribute("stroke",it.sc),it._mdf.fc&&st.setAttribute("fill",it.fc))}};function ISolidElement(tt,_e,nt){this.initElement(tt,_e,nt)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var tt=createNS("rect");tt.setAttribute("width",this.data.sw),tt.setAttribute("height",this.data.sh),tt.setAttribute("fill",this.data.sc),this.layerElement.appendChild(tt)};function NullElement(tt,_e,nt){this.initFrame(),this.initBaseData(tt,_e,nt),this.initFrame(),this.initTransform(tt,_e,nt),this.initHierarchy()}NullElement.prototype.prepareFrame=function(tt){this.prepareProperties(tt,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(tt){return new NullElement(tt,this.globalData,this)},SVGRendererBase.prototype.createShape=function(tt){return new SVGShapeElement(tt,this.globalData,this)},SVGRendererBase.prototype.createText=function(tt){return new SVGTextLottieElement(tt,this.globalData,this)},SVGRendererBase.prototype.createImage=function(tt){return new IImageElement(tt,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(tt){return new ISolidElement(tt,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(tt){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+tt.w+" "+tt.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",tt.w),this.svgElement.setAttribute("height",tt.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var _e=this.globalData.defs;this.setupGlobalData(tt,_e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=tt;var nt=createNS("clipPath"),rt=createNS("rect");rt.setAttribute("width",tt.w),rt.setAttribute("height",tt.h),rt.setAttribute("x",0),rt.setAttribute("y",0);var it=createElementID();nt.setAttribute("id",it),nt.appendChild(rt),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+it+")"),_e.appendChild(nt),this.layers=tt.layers,this.elements=createSizedArray(tt.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var tt,_e=this.layers?this.layers.length:0;for(tt=0;tt<_e;tt+=1)this.elements[tt]&&this.elements[tt].destroy&&this.elements[tt].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(tt){var _e=0,nt=this.layers.length;for(_e=0;_e<nt;_e+=1)if(this.layers[_e].ind===tt)return _e;return-1},SVGRendererBase.prototype.buildItem=function(tt){var _e=this.elements;if(!(_e[tt]||this.layers[tt].ty===99)){_e[tt]=!0;var nt=this.createItem(this.layers[tt]);if(_e[tt]=nt,getExpressionsPlugin()&&(this.layers[tt].ty===0&&this.globalData.projectInterface.registerComposition(nt),nt.initExpressions()),this.appendElementInPos(nt,tt),this.layers[tt].tt){var rt="tp"in this.layers[tt]?this.findIndexByInd(this.layers[tt].tp):tt-1;if(rt===-1)return;if(!this.elements[rt]||this.elements[rt]===!0)this.buildItem(rt),this.addPendingElement(nt);else{var it=_e[rt],st=it.getMatte(this.layers[tt].tt);nt.setMatte(st)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var tt=this.pendingElements.pop();if(tt.checkParenting(),tt.data.tt)for(var _e=0,nt=this.elements.length;_e<nt;){if(this.elements[_e]===tt){var rt="tp"in tt.data?this.findIndexByInd(tt.data.tp):_e-1,it=this.elements[rt],st=it.getMatte(this.layers[_e].tt);tt.setMatte(st);break}_e+=1}}},SVGRendererBase.prototype.renderFrame=function(tt){if(!(this.renderedFrame===tt||this.destroyed)){tt===null?tt=this.renderedFrame:this.renderedFrame=tt,this.globalData.frameNum=tt,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=tt,this.globalData._mdf=!1;var _e,nt=this.layers.length;for(this.completeLayers||this.checkLayers(tt),_e=nt-1;_e>=0;_e-=1)(this.completeLayers||this.elements[_e])&&this.elements[_e].prepareFrame(tt-this.layers[_e].st);if(this.globalData._mdf)for(_e=0;_e<nt;_e+=1)(this.completeLayers||this.elements[_e])&&this.elements[_e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(tt,_e){var nt=tt.getBaseElement();if(nt){for(var rt=0,it;rt<_e;)this.elements[rt]&&this.elements[rt]!==!0&&this.elements[rt].getBaseElement()&&(it=this.elements[rt].getBaseElement()),rt+=1;it?this.layerElement.insertBefore(nt,it):this.layerElement.appendChild(nt)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(tt,_e,nt){this.initFrame(),this.initBaseData(tt,_e,nt),this.initTransform(tt,_e,nt),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!_e.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(tt){if(this._mdf=!1,this.prepareRenderableFrame(tt),this.prepareProperties(tt,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=tt/this.data.sr;else{var _e=this.tm.v;_e===this.data.op&&(_e=this.data.op-1),this.renderedFrame=_e}var nt,rt=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),nt=rt-1;nt>=0;nt-=1)(this.completeLayers||this.elements[nt])&&(this.elements[nt].prepareFrame(this.renderedFrame-this.layers[nt].st),this.elements[nt]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var tt,_e=this.layers.length;for(tt=0;tt<_e;tt+=1)(this.completeLayers||this.elements[tt])&&this.elements[tt].renderFrame()},ICompElement.prototype.setElements=function(tt){this.elements=tt},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var tt,_e=this.layers.length;for(tt=0;tt<_e;tt+=1)this.elements[tt]&&this.elements[tt].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(tt,_e,nt){this.layers=tt.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(tt,_e,nt),this.tm=tt.tm?PropertyFactory.getProp(this,tt.tm,0,_e.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(tt){return new SVGCompElement(tt,this.globalData,this)};function SVGRenderer(tt,_e){this.animationItem=tt,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var nt="";if(_e&&_e.title){var rt=createNS("title"),it=createElementID();rt.setAttribute("id",it),rt.textContent=_e.title,this.svgElement.appendChild(rt),nt+=it}if(_e&&_e.description){var st=createNS("desc"),at=createElementID();st.setAttribute("id",at),st.textContent=_e.description,this.svgElement.appendChild(st),nt+=" "+at}nt&&this.svgElement.setAttribute("aria-labelledby",nt);var ot=createNS("defs");this.svgElement.appendChild(ot);var lt=createNS("g");this.svgElement.appendChild(lt),this.layerElement=lt,this.renderConfig={preserveAspectRatio:_e&&_e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:_e&&_e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:_e&&_e.contentVisibility||"visible",progressiveLoad:_e&&_e.progressiveLoad||!1,hideOnTransparent:!(_e&&_e.hideOnTransparent===!1),viewBoxOnly:_e&&_e.viewBoxOnly||!1,viewBoxSize:_e&&_e.viewBoxSize||!1,className:_e&&_e.className||"",id:_e&&_e.id||"",focusable:_e&&_e.focusable,filterSize:{width:_e&&_e.filterSize&&_e.filterSize.width||"100%",height:_e&&_e.filterSize&&_e.filterSize.height||"100%",x:_e&&_e.filterSize&&_e.filterSize.x||"0%",y:_e&&_e.filterSize&&_e.filterSize.y||"0%"},width:_e&&_e.width,height:_e&&_e.height,runExpressions:!_e||_e.runExpressions===void 0||_e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:ot,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(tt){return new SVGCompElement(tt,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(_e){var nt,rt=_e.length,it="_";for(nt=0;nt<rt;nt+=1)it+=_e[nt].transform.key+"_";var st=this.sequences[it];return st||(st={transforms:[].concat(_e),finalTransform:new Matrix,_mdf:!1},this.sequences[it]=st,this.sequenceList.push(st)),st},processSequence:function(_e,nt){for(var rt=0,it=_e.transforms.length,st=nt;rt<it&&!nt;){if(_e.transforms[rt].transform.mProps._mdf){st=!0;break}rt+=1}if(st)for(_e.finalTransform.reset(),rt=it-1;rt>=0;rt-=1)_e.finalTransform.multiply(_e.transforms[rt].transform.mProps.v);_e._mdf=st},processSequences:function(_e){var nt,rt=this.sequenceList.length;for(nt=0;nt<rt;nt+=1)this.processSequence(this.sequenceList[nt],_e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var _e="__lottie_element_luma_buffer",nt=null,rt=null,it=null;function st(){var lt=createNS("svg"),ct=createNS("filter"),ut=createNS("feColorMatrix");return ct.setAttribute("id",_e),ut.setAttribute("type","matrix"),ut.setAttribute("color-interpolation-filters","sRGB"),ut.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),ct.appendChild(ut),lt.appendChild(ct),lt.setAttribute("id",_e+"_svg"),featureSupport.svgLumaHidden&&(lt.style.display="none"),lt}function at(){nt||(it=st(),document.body.appendChild(it),nt=createTag("canvas"),rt=nt.getContext("2d"),rt.filter="url(#"+_e+")",rt.fillStyle="rgba(0,0,0,0)",rt.fillRect(0,0,1,1))}function ot(lt){return nt||at(),nt.width=lt.width,nt.height=lt.height,rt.filter="url(#"+_e+")",nt}return{load:at,get:ot}};function createCanvas(tt,_e){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(tt,_e);var nt=createTag("canvas");return nt.width=tt,nt.height=_e,nt}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(tt){var _e,nt=tt.data.ef?tt.data.ef.length:0;this.filters=[];var rt;for(_e=0;_e<nt;_e+=1){rt=null;var it=tt.data.ef[_e].ty;if(registeredEffects[it]){var st=registeredEffects[it].effect;rt=new st(tt.effectsManager.effectElements[_e],tt)}rt&&this.filters.push(rt)}this.filters.length&&tt.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(tt){var _e,nt=this.filters.length;for(_e=0;_e<nt;_e+=1)this.filters[_e].renderFrame(tt)},CVEffects.prototype.getEffects=function(tt){var _e,nt=this.filters.length,rt=[];for(_e=0;_e<nt;_e+=1)this.filters[_e].type===tt&&rt.push(this.filters[_e]);return rt};function registerEffect(tt,_e){registeredEffects[tt]={effect:_e}}function CVMaskElement(tt,_e){this.data=tt,this.element=_e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var nt,rt=this.masksProperties.length,it=!1;for(nt=0;nt<rt;nt+=1)this.masksProperties[nt].mode!=="n"&&(it=!0),this.viewData[nt]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[nt],3);this.hasMasks=it,it&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var tt=this.element.finalTransform.mat,_e=this.element.canvasContext,nt,rt=this.masksProperties.length,it,st,at;for(_e.beginPath(),nt=0;nt<rt;nt+=1)if(this.masksProperties[nt].mode!=="n"){this.masksProperties[nt].inv&&(_e.moveTo(0,0),_e.lineTo(this.element.globalData.compSize.w,0),_e.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),_e.lineTo(0,this.element.globalData.compSize.h),_e.lineTo(0,0)),at=this.viewData[nt].v,it=tt.applyToPointArray(at.v[0][0],at.v[0][1],0),_e.moveTo(it[0],it[1]);var ot,lt=at._length;for(ot=1;ot<lt;ot+=1)st=tt.applyToTriplePoints(at.o[ot-1],at.i[ot],at.v[ot]),_e.bezierCurveTo(st[0],st[1],st[2],st[3],st[4],st[5]);st=tt.applyToTriplePoints(at.o[ot-1],at.i[0],at.v[0]),_e.bezierCurveTo(st[0],st[1],st[2],st[3],st[4],st[5])}this.element.globalData.renderer.save(!0),_e.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var _e=this.globalData.canvasContext,nt=assetLoader.createCanvas(_e.canvas.width,_e.canvas.height);this.buffers.push(nt);var rt=assetLoader.createCanvas(_e.canvas.width,_e.canvas.height);this.buffers.push(rt),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var _e=this.globalData;if(_e.blendMode!==this.data.bm){_e.blendMode=this.data.bm;var nt=getBlendMode(this.data.bm);_e.canvasContext.globalCompositeOperation=nt}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(_e){_e.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var _e=this.buffers[0],nt=_e.getContext("2d");this.clearCanvas(nt),nt.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var _e=this.buffers[1],nt=_e.getContext("2d");this.clearCanvas(nt),nt.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var rt=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(rt.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var it=assetLoader.getLumaCanvas(this.canvasContext.canvas),st=it.getContext("2d");st.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(it,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(_e,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(_e){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!_e)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var nt=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(nt),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(nt),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(tt,_e,nt,rt){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var it=4;_e.ty==="rc"?it=5:_e.ty==="el"?it=6:_e.ty==="sr"&&(it=7),this.sh=ShapePropertyFactory.getShapeProp(tt,_e,it,tt);var st,at=nt.length,ot;for(st=0;st<at;st+=1)nt[st].closed||(ot={transforms:rt.addTransformSequence(nt[st].transforms),trNodes:[]},this.styledShapes.push(ot),nt[st].elements.push(ot))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(tt,_e,nt){this.shapes=[],this.shapesData=tt.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(tt,_e,nt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(tt,_e){var nt={data:tt,type:tt.ty,preTransforms:this.transformsManager.addTransformSequence(_e),transforms:[],elements:[],closed:tt.hd===!0},rt={};if(tt.ty==="fl"||tt.ty==="st"?(rt.c=PropertyFactory.getProp(this,tt.c,1,255,this),rt.c.k||(nt.co="rgb("+bmFloor(rt.c.v[0])+","+bmFloor(rt.c.v[1])+","+bmFloor(rt.c.v[2])+")")):(tt.ty==="gf"||tt.ty==="gs")&&(rt.s=PropertyFactory.getProp(this,tt.s,1,null,this),rt.e=PropertyFactory.getProp(this,tt.e,1,null,this),rt.h=PropertyFactory.getProp(this,tt.h||{k:0},0,.01,this),rt.a=PropertyFactory.getProp(this,tt.a||{k:0},0,degToRads,this),rt.g=new GradientProperty(this,tt.g,this)),rt.o=PropertyFactory.getProp(this,tt.o,0,.01,this),tt.ty==="st"||tt.ty==="gs"){if(nt.lc=lineCapEnum[tt.lc||2],nt.lj=lineJoinEnum[tt.lj||2],tt.lj==1&&(nt.ml=tt.ml),rt.w=PropertyFactory.getProp(this,tt.w,0,null,this),rt.w.k||(nt.wi=rt.w.v),tt.d){var it=new DashProperty(this,tt.d,"canvas",this);rt.d=it,rt.d.k||(nt.da=rt.d.dashArray,nt.do=rt.d.dashoffset[0])}}else nt.r=tt.r===2?"evenodd":"nonzero";return this.stylesList.push(nt),rt.style=nt,rt},CVShapeElement.prototype.createGroupElement=function(){var tt={it:[],prevViewData:[]};return tt},CVShapeElement.prototype.createTransformElement=function(tt){var _e={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,tt.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,tt,this)}};return _e},CVShapeElement.prototype.createShapeElement=function(tt){var _e=new CVShapeData(this,tt,this.stylesList,this.transformsManager);return this.shapes.push(_e),this.addShapeToModifiers(_e),_e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var tt,_e=this.itemsData.length;for(tt=0;tt<_e;tt+=1)this.prevViewData[tt]=this.itemsData[tt];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),_e=this.dynamicProperties.length,tt=0;tt<_e;tt+=1)this.dynamicProperties[tt].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(tt){var _e,nt=this.stylesList.length;for(_e=0;_e<nt;_e+=1)this.stylesList[_e].closed||this.stylesList[_e].transforms.push(tt)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var tt,_e=this.stylesList.length;for(tt=0;tt<_e;tt+=1)this.stylesList[tt].closed||this.stylesList[tt].transforms.pop()},CVShapeElement.prototype.closeStyles=function(tt){var _e,nt=tt.length;for(_e=0;_e<nt;_e+=1)tt[_e].closed=!0},CVShapeElement.prototype.searchShapes=function(tt,_e,nt,rt,it){var st,at=tt.length-1,ot,lt,ct=[],ut=[],ft,ht,pt,dt=[].concat(it);for(st=at;st>=0;st-=1){if(ft=this.searchProcessedElement(tt[st]),ft?_e[st]=nt[ft-1]:tt[st]._shouldRender=rt,tt[st].ty==="fl"||tt[st].ty==="st"||tt[st].ty==="gf"||tt[st].ty==="gs")ft?_e[st].style.closed=!1:_e[st]=this.createStyleElement(tt[st],dt),ct.push(_e[st].style);else if(tt[st].ty==="gr"){if(!ft)_e[st]=this.createGroupElement(tt[st]);else for(lt=_e[st].it.length,ot=0;ot<lt;ot+=1)_e[st].prevViewData[ot]=_e[st].it[ot];this.searchShapes(tt[st].it,_e[st].it,_e[st].prevViewData,rt,dt)}else tt[st].ty==="tr"?(ft||(pt=this.createTransformElement(tt[st]),_e[st]=pt),dt.push(_e[st]),this.addTransformToStyleList(_e[st])):tt[st].ty==="sh"||tt[st].ty==="rc"||tt[st].ty==="el"||tt[st].ty==="sr"?ft||(_e[st]=this.createShapeElement(tt[st])):tt[st].ty==="tm"||tt[st].ty==="rd"||tt[st].ty==="pb"||tt[st].ty==="zz"||tt[st].ty==="op"?(ft?(ht=_e[st],ht.closed=!1):(ht=ShapeModifiers.getModifier(tt[st].ty),ht.init(this,tt[st]),_e[st]=ht,this.shapeModifiers.push(ht)),ut.push(ht)):tt[st].ty==="rp"&&(ft?(ht=_e[st],ht.closed=!0):(ht=ShapeModifiers.getModifier(tt[st].ty),_e[st]=ht,ht.init(this,tt,st,_e),this.shapeModifiers.push(ht),rt=!1),ut.push(ht));this.addProcessedElement(tt[st],st+1)}for(this.removeTransformFromStyleList(),this.closeStyles(ct),at=ut.length,st=0;st<at;st+=1)ut[st].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(tt,_e){(tt._opMdf||_e.op._mdf||this._isFirstFrame)&&(_e.opacity=tt.opacity,_e.opacity*=_e.op.v,_e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var tt,_e=this.stylesList.length,nt,rt,it,st,at,ot,lt=this.globalData.renderer,ct=this.globalData.canvasContext,ut,ft;for(tt=0;tt<_e;tt+=1)if(ft=this.stylesList[tt],ut=ft.type,!((ut==="st"||ut==="gs")&&ft.wi===0||!ft.data._shouldRender||ft.coOp===0||this.globalData.currentGlobalAlpha===0)){for(lt.save(),at=ft.elements,ut==="st"||ut==="gs"?(lt.ctxStrokeStyle(ut==="st"?ft.co:ft.grd),lt.ctxLineWidth(ft.wi),lt.ctxLineCap(ft.lc),lt.ctxLineJoin(ft.lj),lt.ctxMiterLimit(ft.ml||0)):lt.ctxFillStyle(ut==="fl"?ft.co:ft.grd),lt.ctxOpacity(ft.coOp),ut!=="st"&&ut!=="gs"&&ct.beginPath(),lt.ctxTransform(ft.preTransforms.finalTransform.props),rt=at.length,nt=0;nt<rt;nt+=1){for((ut==="st"||ut==="gs")&&(ct.beginPath(),ft.da&&(ct.setLineDash(ft.da),ct.lineDashOffset=ft.do)),ot=at[nt].trNodes,st=ot.length,it=0;it<st;it+=1)ot[it].t==="m"?ct.moveTo(ot[it].p[0],ot[it].p[1]):ot[it].t==="c"?ct.bezierCurveTo(ot[it].pts[0],ot[it].pts[1],ot[it].pts[2],ot[it].pts[3],ot[it].pts[4],ot[it].pts[5]):ct.closePath();(ut==="st"||ut==="gs")&&(lt.ctxStroke(),ft.da&&ct.setLineDash(this.dashResetter))}ut!=="st"&&ut!=="gs"&&this.globalData.renderer.ctxFill(ft.r),lt.restore()}},CVShapeElement.prototype.renderShape=function(tt,_e,nt,rt){var it,st=_e.length-1,at;for(at=tt,it=st;it>=0;it-=1)_e[it].ty==="tr"?(at=nt[it].transform,this.renderShapeTransform(tt,at)):_e[it].ty==="sh"||_e[it].ty==="el"||_e[it].ty==="rc"||_e[it].ty==="sr"?this.renderPath(_e[it],nt[it]):_e[it].ty==="fl"?this.renderFill(_e[it],nt[it],at):_e[it].ty==="st"?this.renderStroke(_e[it],nt[it],at):_e[it].ty==="gf"||_e[it].ty==="gs"?this.renderGradientFill(_e[it],nt[it],at):_e[it].ty==="gr"?this.renderShape(at,_e[it].it,nt[it].it):_e[it].ty;rt&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(tt,_e){if(this._isFirstFrame||_e._mdf||tt.transforms._mdf){var nt=tt.trNodes,rt=_e.paths,it,st,at,ot=rt._length;nt.length=0;var lt=tt.transforms.finalTransform;for(at=0;at<ot;at+=1){var ct=rt.shapes[at];if(ct&&ct.v){for(st=ct._length,it=1;it<st;it+=1)it===1&&nt.push({t:"m",p:lt.applyToPointArray(ct.v[0][0],ct.v[0][1],0)}),nt.push({t:"c",pts:lt.applyToTriplePoints(ct.o[it-1],ct.i[it],ct.v[it])});st===1&&nt.push({t:"m",p:lt.applyToPointArray(ct.v[0][0],ct.v[0][1],0)}),ct.c&&st&&(nt.push({t:"c",pts:lt.applyToTriplePoints(ct.o[it-1],ct.i[0],ct.v[0])}),nt.push({t:"z"}))}}tt.trNodes=nt}},CVShapeElement.prototype.renderPath=function(tt,_e){if(tt.hd!==!0&&tt._shouldRender){var nt,rt=_e.styledShapes.length;for(nt=0;nt<rt;nt+=1)this.renderStyledShape(_e.styledShapes[nt],_e.sh)}},CVShapeElement.prototype.renderFill=function(tt,_e,nt){var rt=_e.style;(_e.c._mdf||this._isFirstFrame)&&(rt.co="rgb("+bmFloor(_e.c.v[0])+","+bmFloor(_e.c.v[1])+","+bmFloor(_e.c.v[2])+")"),(_e.o._mdf||nt._opMdf||this._isFirstFrame)&&(rt.coOp=_e.o.v*nt.opacity)},CVShapeElement.prototype.renderGradientFill=function(tt,_e,nt){var rt=_e.style,it;if(!rt.grd||_e.g._mdf||_e.s._mdf||_e.e._mdf||tt.t!==1&&(_e.h._mdf||_e.a._mdf)){var st=this.globalData.canvasContext,at=_e.s.v,ot=_e.e.v;if(tt.t===1)it=st.createLinearGradient(at[0],at[1],ot[0],ot[1]);else{var lt=Math.sqrt(Math.pow(at[0]-ot[0],2)+Math.pow(at[1]-ot[1],2)),ct=Math.atan2(ot[1]-at[1],ot[0]-at[0]),ut=_e.h.v;ut>=1?ut=.99:ut<=-1&&(ut=-.99);var ft=lt*ut,ht=Math.cos(ct+_e.a.v)*ft+at[0],pt=Math.sin(ct+_e.a.v)*ft+at[1];it=st.createRadialGradient(ht,pt,0,at[0],at[1],lt)}var dt,gt=tt.g.p,vt=_e.g.c,mt=1;for(dt=0;dt<gt;dt+=1)_e.g._hasOpacity&&_e.g._collapsable&&(mt=_e.g.o[dt*2+1]),it.addColorStop(vt[dt*4]/100,"rgba("+vt[dt*4+1]+","+vt[dt*4+2]+","+vt[dt*4+3]+","+mt+")");rt.grd=it}rt.coOp=_e.o.v*nt.opacity},CVShapeElement.prototype.renderStroke=function(tt,_e,nt){var rt=_e.style,it=_e.d;it&&(it._mdf||this._isFirstFrame)&&(rt.da=it.dashArray,rt.do=it.dashoffset[0]),(_e.c._mdf||this._isFirstFrame)&&(rt.co="rgb("+bmFloor(_e.c.v[0])+","+bmFloor(_e.c.v[1])+","+bmFloor(_e.c.v[2])+")"),(_e.o._mdf||nt._opMdf||this._isFirstFrame)&&(rt.coOp=_e.o.v*nt.opacity),(_e.w._mdf||this._isFirstFrame)&&(rt.wi=_e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(tt,_e,nt){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(tt,_e,nt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var tt=this.textProperty.currentData;this.renderedLetters=createSizedArray(tt.l?tt.l.length:0);var _e=!1;tt.fc?(_e=!0,this.values.fill=this.buildColor(tt.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=_e;var nt=!1;tt.sc&&(nt=!0,this.values.stroke=this.buildColor(tt.sc),this.values.sWidth=tt.sw);var rt=this.globalData.fontManager.getFontByName(tt.f),it,st,at=tt.l,ot=this.mHelper;this.stroke=nt,this.values.fValue=tt.finalSize+"px "+this.globalData.fontManager.getFontByName(tt.f).fFamily,st=tt.finalText.length;var lt,ct,ut,ft,ht,pt,dt,gt,vt,mt,xt=this.data.singleShape,St=tt.tr*.001*tt.finalSize,Et=0,bt=0,Tt=!0,At=0;for(it=0;it<st;it+=1){lt=this.globalData.fontManager.getCharData(tt.finalText[it],rt.fStyle,this.globalData.fontManager.getFontByName(tt.f).fFamily),ct=lt&&lt.data||{},ot.reset(),xt&&at[it].n&&(Et=-St,bt+=tt.yOffset,bt+=Tt?1:0,Tt=!1),ht=ct.shapes?ct.shapes[0].it:[],dt=ht.length,ot.scale(tt.finalSize/100,tt.finalSize/100),xt&&this.applyTextPropertiesToMatrix(tt,ot,at[it].line,Et,bt),vt=createSizedArray(dt-1);var Ct=0;for(pt=0;pt<dt;pt+=1)if(ht[pt].ty==="sh"){for(ft=ht[pt].ks.k.i.length,gt=ht[pt].ks.k,mt=[],ut=1;ut<ft;ut+=1)ut===1&&mt.push(ot.applyToX(gt.v[0][0],gt.v[0][1],0),ot.applyToY(gt.v[0][0],gt.v[0][1],0)),mt.push(ot.applyToX(gt.o[ut-1][0],gt.o[ut-1][1],0),ot.applyToY(gt.o[ut-1][0],gt.o[ut-1][1],0),ot.applyToX(gt.i[ut][0],gt.i[ut][1],0),ot.applyToY(gt.i[ut][0],gt.i[ut][1],0),ot.applyToX(gt.v[ut][0],gt.v[ut][1],0),ot.applyToY(gt.v[ut][0],gt.v[ut][1],0));mt.push(ot.applyToX(gt.o[ut-1][0],gt.o[ut-1][1],0),ot.applyToY(gt.o[ut-1][0],gt.o[ut-1][1],0),ot.applyToX(gt.i[0][0],gt.i[0][1],0),ot.applyToY(gt.i[0][0],gt.i[0][1],0),ot.applyToX(gt.v[0][0],gt.v[0][1],0),ot.applyToY(gt.v[0][0],gt.v[0][1],0)),vt[Ct]=mt,Ct+=1}xt&&(Et+=at[it].l,Et+=St),this.textSpans[At]?this.textSpans[At].elem=vt:this.textSpans[At]={elem:vt},At+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var tt=this.canvasContext;tt.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var _e,nt,rt,it,st,at,ot=this.textAnimator.renderedLetters,lt=this.textProperty.currentData.l;nt=lt.length;var ct,ut=null,ft=null,ht=null,pt,dt,gt=this.globalData.renderer;for(_e=0;_e<nt;_e+=1)if(!lt[_e].n){if(ct=ot[_e],ct&&(gt.save(),gt.ctxTransform(ct.p),gt.ctxOpacity(ct.o)),this.fill){for(ct&&ct.fc?ut!==ct.fc&&(gt.ctxFillStyle(ct.fc),ut=ct.fc):ut!==this.values.fill&&(ut=this.values.fill,gt.ctxFillStyle(this.values.fill)),pt=this.textSpans[_e].elem,it=pt.length,this.globalData.canvasContext.beginPath(),rt=0;rt<it;rt+=1)for(dt=pt[rt],at=dt.length,this.globalData.canvasContext.moveTo(dt[0],dt[1]),st=2;st<at;st+=6)this.globalData.canvasContext.bezierCurveTo(dt[st],dt[st+1],dt[st+2],dt[st+3],dt[st+4],dt[st+5]);this.globalData.canvasContext.closePath(),gt.ctxFill()}if(this.stroke){for(ct&&ct.sw?ht!==ct.sw&&(ht=ct.sw,gt.ctxLineWidth(ct.sw)):ht!==this.values.sWidth&&(ht=this.values.sWidth,gt.ctxLineWidth(this.values.sWidth)),ct&&ct.sc?ft!==ct.sc&&(ft=ct.sc,gt.ctxStrokeStyle(ct.sc)):ft!==this.values.stroke&&(ft=this.values.stroke,gt.ctxStrokeStyle(this.values.stroke)),pt=this.textSpans[_e].elem,it=pt.length,this.globalData.canvasContext.beginPath(),rt=0;rt<it;rt+=1)for(dt=pt[rt],at=dt.length,this.globalData.canvasContext.moveTo(dt[0],dt[1]),st=2;st<at;st+=6)this.globalData.canvasContext.bezierCurveTo(dt[st],dt[st+1],dt[st+2],dt[st+3],dt[st+4],dt[st+5]);this.globalData.canvasContext.closePath(),gt.ctxStroke()}ct&&this.globalData.renderer.restore()}};function CVImageElement(tt,_e,nt){this.assetData=_e.getAssetData(tt.refId),this.img=_e.imageLoader.getAsset(this.assetData),this.initElement(tt,_e,nt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var tt=createTag("canvas");tt.width=this.assetData.w,tt.height=this.assetData.h;var _e=tt.getContext("2d"),nt=this.img.width,rt=this.img.height,it=nt/rt,st=this.assetData.w/this.assetData.h,at,ot,lt=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;it>st&&lt==="xMidYMid slice"||it<st&&lt!=="xMidYMid slice"?(ot=rt,at=ot*st):(at=nt,ot=at/st),_e.drawImage(this.img,(nt-at)/2,(rt-ot)/2,at,ot,0,0,this.assetData.w,this.assetData.h),this.img=tt}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(tt,_e,nt){this.initElement(tt,_e,nt)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(tt){return new CVShapeElement(tt,this.globalData,this)},CanvasRendererBase.prototype.createText=function(tt){return new CVTextElement(tt,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(tt){return new CVImageElement(tt,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(tt){return new CVSolidElement(tt,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(tt){tt[0]===1&&tt[1]===0&&tt[4]===0&&tt[5]===1&&tt[12]===0&&tt[13]===0||this.canvasContext.transform(tt[0],tt[1],tt[4],tt[5],tt[12],tt[13])},CanvasRendererBase.prototype.ctxOpacity=function(tt){this.canvasContext.globalAlpha*=tt<0?0:tt},CanvasRendererBase.prototype.ctxFillStyle=function(tt){this.canvasContext.fillStyle=tt},CanvasRendererBase.prototype.ctxStrokeStyle=function(tt){this.canvasContext.strokeStyle=tt},CanvasRendererBase.prototype.ctxLineWidth=function(tt){this.canvasContext.lineWidth=tt},CanvasRendererBase.prototype.ctxLineCap=function(tt){this.canvasContext.lineCap=tt},CanvasRendererBase.prototype.ctxLineJoin=function(tt){this.canvasContext.lineJoin=tt},CanvasRendererBase.prototype.ctxMiterLimit=function(tt){this.canvasContext.miterLimit=tt},CanvasRendererBase.prototype.ctxFill=function(tt){this.canvasContext.fill(tt)},CanvasRendererBase.prototype.ctxFillRect=function(tt,_e,nt,rt){this.canvasContext.fillRect(tt,_e,nt,rt)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(tt){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}tt&&(this.globalData.blendMode="source-over"),this.contextData.restore(tt)},CanvasRendererBase.prototype.configAnimation=function(tt){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var _e=this.animationItem.container.style;_e.width="100%",_e.height="100%";var nt="0px 0px 0px";_e.transformOrigin=nt,_e.mozTransformOrigin=nt,_e.webkitTransformOrigin=nt,_e["-webkit-transform"]=nt,_e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=tt,this.layers=tt.layers,this.transformCanvas={w:tt.w,h:tt.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(tt,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(tt.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(tt,_e){this.reset();var nt,rt;tt?(nt=tt,rt=_e,this.canvasContext.canvas.width=nt,this.canvasContext.canvas.height=rt):(this.animationItem.wrapper&&this.animationItem.container?(nt=this.animationItem.wrapper.offsetWidth,rt=this.animationItem.wrapper.offsetHeight):(nt=this.canvasContext.canvas.width,rt=this.canvasContext.canvas.height),this.canvasContext.canvas.width=nt*this.renderConfig.dpr,this.canvasContext.canvas.height=rt*this.renderConfig.dpr);var it,st;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var at=this.renderConfig.preserveAspectRatio.split(" "),ot=at[1]||"meet",lt=at[0]||"xMidYMid",ct=lt.substr(0,4),ut=lt.substr(4);it=nt/rt,st=this.transformCanvas.w/this.transformCanvas.h,st>it&&ot==="meet"||st<it&&ot==="slice"?(this.transformCanvas.sx=nt/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=nt/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=rt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=rt/(this.transformCanvas.h/this.renderConfig.dpr)),ct==="xMid"&&(st<it&&ot==="meet"||st>it&&ot==="slice")?this.transformCanvas.tx=(nt-this.transformCanvas.w*(rt/this.transformCanvas.h))/2*this.renderConfig.dpr:ct==="xMax"&&(st<it&&ot==="meet"||st>it&&ot==="slice")?this.transformCanvas.tx=(nt-this.transformCanvas.w*(rt/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,ut==="YMid"&&(st>it&&ot==="meet"||st<it&&ot==="slice")?this.transformCanvas.ty=(rt-this.transformCanvas.h*(nt/this.transformCanvas.w))/2*this.renderConfig.dpr:ut==="YMax"&&(st>it&&ot==="meet"||st<it&&ot==="slice")?this.transformCanvas.ty=(rt-this.transformCanvas.h*(nt/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=nt/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=rt/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var tt,_e=this.layers?this.layers.length:0;for(tt=_e-1;tt>=0;tt-=1)this.elements[tt]&&this.elements[tt].destroy&&this.elements[tt].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(tt,_e){if(!(this.renderedFrame===tt&&this.renderConfig.clearCanvas===!0&&!_e||this.destroyed||tt===-1)){this.renderedFrame=tt,this.globalData.frameNum=tt-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||_e,this.globalData.projectInterface.currentFrame=tt;var nt,rt=this.layers.length;for(this.completeLayers||this.checkLayers(tt),nt=rt-1;nt>=0;nt-=1)(this.completeLayers||this.elements[nt])&&this.elements[nt].prepareFrame(tt-this.layers[nt].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),nt=rt-1;nt>=0;nt-=1)(this.completeLayers||this.elements[nt])&&this.elements[nt].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(tt){var _e=this.elements;if(!(_e[tt]||this.layers[tt].ty===99)){var nt=this.createItem(this.layers[tt],this,this.globalData);_e[tt]=nt,nt.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var tt=this.pendingElements.pop();tt.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var tt,_e=15;for(tt=0;tt<_e;tt+=1){var nt=new CanvasContext;this.stack[tt]=nt}this._length=_e,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var tt=this._length*2,_e=0;for(_e=this._length;_e<tt;_e+=1)this.stack[_e]=new CanvasContext;this._length=tt},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(tt){this.cArrPos-=1;var _e=this.stack[this.cArrPos],nt=_e.transform,rt,it=this.cTr.props;for(rt=0;rt<16;rt+=1)it[rt]=nt[rt];if(tt){this.nativeContext.restore();var st=this.stack[this.cArrPos+1];this.appliedFillStyle=st.fillStyle,this.appliedStrokeStyle=st.strokeStyle,this.appliedLineWidth=st.lineWidth,this.appliedLineCap=st.lineCap,this.appliedLineJoin=st.lineJoin,this.appliedMiterLimit=st.miterLimit}this.nativeContext.setTransform(nt[0],nt[1],nt[4],nt[5],nt[12],nt[13]),(tt||_e.opacity!==-1&&this.currentOpacity!==_e.opacity)&&(this.nativeContext.globalAlpha=_e.opacity,this.currentOpacity=_e.opacity),this.currentFillStyle=_e.fillStyle,this.currentStrokeStyle=_e.strokeStyle,this.currentLineWidth=_e.lineWidth,this.currentLineCap=_e.lineCap,this.currentLineJoin=_e.lineJoin,this.currentMiterLimit=_e.miterLimit},CVContextData.prototype.save=function(tt){tt&&this.nativeContext.save();var _e=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var nt=this.stack[this.cArrPos],rt;for(rt=0;rt<16;rt+=1)nt.transform[rt]=_e[rt];this.cArrPos+=1;var it=this.stack[this.cArrPos];it.opacity=nt.opacity,it.fillStyle=nt.fillStyle,it.strokeStyle=nt.strokeStyle,it.lineWidth=nt.lineWidth,it.lineCap=nt.lineCap,it.lineJoin=nt.lineJoin,it.miterLimit=nt.miterLimit},CVContextData.prototype.setOpacity=function(tt){this.stack[this.cArrPos].opacity=tt},CVContextData.prototype.setContext=function(tt){this.nativeContext=tt},CVContextData.prototype.fillStyle=function(tt){this.stack[this.cArrPos].fillStyle!==tt&&(this.currentFillStyle=tt,this.stack[this.cArrPos].fillStyle=tt)},CVContextData.prototype.strokeStyle=function(tt){this.stack[this.cArrPos].strokeStyle!==tt&&(this.currentStrokeStyle=tt,this.stack[this.cArrPos].strokeStyle=tt)},CVContextData.prototype.lineWidth=function(tt){this.stack[this.cArrPos].lineWidth!==tt&&(this.currentLineWidth=tt,this.stack[this.cArrPos].lineWidth=tt)},CVContextData.prototype.lineCap=function(tt){this.stack[this.cArrPos].lineCap!==tt&&(this.currentLineCap=tt,this.stack[this.cArrPos].lineCap=tt)},CVContextData.prototype.lineJoin=function(tt){this.stack[this.cArrPos].lineJoin!==tt&&(this.currentLineJoin=tt,this.stack[this.cArrPos].lineJoin=tt)},CVContextData.prototype.miterLimit=function(tt){this.stack[this.cArrPos].miterLimit!==tt&&(this.currentMiterLimit=tt,this.stack[this.cArrPos].miterLimit=tt)},CVContextData.prototype.transform=function(tt){this.transformMat.cloneFromProps(tt);var _e=this.cTr;this.transformMat.multiply(_e),_e.cloneFromProps(this.transformMat.props);var nt=_e.props;this.nativeContext.setTransform(nt[0],nt[1],nt[4],nt[5],nt[12],nt[13])},CVContextData.prototype.opacity=function(tt){var _e=this.stack[this.cArrPos].opacity;_e*=tt<0?0:tt,this.stack[this.cArrPos].opacity!==_e&&(this.currentOpacity!==tt&&(this.nativeContext.globalAlpha=tt,this.currentOpacity=tt),this.stack[this.cArrPos].opacity=_e)},CVContextData.prototype.fill=function(tt){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(tt)},CVContextData.prototype.fillRect=function(tt,_e,nt,rt){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(tt,_e,nt,rt)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(tt,_e,nt){this.completeLayers=!1,this.layers=tt.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(tt,_e,nt),this.tm=tt.tm?PropertyFactory.getProp(this,tt.tm,0,_e.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var tt=this.canvasContext;tt.beginPath(),tt.moveTo(0,0),tt.lineTo(this.data.w,0),tt.lineTo(this.data.w,this.data.h),tt.lineTo(0,this.data.h),tt.lineTo(0,0),tt.clip();var _e,nt=this.layers.length;for(_e=nt-1;_e>=0;_e-=1)(this.completeLayers||this.elements[_e])&&this.elements[_e].renderFrame()},CVCompElement.prototype.destroy=function(){var tt,_e=this.layers.length;for(tt=_e-1;tt>=0;tt-=1)this.elements[tt]&&this.elements[tt].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(tt){return new CVCompElement(tt,this.globalData,this)};function CanvasRenderer(tt,_e){this.animationItem=tt,this.renderConfig={clearCanvas:_e&&_e.clearCanvas!==void 0?_e.clearCanvas:!0,context:_e&&_e.context||null,progressiveLoad:_e&&_e.progressiveLoad||!1,preserveAspectRatio:_e&&_e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:_e&&_e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:_e&&_e.contentVisibility||"visible",className:_e&&_e.className||"",id:_e&&_e.id||"",runExpressions:!_e||_e.runExpressions===void 0||_e.runExpressions},this.renderConfig.dpr=_e&&_e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=_e&&_e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(tt){return new CVCompElement(tt,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var _e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var nt=this.finalTransform.mat.toCSS();_e.transform=nt,_e.webkitTransform=nt}this.finalTransform._opMdf&&(_e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(tt,_e,nt){this.initElement(tt,_e,nt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var tt;this.data.hasMask?(tt=createNS("rect"),tt.setAttribute("width",this.data.sw),tt.setAttribute("height",this.data.sh),tt.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(tt=createTag("div"),tt.style.width=this.data.sw+"px",tt.style.height=this.data.sh+"px",tt.style.backgroundColor=this.data.sc),this.layerElement.appendChild(tt)};function HShapeElement(tt,_e,nt){this.shapes=[],this.shapesData=tt.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(tt,_e,nt),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var tt;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),tt=this.svgElement;else{tt=createNS("svg");var _e=this.comp.data?this.comp.data:this.globalData.compSize;tt.setAttribute("width",_e.w),tt.setAttribute("height",_e.h),tt.appendChild(this.shapesContainer),this.layerElement.appendChild(tt)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=tt},HShapeElement.prototype.getTransformedPoint=function(tt,_e){var nt,rt=tt.length;for(nt=0;nt<rt;nt+=1)_e=tt[nt].mProps.v.applyToPointArray(_e[0],_e[1],0);return _e},HShapeElement.prototype.calculateShapeBoundingBox=function(tt,_e){var nt=tt.sh.v,rt=tt.transformers,it,st=nt._length,at,ot,lt,ct;if(!(st<=1)){for(it=0;it<st-1;it+=1)at=this.getTransformedPoint(rt,nt.v[it]),ot=this.getTransformedPoint(rt,nt.o[it]),lt=this.getTransformedPoint(rt,nt.i[it+1]),ct=this.getTransformedPoint(rt,nt.v[it+1]),this.checkBounds(at,ot,lt,ct,_e);nt.c&&(at=this.getTransformedPoint(rt,nt.v[it]),ot=this.getTransformedPoint(rt,nt.o[it]),lt=this.getTransformedPoint(rt,nt.i[0]),ct=this.getTransformedPoint(rt,nt.v[0]),this.checkBounds(at,ot,lt,ct,_e))}},HShapeElement.prototype.checkBounds=function(tt,_e,nt,rt,it){this.getBoundsOfCurve(tt,_e,nt,rt);var st=this.shapeBoundingBox;it.x=bmMin(st.left,it.x),it.xMax=bmMax(st.right,it.xMax),it.y=bmMin(st.top,it.y),it.yMax=bmMax(st.bottom,it.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(tt,_e,nt,rt){for(var it=[[tt[0],rt[0]],[tt[1],rt[1]]],st,at,ot,lt,ct,ut,ft,ht=0;ht<2;++ht)at=6*tt[ht]-12*_e[ht]+6*nt[ht],st=-3*tt[ht]+9*_e[ht]-9*nt[ht]+3*rt[ht],ot=3*_e[ht]-3*tt[ht],at|=0,st|=0,ot|=0,st===0&&at===0||(st===0?(lt=-ot/at,lt>0&&lt<1&&it[ht].push(this.calculateF(lt,tt,_e,nt,rt,ht))):(ct=at*at-4*ot*st,ct>=0&&(ut=(-at+bmSqrt(ct))/(2*st),ut>0&&ut<1&&it[ht].push(this.calculateF(ut,tt,_e,nt,rt,ht)),ft=(-at-bmSqrt(ct))/(2*st),ft>0&&ft<1&&it[ht].push(this.calculateF(ft,tt,_e,nt,rt,ht)))));this.shapeBoundingBox.left=bmMin.apply(null,it[0]),this.shapeBoundingBox.top=bmMin.apply(null,it[1]),this.shapeBoundingBox.right=bmMax.apply(null,it[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,it[1])},HShapeElement.prototype.calculateF=function(tt,_e,nt,rt,it,st){return bmPow(1-tt,3)*_e[st]+3*bmPow(1-tt,2)*tt*nt[st]+3*(1-tt)*bmPow(tt,2)*rt[st]+bmPow(tt,3)*it[st]},HShapeElement.prototype.calculateBoundingBox=function(tt,_e){var nt,rt=tt.length;for(nt=0;nt<rt;nt+=1)tt[nt]&&tt[nt].sh?this.calculateShapeBoundingBox(tt[nt],_e):tt[nt]&&tt[nt].it?this.calculateBoundingBox(tt[nt].it,_e):tt[nt]&&tt[nt].style&&tt[nt].w&&this.expandStrokeBoundingBox(tt[nt].w,_e)},HShapeElement.prototype.expandStrokeBoundingBox=function(tt,_e){var nt=0;if(tt.keyframes){for(var rt=0;rt<tt.keyframes.length;rt+=1){var it=tt.keyframes[rt].s;it>nt&&(nt=it)}nt*=tt.mult}else nt=tt.v*tt.mult;_e.x-=nt,_e.xMax+=nt,_e.y-=nt,_e.yMax+=nt},HShapeElement.prototype.currentBoxContains=function(tt){return this.currentBBox.x<=tt.x&&this.currentBBox.y<=tt.y&&this.currentBBox.width+this.currentBBox.x>=tt.x+tt.width&&this.currentBBox.height+this.currentBBox.y>=tt.y+tt.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var tt=this.tempBoundingBox,_e=999999;if(tt.x=_e,tt.xMax=-_e,tt.y=_e,tt.yMax=-_e,this.calculateBoundingBox(this.itemsData,tt),tt.width=tt.xMax<tt.x?0:tt.xMax-tt.x,tt.height=tt.yMax<tt.y?0:tt.yMax-tt.y,this.currentBoxContains(tt))return;var nt=!1;if(this.currentBBox.w!==tt.width&&(this.currentBBox.w=tt.width,this.shapeCont.setAttribute("width",tt.width),nt=!0),this.currentBBox.h!==tt.height&&(this.currentBBox.h=tt.height,this.shapeCont.setAttribute("height",tt.height),nt=!0),nt||this.currentBBox.x!==tt.x||this.currentBBox.y!==tt.y){this.currentBBox.w=tt.width,this.currentBBox.h=tt.height,this.currentBBox.x=tt.x,this.currentBBox.y=tt.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var rt=this.shapeCont.style,it="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";rt.transform=it,rt.webkitTransform=it}}};function HTextElement(tt,_e,nt){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(tt,_e,nt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var tt=createNS("g");this.maskedElement.appendChild(tt),this.innerElem=tt}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var tt=this.textProperty.currentData;this.renderedLetters=createSizedArray(tt.l?tt.l.length:0);var _e=this.innerElem.style,nt=tt.fc?this.buildColor(tt.fc):"rgba(0,0,0,0)";_e.fill=nt,_e.color=nt,tt.sc&&(_e.stroke=this.buildColor(tt.sc),_e.strokeWidth=tt.sw+"px");var rt=this.globalData.fontManager.getFontByName(tt.f);if(!this.globalData.fontManager.chars)if(_e.fontSize=tt.finalSize+"px",_e.lineHeight=tt.finalSize+"px",rt.fClass)this.innerElem.className=rt.fClass;else{_e.fontFamily=rt.fFamily;var it=tt.fWeight,st=tt.fStyle;_e.fontStyle=st,_e.fontWeight=it}var at,ot,lt=tt.l;ot=lt.length;var ct,ut,ft,ht=this.mHelper,pt,dt="",gt=0;for(at=0;at<ot;at+=1){if(this.globalData.fontManager.chars?(this.textPaths[gt]?ct=this.textPaths[gt]:(ct=createNS("path"),ct.setAttribute("stroke-linecap",lineCapEnum[1]),ct.setAttribute("stroke-linejoin",lineJoinEnum[2]),ct.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[gt]?(ut=this.textSpans[gt],ft=ut.children[0]):(ut=createTag("div"),ut.style.lineHeight=0,ft=createNS("svg"),ft.appendChild(ct),styleDiv(ut)))):this.isMasked?ct=this.textPaths[gt]?this.textPaths[gt]:createNS("text"):this.textSpans[gt]?(ut=this.textSpans[gt],ct=this.textPaths[gt]):(ut=createTag("span"),styleDiv(ut),ct=createTag("span"),styleDiv(ct),ut.appendChild(ct)),this.globalData.fontManager.chars){var vt=this.globalData.fontManager.getCharData(tt.finalText[at],rt.fStyle,this.globalData.fontManager.getFontByName(tt.f).fFamily),mt;if(vt?mt=vt.data:mt=null,ht.reset(),mt&&mt.shapes&&mt.shapes.length&&(pt=mt.shapes[0].it,ht.scale(tt.finalSize/100,tt.finalSize/100),dt=this.createPathShape(ht,pt),ct.setAttribute("d",dt)),this.isMasked)this.innerElem.appendChild(ct);else{if(this.innerElem.appendChild(ut),mt&&mt.shapes){document.body.appendChild(ft);var xt=ft.getBBox();ft.setAttribute("width",xt.width+2),ft.setAttribute("height",xt.height+2),ft.setAttribute("viewBox",xt.x-1+" "+(xt.y-1)+" "+(xt.width+2)+" "+(xt.height+2));var St=ft.style,Et="translate("+(xt.x-1)+"px,"+(xt.y-1)+"px)";St.transform=Et,St.webkitTransform=Et,lt[at].yOffset=xt.y-1}else ft.setAttribute("width",1),ft.setAttribute("height",1);ut.appendChild(ft)}}else if(ct.textContent=lt[at].val,ct.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(ct);else{this.innerElem.appendChild(ut);var bt=ct.style,Tt="translate3d(0,"+-tt.finalSize/1.2+"px,0)";bt.transform=Tt,bt.webkitTransform=Tt}this.isMasked?this.textSpans[gt]=ct:this.textSpans[gt]=ut,this.textSpans[gt].style.display="block",this.textPaths[gt]=ct,gt+=1}for(;gt<this.textSpans.length;)this.textSpans[gt].style.display="none",gt+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var tt;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),tt=this.svgElement.style;var _e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";tt.transform=_e,tt.webkitTransform=_e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var nt,rt,it=0,st=this.textAnimator.renderedLetters,at=this.textProperty.currentData.l;rt=at.length;var ot,lt,ct;for(nt=0;nt<rt;nt+=1)at[nt].n?it+=1:(lt=this.textSpans[nt],ct=this.textPaths[nt],ot=st[it],it+=1,ot._mdf.m&&(this.isMasked?lt.setAttribute("transform",ot.m):(lt.style.webkitTransform=ot.m,lt.style.transform=ot.m)),lt.style.opacity=ot.o,ot.sw&&ot._mdf.sw&&ct.setAttribute("stroke-width",ot.sw),ot.sc&&ot._mdf.sc&&ct.setAttribute("stroke",ot.sc),ot.fc&&ot._mdf.fc&&(ct.setAttribute("fill",ot.fc),ct.style.color=ot.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var ut=this.innerElem.getBBox();this.currentBBox.w!==ut.width&&(this.currentBBox.w=ut.width,this.svgElement.setAttribute("width",ut.width)),this.currentBBox.h!==ut.height&&(this.currentBBox.h=ut.height,this.svgElement.setAttribute("height",ut.height));var ft=1;if(this.currentBBox.w!==ut.width+ft*2||this.currentBBox.h!==ut.height+ft*2||this.currentBBox.x!==ut.x-ft||this.currentBBox.y!==ut.y-ft){this.currentBBox.w=ut.width+ft*2,this.currentBBox.h=ut.height+ft*2,this.currentBBox.x=ut.x-ft,this.currentBBox.y=ut.y-ft,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),tt=this.svgElement.style;var ht="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";tt.transform=ht,tt.webkitTransform=ht}}}};function HCameraElement(tt,_e,nt){this.initFrame(),this.initBaseData(tt,_e,nt),this.initHierarchy();var rt=PropertyFactory.getProp;if(this.pe=rt(this,tt.pe,0,0,this),tt.ks.p.s?(this.px=rt(this,tt.ks.p.x,1,0,this),this.py=rt(this,tt.ks.p.y,1,0,this),this.pz=rt(this,tt.ks.p.z,1,0,this)):this.p=rt(this,tt.ks.p,1,0,this),tt.ks.a&&(this.a=rt(this,tt.ks.a,1,0,this)),tt.ks.or.k.length&&tt.ks.or.k[0].to){var it,st=tt.ks.or.k.length;for(it=0;it<st;it+=1)tt.ks.or.k[it].to=null,tt.ks.or.k[it].ti=null}this.or=rt(this,tt.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=rt(this,tt.ks.rx,0,degToRads,this),this.ry=rt(this,tt.ks.ry,0,degToRads,this),this.rz=rt(this,tt.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var tt,_e=this.comp.threeDElements.length,nt,rt,it;for(tt=0;tt<_e;tt+=1)if(nt=this.comp.threeDElements[tt],nt.type==="3d"){rt=nt.perspectiveElem.style,it=nt.container.style;var st=this.pe.v+"px",at="0px 0px 0px",ot="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";rt.perspective=st,rt.webkitPerspective=st,it.transformOrigin=at,it.mozTransformOrigin=at,it.webkitTransformOrigin=at,rt.transform=ot,rt.webkitTransform=ot}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var tt=this._isFirstFrame,_e,nt;if(this.hierarchy)for(nt=this.hierarchy.length,_e=0;_e<nt;_e+=1)tt=this.hierarchy[_e].finalTransform.mProp._mdf||tt;if(tt||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(nt=this.hierarchy.length-1,_e=nt;_e>=0;_e-=1){var rt=this.hierarchy[_e].finalTransform.mProp;this.mat.translate(-rt.p.v[0],-rt.p.v[1],rt.p.v[2]),this.mat.rotateX(-rt.or.v[0]).rotateY(-rt.or.v[1]).rotateZ(rt.or.v[2]),this.mat.rotateX(-rt.rx.v).rotateY(-rt.ry.v).rotateZ(rt.rz.v),this.mat.scale(1/rt.s.v[0],1/rt.s.v[1],1/rt.s.v[2]),this.mat.translate(rt.a.v[0],rt.a.v[1],rt.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var it;this.p?it=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:it=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var st=Math.sqrt(Math.pow(it[0],2)+Math.pow(it[1],2)+Math.pow(it[2],2)),at=[it[0]/st,it[1]/st,it[2]/st],ot=Math.sqrt(at[2]*at[2]+at[0]*at[0]),lt=Math.atan2(at[1],ot),ct=Math.atan2(at[0],-at[2]);this.mat.rotateY(ct).rotateX(-lt)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var ut=!this._prevMat.equals(this.mat);if((ut||this.pe._mdf)&&this.comp.threeDElements){nt=this.comp.threeDElements.length;var ft,ht,pt;for(_e=0;_e<nt;_e+=1)if(ft=this.comp.threeDElements[_e],ft.type==="3d"){if(ut){var dt=this.mat.toCSS();pt=ft.container.style,pt.transform=dt,pt.webkitTransform=dt}this.pe._mdf&&(ht=ft.perspectiveElem.style,ht.perspective=this.pe.v+"px",ht.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(tt){this.prepareProperties(tt,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(tt,_e,nt){this.assetData=_e.getAssetData(tt.refId),this.initElement(tt,_e,nt)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var tt=this.globalData.getAssetsPath(this.assetData),_e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",tt),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(_e),_e.crossOrigin="anonymous",_e.src=tt,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(tt,_e){this.animationItem=tt,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:_e&&_e.className||"",imagePreserveAspectRatio:_e&&_e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(_e&&_e.hideOnTransparent===!1),filterSize:{width:_e&&_e.filterSize&&_e.filterSize.width||"400%",height:_e&&_e.filterSize&&_e.filterSize.height||"400%",x:_e&&_e.filterSize&&_e.filterSize.x||"-100%",y:_e&&_e.filterSize&&_e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var tt=this.pendingElements.pop();tt.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(tt,_e){var nt=tt.getBaseElement();if(nt){var rt=this.layers[_e];if(!rt.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(nt,_e);else{for(var it=0,st,at,ot;it<_e;)this.elements[it]&&this.elements[it]!==!0&&this.elements[it].getBaseElement&&(at=this.elements[it],ot=this.layers[it].ddd?this.getThreeDContainerByPos(it):at.getBaseElement(),st=ot||st),it+=1;st?(!rt.ddd||!this.supports3d)&&this.layerElement.insertBefore(nt,st):(!rt.ddd||!this.supports3d)&&this.layerElement.appendChild(nt)}else this.addTo3dContainer(nt,_e)}},HybridRendererBase.prototype.createShape=function(tt){return this.supports3d?new HShapeElement(tt,this.globalData,this):new SVGShapeElement(tt,this.globalData,this)},HybridRendererBase.prototype.createText=function(tt){return this.supports3d?new HTextElement(tt,this.globalData,this):new SVGTextLottieElement(tt,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(tt){return this.camera=new HCameraElement(tt,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(tt){return this.supports3d?new HImageElement(tt,this.globalData,this):new IImageElement(tt,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(tt){return this.supports3d?new HSolidElement(tt,this.globalData,this):new ISolidElement(tt,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(tt){for(var _e=0,nt=this.threeDElements.length;_e<nt;){if(this.threeDElements[_e].startPos<=tt&&this.threeDElements[_e].endPos>=tt)return this.threeDElements[_e].perspectiveElem;_e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(tt,_e){var nt=createTag("div"),rt,it;styleDiv(nt);var st=createTag("div");if(styleDiv(st),_e==="3d"){rt=nt.style,rt.width=this.globalData.compSize.w+"px",rt.height=this.globalData.compSize.h+"px";var at="50% 50%";rt.webkitTransformOrigin=at,rt.mozTransformOrigin=at,rt.transformOrigin=at,it=st.style;var ot="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";it.transform=ot,it.webkitTransform=ot}nt.appendChild(st);var lt={container:st,perspectiveElem:nt,startPos:tt,endPos:tt,type:_e};return this.threeDElements.push(lt),lt},HybridRendererBase.prototype.build3dContainers=function(){var tt,_e=this.layers.length,nt,rt="";for(tt=0;tt<_e;tt+=1)this.layers[tt].ddd&&this.layers[tt].ty!==3?(rt!=="3d"&&(rt="3d",nt=this.createThreeDContainer(tt,"3d")),nt.endPos=Math.max(nt.endPos,tt)):(rt!=="2d"&&(rt="2d",nt=this.createThreeDContainer(tt,"2d")),nt.endPos=Math.max(nt.endPos,tt));for(_e=this.threeDElements.length,tt=_e-1;tt>=0;tt-=1)this.resizerElem.appendChild(this.threeDElements[tt].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(tt,_e){for(var nt=0,rt=this.threeDElements.length;nt<rt;){if(_e<=this.threeDElements[nt].endPos){for(var it=this.threeDElements[nt].startPos,st;it<_e;)this.elements[it]&&this.elements[it].getBaseElement&&(st=this.elements[it].getBaseElement()),it+=1;st?this.threeDElements[nt].container.insertBefore(tt,st):this.threeDElements[nt].container.appendChild(tt);break}nt+=1}},HybridRendererBase.prototype.configAnimation=function(tt){var _e=createTag("div"),nt=this.animationItem.wrapper,rt=_e.style;rt.width=tt.w+"px",rt.height=tt.h+"px",this.resizerElem=_e,styleDiv(_e),rt.transformStyle="flat",rt.mozTransformStyle="flat",rt.webkitTransformStyle="flat",this.renderConfig.className&&_e.setAttribute("class",this.renderConfig.className),nt.appendChild(_e),rt.overflow="hidden";var it=createNS("svg");it.setAttribute("width","1"),it.setAttribute("height","1"),styleDiv(it),this.resizerElem.appendChild(it);var st=createNS("defs");it.appendChild(st),this.data=tt,this.setupGlobalData(tt,it),this.globalData.defs=st,this.layers=tt.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var tt,_e=this.layers?this.layers.length:0;for(tt=0;tt<_e;tt+=1)this.elements[tt]&&this.elements[tt].destroy&&this.elements[tt].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var tt=this.animationItem.wrapper.offsetWidth,_e=this.animationItem.wrapper.offsetHeight,nt=tt/_e,rt=this.globalData.compSize.w/this.globalData.compSize.h,it,st,at,ot;rt>nt?(it=tt/this.globalData.compSize.w,st=tt/this.globalData.compSize.w,at=0,ot=(_e-this.globalData.compSize.h*(tt/this.globalData.compSize.w))/2):(it=_e/this.globalData.compSize.h,st=_e/this.globalData.compSize.h,at=(tt-this.globalData.compSize.w*(_e/this.globalData.compSize.h))/2,ot=0);var lt=this.resizerElem.style;lt.webkitTransform="matrix3d("+it+",0,0,0,0,"+st+",0,0,0,0,1,0,"+at+","+ot+",0,1)",lt.transform=lt.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var tt=this.globalData.compSize.w,_e=this.globalData.compSize.h,nt,rt=this.threeDElements.length;for(nt=0;nt<rt;nt+=1){var it=this.threeDElements[nt].perspectiveElem.style;it.webkitPerspective=Math.sqrt(Math.pow(tt,2)+Math.pow(_e,2))+"px",it.perspective=it.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(tt){var _e,nt=tt.length,rt=createTag("div");for(_e=0;_e<nt;_e+=1)if(tt[_e].xt){var it=this.createComp(tt[_e],rt,this.globalData.comp,null);it.initExpressions(),this.globalData.projectInterface.registerComposition(it)}};function HCompElement(tt,_e,nt){this.layers=tt.layers,this.supports3d=!tt.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(tt,_e,nt),this.tm=tt.tm?PropertyFactory.getProp(this,tt.tm,0,_e.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(tt,_e){for(var nt=0,rt;nt<_e;)this.elements[nt]&&this.elements[nt].getBaseElement&&(rt=this.elements[nt].getBaseElement()),nt+=1;rt?this.layerElement.insertBefore(tt,rt):this.layerElement.appendChild(tt)},HCompElement.prototype.createComp=function(tt){return this.supports3d?new HCompElement(tt,this.globalData,this):new SVGCompElement(tt,this.globalData,this)};function HybridRenderer(tt,_e){this.animationItem=tt,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:_e&&_e.className||"",imagePreserveAspectRatio:_e&&_e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(_e&&_e.hideOnTransparent===!1),filterSize:{width:_e&&_e.filterSize&&_e.filterSize.width||"400%",height:_e&&_e.filterSize&&_e.filterSize.height||"400%",x:_e&&_e.filterSize&&_e.filterSize.x||"-100%",y:_e&&_e.filterSize&&_e.filterSize.y||"-100%"},runExpressions:!_e||_e.runExpressions===void 0||_e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(tt){return this.supports3d?new HCompElement(tt,this.globalData,this):new SVGCompElement(tt,this.globalData,this)};var CompExpressionInterface=function(){return function(tt){function _e(nt){for(var rt=0,it=tt.layers.length;rt<it;){if(tt.layers[rt].nm===nt||tt.layers[rt].ind===nt)return tt.elements[rt].layerInterface;rt+=1}return null}return Object.defineProperty(_e,"_name",{value:tt.data.nm}),_e.layer=_e,_e.pixelAspect=1,_e.height=tt.data.h||tt.globalData.compSize.h,_e.width=tt.data.w||tt.globalData.compSize.w,_e.pixelAspect=1,_e.frameDuration=1/tt.globalData.frameRate,_e.displayStartTime=0,_e.numLayers=tt.layers.length,_e}}();function _typeof$2(tt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(nt){return typeof nt}:_typeof$2=function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt},_typeof$2(tt)}function seedRandom(tt,_e){var nt=this,rt=256,it=6,st=52,at="random",ot=_e.pow(rt,it),lt=_e.pow(2,st),ct=lt*2,ut=rt-1,ft;function ht(St,Et,bt){var Tt=[];Et=Et===!0?{entropy:!0}:Et||{};var At=vt(gt(Et.entropy?[St,xt(tt)]:St===null?mt():St,3),Tt),Ct=new pt(Tt),Pt=function(){for(var Lt=Ct.g(it),Vt=ot,Ut=0;Lt<lt;)Lt=(Lt+Ut)*rt,Vt*=rt,Ut=Ct.g(1);for(;Lt>=ct;)Lt/=2,Vt/=2,Ut>>>=1;return(Lt+Ut)/Vt};return Pt.int32=function(){return Ct.g(4)|0},Pt.quick=function(){return Ct.g(4)/4294967296},Pt.double=Pt,vt(xt(Ct.S),tt),(Et.pass||bt||function(It,Lt,Vt,Ut){return Ut&&(Ut.S&&dt(Ut,Ct),It.state=function(){return dt(Ct,{})}),Vt?(_e[at]=It,Lt):It})(Pt,At,"global"in Et?Et.global:this==_e,Et.state)}_e["seed"+at]=ht;function pt(St){var Et,bt=St.length,Tt=this,At=0,Ct=Tt.i=Tt.j=0,Pt=Tt.S=[];for(bt||(St=[bt++]);At<rt;)Pt[At]=At++;for(At=0;At<rt;At++)Pt[At]=Pt[Ct=ut&Ct+St[At%bt]+(Et=Pt[At])],Pt[Ct]=Et;Tt.g=function(It){for(var Lt,Vt=0,Ut=Tt.i,Ot=Tt.j,zt=Tt.S;It--;)Lt=zt[Ut=ut&Ut+1],Vt=Vt*rt+zt[ut&(zt[Ut]=zt[Ot=ut&Ot+Lt])+(zt[Ot]=Lt)];return Tt.i=Ut,Tt.j=Ot,Vt}}function dt(St,Et){return Et.i=St.i,Et.j=St.j,Et.S=St.S.slice(),Et}function gt(St,Et){var bt=[],Tt=_typeof$2(St),At;if(Et&&Tt=="object")for(At in St)try{bt.push(gt(St[At],Et-1))}catch{}return bt.length?bt:Tt=="string"?St:St+"\0"}function vt(St,Et){for(var bt=St+"",Tt,At=0;At<bt.length;)Et[ut&At]=ut&(Tt^=Et[ut&At]*19)+bt.charCodeAt(At++);return xt(Et)}function mt(){try{var St=new Uint8Array(rt);return(nt.crypto||nt.msCrypto).getRandomValues(St),xt(St)}catch{var Et=nt.navigator,bt=Et&&Et.plugins;return[+new Date,nt,bt,nt.screen,xt(tt)]}}function xt(St){return String.fromCharCode.apply(0,St)}vt(_e.random(),tt)}function initialize$2(tt){seedRandom([],tt)}var propTypes={SHAPE:"shape"};function _typeof$1(tt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(nt){return typeof nt}:_typeof$1=function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt},_typeof$1(tt)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(tt){return tt.constructor===Array||tt.constructor===Float32Array}function isNumerable(tt,_e){return tt==="number"||_e instanceof Number||tt==="boolean"||tt==="string"}function $bm_neg(tt){var _e=_typeof$1(tt);if(_e==="number"||tt instanceof Number||_e==="boolean")return-tt;if($bm_isInstanceOfArray(tt)){var nt,rt=tt.length,it=[];for(nt=0;nt<rt;nt+=1)it[nt]=-tt[nt];return it}return tt.propType?tt.v:-tt}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(tt,_e){var nt=_typeof$1(tt),rt=_typeof$1(_e);if(isNumerable(nt,tt)&&isNumerable(rt,_e)||nt==="string"||rt==="string")return tt+_e;if($bm_isInstanceOfArray(tt)&&isNumerable(rt,_e))return tt=tt.slice(0),tt[0]+=_e,tt;if(isNumerable(nt,tt)&&$bm_isInstanceOfArray(_e))return _e=_e.slice(0),_e[0]=tt+_e[0],_e;if($bm_isInstanceOfArray(tt)&&$bm_isInstanceOfArray(_e)){for(var it=0,st=tt.length,at=_e.length,ot=[];it<st||it<at;)(typeof tt[it]=="number"||tt[it]instanceof Number)&&(typeof _e[it]=="number"||_e[it]instanceof Number)?ot[it]=tt[it]+_e[it]:ot[it]=_e[it]===void 0?tt[it]:tt[it]||_e[it],it+=1;return ot}return 0}var add=sum;function sub(tt,_e){var nt=_typeof$1(tt),rt=_typeof$1(_e);if(isNumerable(nt,tt)&&isNumerable(rt,_e))return nt==="string"&&(tt=parseInt(tt,10)),rt==="string"&&(_e=parseInt(_e,10)),tt-_e;if($bm_isInstanceOfArray(tt)&&isNumerable(rt,_e))return tt=tt.slice(0),tt[0]-=_e,tt;if(isNumerable(nt,tt)&&$bm_isInstanceOfArray(_e))return _e=_e.slice(0),_e[0]=tt-_e[0],_e;if($bm_isInstanceOfArray(tt)&&$bm_isInstanceOfArray(_e)){for(var it=0,st=tt.length,at=_e.length,ot=[];it<st||it<at;)(typeof tt[it]=="number"||tt[it]instanceof Number)&&(typeof _e[it]=="number"||_e[it]instanceof Number)?ot[it]=tt[it]-_e[it]:ot[it]=_e[it]===void 0?tt[it]:tt[it]||_e[it],it+=1;return ot}return 0}function mul(tt,_e){var nt=_typeof$1(tt),rt=_typeof$1(_e),it;if(isNumerable(nt,tt)&&isNumerable(rt,_e))return tt*_e;var st,at;if($bm_isInstanceOfArray(tt)&&isNumerable(rt,_e)){for(at=tt.length,it=createTypedArray("float32",at),st=0;st<at;st+=1)it[st]=tt[st]*_e;return it}if(isNumerable(nt,tt)&&$bm_isInstanceOfArray(_e)){for(at=_e.length,it=createTypedArray("float32",at),st=0;st<at;st+=1)it[st]=tt*_e[st];return it}return 0}function div(tt,_e){var nt=_typeof$1(tt),rt=_typeof$1(_e),it;if(isNumerable(nt,tt)&&isNumerable(rt,_e))return tt/_e;var st,at;if($bm_isInstanceOfArray(tt)&&isNumerable(rt,_e)){for(at=tt.length,it=createTypedArray("float32",at),st=0;st<at;st+=1)it[st]=tt[st]/_e;return it}if(isNumerable(nt,tt)&&$bm_isInstanceOfArray(_e)){for(at=_e.length,it=createTypedArray("float32",at),st=0;st<at;st+=1)it[st]=tt/_e[st];return it}return 0}function mod(tt,_e){return typeof tt=="string"&&(tt=parseInt(tt,10)),typeof _e=="string"&&(_e=parseInt(_e,10)),tt%_e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(tt,_e,nt){if(_e>nt){var rt=nt;nt=_e,_e=rt}return Math.min(Math.max(tt,_e),nt)}function radiansToDegrees(tt){return tt/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(tt){return tt*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(tt,_e){if(typeof tt=="number"||tt instanceof Number)return _e=_e||0,Math.abs(tt-_e);_e||(_e=helperLengthArray);var nt,rt=Math.min(tt.length,_e.length),it=0;for(nt=0;nt<rt;nt+=1)it+=Math.pow(_e[nt]-tt[nt],2);return Math.sqrt(it)}function normalize(tt){return div(tt,length(tt))}function rgbToHsl(tt){var _e=tt[0],nt=tt[1],rt=tt[2],it=Math.max(_e,nt,rt),st=Math.min(_e,nt,rt),at,ot,lt=(it+st)/2;if(it===st)at=0,ot=0;else{var ct=it-st;switch(ot=lt>.5?ct/(2-it-st):ct/(it+st),it){case _e:at=(nt-rt)/ct+(nt<rt?6:0);break;case nt:at=(rt-_e)/ct+2;break;case rt:at=(_e-nt)/ct+4;break}at/=6}return[at,ot,lt,tt[3]]}function hue2rgb(tt,_e,nt){return nt<0&&(nt+=1),nt>1&&(nt-=1),nt<1/6?tt+(_e-tt)*6*nt:nt<1/2?_e:nt<2/3?tt+(_e-tt)*(2/3-nt)*6:tt}function hslToRgb(tt){var _e=tt[0],nt=tt[1],rt=tt[2],it,st,at;if(nt===0)it=rt,at=rt,st=rt;else{var ot=rt<.5?rt*(1+nt):rt+nt-rt*nt,lt=2*rt-ot;it=hue2rgb(lt,ot,_e+1/3),st=hue2rgb(lt,ot,_e),at=hue2rgb(lt,ot,_e-1/3)}return[it,st,at,tt[3]]}function linear(tt,_e,nt,rt,it){if((rt===void 0||it===void 0)&&(rt=_e,it=nt,_e=0,nt=1),nt<_e){var st=nt;nt=_e,_e=st}if(tt<=_e)return rt;if(tt>=nt)return it;var at=nt===_e?0:(tt-_e)/(nt-_e);if(!rt.length)return rt+(it-rt)*at;var ot,lt=rt.length,ct=createTypedArray("float32",lt);for(ot=0;ot<lt;ot+=1)ct[ot]=rt[ot]+(it[ot]-rt[ot])*at;return ct}function random(tt,_e){if(_e===void 0&&(tt===void 0?(tt=0,_e=1):(_e=tt,tt=void 0)),_e.length){var nt,rt=_e.length;tt||(tt=createTypedArray("float32",rt));var it=createTypedArray("float32",rt),st=BMMath.random();for(nt=0;nt<rt;nt+=1)it[nt]=tt[nt]+st*(_e[nt]-tt[nt]);return it}tt===void 0&&(tt=0);var at=BMMath.random();return tt+at*(_e-tt)}function createPath(tt,_e,nt,rt){var it,st=tt.length,at=shapePool.newElement();at.setPathData(!!rt,st);var ot=[0,0],lt,ct;for(it=0;it<st;it+=1)lt=_e&&_e[it]?_e[it]:ot,ct=nt&&nt[it]?nt[it]:ot,at.setTripleAt(tt[it][0],tt[it][1],ct[0]+tt[it][0],ct[1]+tt[it][1],lt[0]+tt[it][0],lt[1]+tt[it][1],it,!0);return at}function initiateExpression(elem,data,property){function noOp(tt){return tt}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function tt(_e,nt){var rt,it,st=this.pv.length?this.pv.length:1,at=createTypedArray("float32",st);_e=5;var ot=Math.floor(time*_e);for(rt=0,it=0;rt<ot;){for(it=0;it<st;it+=1)at[it]+=-nt+nt*2*BMMath.random();rt+=1}var lt=time*_e,ct=lt-Math.floor(lt),ut=createTypedArray("float32",st);if(st>1){for(it=0;it<st;it+=1)ut[it]=this.pv[it]+at[it]+(-nt+nt*2*BMMath.random())*ct;return ut}return this.pv+at[0]+(-nt+nt*2*BMMath.random())*ct}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(tt,_e){return loopIn(tt,_e,!0)}function loopOutDuration(tt,_e){return loopOut(tt,_e,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(tt,_e){var nt=[_e[0]-tt[0],_e[1]-tt[1],_e[2]-tt[2]],rt=Math.atan2(nt[0],Math.sqrt(nt[1]*nt[1]+nt[2]*nt[2]))/degToRads,it=-Math.atan2(nt[1],nt[2])/degToRads;return[it,rt,0]}function easeOut(tt,_e,nt,rt,it){return applyEase(easeOutBez,tt,_e,nt,rt,it)}function easeIn(tt,_e,nt,rt,it){return applyEase(easeInBez,tt,_e,nt,rt,it)}function ease(tt,_e,nt,rt,it){return applyEase(easeInOutBez,tt,_e,nt,rt,it)}function applyEase(tt,_e,nt,rt,it,st){it===void 0?(it=nt,st=rt):_e=(_e-nt)/(rt-nt),_e>1?_e=1:_e<0&&(_e=0);var at=tt(_e);if($bm_isInstanceOfArray(it)){var ot,lt=it.length,ct=createTypedArray("float32",lt);for(ot=0;ot<lt;ot+=1)ct[ot]=(st[ot]-it[ot])*at+it[ot];return ct}return(st-it)*at+it}function nearestKey(tt){var _e,nt=data.k.length,rt,it;if(!data.k.length||typeof data.k[0]=="number")rt=0,it=0;else if(rt=-1,tt*=elem.comp.globalData.frameRate,tt<data.k[0].t)rt=1,it=data.k[0].t;else{for(_e=0;_e<nt-1;_e+=1)if(tt===data.k[_e].t){rt=_e+1,it=data.k[_e].t;break}else if(tt>data.k[_e].t&&tt<data.k[_e+1].t){tt-data.k[_e].t>data.k[_e+1].t-tt?(rt=_e+2,it=data.k[_e+1].t):(rt=_e+1,it=data.k[_e].t);break}rt===-1&&(rt=_e+1,it=data.k[_e].t)}var st={};return st.index=rt,st.time=it/elem.comp.globalData.frameRate,st}function key(tt){var _e,nt,rt;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+tt);tt-=1,_e={time:data.k[tt].t/elem.comp.globalData.frameRate,value:[]};var it=Object.prototype.hasOwnProperty.call(data.k[tt],"s")?data.k[tt].s:data.k[tt-1].e;for(rt=it.length,nt=0;nt<rt;nt+=1)_e[nt]=it[nt],_e.value[nt]=it[nt];return _e}function framesToTime(tt,_e){return _e||(_e=elem.comp.globalData.frameRate),tt/_e}function timeToFrames(tt,_e){return!tt&&tt!==0&&(tt=time),_e||(_e=elem.comp.globalData.frameRate),tt*_e}function seedRandom(tt){BMMath.seedrandom(randSeed+tt)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(tt,_e){return typeof value=="string"?_e===void 0?value.substring(tt):value.substring(tt,_e):""}function substr(tt,_e){return typeof value=="string"?_e===void 0?value.substr(tt):value.substr(tt,_e):""}function posterizeTime(tt){time=tt===0?0:Math.floor(time*tt)/tt,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(tt){return value=tt,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var tt={};tt.initExpressions=_e,tt.resetFrame=ExpressionManager.resetFrame;function _e(nt){var rt=0,it=[];function st(){rt+=1}function at(){rt-=1,rt===0&&lt()}function ot(ct){it.indexOf(ct)===-1&&it.push(ct)}function lt(){var ct,ut=it.length;for(ct=0;ct<ut;ct+=1)it[ct].release();it.length=0}nt.renderer.compInterface=CompExpressionInterface(nt.renderer),nt.renderer.globalData.projectInterface.registerComposition(nt.renderer),nt.renderer.globalData.pushExpression=st,nt.renderer.globalData.popExpression=at,nt.renderer.globalData.registerExpressionProperty=ot}return tt}(),MaskManagerInterface=function(){function tt(nt,rt){this._mask=nt,this._data=rt}Object.defineProperty(tt.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(tt.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var _e=function(rt){var it=createSizedArray(rt.viewData.length),st,at=rt.viewData.length;for(st=0;st<at;st+=1)it[st]=new tt(rt.viewData[st],rt.masksProperties[st]);var ot=function(ct){for(st=0;st<at;){if(rt.masksProperties[st].nm===ct)return it[st];st+=1}return null};return ot};return _e}(),ExpressionPropertyInterface=function(){var tt={pv:0,v:0,mult:1},_e={pv:[0,0,0],v:[0,0,0],mult:1};function nt(at,ot,lt){Object.defineProperty(at,"velocity",{get:function(){return ot.getVelocityAtTime(ot.comp.currentFrame)}}),at.numKeys=ot.keyframes?ot.keyframes.length:0,at.key=function(ct){if(!at.numKeys)return 0;var ut="";"s"in ot.keyframes[ct-1]?ut=ot.keyframes[ct-1].s:"e"in ot.keyframes[ct-2]?ut=ot.keyframes[ct-2].e:ut=ot.keyframes[ct-2].s;var ft=lt==="unidimensional"?new Number(ut):Object.assign({},ut);return ft.time=ot.keyframes[ct-1].t/ot.elem.comp.globalData.frameRate,ft.value=lt==="unidimensional"?ut[0]:ut,ft},at.valueAtTime=ot.getValueAtTime,at.speedAtTime=ot.getSpeedAtTime,at.velocityAtTime=ot.getVelocityAtTime,at.propertyGroup=ot.propertyGroup}function rt(at){(!at||!("pv"in at))&&(at=tt);var ot=1/at.mult,lt=at.pv*ot,ct=new Number(lt);return ct.value=lt,nt(ct,at,"unidimensional"),function(){return at.k&&at.getValue(),lt=at.v*ot,ct.value!==lt&&(ct=new Number(lt),ct.value=lt,nt(ct,at,"unidimensional")),ct}}function it(at){(!at||!("pv"in at))&&(at=_e);var ot=1/at.mult,lt=at.data&&at.data.l||at.pv.length,ct=createTypedArray("float32",lt),ut=createTypedArray("float32",lt);return ct.value=ut,nt(ct,at,"multidimensional"),function(){at.k&&at.getValue();for(var ft=0;ft<lt;ft+=1)ut[ft]=at.v[ft]*ot,ct[ft]=ut[ft];return ct}}function st(){return tt}return function(at){return at?at.propType==="unidimensional"?rt(at):it(at):st}}(),TransformExpressionInterface=function(){return function(tt){function _e(at){switch(at){case"scale":case"Scale":case"ADBE Scale":case 6:return _e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return _e.rotation;case"ADBE Rotate X":return _e.xRotation;case"ADBE Rotate Y":return _e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return _e.position;case"ADBE Position_0":return _e.xPosition;case"ADBE Position_1":return _e.yPosition;case"ADBE Position_2":return _e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return _e.anchorPoint;case"opacity":case"Opacity":case 11:return _e.opacity;default:return null}}Object.defineProperty(_e,"rotation",{get:ExpressionPropertyInterface(tt.r||tt.rz)}),Object.defineProperty(_e,"zRotation",{get:ExpressionPropertyInterface(tt.rz||tt.r)}),Object.defineProperty(_e,"xRotation",{get:ExpressionPropertyInterface(tt.rx)}),Object.defineProperty(_e,"yRotation",{get:ExpressionPropertyInterface(tt.ry)}),Object.defineProperty(_e,"scale",{get:ExpressionPropertyInterface(tt.s)});var nt,rt,it,st;return tt.p?st=ExpressionPropertyInterface(tt.p):(nt=ExpressionPropertyInterface(tt.px),rt=ExpressionPropertyInterface(tt.py),tt.pz&&(it=ExpressionPropertyInterface(tt.pz))),Object.defineProperty(_e,"position",{get:function(){return tt.p?st():[nt(),rt(),it?it():0]}}),Object.defineProperty(_e,"xPosition",{get:ExpressionPropertyInterface(tt.px)}),Object.defineProperty(_e,"yPosition",{get:ExpressionPropertyInterface(tt.py)}),Object.defineProperty(_e,"zPosition",{get:ExpressionPropertyInterface(tt.pz)}),Object.defineProperty(_e,"anchorPoint",{get:ExpressionPropertyInterface(tt.a)}),Object.defineProperty(_e,"opacity",{get:ExpressionPropertyInterface(tt.o)}),Object.defineProperty(_e,"skew",{get:ExpressionPropertyInterface(tt.sk)}),Object.defineProperty(_e,"skewAxis",{get:ExpressionPropertyInterface(tt.sa)}),Object.defineProperty(_e,"orientation",{get:ExpressionPropertyInterface(tt.or)}),_e}}(),LayerExpressionInterface=function(){function tt(ct){var ut=new Matrix;if(ct!==void 0){var ft=this._elem.finalTransform.mProp.getValueAtTime(ct);ft.clone(ut)}else{var ht=this._elem.finalTransform.mProp;ht.applyToMatrix(ut)}return ut}function _e(ct,ut){var ft=this.getMatrix(ut);return ft.props[12]=0,ft.props[13]=0,ft.props[14]=0,this.applyPoint(ft,ct)}function nt(ct,ut){var ft=this.getMatrix(ut);return this.applyPoint(ft,ct)}function rt(ct,ut){var ft=this.getMatrix(ut);return ft.props[12]=0,ft.props[13]=0,ft.props[14]=0,this.invertPoint(ft,ct)}function it(ct,ut){var ft=this.getMatrix(ut);return this.invertPoint(ft,ct)}function st(ct,ut){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ft,ht=this._elem.hierarchy.length;for(ft=0;ft<ht;ft+=1)this._elem.hierarchy[ft].finalTransform.mProp.applyToMatrix(ct)}return ct.applyToPointArray(ut[0],ut[1],ut[2]||0)}function at(ct,ut){if(this._elem.hierarchy&&this._elem.hierarchy.length){var ft,ht=this._elem.hierarchy.length;for(ft=0;ft<ht;ft+=1)this._elem.hierarchy[ft].finalTransform.mProp.applyToMatrix(ct)}return ct.inversePoint(ut)}function ot(ct){var ut=new Matrix;if(ut.reset(),this._elem.finalTransform.mProp.applyToMatrix(ut),this._elem.hierarchy&&this._elem.hierarchy.length){var ft,ht=this._elem.hierarchy.length;for(ft=0;ft<ht;ft+=1)this._elem.hierarchy[ft].finalTransform.mProp.applyToMatrix(ut);return ut.inversePoint(ct)}return ut.inversePoint(ct)}function lt(){return[1,1,1,1]}return function(ct){var ut;function ft(gt){pt.mask=new MaskManagerInterface(gt,ct)}function ht(gt){pt.effect=gt}function pt(gt){switch(gt){case"ADBE Root Vectors Group":case"Contents":case 2:return pt.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return ut;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return pt.effect;case"ADBE Text Properties":return pt.textInterface;default:return null}}pt.getMatrix=tt,pt.invertPoint=at,pt.applyPoint=st,pt.toWorld=nt,pt.toWorldVec=_e,pt.fromWorld=it,pt.fromWorldVec=rt,pt.toComp=nt,pt.fromComp=ot,pt.sampleImage=lt,pt.sourceRectAtTime=ct.sourceRectAtTime.bind(ct),pt._elem=ct,ut=TransformExpressionInterface(ct.finalTransform.mProp);var dt=getDescriptor(ut,"anchorPoint");return Object.defineProperties(pt,{hasParent:{get:function(){return ct.hierarchy.length}},parent:{get:function(){return ct.hierarchy[0].layerInterface}},rotation:getDescriptor(ut,"rotation"),scale:getDescriptor(ut,"scale"),position:getDescriptor(ut,"position"),opacity:getDescriptor(ut,"opacity"),anchorPoint:dt,anchor_point:dt,transform:{get:function(){return ut}},active:{get:function(){return ct.isInRange}}}),pt.startTime=ct.data.st,pt.index=ct.data.ind,pt.source=ct.data.refId,pt.height=ct.data.ty===0?ct.data.h:100,pt.width=ct.data.ty===0?ct.data.w:100,pt.inPoint=ct.data.ip/ct.comp.globalData.frameRate,pt.outPoint=ct.data.op/ct.comp.globalData.frameRate,pt._name=ct.data.nm,pt.registerMaskInterface=ft,pt.registerEffectsInterface=ht,pt}}(),propertyGroupFactory=function(){return function(tt,_e){return function(nt){return nt=nt===void 0?1:nt,nt<=0?tt:_e(nt-1)}}}(),PropertyInterface=function(){return function(tt,_e){var nt={_name:tt};function rt(it){return it=it===void 0?1:it,it<=0?nt:_e(it-1)}return rt}}(),EffectsExpressionInterface=function(){var tt={createEffectsInterface:_e};function _e(it,st){if(it.effectsManager){var at=[],ot=it.data.ef,lt,ct=it.effectsManager.effectElements.length;for(lt=0;lt<ct;lt+=1)at.push(nt(ot[lt],it.effectsManager.effectElements[lt],st,it));var ut=it.data.ef||[],ft=function(pt){for(lt=0,ct=ut.length;lt<ct;){if(pt===ut[lt].nm||pt===ut[lt].mn||pt===ut[lt].ix)return at[lt];lt+=1}return null};return Object.defineProperty(ft,"numProperties",{get:function(){return ut.length}}),ft}return null}function nt(it,st,at,ot){function lt(pt){for(var dt=it.ef,gt=0,vt=dt.length;gt<vt;){if(pt===dt[gt].nm||pt===dt[gt].mn||pt===dt[gt].ix)return dt[gt].ty===5?ut[gt]:ut[gt]();gt+=1}throw new Error}var ct=propertyGroupFactory(lt,at),ut=[],ft,ht=it.ef.length;for(ft=0;ft<ht;ft+=1)it.ef[ft].ty===5?ut.push(nt(it.ef[ft],st.effectElements[ft],st.effectElements[ft].propertyGroup,ot)):ut.push(rt(st.effectElements[ft],it.ef[ft].ty,ot,ct));return it.mn==="ADBE Color Control"&&Object.defineProperty(lt,"color",{get:function(){return ut[0]()}}),Object.defineProperties(lt,{numProperties:{get:function(){return it.np}},_name:{value:it.nm},propertyGroup:{value:ct}}),lt.enabled=it.en!==0,lt.active=lt.enabled,lt}function rt(it,st,at,ot){var lt=ExpressionPropertyInterface(it.p);function ct(){return st===10?at.comp.compInterface(it.p.v):lt()}return it.p.setGroupProperty&&it.p.setGroupProperty(PropertyInterface("",ot)),ct}return tt}(),ShapePathInterface=function(){return function(_e,nt,rt){var it=nt.sh;function st(ot){return ot==="Shape"||ot==="shape"||ot==="Path"||ot==="path"||ot==="ADBE Vector Shape"||ot===2?st.path:null}var at=propertyGroupFactory(st,rt);return it.setGroupProperty(PropertyInterface("Path",at)),Object.defineProperties(st,{path:{get:function(){return it.k&&it.getValue(),it}},shape:{get:function(){return it.k&&it.getValue(),it}},_name:{value:_e.nm},ix:{value:_e.ix},propertyIndex:{value:_e.ix},mn:{value:_e.mn},propertyGroup:{value:rt}}),st}}(),ShapeExpressionInterface=function(){function tt(dt,gt,vt){var mt=[],xt,St=dt?dt.length:0;for(xt=0;xt<St;xt+=1)dt[xt].ty==="gr"?mt.push(nt(dt[xt],gt[xt],vt)):dt[xt].ty==="fl"?mt.push(rt(dt[xt],gt[xt],vt)):dt[xt].ty==="st"?mt.push(at(dt[xt],gt[xt],vt)):dt[xt].ty==="tm"?mt.push(ot(dt[xt],gt[xt],vt)):dt[xt].ty==="tr"||(dt[xt].ty==="el"?mt.push(ct(dt[xt],gt[xt],vt)):dt[xt].ty==="sr"?mt.push(ut(dt[xt],gt[xt],vt)):dt[xt].ty==="sh"?mt.push(ShapePathInterface(dt[xt],gt[xt],vt)):dt[xt].ty==="rc"?mt.push(ft(dt[xt],gt[xt],vt)):dt[xt].ty==="rd"?mt.push(ht(dt[xt],gt[xt],vt)):dt[xt].ty==="rp"?mt.push(pt(dt[xt],gt[xt],vt)):dt[xt].ty==="gf"?mt.push(it(dt[xt],gt[xt],vt)):mt.push(st(dt[xt],gt[xt])));return mt}function _e(dt,gt,vt){var mt,xt=function(bt){for(var Tt=0,At=mt.length;Tt<At;){if(mt[Tt]._name===bt||mt[Tt].mn===bt||mt[Tt].propertyIndex===bt||mt[Tt].ix===bt||mt[Tt].ind===bt)return mt[Tt];Tt+=1}return typeof bt=="number"?mt[bt-1]:null};xt.propertyGroup=propertyGroupFactory(xt,vt),mt=tt(dt.it,gt.it,xt.propertyGroup),xt.numProperties=mt.length;var St=lt(dt.it[dt.it.length-1],gt.it[gt.it.length-1],xt.propertyGroup);return xt.transform=St,xt.propertyIndex=dt.cix,xt._name=dt.nm,xt}function nt(dt,gt,vt){var mt=function(bt){switch(bt){case"ADBE Vectors Group":case"Contents":case 2:return mt.content;default:return mt.transform}};mt.propertyGroup=propertyGroupFactory(mt,vt);var xt=_e(dt,gt,mt.propertyGroup),St=lt(dt.it[dt.it.length-1],gt.it[gt.it.length-1],mt.propertyGroup);return mt.content=xt,mt.transform=St,Object.defineProperty(mt,"_name",{get:function(){return dt.nm}}),mt.numProperties=dt.np,mt.propertyIndex=dt.ix,mt.nm=dt.nm,mt.mn=dt.mn,mt}function rt(dt,gt,vt){function mt(xt){return xt==="Color"||xt==="color"?mt.color:xt==="Opacity"||xt==="opacity"?mt.opacity:null}return Object.defineProperties(mt,{color:{get:ExpressionPropertyInterface(gt.c)},opacity:{get:ExpressionPropertyInterface(gt.o)},_name:{value:dt.nm},mn:{value:dt.mn}}),gt.c.setGroupProperty(PropertyInterface("Color",vt)),gt.o.setGroupProperty(PropertyInterface("Opacity",vt)),mt}function it(dt,gt,vt){function mt(xt){return xt==="Start Point"||xt==="start point"?mt.startPoint:xt==="End Point"||xt==="end point"?mt.endPoint:xt==="Opacity"||xt==="opacity"?mt.opacity:null}return Object.defineProperties(mt,{startPoint:{get:ExpressionPropertyInterface(gt.s)},endPoint:{get:ExpressionPropertyInterface(gt.e)},opacity:{get:ExpressionPropertyInterface(gt.o)},type:{get:function(){return"a"}},_name:{value:dt.nm},mn:{value:dt.mn}}),gt.s.setGroupProperty(PropertyInterface("Start Point",vt)),gt.e.setGroupProperty(PropertyInterface("End Point",vt)),gt.o.setGroupProperty(PropertyInterface("Opacity",vt)),mt}function st(){function dt(){return null}return dt}function at(dt,gt,vt){var mt=propertyGroupFactory(At,vt),xt=propertyGroupFactory(Tt,mt);function St(Ct){Object.defineProperty(Tt,dt.d[Ct].nm,{get:ExpressionPropertyInterface(gt.d.dataProps[Ct].p)})}var Et,bt=dt.d?dt.d.length:0,Tt={};for(Et=0;Et<bt;Et+=1)St(Et),gt.d.dataProps[Et].p.setGroupProperty(xt);function At(Ct){return Ct==="Color"||Ct==="color"?At.color:Ct==="Opacity"||Ct==="opacity"?At.opacity:Ct==="Stroke Width"||Ct==="stroke width"?At.strokeWidth:null}return Object.defineProperties(At,{color:{get:ExpressionPropertyInterface(gt.c)},opacity:{get:ExpressionPropertyInterface(gt.o)},strokeWidth:{get:ExpressionPropertyInterface(gt.w)},dash:{get:function(){return Tt}},_name:{value:dt.nm},mn:{value:dt.mn}}),gt.c.setGroupProperty(PropertyInterface("Color",mt)),gt.o.setGroupProperty(PropertyInterface("Opacity",mt)),gt.w.setGroupProperty(PropertyInterface("Stroke Width",mt)),At}function ot(dt,gt,vt){function mt(St){return St===dt.e.ix||St==="End"||St==="end"?mt.end:St===dt.s.ix?mt.start:St===dt.o.ix?mt.offset:null}var xt=propertyGroupFactory(mt,vt);return mt.propertyIndex=dt.ix,gt.s.setGroupProperty(PropertyInterface("Start",xt)),gt.e.setGroupProperty(PropertyInterface("End",xt)),gt.o.setGroupProperty(PropertyInterface("Offset",xt)),mt.propertyIndex=dt.ix,mt.propertyGroup=vt,Object.defineProperties(mt,{start:{get:ExpressionPropertyInterface(gt.s)},end:{get:ExpressionPropertyInterface(gt.e)},offset:{get:ExpressionPropertyInterface(gt.o)},_name:{value:dt.nm}}),mt.mn=dt.mn,mt}function lt(dt,gt,vt){function mt(St){return dt.a.ix===St||St==="Anchor Point"?mt.anchorPoint:dt.o.ix===St||St==="Opacity"?mt.opacity:dt.p.ix===St||St==="Position"?mt.position:dt.r.ix===St||St==="Rotation"||St==="ADBE Vector Rotation"?mt.rotation:dt.s.ix===St||St==="Scale"?mt.scale:dt.sk&&dt.sk.ix===St||St==="Skew"?mt.skew:dt.sa&&dt.sa.ix===St||St==="Skew Axis"?mt.skewAxis:null}var xt=propertyGroupFactory(mt,vt);return gt.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",xt)),gt.transform.mProps.p.setGroupProperty(PropertyInterface("Position",xt)),gt.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",xt)),gt.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",xt)),gt.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",xt)),gt.transform.mProps.sk&&(gt.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",xt)),gt.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",xt))),gt.transform.op.setGroupProperty(PropertyInterface("Opacity",xt)),Object.defineProperties(mt,{opacity:{get:ExpressionPropertyInterface(gt.transform.mProps.o)},position:{get:ExpressionPropertyInterface(gt.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(gt.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(gt.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(gt.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(gt.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(gt.transform.mProps.sa)},_name:{value:dt.nm}}),mt.ty="tr",mt.mn=dt.mn,mt.propertyGroup=vt,mt}function ct(dt,gt,vt){function mt(Et){return dt.p.ix===Et?mt.position:dt.s.ix===Et?mt.size:null}var xt=propertyGroupFactory(mt,vt);mt.propertyIndex=dt.ix;var St=gt.sh.ty==="tm"?gt.sh.prop:gt.sh;return St.s.setGroupProperty(PropertyInterface("Size",xt)),St.p.setGroupProperty(PropertyInterface("Position",xt)),Object.defineProperties(mt,{size:{get:ExpressionPropertyInterface(St.s)},position:{get:ExpressionPropertyInterface(St.p)},_name:{value:dt.nm}}),mt.mn=dt.mn,mt}function ut(dt,gt,vt){function mt(Et){return dt.p.ix===Et?mt.position:dt.r.ix===Et?mt.rotation:dt.pt.ix===Et?mt.points:dt.or.ix===Et||Et==="ADBE Vector Star Outer Radius"?mt.outerRadius:dt.os.ix===Et?mt.outerRoundness:dt.ir&&(dt.ir.ix===Et||Et==="ADBE Vector Star Inner Radius")?mt.innerRadius:dt.is&&dt.is.ix===Et?mt.innerRoundness:null}var xt=propertyGroupFactory(mt,vt),St=gt.sh.ty==="tm"?gt.sh.prop:gt.sh;return mt.propertyIndex=dt.ix,St.or.setGroupProperty(PropertyInterface("Outer Radius",xt)),St.os.setGroupProperty(PropertyInterface("Outer Roundness",xt)),St.pt.setGroupProperty(PropertyInterface("Points",xt)),St.p.setGroupProperty(PropertyInterface("Position",xt)),St.r.setGroupProperty(PropertyInterface("Rotation",xt)),dt.ir&&(St.ir.setGroupProperty(PropertyInterface("Inner Radius",xt)),St.is.setGroupProperty(PropertyInterface("Inner Roundness",xt))),Object.defineProperties(mt,{position:{get:ExpressionPropertyInterface(St.p)},rotation:{get:ExpressionPropertyInterface(St.r)},points:{get:ExpressionPropertyInterface(St.pt)},outerRadius:{get:ExpressionPropertyInterface(St.or)},outerRoundness:{get:ExpressionPropertyInterface(St.os)},innerRadius:{get:ExpressionPropertyInterface(St.ir)},innerRoundness:{get:ExpressionPropertyInterface(St.is)},_name:{value:dt.nm}}),mt.mn=dt.mn,mt}function ft(dt,gt,vt){function mt(Et){return dt.p.ix===Et?mt.position:dt.r.ix===Et?mt.roundness:dt.s.ix===Et||Et==="Size"||Et==="ADBE Vector Rect Size"?mt.size:null}var xt=propertyGroupFactory(mt,vt),St=gt.sh.ty==="tm"?gt.sh.prop:gt.sh;return mt.propertyIndex=dt.ix,St.p.setGroupProperty(PropertyInterface("Position",xt)),St.s.setGroupProperty(PropertyInterface("Size",xt)),St.r.setGroupProperty(PropertyInterface("Rotation",xt)),Object.defineProperties(mt,{position:{get:ExpressionPropertyInterface(St.p)},roundness:{get:ExpressionPropertyInterface(St.r)},size:{get:ExpressionPropertyInterface(St.s)},_name:{value:dt.nm}}),mt.mn=dt.mn,mt}function ht(dt,gt,vt){function mt(Et){return dt.r.ix===Et||Et==="Round Corners 1"?mt.radius:null}var xt=propertyGroupFactory(mt,vt),St=gt;return mt.propertyIndex=dt.ix,St.rd.setGroupProperty(PropertyInterface("Radius",xt)),Object.defineProperties(mt,{radius:{get:ExpressionPropertyInterface(St.rd)},_name:{value:dt.nm}}),mt.mn=dt.mn,mt}function pt(dt,gt,vt){function mt(Et){return dt.c.ix===Et||Et==="Copies"?mt.copies:dt.o.ix===Et||Et==="Offset"?mt.offset:null}var xt=propertyGroupFactory(mt,vt),St=gt;return mt.propertyIndex=dt.ix,St.c.setGroupProperty(PropertyInterface("Copies",xt)),St.o.setGroupProperty(PropertyInterface("Offset",xt)),Object.defineProperties(mt,{copies:{get:ExpressionPropertyInterface(St.c)},offset:{get:ExpressionPropertyInterface(St.o)},_name:{value:dt.nm}}),mt.mn=dt.mn,mt}return function(dt,gt,vt){var mt;function xt(Et){if(typeof Et=="number")return Et=Et===void 0?1:Et,Et===0?vt:mt[Et-1];for(var bt=0,Tt=mt.length;bt<Tt;){if(mt[bt]._name===Et)return mt[bt];bt+=1}return null}function St(){return vt}return xt.propertyGroup=propertyGroupFactory(xt,St),mt=tt(dt,gt,xt.propertyGroup),xt.numProperties=mt.length,xt._name="Contents",xt}}(),TextExpressionInterface=function(){return function(tt){var _e;function nt(rt){switch(rt){case"ADBE Text Document":return nt.sourceText;default:return null}}return Object.defineProperty(nt,"sourceText",{get:function(){tt.textProperty.getValue();var it=tt.textProperty.currentData.t;return(!_e||it!==_e.value)&&(_e=new String(it),_e.value=it||new String(it),Object.defineProperty(_e,"style",{get:function(){return{fillColor:tt.textProperty.currentData.fc}}})),_e}}),nt}}();function _typeof(tt){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(nt){return typeof nt}:_typeof=function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt},_typeof(tt)}var FootageInterface=function(){var tt=function(rt){var it="",st=rt.getFootageData();function at(){return it="",st=rt.getFootageData(),ot}function ot(lt){if(st[lt])return it=lt,st=st[lt],_typeof(st)==="object"?ot:st;var ct=lt.indexOf(it);if(ct!==-1){var ut=parseInt(lt.substr(ct+it.length),10);return st=st[ut],_typeof(st)==="object"?ot:st}return""}return at},_e=function(rt){function it(st){return st==="Outline"?it.outlineInterface():null}return it._name="Outline",it.outlineInterface=tt(rt),it};return function(nt){function rt(it){return it==="Data"?rt.dataInterface:null}return rt._name="Data",rt.dataInterface=_e(nt),rt}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(tt){return interfaces[tt]||null}var expressionHelpers=function(){function tt(at,ot,lt){ot.x&&(lt.k=!0,lt.x=!0,lt.initiateExpression=ExpressionManager.initiateExpression,lt.effectsSequence.push(lt.initiateExpression(at,ot,lt).bind(lt)))}function _e(at){return at*=this.elem.globalData.frameRate,at-=this.offsetTime,at!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<at?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(at,this._cachingAtTime),this._cachingAtTime.lastFrame=at),this._cachingAtTime.value}function nt(at){var ot=-.01,lt=this.getValueAtTime(at),ct=this.getValueAtTime(at+ot),ut=0;if(lt.length){var ft;for(ft=0;ft<lt.length;ft+=1)ut+=Math.pow(ct[ft]-lt[ft],2);ut=Math.sqrt(ut)*100}else ut=0;return ut}function rt(at){if(this.vel!==void 0)return this.vel;var ot=-.001,lt=this.getValueAtTime(at),ct=this.getValueAtTime(at+ot),ut;if(lt.length){ut=createTypedArray("float32",lt.length);var ft;for(ft=0;ft<lt.length;ft+=1)ut[ft]=(ct[ft]-lt[ft])/ot}else ut=(ct-lt)/ot;return ut}function it(){return this.pv}function st(at){this.propertyGroup=at}return{searchExpressions:tt,getSpeedAtTime:nt,getVelocityAtTime:rt,getValueAtTime:_e,getStaticValueAtTime:it,setGroupProperty:st}}();function addPropertyDecorator(){function tt(ht,pt,dt){if(!this.k||!this.keyframes)return this.pv;ht=ht?ht.toLowerCase():"";var gt=this.comp.renderedFrame,vt=this.keyframes,mt=vt[vt.length-1].t;if(gt<=mt)return this.pv;var xt,St;dt?(pt?xt=Math.abs(mt-this.elem.comp.globalData.frameRate*pt):xt=Math.max(0,mt-this.elem.data.ip),St=mt-xt):((!pt||pt>vt.length-1)&&(pt=vt.length-1),St=vt[vt.length-1-pt].t,xt=mt-St);var Et,bt,Tt;if(ht==="pingpong"){var At=Math.floor((gt-St)/xt);if(At%2!==0)return this.getValueAtTime((xt-(gt-St)%xt+St)/this.comp.globalData.frameRate,0)}else if(ht==="offset"){var Ct=this.getValueAtTime(St/this.comp.globalData.frameRate,0),Pt=this.getValueAtTime(mt/this.comp.globalData.frameRate,0),It=this.getValueAtTime(((gt-St)%xt+St)/this.comp.globalData.frameRate,0),Lt=Math.floor((gt-St)/xt);if(this.pv.length){for(Tt=new Array(Ct.length),bt=Tt.length,Et=0;Et<bt;Et+=1)Tt[Et]=(Pt[Et]-Ct[Et])*Lt+It[Et];return Tt}return(Pt-Ct)*Lt+It}else if(ht==="continue"){var Vt=this.getValueAtTime(mt/this.comp.globalData.frameRate,0),Ut=this.getValueAtTime((mt-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Tt=new Array(Vt.length),bt=Tt.length,Et=0;Et<bt;Et+=1)Tt[Et]=Vt[Et]+(Vt[Et]-Ut[Et])*((gt-mt)/this.comp.globalData.frameRate)/5e-4;return Tt}return Vt+(Vt-Ut)*((gt-mt)/.001)}return this.getValueAtTime(((gt-St)%xt+St)/this.comp.globalData.frameRate,0)}function _e(ht,pt,dt){if(!this.k)return this.pv;ht=ht?ht.toLowerCase():"";var gt=this.comp.renderedFrame,vt=this.keyframes,mt=vt[0].t;if(gt>=mt)return this.pv;var xt,St;dt?(pt?xt=Math.abs(this.elem.comp.globalData.frameRate*pt):xt=Math.max(0,this.elem.data.op-mt),St=mt+xt):((!pt||pt>vt.length-1)&&(pt=vt.length-1),St=vt[pt].t,xt=St-mt);var Et,bt,Tt;if(ht==="pingpong"){var At=Math.floor((mt-gt)/xt);if(At%2===0)return this.getValueAtTime(((mt-gt)%xt+mt)/this.comp.globalData.frameRate,0)}else if(ht==="offset"){var Ct=this.getValueAtTime(mt/this.comp.globalData.frameRate,0),Pt=this.getValueAtTime(St/this.comp.globalData.frameRate,0),It=this.getValueAtTime((xt-(mt-gt)%xt+mt)/this.comp.globalData.frameRate,0),Lt=Math.floor((mt-gt)/xt)+1;if(this.pv.length){for(Tt=new Array(Ct.length),bt=Tt.length,Et=0;Et<bt;Et+=1)Tt[Et]=It[Et]-(Pt[Et]-Ct[Et])*Lt;return Tt}return It-(Pt-Ct)*Lt}else if(ht==="continue"){var Vt=this.getValueAtTime(mt/this.comp.globalData.frameRate,0),Ut=this.getValueAtTime((mt+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(Tt=new Array(Vt.length),bt=Tt.length,Et=0;Et<bt;Et+=1)Tt[Et]=Vt[Et]+(Vt[Et]-Ut[Et])*(mt-gt)/.001;return Tt}return Vt+(Vt-Ut)*(mt-gt)/.001}return this.getValueAtTime((xt-((mt-gt)%xt+mt))/this.comp.globalData.frameRate,0)}function nt(ht,pt){if(!this.k)return this.pv;if(ht=(ht||.4)*.5,pt=Math.floor(pt||5),pt<=1)return this.pv;var dt=this.comp.renderedFrame/this.comp.globalData.frameRate,gt=dt-ht,vt=dt+ht,mt=pt>1?(vt-gt)/(pt-1):1,xt=0,St=0,Et;this.pv.length?Et=createTypedArray("float32",this.pv.length):Et=0;for(var bt;xt<pt;){if(bt=this.getValueAtTime(gt+xt*mt),this.pv.length)for(St=0;St<this.pv.length;St+=1)Et[St]+=bt[St];else Et+=bt;xt+=1}if(this.pv.length)for(St=0;St<this.pv.length;St+=1)Et[St]/=pt;else Et/=pt;return Et}function rt(ht){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var pt=this._transformCachingAtTime.v;if(pt.cloneFromProps(this.pre.props),this.appliedTransformations<1){var dt=this.a.getValueAtTime(ht);pt.translate(-dt[0]*this.a.mult,-dt[1]*this.a.mult,dt[2]*this.a.mult)}if(this.appliedTransformations<2){var gt=this.s.getValueAtTime(ht);pt.scale(gt[0]*this.s.mult,gt[1]*this.s.mult,gt[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var vt=this.sk.getValueAtTime(ht),mt=this.sa.getValueAtTime(ht);pt.skewFromAxis(-vt*this.sk.mult,mt*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var xt=this.r.getValueAtTime(ht);pt.rotate(-xt*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var St=this.rz.getValueAtTime(ht),Et=this.ry.getValueAtTime(ht),bt=this.rx.getValueAtTime(ht),Tt=this.or.getValueAtTime(ht);pt.rotateZ(-St*this.rz.mult).rotateY(Et*this.ry.mult).rotateX(bt*this.rx.mult).rotateZ(-Tt[2]*this.or.mult).rotateY(Tt[1]*this.or.mult).rotateX(Tt[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var At=this.px.getValueAtTime(ht),Ct=this.py.getValueAtTime(ht);if(this.data.p.z){var Pt=this.pz.getValueAtTime(ht);pt.translate(At*this.px.mult,Ct*this.py.mult,-Pt*this.pz.mult)}else pt.translate(At*this.px.mult,Ct*this.py.mult,0)}else{var It=this.p.getValueAtTime(ht);pt.translate(It[0]*this.p.mult,It[1]*this.p.mult,-It[2]*this.p.mult)}return pt}function it(){return this.v.clone(new Matrix)}var st=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(ht,pt,dt){var gt=st(ht,pt,dt);return gt.dynamicProperties.length?gt.getValueAtTime=rt.bind(gt):gt.getValueAtTime=it.bind(gt),gt.setGroupProperty=expressionHelpers.setGroupProperty,gt};var at=PropertyFactory.getProp;PropertyFactory.getProp=function(ht,pt,dt,gt,vt){var mt=at(ht,pt,dt,gt,vt);mt.kf?mt.getValueAtTime=expressionHelpers.getValueAtTime.bind(mt):mt.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(mt),mt.setGroupProperty=expressionHelpers.setGroupProperty,mt.loopOut=tt,mt.loopIn=_e,mt.smooth=nt,mt.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(mt),mt.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(mt),mt.numKeys=pt.a===1?pt.k.length:0,mt.propertyIndex=pt.ix;var xt=0;return dt!==0&&(xt=createTypedArray("float32",pt.a===1?pt.k[0].s.length:pt.k.length)),mt._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:xt},expressionHelpers.searchExpressions(ht,pt,mt),mt.k&&vt.addDynamicProperty(mt),mt};function ot(ht){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),ht*=this.elem.globalData.frameRate,ht-=this.offsetTime,ht!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<ht?this._caching.lastIndex:0,this._cachingAtTime.lastTime=ht,this.interpolateShape(ht,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var lt=ShapePropertyFactory.getConstructorFunction(),ct=ShapePropertyFactory.getKeyframedConstructorFunction();function ut(){}ut.prototype={vertices:function(pt,dt){this.k&&this.getValue();var gt=this.v;dt!==void 0&&(gt=this.getValueAtTime(dt,0));var vt,mt=gt._length,xt=gt[pt],St=gt.v,Et=createSizedArray(mt);for(vt=0;vt<mt;vt+=1)pt==="i"||pt==="o"?Et[vt]=[xt[vt][0]-St[vt][0],xt[vt][1]-St[vt][1]]:Et[vt]=[xt[vt][0],xt[vt][1]];return Et},points:function(pt){return this.vertices("v",pt)},inTangents:function(pt){return this.vertices("i",pt)},outTangents:function(pt){return this.vertices("o",pt)},isClosed:function(){return this.v.c},pointOnPath:function(pt,dt){var gt=this.v;dt!==void 0&&(gt=this.getValueAtTime(dt,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(gt));for(var vt=this._segmentsLength,mt=vt.lengths,xt=vt.totalLength*pt,St=0,Et=mt.length,bt=0,Tt;St<Et;){if(bt+mt[St].addedLength>xt){var At=St,Ct=gt.c&&St===Et-1?0:St+1,Pt=(xt-bt)/mt[St].addedLength;Tt=bez.getPointInSegment(gt.v[At],gt.v[Ct],gt.o[At],gt.i[Ct],Pt,mt[St]);break}else bt+=mt[St].addedLength;St+=1}return Tt||(Tt=gt.c?[gt.v[0][0],gt.v[0][1]]:[gt.v[gt._length-1][0],gt.v[gt._length-1][1]]),Tt},vectorOnPath:function(pt,dt,gt){pt==1?pt=this.v.c:pt==0&&(pt=.999);var vt=this.pointOnPath(pt,dt),mt=this.pointOnPath(pt+.001,dt),xt=mt[0]-vt[0],St=mt[1]-vt[1],Et=Math.sqrt(Math.pow(xt,2)+Math.pow(St,2));if(Et===0)return[0,0];var bt=gt==="tangent"?[xt/Et,St/Et]:[-St/Et,xt/Et];return bt},tangentOnPath:function(pt,dt){return this.vectorOnPath(pt,dt,"tangent")},normalOnPath:function(pt,dt){return this.vectorOnPath(pt,dt,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([ut],lt),extendPrototype([ut],ct),ct.prototype.getValueAtTime=ot,ct.prototype.initiateExpression=ExpressionManager.initiateExpression;var ft=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(ht,pt,dt,gt,vt){var mt=ft(ht,pt,dt,gt,vt);return mt.propertyIndex=pt.ix,mt.lock=!1,dt===3?expressionHelpers.searchExpressions(ht,pt.pt,mt):dt===4&&expressionHelpers.searchExpressions(ht,pt.ks,mt),mt.k&&ht.addDynamicProperty(mt),mt}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function tt(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(_e,nt){var rt=this.calculateExpression(nt);if(_e.t!==rt){var it={};return this.copyData(it,_e),it.t=rt.toString(),it.__complete=!1,it}return _e},TextProperty.prototype.searchProperty=function(){var _e=this.searchKeyframes(),nt=this.searchExpressions();return this.kf=_e||nt,this.kf},TextProperty.prototype.searchExpressions=tt}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function tt(_e,nt){var rt=createNS("feMerge");rt.setAttribute("result",_e);var it,st;for(st=0;st<nt.length;st+=1)it=createNS("feMergeNode"),it.setAttribute("in",nt[st]),rt.appendChild(it),rt.appendChild(it);return rt}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(tt,_e,nt,rt,it){this.filterManager=_e;var st=createNS("feColorMatrix");st.setAttribute("type","matrix"),st.setAttribute("color-interpolation-filters","linearRGB"),st.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=st,st.setAttribute("result",rt+"_tint_1"),tt.appendChild(st),st=createNS("feColorMatrix"),st.setAttribute("type","matrix"),st.setAttribute("color-interpolation-filters","sRGB"),st.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),st.setAttribute("result",rt+"_tint_2"),tt.appendChild(st),this.matrixFilter=st;var at=this.createMergeNode(rt,[it,rt+"_tint_1",rt+"_tint_2"]);tt.appendChild(at)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(tt){if(tt||this.filterManager._mdf){var _e=this.filterManager.effectElements[0].p.v,nt=this.filterManager.effectElements[1].p.v,rt=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+rt+" 0"),this.matrixFilter.setAttribute("values",nt[0]-_e[0]+" 0 0 0 "+_e[0]+" "+(nt[1]-_e[1])+" 0 0 0 "+_e[1]+" "+(nt[2]-_e[2])+" 0 0 0 "+_e[2]+" 0 0 0 1 0")}};function SVGFillFilter(tt,_e,nt,rt){this.filterManager=_e;var it=createNS("feColorMatrix");it.setAttribute("type","matrix"),it.setAttribute("color-interpolation-filters","sRGB"),it.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),it.setAttribute("result",rt),tt.appendChild(it),this.matrixFilter=it}SVGFillFilter.prototype.renderFrame=function(tt){if(tt||this.filterManager._mdf){var _e=this.filterManager.effectElements[2].p.v,nt=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+_e[0]+" 0 0 0 0 "+_e[1]+" 0 0 0 0 "+_e[2]+" 0 0 0 "+nt+" 0")}};function SVGStrokeEffect(tt,_e,nt){this.initialized=!1,this.filterManager=_e,this.elem=nt,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var tt=this.elem.layerElement.children||this.elem.layerElement.childNodes,_e,nt,rt,it;for(this.filterManager.effectElements[1].p.v===1?(it=this.elem.maskManager.masksProperties.length,rt=0):(rt=this.filterManager.effectElements[0].p.v-1,it=rt+1),nt=createNS("g"),nt.setAttribute("fill","none"),nt.setAttribute("stroke-linecap","round"),nt.setAttribute("stroke-dashoffset",1),rt;rt<it;rt+=1)_e=createNS("path"),nt.appendChild(_e),this.paths.push({p:_e,m:rt});if(this.filterManager.effectElements[10].p.v===3){var st=createNS("mask"),at=createElementID();st.setAttribute("id",at),st.setAttribute("mask-type","alpha"),st.appendChild(nt),this.elem.globalData.defs.appendChild(st);var ot=createNS("g");for(ot.setAttribute("mask","url("+getLocationHref()+"#"+at+")");tt[0];)ot.appendChild(tt[0]);this.elem.layerElement.appendChild(ot),this.masker=st,nt.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(tt=this.elem.layerElement.children||this.elem.layerElement.childNodes;tt.length;)this.elem.layerElement.removeChild(tt[0]);this.elem.layerElement.appendChild(nt),this.elem.layerElement.removeAttribute("mask"),nt.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=nt},SVGStrokeEffect.prototype.renderFrame=function(tt){this.initialized||this.initialize();var _e,nt=this.paths.length,rt,it;for(_e=0;_e<nt;_e+=1)if(this.paths[_e].m!==-1&&(rt=this.elem.maskManager.viewData[this.paths[_e].m],it=this.paths[_e].p,(tt||this.filterManager._mdf||rt.prop._mdf)&&it.setAttribute("d",rt.lastPath),tt||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||rt.prop._mdf)){var st;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var at=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,ot=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,lt=it.getTotalLength();st="0 0 0 "+lt*at+" ";var ct=lt*(ot-at),ut=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,ft=Math.floor(ct/ut),ht;for(ht=0;ht<ft;ht+=1)st+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";st+="0 "+lt*10+" 0 0"}else st="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;it.setAttribute("stroke-dasharray",st)}if((tt||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(tt||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(tt||this.filterManager.effectElements[3].p._mdf)){var pt=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(pt[0]*255)+","+bmFloor(pt[1]*255)+","+bmFloor(pt[2]*255)+")")}};function SVGTritoneFilter(tt,_e,nt,rt){this.filterManager=_e;var it=createNS("feColorMatrix");it.setAttribute("type","matrix"),it.setAttribute("color-interpolation-filters","linearRGB"),it.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),tt.appendChild(it);var st=createNS("feComponentTransfer");st.setAttribute("color-interpolation-filters","sRGB"),st.setAttribute("result",rt),this.matrixFilter=st;var at=createNS("feFuncR");at.setAttribute("type","table"),st.appendChild(at),this.feFuncR=at;var ot=createNS("feFuncG");ot.setAttribute("type","table"),st.appendChild(ot),this.feFuncG=ot;var lt=createNS("feFuncB");lt.setAttribute("type","table"),st.appendChild(lt),this.feFuncB=lt,tt.appendChild(st)}SVGTritoneFilter.prototype.renderFrame=function(tt){if(tt||this.filterManager._mdf){var _e=this.filterManager.effectElements[0].p.v,nt=this.filterManager.effectElements[1].p.v,rt=this.filterManager.effectElements[2].p.v,it=rt[0]+" "+nt[0]+" "+_e[0],st=rt[1]+" "+nt[1]+" "+_e[1],at=rt[2]+" "+nt[2]+" "+_e[2];this.feFuncR.setAttribute("tableValues",it),this.feFuncG.setAttribute("tableValues",st),this.feFuncB.setAttribute("tableValues",at)}};function SVGProLevelsFilter(tt,_e,nt,rt){this.filterManager=_e;var it=this.filterManager.effectElements,st=createNS("feComponentTransfer");(it[10].p.k||it[10].p.v!==0||it[11].p.k||it[11].p.v!==1||it[12].p.k||it[12].p.v!==1||it[13].p.k||it[13].p.v!==0||it[14].p.k||it[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",st)),(it[17].p.k||it[17].p.v!==0||it[18].p.k||it[18].p.v!==1||it[19].p.k||it[19].p.v!==1||it[20].p.k||it[20].p.v!==0||it[21].p.k||it[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",st)),(it[24].p.k||it[24].p.v!==0||it[25].p.k||it[25].p.v!==1||it[26].p.k||it[26].p.v!==1||it[27].p.k||it[27].p.v!==0||it[28].p.k||it[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",st)),(it[31].p.k||it[31].p.v!==0||it[32].p.k||it[32].p.v!==1||it[33].p.k||it[33].p.v!==1||it[34].p.k||it[34].p.v!==0||it[35].p.k||it[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",st)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(st.setAttribute("color-interpolation-filters","sRGB"),tt.appendChild(st)),(it[3].p.k||it[3].p.v!==0||it[4].p.k||it[4].p.v!==1||it[5].p.k||it[5].p.v!==1||it[6].p.k||it[6].p.v!==0||it[7].p.k||it[7].p.v!==1)&&(st=createNS("feComponentTransfer"),st.setAttribute("color-interpolation-filters","sRGB"),st.setAttribute("result",rt),tt.appendChild(st),this.feFuncRComposed=this.createFeFunc("feFuncR",st),this.feFuncGComposed=this.createFeFunc("feFuncG",st),this.feFuncBComposed=this.createFeFunc("feFuncB",st))}SVGProLevelsFilter.prototype.createFeFunc=function(tt,_e){var nt=createNS(tt);return nt.setAttribute("type","table"),_e.appendChild(nt),nt},SVGProLevelsFilter.prototype.getTableValue=function(tt,_e,nt,rt,it){for(var st=0,at=256,ot,lt=Math.min(tt,_e),ct=Math.max(tt,_e),ut=Array.call(null,{length:at}),ft,ht=0,pt=it-rt,dt=_e-tt;st<=256;)ot=st/256,ot<=lt?ft=dt<0?it:rt:ot>=ct?ft=dt<0?rt:it:ft=rt+pt*Math.pow((ot-tt)/dt,1/nt),ut[ht]=ft,ht+=1,st+=256/(at-1);return ut.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(tt){if(tt||this.filterManager._mdf){var _e,nt=this.filterManager.effectElements;this.feFuncRComposed&&(tt||nt[3].p._mdf||nt[4].p._mdf||nt[5].p._mdf||nt[6].p._mdf||nt[7].p._mdf)&&(_e=this.getTableValue(nt[3].p.v,nt[4].p.v,nt[5].p.v,nt[6].p.v,nt[7].p.v),this.feFuncRComposed.setAttribute("tableValues",_e),this.feFuncGComposed.setAttribute("tableValues",_e),this.feFuncBComposed.setAttribute("tableValues",_e)),this.feFuncR&&(tt||nt[10].p._mdf||nt[11].p._mdf||nt[12].p._mdf||nt[13].p._mdf||nt[14].p._mdf)&&(_e=this.getTableValue(nt[10].p.v,nt[11].p.v,nt[12].p.v,nt[13].p.v,nt[14].p.v),this.feFuncR.setAttribute("tableValues",_e)),this.feFuncG&&(tt||nt[17].p._mdf||nt[18].p._mdf||nt[19].p._mdf||nt[20].p._mdf||nt[21].p._mdf)&&(_e=this.getTableValue(nt[17].p.v,nt[18].p.v,nt[19].p.v,nt[20].p.v,nt[21].p.v),this.feFuncG.setAttribute("tableValues",_e)),this.feFuncB&&(tt||nt[24].p._mdf||nt[25].p._mdf||nt[26].p._mdf||nt[27].p._mdf||nt[28].p._mdf)&&(_e=this.getTableValue(nt[24].p.v,nt[25].p.v,nt[26].p.v,nt[27].p.v,nt[28].p.v),this.feFuncB.setAttribute("tableValues",_e)),this.feFuncA&&(tt||nt[31].p._mdf||nt[32].p._mdf||nt[33].p._mdf||nt[34].p._mdf||nt[35].p._mdf)&&(_e=this.getTableValue(nt[31].p.v,nt[32].p.v,nt[33].p.v,nt[34].p.v,nt[35].p.v),this.feFuncA.setAttribute("tableValues",_e))}};function SVGDropShadowEffect(tt,_e,nt,rt,it){var st=_e.container.globalData.renderConfig.filterSize,at=_e.data.fs||st;tt.setAttribute("x",at.x||st.x),tt.setAttribute("y",at.y||st.y),tt.setAttribute("width",at.width||st.width),tt.setAttribute("height",at.height||st.height),this.filterManager=_e;var ot=createNS("feGaussianBlur");ot.setAttribute("in","SourceAlpha"),ot.setAttribute("result",rt+"_drop_shadow_1"),ot.setAttribute("stdDeviation","0"),this.feGaussianBlur=ot,tt.appendChild(ot);var lt=createNS("feOffset");lt.setAttribute("dx","25"),lt.setAttribute("dy","0"),lt.setAttribute("in",rt+"_drop_shadow_1"),lt.setAttribute("result",rt+"_drop_shadow_2"),this.feOffset=lt,tt.appendChild(lt);var ct=createNS("feFlood");ct.setAttribute("flood-color","#00ff00"),ct.setAttribute("flood-opacity","1"),ct.setAttribute("result",rt+"_drop_shadow_3"),this.feFlood=ct,tt.appendChild(ct);var ut=createNS("feComposite");ut.setAttribute("in",rt+"_drop_shadow_3"),ut.setAttribute("in2",rt+"_drop_shadow_2"),ut.setAttribute("operator","in"),ut.setAttribute("result",rt+"_drop_shadow_4"),tt.appendChild(ut);var ft=this.createMergeNode(rt,[rt+"_drop_shadow_4",it]);tt.appendChild(ft)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(tt){if(tt||this.filterManager._mdf){if((tt||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),tt||this.filterManager.effectElements[0].p._mdf){var _e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(_e[0]*255),Math.round(_e[1]*255),Math.round(_e[2]*255)))}if((tt||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),tt||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var nt=this.filterManager.effectElements[3].p.v,rt=(this.filterManager.effectElements[2].p.v-90)*degToRads,it=nt*Math.cos(rt),st=nt*Math.sin(rt);this.feOffset.setAttribute("dx",it),this.feOffset.setAttribute("dy",st)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(tt,_e,nt){this.initialized=!1,this.filterManager=_e,this.filterElem=tt,this.elem=nt,nt.matteElement=createNS("g"),nt.matteElement.appendChild(nt.layerElement),nt.matteElement.appendChild(nt.transformedElement),nt.baseElement=nt.matteElement}SVGMatte3Effect.prototype.findSymbol=function(tt){for(var _e=0,nt=_svgMatteSymbols.length;_e<nt;){if(_svgMatteSymbols[_e]===tt)return _svgMatteSymbols[_e];_e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(tt,_e){var nt=tt.layerElement.parentNode;if(nt){for(var rt=nt.children,it=0,st=rt.length;it<st&&rt[it]!==tt.layerElement;)it+=1;var at;it<=st-2&&(at=rt[it+1]);var ot=createNS("use");ot.setAttribute("href","#"+_e),at?nt.insertBefore(ot,at):nt.appendChild(ot)}},SVGMatte3Effect.prototype.setElementAsMask=function(tt,_e){if(!this.findSymbol(_e)){var nt=createElementID(),rt=createNS("mask");rt.setAttribute("id",_e.layerId),rt.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(_e);var it=tt.globalData.defs;it.appendChild(rt);var st=createNS("symbol");st.setAttribute("id",nt),this.replaceInParent(_e,nt),st.appendChild(_e.layerElement),it.appendChild(st);var at=createNS("use");at.setAttribute("href","#"+nt),rt.appendChild(at),_e.data.hd=!1,_e.show()}tt.setMatte(_e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var tt=this.filterManager.effectElements[0].p.v,_e=this.elem.comp.elements,nt=0,rt=_e.length;nt<rt;)_e[nt]&&_e[nt].data.ind===tt&&this.setElementAsMask(this.elem,_e[nt]),nt+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(tt,_e,nt,rt){tt.setAttribute("x","-100%"),tt.setAttribute("y","-100%"),tt.setAttribute("width","300%"),tt.setAttribute("height","300%"),this.filterManager=_e;var it=createNS("feGaussianBlur");it.setAttribute("result",rt),tt.appendChild(it),this.feGaussianBlur=it}SVGGaussianBlurEffect.prototype.renderFrame=function(tt){if(tt||this.filterManager._mdf){var _e=.3,nt=this.filterManager.effectElements[0].p.v*_e,rt=this.filterManager.effectElements[1].p.v,it=rt==3?0:nt,st=rt==2?0:nt;this.feGaussianBlur.setAttribute("stdDeviation",it+" "+st);var at=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",at)}};function TransformEffect(){}TransformEffect.prototype.init=function(tt){this.effectsManager=tt,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(tt){if(this._opMdf=!1,this._mdf=!1,tt||this.effectsManager._mdf){var _e=this.effectsManager.effectElements,nt=_e[0].p.v,rt=_e[1].p.v,it=_e[2].p.v===1,st=_e[3].p.v,at=it?st:_e[4].p.v,ot=_e[5].p.v,lt=_e[6].p.v,ct=_e[7].p.v;this.matrix.reset(),this.matrix.translate(-nt[0],-nt[1],nt[2]),this.matrix.scale(at*.01,st*.01,1),this.matrix.rotate(-ct*degToRads),this.matrix.skewFromAxis(-ot*degToRads,(lt+90)*degToRads),this.matrix.translate(rt[0],rt[1],0),this._mdf=!0,this.opacity!==_e[8].p.v&&(this.opacity=_e[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(tt,_e){this.init(_e)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(tt){this.init(tt)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const lottie=getDefaultExportFromCjs(lottieExports),VideoComp=({videoSrc:tt,targetRef:_e,bgColor:nt="#2A2A2A"})=>{const rt=reactExports.useRef(null);return reactExports.useEffect(()=>{const it=new IntersectionObserver(st=>{st.forEach(at=>{var ot,lt;at.isIntersecting?(ot=rt.current)==null||ot.play().catch(()=>{}):(lt=rt.current)==null||lt.pause()})},{threshold:.5});return _e.current&&it.observe(_e.current),()=>{_e.current&&it.unobserve(_e.current)}},[_e]),jsxRuntimeExports.jsx("div",{className:"video-container",style:{backgroundColor:nt},children:jsxRuntimeExports.jsx("video",{ref:rt,src:tt,muted:!0,playsInline:!0,loop:!0,preload:"metadata"})})},ProjectDetailsDashboard=()=>{const tt=Array.from({length:30},()=>reactExports.useRef(null)),_e=Array.from({length:30},()=>reactExports.useRef(null)),nt=reactExports.useRef(null),rt=reactExports.useRef(null),it=reactExports.useRef(null),st=reactExports.useRef(null),at=["/portfolio/assets/animation/anim_logo.json","/portfolio/assets/animation/icon0.json","/portfolio/assets/animation/icon1.json","/portfolio/assets/animation/icon2.json","/portfolio/assets/animation/icon3.json","/portfolio/assets/animation/icon4.json","/portfolio/assets/animation/icon5.json","/portfolio/assets/animation/icon6.json","/portfolio/assets/animation/icon7.json","/portfolio/assets/animation/icon8.json","/portfolio/assets/animation/icon9.json","/portfolio/assets/animation/icon10.json","/portfolio/assets/animation/icon11.json","/portfolio/assets/animation/icon12.json","/portfolio/assets/animation/icon13.json","/portfolio/assets/animation/icon14.json","/portfolio/assets/animation/icon15.json","/portfolio/assets/animation/biases-1trade2.json","/portfolio/assets/animation/biases-almost2.json","/portfolio/assets/animation/Biases-AI-icon-5.json","/portfolio/assets/animation/biases-report2.json"],ot=[!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1],lt=(ct,ut,ft,ht)=>{const pt=lottie.loadAnimation({container:ct.current,renderer:"svg",loop:ht,autoplay:!1,path:ft}),dt=mt=>{mt.forEach(xt=>{xt.isIntersecting&&pt.play()})},gt=new IntersectionObserver(dt,{root:null,rootMargin:"0px",threshold:.1});ut.current&&gt.observe(ut.current);const vt=()=>{pt.stop(),pt.play()};return ct.current&&ct.current.addEventListener("click",vt),()=>{ut.current&&gt.unobserve(ut.current),ct.current&&ct.current.removeEventListener("click",vt),pt.destroy()}};return reactExports.useEffect(()=>{const ct=tt.map((ut,ft)=>lt(ut,_e[ft],at[ft],ot[ft]));return()=>{ct.forEach(ut=>ut())}},[]),jsxRuntimeExports.jsxs("div",{className:"container-fluid px-0 justify-content-center",children:[jsxRuntimeExports.jsx(Menu,{productDesign:!0}),jsxRuntimeExports.jsx(PageHero,{title:jsxRuntimeExports.jsxs("span",{children:["Capital.com",jsxRuntimeExports.jsx("br",{}),"Reinventing the Future of Trading."]}),description:jsxRuntimeExports.jsx("span",{children:"Capital.com is a CFD trading platform designed to be both intuitive for beginners and feature-rich for experienced traders. With a focus on accessibility and user-friendly design, it offers a seamless experience that makes trading straightforward for all users, regardless of their level of expertise."}),wrapperclassName:"container-fluid",headerwrapper:"pb-40 px-3",imageMobile:"/portfolio/assets/capital/project_hero_capital_960w.jpg",imageDesktop:"/portfolio/assets/capital/project_hero_capital_2560w.jpg",color:"var(--txt-light-1)",colorDescription:"var(--txt-light-3)",logoUrl:"/portfolio/assets/logos/product_logo=capital.svg"}),jsxRuntimeExports.jsx("div",{className:"container-xxl px-4",children:jsxRuntimeExports.jsxs("div",{className:"row row-gap-10",children:[jsxRuntimeExports.jsx(Metric1$1,{className:"col-6 col-lg-4 card-gap-10",above:"",mainmetric:"1M+",color:"rgba(255,255,255,1)",below:"Active users in 2019"}),jsxRuntimeExports.jsx(Metric1$1,{className:"col-6 col-lg-4 card-gap-10",above:"",mainmetric:"$13B+",color:"rgba(255,255,255,1)",below:"Trading volume"}),jsxRuntimeExports.jsx(Metric1$1,{className:"col-6 col-lg-4 card-gap-10",above:"",mainmetric:"50+",color:"rgba(255,255,255,1)",below:"Countries across the world"})]})}),jsxRuntimeExports.jsx("div",{className:"container-fluid ephasized_section mt-40 pt-40",children:jsxRuntimeExports.jsxs("div",{className:"container-xxl px-4",children:[jsxRuntimeExports.jsxs("div",{className:"row row-gap-2",children:[jsxRuntimeExports.jsx(Metric1,{className:"col-6 col-lg-6 card-gap-2",above:"My role",mainmetric:"Product Designer",color:"var(--txt-dark-2)"}),jsxRuntimeExports.jsx(Metric1,{className:"col-6 col-lg-6 card-gap-2",above:"Timeline",mainmetric:"20162019",color:"var(--txt-dark-2)"})]}),jsxRuntimeExports.jsx(Divider,{}),jsxRuntimeExports.jsx(Header,{wrapperclassName:"container-xxl py-4 px-0",size:"medium",title:"Context",color:"var(--txt-dark-2)",colorDescription:"var(--txt-dark-3)"}),jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsxs("div",{className:"row pb-40",children:[jsxRuntimeExports.jsx("div",{className:"col-12 col-lg-6 role-description",children:"After several years in the trading industry, beginning at IGEurope's leading trading platformI joined Capital.com to transform the trading experience. Starting as a product designer, I focused on making CFD (Contract for Difference) trading accessible globally through our web platform. Collaborating closely with a Product Manager and a front-end developer, we launched the platform within just six months. This launch was a significant milestone, quickly expanding access to trading for over 1 million users worldwide. Today, the platform has grown to more than 7 million users and continues to attract a global audience.            "}),jsxRuntimeExports.jsx("div",{className:"col-12 col-lg-6 role-description",children:"In my role, I conducted in-depth competitor analysis, providing insights that shaped our user experience strategy and identified unique market differentiators. I also explored design possibilities by working with third-party services and leveraging their APIs, which allowed us to expand functionality and deliver a seamless trading experience. Additionally, I led and participated in user research, design presentations, and cross-functional collaboration, while establishing and pitching our design system and processes. By leveraging data, I worked iteratively to enhance the user experience, ensuring consistent design quality and making the platform more user-centric and impactful.            "})]}),jsxRuntimeExports.jsx("div",{ref:_e[0],className:"inline-image mb-40",id:"capital-logo-lottie",children:jsxRuntimeExports.jsx("div",{ref:tt[0],style:{height:"200px",cursor:"pointer"}})}),jsxRuntimeExports.jsx("img",{className:"inline-image mb-80",src:"/portfolio/assets/capital/capital_1.jpg"})]})}),jsxRuntimeExports.jsx("div",{className:"dark_section",children:jsxRuntimeExports.jsxs("div",{className:"container-xxl px-4",children:[jsxRuntimeExports.jsx(Header,{wrapperclassName:"pt-80",size:"medium",title:"Features",description:jsxRuntimeExports.jsx("span",{children:"During my time at Capital.com, I contributed to numerous features that enhance the trading experience and platform usability. My work included designing elements for branding, streamlining the registration process, and adapting account options for different regulatory requirements. I focused on making essential trading functionssuch as portfolio management, instant and pending orders, reporting, and trading directly from chartsintuitive and accessible. I also developed clear call-to-action elements to guide users on where and how to start, making the platform welcoming for newcomers while offering robust tools for experienced traders."}),color:"var(--txt-light-2)",colorDescription:"var(--txt-light-3)"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Divider,{type:"light"}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("img",{className:"inline-image mb-40",src:"/portfolio/assets/capital/capital_3.jpg"})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("img",{className:"inline-image mb-40",src:"/portfolio/assets/capital/capital_4.jpg"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Divider,{type:"light"}),jsxRuntimeExports.jsx(Header,{wrapperclassName:"pb-40",size:"medium",title:"FCA Registration",description:jsxRuntimeExports.jsx("span",{children:"While overseeing the design of the web platform, our team identified significant drops in conversion during the FCA registration process for both mobile and web users. To address this, I initiated design improvements using the Aesthetic-Usability Effect to transform the dull, transactional experience into a more engaging one. Working closely with the CEO, Product Manager, and development team, we expedited the rollout of these enhancements. The collaborative effort resulted in a notable boost in conversion rates, demonstrating the impact of a user-centered approach on regulatory processes."}),color:"var(--txt-light-2)",colorDescription:"var(--txt-light-3)"}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("img",{className:"inline-image mb-40",src:"/portfolio/assets/capital/capital_8.jpg"})}),jsxRuntimeExports.jsxs("div",{className:"capital-fca mb-40",children:[jsxRuntimeExports.jsx("div",{ref:_e[1],children:jsxRuntimeExports.jsx("div",{ref:tt[1],style:{height:"144px",cursor:"pointer"}})}),jsxRuntimeExports.jsx("div",{ref:_e[2],children:jsxRuntimeExports.jsx("div",{ref:tt[2],style:{height:"144px",cursor:"pointer"}})}),jsxRuntimeExports.jsx("div",{ref:_e[3],children:jsxRuntimeExports.jsx("div",{ref:tt[3],style:{height:"144px",cursor:"pointer"}})}),jsxRuntimeExports.jsx("div",{ref:_e[4],children:jsxRuntimeExports.jsx("div",{ref:tt[4],style:{height:"144px",cursor:"pointer"}})}),jsxRuntimeExports.jsx("div",{ref:_e[5],children:jsxRuntimeExports.jsx("div",{ref:tt[5],style:{height:"144px",cursor:"pointer"}})}),jsxRuntimeExports.jsx("div",{ref:_e[6],children:jsxRuntimeExports.jsx("div",{ref:tt[6],style:{height:"144px",cursor:"pointer"}})})]}),jsxRuntimeExports.jsxs("div",{className:"capital-fca mb-40",children:[jsxRuntimeExports.jsx("div",{ref:_e[7],children:jsxRuntimeExports.jsx("div",{ref:tt[7],style:{height:"144px",cursor:"pointer"}})}),jsxRuntimeExports.jsx("div",{ref:_e[8],children:jsxRuntimeExports.jsx("div",{ref:tt[8],style:{height:"144px",cursor:"pointer"}})}),jsxRuntimeExports.jsx("div",{ref:_e[9],children:jsxRuntimeExports.jsx("div",{ref:tt[9],style:{height:"144px",cursor:"pointer"}})}),jsxRuntimeExports.jsx("div",{ref:_e[10],children:jsxRuntimeExports.jsx("div",{ref:tt[10],style:{height:"144px",cursor:"pointer"}})}),jsxRuntimeExports.jsx("div",{ref:_e[11],children:jsxRuntimeExports.jsx("div",{ref:tt[11],style:{height:"144px",cursor:"pointer"}})}),jsxRuntimeExports.jsx("div",{ref:_e[12],children:jsxRuntimeExports.jsx("div",{ref:tt[12],style:{height:"144px",cursor:"pointer"}})}),jsxRuntimeExports.jsx("div",{ref:_e[13],children:jsxRuntimeExports.jsx("div",{ref:tt[13],style:{height:"144px",cursor:"pointer"}})}),jsxRuntimeExports.jsx("div",{ref:_e[14],children:jsxRuntimeExports.jsx("div",{ref:tt[14],style:{height:"144px",cursor:"pointer"}})}),jsxRuntimeExports.jsx("div",{ref:_e[15],children:jsxRuntimeExports.jsx("div",{ref:tt[15],style:{height:"144px",cursor:"pointer"}})}),jsxRuntimeExports.jsx("div",{ref:_e[16],children:jsxRuntimeExports.jsx("div",{ref:tt[16],style:{height:"144px",cursor:"pointer"}})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Divider,{type:"light"}),jsxRuntimeExports.jsxs("div",{className:"row row-gap-10",children:[jsxRuntimeExports.jsx("div",{className:"col-lg-6 col-sm-12 card-gap-10 mt-20",ref:nt,children:jsxRuntimeExports.jsx(VideoComp,{targetRef:nt,bgColor:"#242424",videoSrc:"/portfolio/video/capital-screen2screen.mp4"})}),jsxRuntimeExports.jsx("div",{className:"col-lg-6 col-sm-12 card-gap-10 mt-20",ref:rt,children:jsxRuntimeExports.jsx(VideoComp,{targetRef:rt,bgColor:"#242424",videoSrc:"/portfolio/video/capital-final.mp4"})})]}),jsxRuntimeExports.jsxs("div",{className:"row row-gap-10",children:[jsxRuntimeExports.jsx("div",{className:"col-lg-6 col-sm-12 card-gap-10 mt-20",children:jsxRuntimeExports.jsx("div",{className:"inline-image-2-container",style:{backgroundColor:"#242424"},children:jsxRuntimeExports.jsx("img",{className:"inline-image-2",src:"/portfolio/assets/capital/capital_12.jpg"})})}),jsxRuntimeExports.jsx("div",{className:"col-lg-6 col-sm-12 card-gap-10 mt-20",ref:it,children:jsxRuntimeExports.jsx(VideoComp,{targetRef:it,bgColor:"#242424",videoSrc:"/portfolio/video/capital-complete.mp4"})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Divider,{type:"light"}),jsxRuntimeExports.jsx(Header,{wrapperclassName:"pb-40",size:"medium",title:"Economic Calendar",description:jsxRuntimeExports.jsx("span",{children:"Understanding that the economic calendar can often be complex and overwhelming for users on trading platforms, we prioritized simplicity and clarity in its design. Our approach focused on making the calendar easily accessible and comprehensible for all users, regardless of their trading experience. By enhancing the user interface and streamlining information presentation, we aimed to empower traders with the essential economic data they need to make informed decisions."}),color:"var(--txt-light-2)",colorDescription:"var(--txt-light-3)"}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("img",{className:"inline-image mb-40",src:"/portfolio/assets/capital/capital_10.jpg"})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("img",{className:"inline-image mb-40",src:"/portfolio/assets/capital/capital_11.jpg"})}),jsxRuntimeExports.jsxs("div",{className:"row row-gap-10",children:[jsxRuntimeExports.jsx("div",{className:"col-lg-6 col-sm-12 card-gap-10",children:jsxRuntimeExports.jsx("div",{className:"inline-image-2-container",style:{backgroundColor:"#302542"},children:jsxRuntimeExports.jsx("img",{className:"inline-image-2",src:"/portfolio/assets/capital/capital_9.png"})})}),jsxRuntimeExports.jsx("div",{className:"col-lg-6 col-sm-12 card-gap-10",ref:st,children:jsxRuntimeExports.jsx(VideoComp,{targetRef:st,bgColor:"#302542",videoSrc:"/portfolio/video/capital-events.mp4"})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Divider,{type:"light"}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("img",{className:"inline-image mb-40",src:"/portfolio/assets/capital/capital_5.jpg"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Divider,{type:"light"}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("img",{className:"inline-image mb-40",src:"/portfolio/assets/capital/capital_13.jpg"})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("img",{className:"inline-image mb-40",src:"/portfolio/assets/capital/capital_14.jpg"})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("img",{className:"inline-image mb-40",src:"/portfolio/assets/capital/capital_15.jpg"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Divider,{type:"light"}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("img",{className:"inline-image mb-40",src:"/portfolio/assets/capital/capital_16.jpg"})}),jsxRuntimeExports.jsxs("div",{className:"mb-40 capital-eq",children:[jsxRuntimeExports.jsx("div",{ref:_e[19],children:jsxRuntimeExports.jsx("div",{ref:tt[19],style:{height:"144px",cursor:"pointer"}})}),jsxRuntimeExports.jsx("div",{ref:_e[17],children:jsxRuntimeExports.jsx("div",{ref:tt[17],style:{height:"144px",cursor:"pointer"}})}),jsxRuntimeExports.jsx("div",{ref:_e[18],children:jsxRuntimeExports.jsx("div",{ref:tt[18],style:{height:"144px",cursor:"pointer"}})}),jsxRuntimeExports.jsx("div",{ref:_e[20],children:jsxRuntimeExports.jsx("div",{ref:tt[20],style:{height:"144px",cursor:"pointer"}})})]})]}),jsxRuntimeExports.jsx(Divider,{type:"light"}),jsxRuntimeExports.jsx(Project,{link:"/project/1",image:"assets/projectTitleImages/quasar_title_5.jpg",title:"Quasar Ticketing Platform",year:jsxRuntimeExports.jsx("span",{children:"20202024  B2C"}),description:"Enhanced the ticketing platform's usability, leading to significant boosts in conversion and adoption rates.",isNextProject:!0}),jsxRuntimeExports.jsx(Footer,{})]})})]})},store={_origin:"https://api.emailjs.com"},init=(tt,_e="https://api.emailjs.com")=>{store._userID=tt,store._origin=_e},validateParams=(tt,_e,nt)=>{if(!tt)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!_e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!nt)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class EmailJSResponseStatus{constructor(_e){this.status=_e.status,this.text=_e.responseText}}const sendPost=(tt,_e,nt={})=>new Promise((rt,it)=>{const st=new XMLHttpRequest;st.addEventListener("load",({target:at})=>{const ot=new EmailJSResponseStatus(at);ot.status===200||ot.text==="OK"?rt(ot):it(ot)}),st.addEventListener("error",({target:at})=>{it(new EmailJSResponseStatus(at))}),st.open("POST",store._origin+tt,!0),Object.keys(nt).forEach(at=>{st.setRequestHeader(at,nt[at])}),st.send(_e)}),send=(tt,_e,nt,rt)=>{const it=rt||store._userID;return validateParams(it,tt,_e),sendPost("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:it,service_id:tt,template_id:_e,template_params:nt}),{"Content-type":"application/json"})},findHTMLForm=tt=>{let _e;if(typeof tt=="string"?_e=document.querySelector(tt):_e=tt,!_e||_e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return _e},sendForm=(tt,_e,nt,rt)=>{const it=rt||store._userID,st=findHTMLForm(nt);validateParams(it,tt,_e);const at=new FormData(st);return at.append("lib_version","3.2.0"),at.append("service_id",tt),at.append("template_id",_e),at.append("user_id",it),sendPost("/api/v1.0/email/send-form",at)},emailjs={init,send,sendForm};function PointsBackground(){const tt=reactExports.useRef(null);return reactExports.useEffect(()=>{if(!tt.current)return;const _e=window.innerWidth,nt=window.innerHeight,rt=new Scene,it=new PerspectiveCamera(75,_e/nt,.1,1e3),st=new WebGLRenderer;st.setSize(_e,nt),st.setClearColor(460551,1),tt.current.appendChild(st.domElement);const at=45,ot=Math.floor(_e/at*(nt/at)),lt=new BufferGeometry,ct=new Float32Array(ot*3),ut=new Float32Array(ot*4),ft=new Array(ot).fill(null).map(()=>({x:0,y:0})),ht=[];let pt=0;for(let Ut=-nt/2;Ut<nt/2;Ut+=at)for(let Ot=-_e/2;Ot<_e/2;Ot+=at){ct[pt*3]=Ot,ct[pt*3+1]=Ut,ct[pt*3+2]=0,ht.push({x:Ot,y:Ut,z:0});const zt=Math.random()*.5+.5;ut[pt*4]=.1,ut[pt*4+1]=.1,ut[pt*4+2]=.15,ut[pt*4+3]=zt,pt++}lt.setAttribute("position",new BufferAttribute(ct,3)),lt.setAttribute("color",new BufferAttribute(ut,4));const gt=new TextureLoader().load("/portfolio/assets/icons/icon_cross.svg"),vt=new PointsMaterial({size:10,vertexColors:!0,map:gt,transparent:!0}),mt=new Points(lt,vt);rt.add(mt),it.position.z=400;const xt=new Vector2,St=new Vector2;let Et=2.5,bt=Date.now();const Tt=150;let At=!1,Ct=!1;const Pt=.35,It=.98,Lt=.3;window.addEventListener("mousemove",Ut=>{const Ot=Date.now();xt.x=(Ut.clientX-_e/2)/_e,xt.y=(nt/2-Ut.clientY)/nt;const zt=xt.x-St.x,Dt=xt.y-St.y,$t=Math.sqrt(zt*zt+Dt*Dt);$t>0&&(At=!0,bt=Ot,Et=Math.min(.9,.1+$t*12),Ct=!0),St.x=xt.x,St.y=xt.y});function Vt(){requestAnimationFrame(Vt);const Ut=lt.attributes.position.array,Ot=lt.attributes.color.array;if(Date.now()-bt>Tt&&(At=!1),At||(Ct=!1),!Ct)for(let Dt=0;Dt<ot;Dt++){const $t=ft[Dt],Mt=ht[Dt].x-Ut[Dt*3],Rt=ht[Dt].y-Ut[Dt*3+1],Nt=(Date.now()-bt)/1e3,Ft=Math.sin(Nt*Math.PI*Pt)*Lt,qt=Mt*Ft,Qt=Rt*Ft;$t.x+=qt,$t.y+=Qt,$t.x*=It,$t.y*=It,Math.abs($t.x)<.01&&($t.x=0),Math.abs($t.y)<.01&&($t.y=0)}for(let Dt=0;Dt<ot;Dt++){const $t=ht[Dt],Mt=ft[Dt];if(Ct){const Rt=$t.x/(_e/2)-xt.x,Nt=$t.y/(nt/2)-xt.y,Ft=Math.sqrt(Rt*Rt+Nt*Nt);let qt=0;if(Et>.1&&(qt=Math.max(0,Et-Ft)*200),qt>0){const Qt=Math.atan2(Nt,Rt),Kt=(Math.random()-.5)*.1;Mt.x+=Math.cos(Qt)*qt*.1+Kt,Mt.y+=Math.sin(Qt)*qt*.1+Kt,Ot[Dt*4]=.1,Ot[Dt*4+1]=.1,Ot[Dt*4+2]=.15,Ot[Dt*4+3]=Math.random()*.3+.7}}Ut[Dt*3]+=Mt.x,Ut[Dt*3+1]+=Mt.y,Mt.x*=.56,Mt.y*=.56}lt.attributes.position.needsUpdate=!0,lt.attributes.color.needsUpdate=!0,st.render(rt,it)}return Vt(),()=>{tt.current&&tt.current.removeChild(st.domElement),st.dispose()}},[]),jsxRuntimeExports.jsx("div",{ref:tt,style:{width:"100%",height:"100vh",position:"absolute",top:"0",left:"0",zIndex:"-1"}})}const ContactForm=()=>{const[tt,_e]=reactExports.useState({name:"",email:"",message:""}),[nt,rt]=reactExports.useState(!1),[it,st]=reactExports.useState(!1),at=lt=>{_e({...tt,[lt.target.name]:lt.target.value})},ot=lt=>{lt.preventDefault(),rt(!1),st(!1),emailjs.send("","",{name:tt.name,email:tt.email,message:tt.message},"").then(()=>{rt(!0),st(!1),_e({name:"",email:"",message:""}),setTimeout(()=>rt(!1),5e3)}).catch(ct=>{console.error("Error sending message:",ct),rt(!1),st(!0),setTimeout(()=>rt(!1),5e3)})};return jsxRuntimeExports.jsxs("div",{className:"email-container",children:[jsxRuntimeExports.jsx(Menu,{contact:!0,transparent:!0}),jsxRuntimeExports.jsx(PointsBackground,{}),jsxRuntimeExports.jsxs("div",{className:"container-xxl px-4 mt-80 pt-80",children:[jsxRuntimeExports.jsx(Header,{title:jsxRuntimeExports.jsx("span",{children:"Get in Touch"}),description:jsxRuntimeExports.jsx("span",{children:"I'm here to chat about design ideas, projects, or any questions you might have."}),colorDescription:"var(--txt-light-3)"}),jsxRuntimeExports.jsxs("div",{className:"row row-gap-2 contact-button-group",children:[jsxRuntimeExports.jsxs("a",{className:"col-md-6 card-gap-2 contact-button",href:"https://www.linkedin.com/in/evgenyprymak/",children:[jsxRuntimeExports.jsx("img",{src:"/portfolio/assets/icons/icon_linkedin.svg",style:{height:"24px",marginLeft:"8px",marginRight:"8px",marginTop:"-2px"}}),"My LinkedIn"]}),jsxRuntimeExports.jsx("div",{className:"gap-4-vertical"}),jsxRuntimeExports.jsxs("a",{className:"col-md-6 card-gap-2 contact-button",href:"mailto:prymakev@gmail.com",children:[jsxRuntimeExports.jsx("img",{src:"/portfolio/assets/icons/icon_email.svg",style:{height:"24px",marginLeft:"8px",marginRight:"8px",marginTop:"0px"}}),"prymakev@gmail.com"]})]}),jsxRuntimeExports.jsx(Divider,{type:"light"}),jsxRuntimeExports.jsx(Header,{title:jsxRuntimeExports.jsx("span",{children:"Drop me a messageId love to connect!"}),size:"small"}),jsxRuntimeExports.jsxs("div",{className:"contactForm",children:[nt&&jsxRuntimeExports.jsx("div",{className:"div-success",children:"Message sent successfully!"}),it&&jsxRuntimeExports.jsx("div",{className:"div-error",children:"Oops, something went wrong. Please try sending your message again, or feel free to reach out via my email listed above!"}),jsxRuntimeExports.jsxs("form",{onSubmit:ot,children:[jsxRuntimeExports.jsxs("div",{className:"row row-gap-2",children:[jsxRuntimeExports.jsx("div",{className:"col-md-6 card-gap-2",children:jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:tt.name,onChange:at,placeholder:"Your name *",required:!0})}),jsxRuntimeExports.jsx("div",{className:"col-md-6 card-gap-2",children:jsxRuntimeExports.jsx("input",{type:"email",name:"email",value:tt.email,onChange:at,placeholder:"email *",required:!0})})]}),jsxRuntimeExports.jsx("div",{className:"row row-gap-2",children:jsxRuntimeExports.jsx("div",{className:"col-12 card-gap-2",children:jsxRuntimeExports.jsx("textarea",{name:"message",value:tt.message,onChange:at,placeholder:"The message *",required:!0})})}),jsxRuntimeExports.jsx("button",{type:"submit",children:"Send"})]})]})]})]})},App=()=>jsxRuntimeExports.jsxs(HashRouter,{children:[jsxRuntimeExports.jsx(ScrollToTop,{}),jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(MainPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/project/1",element:jsxRuntimeExports.jsx(ProjectDetails,{})}),jsxRuntimeExports.jsx(Route,{path:"/project/2",element:jsxRuntimeExports.jsx(ProjectDetailsDashboard$1,{})}),jsxRuntimeExports.jsx(Route,{path:"/project/100",element:jsxRuntimeExports.jsx(ProjectDetailsProcedural$1,{})}),jsxRuntimeExports.jsx(Route,{path:"/project/99",element:jsxRuntimeExports.jsx(ProjectDetailsProcedural,{})}),jsxRuntimeExports.jsx(Route,{path:"/project/8",element:jsxRuntimeExports.jsx(ProjectDetailsDashboard,{})}),jsxRuntimeExports.jsx(Route,{path:"/contact",element:jsxRuntimeExports.jsx(ContactForm,{})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0})})]})]}),root=client.createRoot(document.getElementById("root"));root.render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));
